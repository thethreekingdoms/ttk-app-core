webpackJsonp([1,60],[,,,,function(module,exports){function $override(name,fn){"createCanvas"===name&&(_ctx=null),methods[name]=fn}function clone(source){if(null==source||"object"!=typeof source)return source;var result=source,typeStr=objToString.call(source);if("[object Array]"===typeStr){if(!isPrimitive(source)){result=[];for(var i=0,len=source.length;i<len;i++)result[i]=clone(source[i])}}else if(TYPED_ARRAY[typeStr]){if(!isPrimitive(source)){var Ctor=source.constructor;if(source.constructor.from)result=Ctor.from(source);else{result=new Ctor(source.length);for(var i=0,len=source.length;i<len;i++)result[i]=clone(source[i])}}}else if(!BUILTIN_OBJECT[typeStr]&&!isPrimitive(source)&&!isDom(source)){result={};for(var key in source)source.hasOwnProperty(key)&&(result[key]=clone(source[key]))}return result}function merge(target,source,overwrite){if(!isObject(source)||!isObject(target))return overwrite?clone(source):target;for(var key in source)if(source.hasOwnProperty(key)){var targetProp=target[key],sourceProp=source[key];!isObject(sourceProp)||!isObject(targetProp)||isArray(sourceProp)||isArray(targetProp)||isDom(sourceProp)||isDom(targetProp)||isBuiltInObject(sourceProp)||isBuiltInObject(targetProp)||isPrimitive(sourceProp)||isPrimitive(targetProp)?!overwrite&&key in target||(target[key]=clone(source[key],!0)):merge(targetProp,sourceProp,overwrite)}return target}function mergeAll(targetAndSources,overwrite){for(var result=targetAndSources[0],i=1,len=targetAndSources.length;i<len;i++)result=merge(result,targetAndSources[i],overwrite);return result}function extend(target,source){for(var key in source)source.hasOwnProperty(key)&&(target[key]=source[key]);return target}function defaults(target,source,overlay){for(var key in source)source.hasOwnProperty(key)&&(overlay?null!=source[key]:null==target[key])&&(target[key]=source[key]);return target}function getContext(){return _ctx||(_ctx=createCanvas().getContext("2d")),_ctx}function indexOf(array,value){if(array){if(array.indexOf)return array.indexOf(value);for(var i=0,len=array.length;i<len;i++)if(array[i]===value)return i}return-1}function inherits(clazz,baseClazz){function F(){}var clazzPrototype=clazz.prototype;F.prototype=baseClazz.prototype,clazz.prototype=new F;for(var prop in clazzPrototype)clazz.prototype[prop]=clazzPrototype[prop];clazz.prototype.constructor=clazz,clazz.superClass=baseClazz}function mixin(target,source,overlay){target="prototype"in target?target.prototype:target,source="prototype"in source?source.prototype:source,defaults(target,source,overlay)}function isArrayLike(data){if(data)return"string"!=typeof data&&"number"==typeof data.length}function each(obj,cb,context){if(obj&&cb)if(obj.forEach&&obj.forEach===nativeForEach)obj.forEach(cb,context);else if(obj.length===+obj.length)for(var i=0,len=obj.length;i<len;i++)cb.call(context,obj[i],i,obj);else for(var key in obj)obj.hasOwnProperty(key)&&cb.call(context,obj[key],key,obj)}function map(obj,cb,context){if(obj&&cb){if(obj.map&&obj.map===nativeMap)return obj.map(cb,context);for(var result=[],i=0,len=obj.length;i<len;i++)result.push(cb.call(context,obj[i],i,obj));return result}}function reduce(obj,cb,memo,context){if(obj&&cb){if(obj.reduce&&obj.reduce===nativeReduce)return obj.reduce(cb,memo,context);for(var i=0,len=obj.length;i<len;i++)memo=cb.call(context,memo,obj[i],i,obj);return memo}}function filter(obj,cb,context){if(obj&&cb){if(obj.filter&&obj.filter===nativeFilter)return obj.filter(cb,context);for(var result=[],i=0,len=obj.length;i<len;i++)cb.call(context,obj[i],i,obj)&&result.push(obj[i]);return result}}function find(obj,cb,context){if(obj&&cb)for(var i=0,len=obj.length;i<len;i++)if(cb.call(context,obj[i],i,obj))return obj[i]}function bind(func,context){var args=nativeSlice.call(arguments,2);return function(){return func.apply(context,args.concat(nativeSlice.call(arguments)))}}function curry(func){var args=nativeSlice.call(arguments,1);return function(){return func.apply(this,args.concat(nativeSlice.call(arguments)))}}function isArray(value){return"[object Array]"===objToString.call(value)}function isFunction(value){return"function"==typeof value}function isString(value){return"[object String]"===objToString.call(value)}function isObject(value){var type=typeof value;return"function"===type||!!value&&"object"==type}function isBuiltInObject(value){return!!BUILTIN_OBJECT[objToString.call(value)]}function isTypedArray(value){return!!TYPED_ARRAY[objToString.call(value)]}function isDom(value){return"object"==typeof value&&"number"==typeof value.nodeType&&"object"==typeof value.ownerDocument}function eqNaN(value){return value!==value}function retrieve(values){for(var i=0,len=arguments.length;i<len;i++)if(null!=arguments[i])return arguments[i]}function retrieve2(value0,value1){return null!=value0?value0:value1}function retrieve3(value0,value1,value2){return null!=value0?value0:null!=value1?value1:value2}function slice(){return Function.call.apply(nativeSlice,arguments)}function normalizeCssArray(val){if("number"==typeof val)return[val,val,val,val];var len=val.length;return 2===len?[val[0],val[1],val[0],val[1]]:3===len?[val[0],val[1],val[2],val[1]]:val}function assert(condition,message){if(!condition)throw new Error(message)}function trim(str){return null==str?null:"function"==typeof str.trim?str.trim():str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function setAsPrimitive(obj){obj[primitiveKey]=!0}function isPrimitive(obj){return obj[primitiveKey]}function HashMap(obj){function visit(value,key){isArr?thisMap.set(value,key):thisMap.set(key,value)}var isArr=isArray(obj),thisMap=this;obj instanceof HashMap?obj.each(visit):obj&&each(obj,visit)}function createHashMap(obj){return new HashMap(obj)}function concatArray(a,b){for(var newArray=new a.constructor(a.length+b.length),i=0;i<a.length;i++)newArray[i]=a[i];var offset=a.length;for(i=0;i<b.length;i++)newArray[i+offset]=b[i];return newArray}function noop(){}var BUILTIN_OBJECT={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},TYPED_ARRAY={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,nativeReduce=arrayProto.reduce,methods={},createCanvas=function(){return methods.createCanvas()};methods.createCanvas=function(){return document.createElement("canvas")};var _ctx,primitiveKey="__ec_primitive__";HashMap.prototype={"constructor":HashMap,"get":function(key){return this.hasOwnProperty(key)?this[key]:null},"set":function(key,value){return this[key]=value},"each":function(cb,context){void 0!==context&&(cb=bind(cb,context));for(var key in this)this.hasOwnProperty(key)&&cb(this[key],key)},"removeKey":function(key){delete this[key]}},exports.$override=$override,exports.clone=clone,exports.merge=merge,exports.mergeAll=mergeAll,exports.extend=extend,exports.defaults=defaults,exports.createCanvas=createCanvas,exports.getContext=getContext,exports.indexOf=indexOf,exports.inherits=inherits,exports.mixin=mixin,exports.isArrayLike=isArrayLike,exports.each=each,exports.map=map,exports.reduce=reduce,exports.filter=filter,exports.find=find,exports.bind=bind,exports.curry=curry,exports.isArray=isArray,exports.isFunction=isFunction,exports.isString=isString,exports.isObject=isObject,exports.isBuiltInObject=isBuiltInObject,exports.isTypedArray=isTypedArray,exports.isDom=isDom,exports.eqNaN=eqNaN,exports.retrieve=retrieve,exports.retrieve2=retrieve2,exports.retrieve3=retrieve3,exports.slice=slice,exports.normalizeCssArray=normalizeCssArray,exports.assert=assert,exports.trim=trim,exports.setAsPrimitive=setAsPrimitive,exports.isPrimitive=isPrimitive,exports.createHashMap=createHashMap,exports.concatArray=concatArray,exports.noop=noop},,,,,,,,,function(module,exports,__webpack_require__){function createRegisterEventWithLowercaseName(method){return function(eventName,handler,context){eventName=eventName&&eventName.toLowerCase(),Eventful.prototype[method].call(this,eventName,handler,context)}}function MessageCenter(){Eventful.call(this)}function ECharts(dom,theme,opts){function prioritySortFunc(a,b){return a.__prio-b.__prio}opts=opts||{},"string"==typeof theme&&(theme=themeStorage[theme]),this.id,this.group,this._dom=dom;var defaultRenderer="canvas",zr=this._zr=zrender.init(dom,{"renderer":opts.renderer||defaultRenderer,"devicePixelRatio":opts.devicePixelRatio,"width":opts.width,"height":opts.height});this._throttledZrFlush=throttle(zrUtil.bind(zr.flush,zr),17);var theme=zrUtil.clone(theme);theme&&backwardCompat(theme,!0),this._theme=theme,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new CoordinateSystemManager;var api=this._api=createExtensionAPI(this);timsort(visualFuncs,prioritySortFunc),timsort(dataProcessorFuncs,prioritySortFunc),this._scheduler=new Scheduler(this,api,dataProcessorFuncs,visualFuncs),Eventful.call(this),this._messageCenter=new MessageCenter,this._initEvents(),this.resize=zrUtil.bind(this.resize,this),this._pendingActions=[],zr.animation.on("frame",this._onframe,this),bindRenderedEvent(zr,this),zrUtil.setAsPrimitive(this)}function doConvertPixel(methodName,finder,value){var result,ecModel=this._model,coordSysList=this._coordSysMgr.getCoordinateSystems();finder=modelUtil.parseFinder(ecModel,finder);for(var i=0;i<coordSysList.length;i++){var coordSys=coordSysList[i];if(coordSys[methodName]&&null!=(result=coordSys[methodName](ecModel,finder,value)))return result}}function prepare(ecIns){var ecModel=ecIns._model,scheduler=ecIns._scheduler;scheduler.restorePipelines(ecModel),scheduler.prepareStageTasks(),prepareView(ecIns,"component",ecModel,scheduler),prepareView(ecIns,"chart",ecModel,scheduler),scheduler.plan()}function updateDirectly(ecIns,method,payload,mainType,subType){function callView(view){view&&view.__alive&&view[method]&&view[method](view.__model,ecModel,ecIns._api,payload)}var ecModel=ecIns._model;if(!mainType)return void each(ecIns._componentsViews.concat(ecIns._chartsViews),callView);var query={};query[mainType+"Id"]=payload[mainType+"Id"],query[mainType+"Index"]=payload[mainType+"Index"],query[mainType+"Name"]=payload[mainType+"Name"];var condition={"mainType":mainType,"query":query};subType&&(condition.subType=subType);var excludeSeriesId=payload.excludeSeriesId;null!=excludeSeriesId&&(excludeSeriesId=zrUtil.createHashMap(modelUtil.normalizeToArray(excludeSeriesId))),ecModel&&ecModel.eachComponent(condition,function(model){excludeSeriesId&&null!=excludeSeriesId.get(model.id)||callView(ecIns["series"===mainType?"_chartsMap":"_componentsMap"][model.__viewId])},ecIns)}function updateStreamModes(ecIns,ecModel){var chartsMap=ecIns._chartsMap,scheduler=ecIns._scheduler;ecModel.eachSeries(function(seriesModel){scheduler.updateStreamModes(seriesModel,chartsMap[seriesModel.__viewId])})}function doDispatchAction(payload,silent){var payloadType=payload.type,escapeConnect=payload.escapeConnect,actionWrap=actions[payloadType],actionInfo=actionWrap.actionInfo,cptType=(actionInfo.update||"update").split(":"),updateMethod=cptType.pop();cptType=null!=cptType[0]&&parseClassType(cptType[0]),this[IN_MAIN_PROCESS]=!0;var payloads=[payload],batched=!1;payload.batch&&(batched=!0,payloads=zrUtil.map(payload.batch,function(item){return item=zrUtil.defaults(zrUtil.extend({},item),payload),item.batch=null,item}));var eventObj,eventObjBatch=[],isHighDown="highlight"===payloadType||"downplay"===payloadType;each(payloads,function(batchItem){eventObj=actionWrap.action(batchItem,this._model,this._api),eventObj=eventObj||zrUtil.extend({},batchItem),eventObj.type=actionInfo.event||eventObj.type,eventObjBatch.push(eventObj),isHighDown?updateDirectly(this,updateMethod,batchItem,"series"):cptType&&updateDirectly(this,updateMethod,batchItem,cptType.main,cptType.sub)},this),"none"===updateMethod||isHighDown||cptType||(this[OPTION_UPDATED]?(prepare(this),updateMethods.update.call(this,payload),this[OPTION_UPDATED]=!1):updateMethods[updateMethod].call(this,payload)),eventObj=batched?{"type":actionInfo.event||payloadType,"escapeConnect":escapeConnect,"batch":eventObjBatch}:eventObjBatch[0],this[IN_MAIN_PROCESS]=!1,!silent&&this._messageCenter.trigger(eventObj.type,eventObj)}function flushPendingActions(silent){for(var pendingActions=this._pendingActions;pendingActions.length;){var payload=pendingActions.shift();doDispatchAction.call(this,payload,silent)}}function triggerUpdatedEvent(silent){!silent&&this.trigger("updated")}function bindRenderedEvent(zr,ecIns){zr.on("rendered",function(){ecIns.trigger("rendered"),!zr.animation.isFinished()||ecIns[OPTION_UPDATED]||ecIns._scheduler.unfinished||ecIns._pendingActions.length||ecIns.trigger("finished")})}function prepareView(ecIns,type,ecModel,scheduler){function doPrepare(model){var viewId="_ec_"+model.id+"_"+model.type,view=viewMap[viewId];if(!view){var classType=parseClassType(model.type),Clazz=isComponent?ComponentView.getClass(classType.main,classType.sub):ChartView.getClass(classType.sub);view=new Clazz,view.init(ecModel,api),viewMap[viewId]=view,viewList.push(view),zr.add(view.group)}model.__viewId=view.__id=viewId,view.__alive=!0,view.__model=model,view.group.__ecComponentInfo={"mainType":model.mainType,"index":model.componentIndex},!isComponent&&scheduler.prepareView(view,model,ecModel,api)}for(var isComponent="component"===type,viewList=isComponent?ecIns._componentsViews:ecIns._chartsViews,viewMap=isComponent?ecIns._componentsMap:ecIns._chartsMap,zr=ecIns._zr,api=ecIns._api,i=0;i<viewList.length;i++)viewList[i].__alive=!1;isComponent?ecModel.eachComponent(function(componentType,model){"series"!==componentType&&doPrepare(model)}):ecModel.eachSeries(doPrepare);for(var i=0;i<viewList.length;){var view=viewList[i];view.__alive?i++:(!isComponent&&view.renderTask.dispose(),zr.remove(view.group),view.dispose(ecModel,api),viewList.splice(i,1),delete viewMap[view.__id],view.__id=view.group.__ecComponentInfo=null)}}function clearColorPalette(ecModel){ecModel.clearColorPalette(),ecModel.eachSeries(function(seriesModel){seriesModel.clearColorPalette()})}function render(ecIns,ecModel,api,payload){renderComponents(ecIns,ecModel,api,payload),each(ecIns._chartsViews,function(chart){chart.__alive=!1}),renderSeries(ecIns,ecModel,api,payload),each(ecIns._chartsViews,function(chart){chart.__alive||chart.remove(ecModel,api)})}function renderComponents(ecIns,ecModel,api,payload,dirtyList){each(dirtyList||ecIns._componentsViews,function(componentView){var componentModel=componentView.__model;componentView.render(componentModel,ecModel,api,payload),updateZ(componentModel,componentView)})}function renderSeries(ecIns,ecModel,api,payload,dirtyMap){var unfinished,scheduler=ecIns._scheduler;ecModel.eachSeries(function(seriesModel){var chartView=ecIns._chartsMap[seriesModel.__viewId];chartView.__alive=!0;var renderTask=chartView.renderTask;scheduler.updatePayload(renderTask,payload),dirtyMap&&dirtyMap.get(seriesModel.uid)&&renderTask.dirty(),unfinished|=renderTask.perform(scheduler.getPerformArgs(renderTask)),chartView.group.silent=!!seriesModel.get("silent"),updateZ(seriesModel,chartView),updateBlend(seriesModel,chartView)}),scheduler.unfinished|=unfinished,updateHoverLayerStatus(ecIns._zr,ecModel),aria(ecIns._zr.dom,ecModel)}function performPostUpdateFuncs(ecModel,api){each(postUpdateFuncs,function(func){func(ecModel,api)})}function updateHoverLayerStatus(zr,ecModel){var storage=zr.storage,elCount=0;storage.traverse(function(el){el.isGroup||elCount++}),elCount>ecModel.get("hoverLayerThreshold")&&!env.node&&storage.traverse(function(el){el.isGroup||(el.useHoverLayer=!0)})}function updateBlend(seriesModel,chartView){var blendMode=seriesModel.get("blendMode")||null;chartView.group.traverse(function(el){el.isGroup||el.style.blend!==blendMode&&el.setStyle("blend",blendMode),el.eachPendingDisplayable&&el.eachPendingDisplayable(function(displayable){displayable.setStyle("blend",blendMode)})})}function updateZ(model,view){var z=model.get("z"),zlevel=model.get("zlevel");view.group.traverse(function(el){"group"!==el.type&&(null!=z&&(el.z=z),null!=zlevel&&(el.zlevel=zlevel))})}function createExtensionAPI(ecInstance){var coordSysMgr=ecInstance._coordSysMgr;return zrUtil.extend(new ExtensionAPI(ecInstance),{"getCoordinateSystems":zrUtil.bind(coordSysMgr.getCoordinateSystems,coordSysMgr),"getComponentByElement":function(el){for(;el;){var modelInfo=el.__ecComponentInfo;if(null!=modelInfo)return ecInstance._model.getComponent(modelInfo.mainType,modelInfo.index);el=el.parent}}})}function enableConnect(chart){function updateConnectedChartsStatus(charts,status){for(var i=0;i<charts.length;i++){var otherChart=charts[i];otherChart[STATUS_KEY]=status}}var STATUS_PENDING=0,STATUS_UPDATING=1,STATUS_UPDATED=2,STATUS_KEY="__connectUpdateStatus";each(eventActionMap,function(actionType,eventType){chart._messageCenter.on(eventType,function(event){if(connectedGroups[chart.group]&&chart[STATUS_KEY]!==STATUS_PENDING){if(event&&event.escapeConnect)return;var action=chart.makeActionFromEvent(event),otherCharts=[];each(instances,function(otherChart){otherChart!==chart&&otherChart.group===chart.group&&otherCharts.push(otherChart)}),updateConnectedChartsStatus(otherCharts,STATUS_PENDING),each(otherCharts,function(otherChart){otherChart[STATUS_KEY]!==STATUS_UPDATING&&otherChart.dispatchAction(action)}),updateConnectedChartsStatus(otherCharts,STATUS_UPDATED)}})})}function init(dom,theme,opts){var existInstance=getInstanceByDom(dom);if(existInstance)return existInstance;var chart=new ECharts(dom,theme,opts);return chart.id="ec_"+idBase++,instances[chart.id]=chart,modelUtil.setAttribute(dom,DOM_ATTRIBUTE_KEY,chart.id),enableConnect(chart),chart}function connect(groupId){if(zrUtil.isArray(groupId)){var charts=groupId;groupId=null,each(charts,function(chart){null!=chart.group&&(groupId=chart.group)}),groupId=groupId||"g_"+groupIdBase++,each(charts,function(chart){chart.group=groupId})}return connectedGroups[groupId]=!0,groupId}function disConnect(groupId){connectedGroups[groupId]=!1}function dispose(chart){"string"==typeof chart?chart=instances[chart]:chart instanceof ECharts||(chart=getInstanceByDom(chart)),chart instanceof ECharts&&!chart.isDisposed()&&chart.dispose()}function getInstanceByDom(dom){return instances[modelUtil.getAttribute(dom,DOM_ATTRIBUTE_KEY)]}function getInstanceById(key){return instances[key]}function registerTheme(name,theme){themeStorage[name]=theme}function registerPreprocessor(preprocessorFunc){optionPreprocessorFuncs.push(preprocessorFunc)}function registerProcessor(priority,processor){normalizeRegister(dataProcessorFuncs,priority,processor,PRIORITY_PROCESSOR_FILTER)}function registerPostUpdate(postUpdateFunc){postUpdateFuncs.push(postUpdateFunc)}function registerAction(actionInfo,eventName,action){"function"==typeof eventName&&(action=eventName,eventName="");var actionType=isObject(actionInfo)?actionInfo.type:[actionInfo,actionInfo={"event":eventName}][0];actionInfo.event=(actionInfo.event||actionType).toLowerCase(),eventName=actionInfo.event,assert(ACTION_REG.test(actionType)&&ACTION_REG.test(eventName)),actions[actionType]||(actions[actionType]={"action":action,"actionInfo":actionInfo}),eventActionMap[eventName]=actionType}function registerCoordinateSystem(type,CoordinateSystem){CoordinateSystemManager.register(type,CoordinateSystem)}function getCoordinateSystemDimensions(type){var coordSysCreator=CoordinateSystemManager.get(type);if(coordSysCreator)return coordSysCreator.getDimensionsInfo?coordSysCreator.getDimensionsInfo():coordSysCreator.dimensions.slice()}function registerLayout(priority,layoutTask){normalizeRegister(visualFuncs,priority,layoutTask,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(priority,visualTask){normalizeRegister(visualFuncs,priority,visualTask,PRIORITY_VISUAL_CHART,"visual")}function normalizeRegister(targetList,priority,fn,defaultPriority,visualType){(isFunction(priority)||isObject(priority))&&(fn=priority,priority=defaultPriority);var stageHandler=Scheduler.wrapStageHandler(fn,visualType);return stageHandler.__prio=priority,stageHandler.__raw=fn,targetList.push(stageHandler),stageHandler}function registerLoading(name,loadingFx){loadingEffects[name]=loadingFx}function extendComponentModel(opts){return ComponentModel.extend(opts)}function extendComponentView(opts){return ComponentView.extend(opts)}function extendSeriesModel(opts){return SeriesModel.extend(opts)}function extendChartView(opts){return ChartView.extend(opts)}function setCanvasCreator(creator){zrUtil.$override("createCanvas",creator)}function registerMap(mapName,geoJson,specialAreas){geoJson.geoJson&&!geoJson.features&&(specialAreas=geoJson.specialAreas,geoJson=geoJson.geoJson),"string"==typeof geoJson&&(geoJson="undefined"!=typeof JSON&&JSON.parse?JSON.parse(geoJson):new Function("return ("+geoJson+");")()),mapDataStores[mapName]={"geoJson":geoJson,"specialAreas":specialAreas}}function getMap(mapName){return mapDataStores[mapName]}var _config=__webpack_require__(30),zrender=(_config.__DEV__,__webpack_require__(319)),zrUtil=__webpack_require__(4),colorTool=__webpack_require__(125),env=__webpack_require__(52),timsort=__webpack_require__(509),Eventful=__webpack_require__(176),GlobalModel=__webpack_require__(659),ExtensionAPI=__webpack_require__(606),CoordinateSystemManager=__webpack_require__(92),OptionManager=__webpack_require__(1581),backwardCompat=__webpack_require__(1588),dataStack=__webpack_require__(1591),ComponentModel=__webpack_require__(51),SeriesModel=__webpack_require__(57),ComponentView=__webpack_require__(280),ChartView=__webpack_require__(117),graphic=__webpack_require__(15),modelUtil=__webpack_require__(27),_throttle=__webpack_require__(163),throttle=_throttle.throttle,seriesColor=__webpack_require__(1600),aria=__webpack_require__(1599),loadingDefault=__webpack_require__(1580),Scheduler=__webpack_require__(1595),lightTheme=__webpack_require__(1597),darkTheme=__webpack_require__(1596);__webpack_require__(629);var assert=zrUtil.assert,each=zrUtil.each,isFunction=zrUtil.isFunction,isObject=zrUtil.isObject,parseClassType=ComponentModel.parseClassType,version="4.1.0",dependencies={"zrender":"4.0.4"},TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY={"PROCESSOR":{"FILTER":PRIORITY_PROCESSOR_FILTER,"STATISTIC":PRIORITY_PROCESSOR_STATISTIC},"VISUAL":{"LAYOUT":PRIORITY_VISUAL_LAYOUT,"GLOBAL":PRIORITY_VISUAL_GLOBAL,"CHART":PRIORITY_VISUAL_CHART,"COMPONENT":PRIORITY_VISUAL_COMPONENT,"BRUSH":PRIORITY_VISUAL_BRUSH}},IN_MAIN_PROCESS="__flagInMainProcess",OPTION_UPDATED="__optionUpdated",ACTION_REG=/^[a-zA-Z0-9_]+$/;MessageCenter.prototype.on=createRegisterEventWithLowercaseName("on"),MessageCenter.prototype.off=createRegisterEventWithLowercaseName("off"),MessageCenter.prototype.one=createRegisterEventWithLowercaseName("one"),zrUtil.mixin(MessageCenter,Eventful);var echartsProto=ECharts.prototype;echartsProto._onframe=function(){if(!this._disposed){var scheduler=this._scheduler;if(this[OPTION_UPDATED]){var silent=this[OPTION_UPDATED].silent;this[IN_MAIN_PROCESS]=!0,prepare(this),updateMethods.update.call(this),this[IN_MAIN_PROCESS]=!1,this[OPTION_UPDATED]=!1,flushPendingActions.call(this,silent),triggerUpdatedEvent.call(this,silent)}else if(scheduler.unfinished){var remainTime=TEST_FRAME_REMAIN_TIME,ecModel=this._model,api=this._api;scheduler.unfinished=!1;do{var startTime=+new Date;scheduler.performSeriesTasks(ecModel),scheduler.performDataProcessorTasks(ecModel),updateStreamModes(this,ecModel),scheduler.performVisualTasks(ecModel),renderSeries(this,this._model,api,"remain"),remainTime-=+new Date-startTime}while(remainTime>0&&scheduler.unfinished);scheduler.unfinished||this._zr.flush()}}},echartsProto.getDom=function(){return this._dom},echartsProto.getZr=function(){return this._zr},echartsProto.setOption=function(option,notMerge,lazyUpdate){var silent;if(isObject(notMerge)&&(lazyUpdate=notMerge.lazyUpdate,silent=notMerge.silent,notMerge=notMerge.notMerge),this[IN_MAIN_PROCESS]=!0,!this._model||notMerge){var optionManager=new OptionManager(this._api),theme=this._theme,ecModel=this._model=new GlobalModel(null,null,theme,optionManager);ecModel.scheduler=this._scheduler,ecModel.init(null,null,theme,optionManager)}this._model.setOption(option,optionPreprocessorFuncs),lazyUpdate?(this[OPTION_UPDATED]={"silent":silent},this[IN_MAIN_PROCESS]=!1):(prepare(this),updateMethods.update.call(this),this._zr.flush(),this[OPTION_UPDATED]=!1,this[IN_MAIN_PROCESS]=!1,flushPendingActions.call(this,silent),triggerUpdatedEvent.call(this,silent))},echartsProto.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},echartsProto.getModel=function(){return this._model},echartsProto.getOption=function(){return this._model&&this._model.getOption()},echartsProto.getWidth=function(){return this._zr.getWidth()},echartsProto.getHeight=function(){return this._zr.getHeight()},echartsProto.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},echartsProto.getRenderedCanvas=function(opts){if(env.canvasSupported){opts=opts||{},opts.pixelRatio=opts.pixelRatio||1,opts.backgroundColor=opts.backgroundColor||this._model.get("backgroundColor");var zr=this._zr;return zr.painter.getRenderedCanvas(opts)}},echartsProto.getSvgDataUrl=function(){if(env.svgSupported){var zr=this._zr,list=zr.storage.getDisplayList();return zrUtil.each(list,function(el){el.stopAnimation(!0)}),zr.painter.pathToDataUrl()}},echartsProto.getDataURL=function(opts){opts=opts||{};var excludeComponents=opts.excludeComponents,ecModel=this._model,excludesComponentViews=[],self=this;each(excludeComponents,function(componentType){ecModel.eachComponent({"mainType":componentType},function(component){var view=self._componentsMap[component.__viewId];view.group.ignore||(excludesComponentViews.push(view),view.group.ignore=!0)})});var url="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(opts).toDataURL("image/"+(opts&&opts.type||"png"));return each(excludesComponentViews,function(view){view.group.ignore=!1}),url},echartsProto.getConnectedDataURL=function(opts){if(env.canvasSupported){var groupId=this.group,mathMin=Math.min,mathMax=Math.max,MAX_NUMBER=1/0;if(connectedGroups[groupId]){var left=MAX_NUMBER,top=MAX_NUMBER,right=-MAX_NUMBER,bottom=-MAX_NUMBER,canvasList=[],dpr=opts&&opts.pixelRatio||1;zrUtil.each(instances,function(chart,id){if(chart.group===groupId){var canvas=chart.getRenderedCanvas(zrUtil.clone(opts)),boundingRect=chart.getDom().getBoundingClientRect();left=mathMin(boundingRect.left,left),top=mathMin(boundingRect.top,top),right=mathMax(boundingRect.right,right),bottom=mathMax(boundingRect.bottom,bottom),canvasList.push({"dom":canvas,"left":boundingRect.left,"top":boundingRect.top})}}),left*=dpr,top*=dpr,right*=dpr,bottom*=dpr;var width=right-left,height=bottom-top,targetCanvas=zrUtil.createCanvas();targetCanvas.width=width,targetCanvas.height=height;var zr=zrender.init(targetCanvas);return each(canvasList,function(item){var img=new graphic.Image({"style":{"x":item.left*dpr-left,"y":item.top*dpr-top,"image":item.dom}});zr.add(img)}),zr.refreshImmediately(),targetCanvas.toDataURL("image/"+(opts&&opts.type||"png"))}return this.getDataURL(opts)}},echartsProto.convertToPixel=zrUtil.curry(doConvertPixel,"convertToPixel"),echartsProto.convertFromPixel=zrUtil.curry(doConvertPixel,"convertFromPixel"),echartsProto.containPixel=function(finder,value){var result,ecModel=this._model;return finder=modelUtil.parseFinder(ecModel,finder),zrUtil.each(finder,function(models,key){key.indexOf("Models")>=0&&zrUtil.each(models,function(model){var coordSys=model.coordinateSystem;if(coordSys&&coordSys.containPoint)result|=!!coordSys.containPoint(value);else if("seriesModels"===key){var view=this._chartsMap[model.__viewId];view&&view.containPoint&&(result|=view.containPoint(value,model))}},this)},this),!!result},echartsProto.getVisual=function(finder,visualType){var ecModel=this._model;finder=modelUtil.parseFinder(ecModel,finder,{"defaultMainType":"series"});var seriesModel=finder.seriesModel,data=seriesModel.getData(),dataIndexInside=finder.hasOwnProperty("dataIndexInside")?finder.dataIndexInside:finder.hasOwnProperty("dataIndex")?data.indexOfRawIndex(finder.dataIndex):null;return null!=dataIndexInside?data.getItemVisual(dataIndexInside,visualType):data.getVisual(visualType)},echartsProto.getViewOfComponentModel=function(componentModel){return this._componentsMap[componentModel.__viewId]},echartsProto.getViewOfSeriesModel=function(seriesModel){return this._chartsMap[seriesModel.__viewId]};var updateMethods={"prepareAndUpdate":function(payload){prepare(this),updateMethods.update.call(this,payload)},"update":function(payload){var ecModel=this._model,api=this._api,zr=this._zr,coordSysMgr=this._coordSysMgr,scheduler=this._scheduler;if(ecModel){scheduler.restoreData(ecModel,payload),scheduler.performSeriesTasks(ecModel),coordSysMgr.create(ecModel,api),scheduler.performDataProcessorTasks(ecModel,payload),updateStreamModes(this,ecModel),coordSysMgr.update(ecModel,api),clearColorPalette(ecModel),scheduler.performVisualTasks(ecModel,payload),render(this,ecModel,api,payload);var backgroundColor=ecModel.get("backgroundColor")||"transparent";if(env.canvasSupported)zr.setBackgroundColor(backgroundColor);else{var colorArr=colorTool.parse(backgroundColor);backgroundColor=colorTool.stringify(colorArr,"rgb"),0===colorArr[3]&&(backgroundColor="transparent")}performPostUpdateFuncs(ecModel,api)}},"updateTransform":function(payload){var ecModel=this._model,ecIns=this,api=this._api;if(ecModel){var componentDirtyList=[];ecModel.eachComponent(function(componentType,componentModel){var componentView=ecIns.getViewOfComponentModel(componentModel);if(componentView&&componentView.__alive)if(componentView.updateTransform){var result=componentView.updateTransform(componentModel,ecModel,api,payload);result&&result.update&&componentDirtyList.push(componentView)}else componentDirtyList.push(componentView)});var seriesDirtyMap=zrUtil.createHashMap();ecModel.eachSeries(function(seriesModel){var chartView=ecIns._chartsMap[seriesModel.__viewId];if(chartView.updateTransform){var result=chartView.updateTransform(seriesModel,ecModel,api,payload);result&&result.update&&seriesDirtyMap.set(seriesModel.uid,1)}else seriesDirtyMap.set(seriesModel.uid,1)}),clearColorPalette(ecModel),this._scheduler.performVisualTasks(ecModel,payload,{"setDirty":!0,"dirtyMap":seriesDirtyMap}),renderSeries(ecIns,ecModel,api,payload,seriesDirtyMap),performPostUpdateFuncs(ecModel,this._api)}},"updateView":function(payload){var ecModel=this._model;ecModel&&(ChartView.markUpdateMethod(payload,"updateView"),clearColorPalette(ecModel),this._scheduler.performVisualTasks(ecModel,payload,{"setDirty":!0}),render(this,this._model,this._api,payload),performPostUpdateFuncs(ecModel,this._api))},"updateVisual":function(payload){updateMethods.update.call(this,payload)},"updateLayout":function(payload){updateMethods.update.call(this,payload)}};echartsProto.resize=function(opts){this._zr.resize(opts);var ecModel=this._model;if(this._loadingFX&&this._loadingFX.resize(),ecModel){var optionChanged=ecModel.resetOption("media"),silent=opts&&opts.silent;this[IN_MAIN_PROCESS]=!0,optionChanged&&prepare(this),updateMethods.update.call(this),this[IN_MAIN_PROCESS]=!1,flushPendingActions.call(this,silent),triggerUpdatedEvent.call(this,silent)}},echartsProto.showLoading=function(name,cfg){if(isObject(name)&&(cfg=name,name=""),name=name||"default",
this.hideLoading(),loadingEffects[name]){var el=loadingEffects[name](this._api,cfg),zr=this._zr;this._loadingFX=el,zr.add(el)}},echartsProto.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},echartsProto.makeActionFromEvent=function(eventObj){var payload=zrUtil.extend({},eventObj);return payload.type=eventActionMap[eventObj.type],payload},echartsProto.dispatchAction=function(payload,opt){if(isObject(opt)||(opt={"silent":!!opt}),actions[payload.type]&&this._model){if(this[IN_MAIN_PROCESS])return void this._pendingActions.push(payload);doDispatchAction.call(this,payload,opt.silent),opt.flush?this._zr.flush(!0):opt.flush!==!1&&env.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,opt.silent),triggerUpdatedEvent.call(this,opt.silent)}},echartsProto.appendData=function(params){var seriesIndex=params.seriesIndex,ecModel=this.getModel(),seriesModel=ecModel.getSeriesByIndex(seriesIndex);seriesModel.appendData(params),this._scheduler.unfinished=!0},echartsProto.on=createRegisterEventWithLowercaseName("on"),echartsProto.off=createRegisterEventWithLowercaseName("off"),echartsProto.one=createRegisterEventWithLowercaseName("one");var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];echartsProto._initEvents=function(){each(MOUSE_EVENT_NAMES,function(eveName){this._zr.on(eveName,function(e){var params,ecModel=this.getModel(),el=e.target;if("globalout"===eveName)params={};else if(el&&null!=el.dataIndex){var dataModel=el.dataModel||ecModel.getSeriesByIndex(el.seriesIndex);params=dataModel&&dataModel.getDataParams(el.dataIndex,el.dataType)||{}}else el&&el.eventData&&(params=zrUtil.extend({},el.eventData));params&&(params.event=e,params.type=eveName,this.trigger(eveName,params))},this)},this),each(eventActionMap,function(actionType,eventType){this._messageCenter.on(eventType,function(event){this.trigger(eventType,event)},this)},this)},echartsProto.isDisposed=function(){return this._disposed},echartsProto.clear=function(){this.setOption({"series":[]},!0)},echartsProto.dispose=function(){if(!this._disposed){this._disposed=!0,modelUtil.setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var api=this._api,ecModel=this._model;each(this._componentsViews,function(component){component.dispose(ecModel,api)}),each(this._chartsViews,function(chart){chart.dispose(ecModel,api)}),this._zr.dispose(),delete instances[this.id]}},zrUtil.mixin(ECharts,Eventful);var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],postUpdateFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=new Date-0,groupIdBase=new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_",mapDataStores={},disconnect=disConnect;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesColor),registerPreprocessor(backwardCompat),registerProcessor(PRIORITY_PROCESSOR_STATISTIC,dataStack),registerLoading("default",loadingDefault),registerAction({"type":"highlight","event":"highlight","update":"highlight"},zrUtil.noop),registerAction({"type":"downplay","event":"downplay","update":"downplay"},zrUtil.noop),registerTheme("light",lightTheme),registerTheme("dark",darkTheme);var dataTool={};exports.version=version,exports.dependencies=dependencies,exports.PRIORITY=PRIORITY,exports.init=init,exports.connect=connect,exports.disConnect=disConnect,exports.disconnect=disconnect,exports.dispose=dispose,exports.getInstanceByDom=getInstanceByDom,exports.getInstanceById=getInstanceById,exports.registerTheme=registerTheme,exports.registerPreprocessor=registerPreprocessor,exports.registerProcessor=registerProcessor,exports.registerPostUpdate=registerPostUpdate,exports.registerAction=registerAction,exports.registerCoordinateSystem=registerCoordinateSystem,exports.getCoordinateSystemDimensions=getCoordinateSystemDimensions,exports.registerLayout=registerLayout,exports.registerVisual=registerVisual,exports.registerLoading=registerLoading,exports.extendComponentModel=extendComponentModel,exports.extendComponentView=extendComponentView,exports.extendSeriesModel=extendSeriesModel,exports.extendChartView=extendChartView,exports.setCanvasCreator=setCanvasCreator,exports.registerMap=registerMap,exports.getMap=getMap,exports.dataTool=dataTool;var ___ec_export=__webpack_require__(658);!function(){for(var key in ___ec_export)___ec_export.hasOwnProperty(key)&&(exports[key]=___ec_export[key])}()},,function(module,exports,__webpack_require__){function extendShape(opts){return Path.extend(opts)}function extendPath(pathData,opts){return pathTool.extendFromString(pathData,opts)}function makePath(pathData,opts,rect,layout){var path=pathTool.createFromString(pathData,opts),boundingRect=path.getBoundingRect();return rect&&("center"===layout&&(rect=centerGraphic(rect,boundingRect)),resizePath(path,rect)),path}function makeImage(imageUrl,rect,layout){var path=new ZImage({"style":{"image":imageUrl,"x":rect.x,"y":rect.y,"width":rect.width,"height":rect.height},"onload":function(img){if("center"===layout){var boundingRect={"width":img.width,"height":img.height};path.setStyle(centerGraphic(rect,boundingRect))}}});return path}function centerGraphic(rect,boundingRect){var height,aspect=boundingRect.width/boundingRect.height,width=rect.height*aspect;width<=rect.width?height=rect.height:(width=rect.width,height=width/aspect);var cx=rect.x+rect.width/2,cy=rect.y+rect.height/2;return{"x":cx-width/2,"y":cy-height/2,"width":width,"height":height}}function resizePath(path,rect){if(path.applyTransform){var pathRect=path.getBoundingRect(),m=pathRect.calculateTransform(rect);path.applyTransform(m)}}function subPixelOptimizeLine(param){var shape=param.shape,lineWidth=param.style.lineWidth;return round(2*shape.x1)===round(2*shape.x2)&&(shape.x1=shape.x2=subPixelOptimize(shape.x1,lineWidth,!0)),round(2*shape.y1)===round(2*shape.y2)&&(shape.y1=shape.y2=subPixelOptimize(shape.y1,lineWidth,!0)),param}function subPixelOptimizeRect(param){var shape=param.shape,lineWidth=param.style.lineWidth,originX=shape.x,originY=shape.y,originWidth=shape.width,originHeight=shape.height;return shape.x=subPixelOptimize(shape.x,lineWidth,!0),shape.y=subPixelOptimize(shape.y,lineWidth,!0),shape.width=Math.max(subPixelOptimize(originX+originWidth,lineWidth,!1)-shape.x,0===originWidth?0:1),shape.height=Math.max(subPixelOptimize(originY+originHeight,lineWidth,!1)-shape.y,0===originHeight?0:1),param}function subPixelOptimize(position,lineWidth,positiveOrNegative){var doubledPosition=round(2*position);return(doubledPosition+round(lineWidth))%2===0?doubledPosition/2:(doubledPosition+(positiveOrNegative?1:-1))/2}function hasFillOrStroke(fillOrStroke){return null!=fillOrStroke&&"none"!=fillOrStroke}function liftColor(color){return"string"==typeof color?colorTool.lift(color,-.1):color}function cacheElementStl(el){if(el.__hoverStlDirty){var stroke=el.style.stroke,fill=el.style.fill,hoverStyle=el.__hoverStl;hoverStyle.fill=hoverStyle.fill||(hasFillOrStroke(fill)?liftColor(fill):null),hoverStyle.stroke=hoverStyle.stroke||(hasFillOrStroke(stroke)?liftColor(stroke):null);var normalStyle={};for(var name in hoverStyle)null!=hoverStyle[name]&&(normalStyle[name]=el.style[name]);el.__normalStl=normalStyle,el.__hoverStlDirty=!1}}function doSingleEnterHover(el){if(!el.__isHover){if(cacheElementStl(el),el.useHoverLayer)el.__zr&&el.__zr.addHover(el,el.__hoverStl);else{var style=el.style,insideRollbackOpt=style.insideRollbackOpt;insideRollbackOpt&&rollbackInsideStyle(style),style.extendFrom(el.__hoverStl),insideRollbackOpt&&(applyInsideStyle(style,style.insideOriginalTextPosition,insideRollbackOpt),null==style.textFill&&(style.textFill=insideRollbackOpt.autoColor)),el.dirty(!1),el.z2+=1}el.__isHover=!0}}function doSingleLeaveHover(el){if(el.__isHover){var normalStl=el.__normalStl;el.useHoverLayer?el.__zr&&el.__zr.removeHover(el):(normalStl&&el.setStyle(normalStl),el.z2-=1),el.__isHover=!1}}function doEnterHover(el){"group"===el.type?el.traverse(function(child){"group"!==child.type&&doSingleEnterHover(child)}):doSingleEnterHover(el)}function doLeaveHover(el){"group"===el.type?el.traverse(function(child){"group"!==child.type&&doSingleLeaveHover(child)}):doSingleLeaveHover(el)}function setElementHoverStl(el,hoverStl){el.__hoverStl=el.hoverStyle||hoverStl||{},el.__hoverStlDirty=!0,el.__isHover&&cacheElementStl(el)}function onElementMouseOver(e){this.__hoverSilentOnTouch&&e.zrByTouch||!this.__isEmphasis&&doEnterHover(this)}function onElementMouseOut(e){this.__hoverSilentOnTouch&&e.zrByTouch||!this.__isEmphasis&&doLeaveHover(this)}function enterEmphasis(){this.__isEmphasis=!0,doEnterHover(this)}function leaveEmphasis(){this.__isEmphasis=!1,doLeaveHover(this)}function setHoverStyle(el,hoverStyle,opt){el.__hoverSilentOnTouch=opt&&opt.hoverSilentOnTouch,"group"===el.type?el.traverse(function(child){"group"!==child.type&&setElementHoverStl(child,hoverStyle)}):setElementHoverStl(el,hoverStyle),el.on("mouseover",onElementMouseOver).on("mouseout",onElementMouseOut),el.on("emphasis",enterEmphasis).on("normal",leaveEmphasis)}function setLabelStyle(normalStyle,emphasisStyle,normalModel,emphasisModel,opt,normalSpecified,emphasisSpecified){opt=opt||EMPTY_OBJ;var baseText,labelFetcher=opt.labelFetcher,labelDataIndex=opt.labelDataIndex,labelDimIndex=opt.labelDimIndex,showNormal=normalModel.getShallow("show"),showEmphasis=emphasisModel.getShallow("show");(showNormal||showEmphasis)&&(labelFetcher&&(baseText=labelFetcher.getFormattedLabel(labelDataIndex,"normal",null,labelDimIndex)),null==baseText&&(baseText=zrUtil.isFunction(opt.defaultText)?opt.defaultText(labelDataIndex,opt):opt.defaultText));var normalStyleText=showNormal?baseText:null,emphasisStyleText=showEmphasis?zrUtil.retrieve2(labelFetcher?labelFetcher.getFormattedLabel(labelDataIndex,"emphasis",null,labelDimIndex):null,baseText):null;null==normalStyleText&&null==emphasisStyleText||(setTextStyle(normalStyle,normalModel,normalSpecified,opt),setTextStyle(emphasisStyle,emphasisModel,emphasisSpecified,opt,!0)),normalStyle.text=normalStyleText,emphasisStyle.text=emphasisStyleText}function setTextStyle(textStyle,textStyleModel,specifiedTextStyle,opt,isEmphasis){return setTextStyleCommon(textStyle,textStyleModel,opt,isEmphasis),specifiedTextStyle&&zrUtil.extend(textStyle,specifiedTextStyle),textStyle.host&&textStyle.host.dirty&&textStyle.host.dirty(!1),textStyle}function setText(textStyle,labelModel,defaultColor){var isEmphasis,opt={"isRectText":!0};defaultColor===!1?isEmphasis=!0:opt.autoColor=defaultColor,setTextStyleCommon(textStyle,labelModel,opt,isEmphasis),textStyle.host&&textStyle.host.dirty&&textStyle.host.dirty(!1)}function setTextStyleCommon(textStyle,textStyleModel,opt,isEmphasis){if(opt=opt||EMPTY_OBJ,opt.isRectText){var textPosition=textStyleModel.getShallow("position")||(isEmphasis?null:"inside");"outside"===textPosition&&(textPosition="top"),textStyle.textPosition=textPosition,textStyle.textOffset=textStyleModel.getShallow("offset");var labelRotate=textStyleModel.getShallow("rotate");null!=labelRotate&&(labelRotate*=Math.PI/180),textStyle.textRotation=labelRotate,textStyle.textDistance=zrUtil.retrieve2(textStyleModel.getShallow("distance"),isEmphasis?null:5)}var richResult,ecModel=textStyleModel.ecModel,globalTextStyle=ecModel&&ecModel.option.textStyle,richItemNames=getRichItemNames(textStyleModel);if(richItemNames){richResult={};for(var name in richItemNames)if(richItemNames.hasOwnProperty(name)){var richTextStyle=textStyleModel.getModel(["rich",name]);setTokenTextStyle(richResult[name]={},richTextStyle,globalTextStyle,opt,isEmphasis)}}return textStyle.rich=richResult,setTokenTextStyle(textStyle,textStyleModel,globalTextStyle,opt,isEmphasis,!0),opt.forceRich&&!opt.textStyle&&(opt.textStyle={}),textStyle}function getRichItemNames(textStyleModel){for(var richItemNameMap;textStyleModel&&textStyleModel!==textStyleModel.ecModel;){var rich=(textStyleModel.option||EMPTY_OBJ).rich;if(rich){richItemNameMap=richItemNameMap||{};for(var name in rich)rich.hasOwnProperty(name)&&(richItemNameMap[name]=1)}textStyleModel=textStyleModel.parentModel}return richItemNameMap}function setTokenTextStyle(textStyle,textStyleModel,globalTextStyle,opt,isEmphasis,isBlock){if(globalTextStyle=!isEmphasis&&globalTextStyle||EMPTY_OBJ,textStyle.textFill=getAutoColor(textStyleModel.getShallow("color"),opt)||globalTextStyle.color,textStyle.textStroke=getAutoColor(textStyleModel.getShallow("textBorderColor"),opt)||globalTextStyle.textBorderColor,textStyle.textStrokeWidth=zrUtil.retrieve2(textStyleModel.getShallow("textBorderWidth"),globalTextStyle.textBorderWidth),!isEmphasis){if(isBlock){var originalTextPosition=textStyle.textPosition;textStyle.insideRollback=applyInsideStyle(textStyle,originalTextPosition,opt),textStyle.insideOriginalTextPosition=originalTextPosition,textStyle.insideRollbackOpt=opt}null==textStyle.textFill&&(textStyle.textFill=opt.autoColor)}textStyle.fontStyle=textStyleModel.getShallow("fontStyle")||globalTextStyle.fontStyle,textStyle.fontWeight=textStyleModel.getShallow("fontWeight")||globalTextStyle.fontWeight,textStyle.fontSize=textStyleModel.getShallow("fontSize")||globalTextStyle.fontSize,textStyle.fontFamily=textStyleModel.getShallow("fontFamily")||globalTextStyle.fontFamily,textStyle.textAlign=textStyleModel.getShallow("align"),textStyle.textVerticalAlign=textStyleModel.getShallow("verticalAlign")||textStyleModel.getShallow("baseline"),textStyle.textLineHeight=textStyleModel.getShallow("lineHeight"),textStyle.textWidth=textStyleModel.getShallow("width"),textStyle.textHeight=textStyleModel.getShallow("height"),textStyle.textTag=textStyleModel.getShallow("tag"),isBlock&&opt.disableBox||(textStyle.textBackgroundColor=getAutoColor(textStyleModel.getShallow("backgroundColor"),opt),textStyle.textPadding=textStyleModel.getShallow("padding"),textStyle.textBorderColor=getAutoColor(textStyleModel.getShallow("borderColor"),opt),textStyle.textBorderWidth=textStyleModel.getShallow("borderWidth"),textStyle.textBorderRadius=textStyleModel.getShallow("borderRadius"),textStyle.textBoxShadowColor=textStyleModel.getShallow("shadowColor"),textStyle.textBoxShadowBlur=textStyleModel.getShallow("shadowBlur"),textStyle.textBoxShadowOffsetX=textStyleModel.getShallow("shadowOffsetX"),textStyle.textBoxShadowOffsetY=textStyleModel.getShallow("shadowOffsetY")),textStyle.textShadowColor=textStyleModel.getShallow("textShadowColor")||globalTextStyle.textShadowColor,textStyle.textShadowBlur=textStyleModel.getShallow("textShadowBlur")||globalTextStyle.textShadowBlur,textStyle.textShadowOffsetX=textStyleModel.getShallow("textShadowOffsetX")||globalTextStyle.textShadowOffsetX,textStyle.textShadowOffsetY=textStyleModel.getShallow("textShadowOffsetY")||globalTextStyle.textShadowOffsetY}function getAutoColor(color,opt){return"auto"!==color?color:opt&&opt.autoColor?opt.autoColor:null}function applyInsideStyle(textStyle,textPosition,opt){var insideRollback,useInsideStyle=opt.useInsideStyle;return null==textStyle.textFill&&useInsideStyle!==!1&&(useInsideStyle===!0||opt.isRectText&&textPosition&&"string"==typeof textPosition&&textPosition.indexOf("inside")>=0)&&(insideRollback={"textFill":null,"textStroke":textStyle.textStroke,"textStrokeWidth":textStyle.textStrokeWidth},textStyle.textFill="#fff",null==textStyle.textStroke&&(textStyle.textStroke=opt.autoColor,null==textStyle.textStrokeWidth&&(textStyle.textStrokeWidth=2))),insideRollback}function rollbackInsideStyle(style){var insideRollback=style.insideRollback;insideRollback&&(style.textFill=insideRollback.textFill,style.textStroke=insideRollback.textStroke,style.textStrokeWidth=insideRollback.textStrokeWidth)}function getFont(opt,ecModel){var gTextStyleModel=ecModel||ecModel.getModel("textStyle");return zrUtil.trim([opt.fontStyle||gTextStyleModel&&gTextStyleModel.getShallow("fontStyle")||"",opt.fontWeight||gTextStyleModel&&gTextStyleModel.getShallow("fontWeight")||"",(opt.fontSize||gTextStyleModel&&gTextStyleModel.getShallow("fontSize")||12)+"px",opt.fontFamily||gTextStyleModel&&gTextStyleModel.getShallow("fontFamily")||"sans-serif"].join(" "))}function animateOrSetProps(isUpdate,el,props,animatableModel,dataIndex,cb){"function"==typeof dataIndex&&(cb=dataIndex,dataIndex=null);var animationEnabled=animatableModel&&animatableModel.isAnimationEnabled();if(animationEnabled){var postfix=isUpdate?"Update":"",duration=animatableModel.getShallow("animationDuration"+postfix),animationEasing=animatableModel.getShallow("animationEasing"+postfix),animationDelay=animatableModel.getShallow("animationDelay"+postfix);"function"==typeof animationDelay&&(animationDelay=animationDelay(dataIndex,animatableModel.getAnimationDelayParams?animatableModel.getAnimationDelayParams(el,dataIndex):null)),"function"==typeof duration&&(duration=duration(dataIndex)),duration>0?el.animateTo(props,duration,animationDelay||0,animationEasing,cb,!!cb):(el.stopAnimation(),el.attr(props),cb&&cb())}else el.stopAnimation(),el.attr(props),cb&&cb()}function updateProps(el,props,animatableModel,dataIndex,cb){animateOrSetProps(!0,el,props,animatableModel,dataIndex,cb)}function initProps(el,props,animatableModel,dataIndex,cb){animateOrSetProps(!1,el,props,animatableModel,dataIndex,cb)}function getTransform(target,ancestor){for(var mat=matrix.identity([]);target&&target!==ancestor;)matrix.mul(mat,target.getLocalTransform(),mat),target=target.parent;return mat}function applyTransform(target,transform,invert){return transform&&!zrUtil.isArrayLike(transform)&&(transform=Transformable.getLocalTransform(transform)),invert&&(transform=matrix.invert([],transform)),vector.applyTransform([],target,transform)}function transformDirection(direction,transform,invert){var hBase=0===transform[4]||0===transform[5]||0===transform[0]?1:Math.abs(2*transform[4]/transform[0]),vBase=0===transform[4]||0===transform[5]||0===transform[2]?1:Math.abs(2*transform[4]/transform[2]),vertex=["left"===direction?-hBase:"right"===direction?hBase:0,"top"===direction?-vBase:"bottom"===direction?vBase:0];return vertex=applyTransform(vertex,transform,invert),Math.abs(vertex[0])>Math.abs(vertex[1])?vertex[0]>0?"right":"left":vertex[1]>0?"bottom":"top"}function groupTransition(g1,g2,animatableModel,cb){function getElMap(g){var elMap={};return g.traverse(function(el){!el.isGroup&&el.anid&&(elMap[el.anid]=el)}),elMap}function getAnimatableProps(el){var obj={"position":vector.clone(el.position),"rotation":el.rotation};return el.shape&&(obj.shape=zrUtil.extend({},el.shape)),obj}if(g1&&g2){var elMap1=getElMap(g1);g2.traverse(function(el){if(!el.isGroup&&el.anid){var oldEl=elMap1[el.anid];if(oldEl){var newProp=getAnimatableProps(el);el.attr(getAnimatableProps(oldEl)),updateProps(el,newProp,animatableModel,el.dataIndex)}}})}}function clipPointsByRect(points,rect){return zrUtil.map(points,function(point){var x=point[0];x=mathMax(x,rect.x),x=mathMin(x,rect.x+rect.width);var y=point[1];return y=mathMax(y,rect.y),y=mathMin(y,rect.y+rect.height),[x,y]})}function clipRectByRect(targetRect,rect){var x=mathMax(targetRect.x,rect.x),x2=mathMin(targetRect.x+targetRect.width,rect.x+rect.width),y=mathMax(targetRect.y,rect.y),y2=mathMin(targetRect.y+targetRect.height,rect.y+rect.height);if(x2>=x&&y2>=y)return{"x":x,"y":y,"width":x2-x,"height":y2-y}}function createIcon(iconStr,opt,rect){opt=zrUtil.extend({"rectHover":!0},opt);var style=opt.style={"strokeNoScale":!0};if(rect=rect||{"x":-1,"y":-1,"width":2,"height":2},iconStr)return 0===iconStr.indexOf("image://")?(style.image=iconStr.slice(8),zrUtil.defaults(style,rect),new ZImage(opt)):makePath(iconStr.replace("path://",""),opt,rect,"center")}var zrUtil=__webpack_require__(4),pathTool=__webpack_require__(2350),colorTool=__webpack_require__(125),matrix=__webpack_require__(70),vector=__webpack_require__(38),Path=__webpack_require__(50),Transformable=__webpack_require__(512),ZImage=__webpack_require__(244);exports.Image=ZImage;var Group=__webpack_require__(316);exports.Group=Group;var Text=__webpack_require__(245);exports.Text=Text;var Circle=__webpack_require__(2336);exports.Circle=Circle;var Sector=__webpack_require__(2342);exports.Sector=Sector;var Ring=__webpack_require__(2341);exports.Ring=Ring;var Polygon=__webpack_require__(2338);exports.Polygon=Polygon;var Polyline=__webpack_require__(2339);exports.Polyline=Polyline;var Rect=__webpack_require__(2340);exports.Rect=Rect;var Line=__webpack_require__(2337);exports.Line=Line;var BezierCurve=__webpack_require__(2335);exports.BezierCurve=BezierCurve;var Arc=__webpack_require__(2334);exports.Arc=Arc;var CompoundPath=__webpack_require__(2330);exports.CompoundPath=CompoundPath;var LinearGradient=__webpack_require__(922);exports.LinearGradient=LinearGradient;var RadialGradient=__webpack_require__(2331);exports.RadialGradient=RadialGradient;var BoundingRect=__webpack_require__(43);exports.BoundingRect=BoundingRect;var IncrementalDisplayable=__webpack_require__(510);exports.IncrementalDisplayable=IncrementalDisplayable;var round=Math.round,mathMax=Math.max,mathMin=Math.min,EMPTY_OBJ={},mergePath=pathTool.mergePath;exports.extendShape=extendShape,exports.extendPath=extendPath,exports.makePath=makePath,exports.makeImage=makeImage,exports.mergePath=mergePath,exports.resizePath=resizePath,exports.subPixelOptimizeLine=subPixelOptimizeLine,exports.subPixelOptimizeRect=subPixelOptimizeRect,exports.subPixelOptimize=subPixelOptimize,exports.setHoverStyle=setHoverStyle,exports.setLabelStyle=setLabelStyle,exports.setTextStyle=setTextStyle,exports.setText=setText,exports.getFont=getFont,exports.updateProps=updateProps,exports.initProps=initProps,exports.getTransform=getTransform,exports.applyTransform=applyTransform,exports.transformDirection=transformDirection,exports.groupTransition=groupTransition,exports.clipPointsByRect=clipPointsByRect,exports.clipRectByRect=clipRectByRect,exports.createIcon=createIcon},,,,,function(module,exports,__webpack_require__){function _trim(str){return str.replace(/^\s+/,"").replace(/\s+$/,"")}function linearMap(val,domain,range,clamp){var subDomain=domain[1]-domain[0],subRange=range[1]-range[0];if(0===subDomain)return 0===subRange?range[0]:(range[0]+range[1])/2;if(clamp)if(subDomain>0){if(val<=domain[0])return range[0];if(val>=domain[1])return range[1]}else{if(val>=domain[0])return range[0];if(val<=domain[1])return range[1]}else{if(val===domain[0])return range[0];if(val===domain[1])return range[1]}return(val-domain[0])/subDomain*subRange+range[0]}function parsePercent(percent,all){switch(percent){case"center":case"middle":percent="50%";break;case"left":case"top":percent="0%";break;case"right":case"bottom":percent="100%"}return"string"==typeof percent?_trim(percent).match(/%$/)?parseFloat(percent)/100*all:parseFloat(percent):null==percent?NaN:+percent}function round(x,precision,returnStr){return null==precision&&(precision=10),precision=Math.min(Math.max(0,precision),20),x=(+x).toFixed(precision),returnStr?x:+x}function asc(arr){return arr.sort(function(a,b){return a-b}),arr}function getPrecision(val){if(val=+val,isNaN(val))return 0;for(var e=1,count=0;Math.round(val*e)/e!==val;)e*=10,count++;return count}function getPrecisionSafe(val){var str=val.toString(),eIndex=str.indexOf("e");if(eIndex>0){var precision=+str.slice(eIndex+1);return precision<0?-precision:0}var dotIndex=str.indexOf(".");return dotIndex<0?0:str.length-1-dotIndex}function getPixelPrecision(dataExtent,pixelExtent){var log=Math.log,LN10=Math.LN10,dataQuantity=Math.floor(log(dataExtent[1]-dataExtent[0])/LN10),sizeQuantity=Math.round(log(Math.abs(pixelExtent[1]-pixelExtent[0]))/LN10),precision=Math.min(Math.max(-dataQuantity+sizeQuantity,0),20);return isFinite(precision)?precision:20}function getPercentWithPrecision(valueList,idx,precision){if(!valueList[idx])return 0;var sum=zrUtil.reduce(valueList,function(acc,val){return acc+(isNaN(val)?0:val)},0);if(0===sum)return 0;for(var digits=Math.pow(10,precision),votesPerQuota=zrUtil.map(valueList,function(val){return(isNaN(val)?0:val)/sum*digits*100}),targetSeats=100*digits,seats=zrUtil.map(votesPerQuota,function(votes){return Math.floor(votes)}),currentSum=zrUtil.reduce(seats,function(acc,val){return acc+val},0),remainder=zrUtil.map(votesPerQuota,function(votes,idx){return votes-seats[idx]});currentSum<targetSeats;){for(var max=Number.NEGATIVE_INFINITY,maxId=null,i=0,len=remainder.length;i<len;++i)remainder[i]>max&&(max=remainder[i],maxId=i);++seats[maxId],remainder[maxId]=0,++currentSum}return seats[idx]/digits}function remRadian(radian){var pi2=2*Math.PI;return(radian%pi2+pi2)%pi2}function isRadianAroundZero(val){return val>-RADIAN_EPSILON&&val<RADIAN_EPSILON}function parseDate(value){if(value instanceof Date)return value;if("string"==typeof value){var match=TIME_REG.exec(value);if(!match)return new Date(NaN);if(match[8]){var hour=+match[4]||0;return"Z"!==match[8].toUpperCase()&&(hour-=match[8].slice(0,3)),new Date(Date.UTC(+match[1],+(match[2]||1)-1,+match[3]||1,hour,+(match[5]||0),+match[6]||0,+match[7]||0))}return new Date(+match[1],+(match[2]||1)-1,+match[3]||1,+match[4]||0,+(match[5]||0),+match[6]||0,+match[7]||0)}return null==value?new Date(NaN):new Date(Math.round(value))}function quantity(val){return Math.pow(10,quantityExponent(val))}function quantityExponent(val){return Math.floor(Math.log(val)/Math.LN10)}function nice(val,round){var nf,exponent=quantityExponent(val),exp10=Math.pow(10,exponent),f=val/exp10;return nf=round?f<1.5?1:f<2.5?2:f<4?3:f<7?5:10:f<1?1:f<2?2:f<3?3:f<5?5:10,val=nf*exp10,exponent>=-20?+val.toFixed(exponent<0?-exponent:0):val}function reformIntervals(list){function littleThan(a,b,lg){return a.interval[lg]<b.interval[lg]||a.interval[lg]===b.interval[lg]&&(a.close[lg]-b.close[lg]===(lg?-1:1)||!lg&&littleThan(a,b,1))}list.sort(function(a,b){return littleThan(a,b,0)?-1:1});for(var curr=-(1/0),currClose=1,i=0;i<list.length;){for(var interval=list[i].interval,close=list[i].close,lg=0;lg<2;lg++)interval[lg]<=curr&&(interval[lg]=curr,close[lg]=lg?1:1-currClose),curr=interval[lg],currClose=close[lg];interval[0]===interval[1]&&close[0]*close[1]!==1?list.splice(i,1):i++}return list}function isNumeric(v){return v-parseFloat(v)>=0}var zrUtil=__webpack_require__(4),RADIAN_EPSILON=1e-4,MAX_SAFE_INTEGER=9007199254740991,TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;exports.linearMap=linearMap,exports.parsePercent=parsePercent,exports.round=round,exports.asc=asc,exports.getPrecision=getPrecision,exports.getPrecisionSafe=getPrecisionSafe,exports.getPixelPrecision=getPixelPrecision,exports.getPercentWithPrecision=getPercentWithPrecision,exports.MAX_SAFE_INTEGER=MAX_SAFE_INTEGER,exports.remRadian=remRadian,exports.isRadianAroundZero=isRadianAroundZero,exports.parseDate=parseDate,exports.quantity=quantity,exports.nice=nice,exports.reformIntervals=reformIntervals,exports.isNumeric=isNumeric},,,,,,,function(module,exports,__webpack_require__){function normalizeToArray(value){return value instanceof Array?value:null==value?[]:[value]}function defaultEmphasis(opt,key,subOpts){if(opt){opt[key]=opt[key]||{},opt.emphasis=opt.emphasis||{},opt.emphasis[key]=opt.emphasis[key]||{};for(var i=0,len=subOpts.length;i<len;i++){var subOptName=subOpts[i];!opt.emphasis[key].hasOwnProperty(subOptName)&&opt[key].hasOwnProperty(subOptName)&&(opt.emphasis[key][subOptName]=opt[key][subOptName])}}}function getDataItemValue(dataItem){return!isObject(dataItem)||isArray(dataItem)||dataItem instanceof Date?dataItem:dataItem.value}function isDataItemOption(dataItem){return isObject(dataItem)&&!(dataItem instanceof Array)}function mappingToExists(exists,newCptOptions){newCptOptions=(newCptOptions||[]).slice();var result=zrUtil.map(exists||[],function(obj,index){return{"exist":obj}});return each(newCptOptions,function(cptOption,index){if(isObject(cptOption)){for(var i=0;i<result.length;i++)if(!result[i].option&&null!=cptOption.id&&result[i].exist.id===cptOption.id+"")return result[i].option=cptOption,void(newCptOptions[index]=null);for(var i=0;i<result.length;i++){var exist=result[i].exist;if(!(result[i].option||null!=exist.id&&null!=cptOption.id||null==cptOption.name||isIdInner(cptOption)||isIdInner(exist)||exist.name!==cptOption.name+""))return result[i].option=cptOption,void(newCptOptions[index]=null)}}}),each(newCptOptions,function(cptOption,index){if(isObject(cptOption)){for(var i=0;i<result.length;i++){var exist=result[i].exist;if(!result[i].option&&!isIdInner(exist)&&null==cptOption.id){result[i].option=cptOption;break}}i>=result.length&&result.push({"option":cptOption})}}),result}function makeIdAndName(mapResult){var idMap=zrUtil.createHashMap();each(mapResult,function(item,index){var existCpt=item.exist;existCpt&&idMap.set(existCpt.id,item)}),each(mapResult,function(item,index){var opt=item.option;zrUtil.assert(!opt||null==opt.id||!idMap.get(opt.id)||idMap.get(opt.id)===item,"id duplicates: "+(opt&&opt.id)),opt&&null!=opt.id&&idMap.set(opt.id,item),!item.keyInfo&&(item.keyInfo={})}),each(mapResult,function(item,index){var existCpt=item.exist,opt=item.option,keyInfo=item.keyInfo;if(isObject(opt)){if(keyInfo.name=null!=opt.name?opt.name+"":existCpt?existCpt.name:DUMMY_COMPONENT_NAME_PREFIX+index,existCpt)keyInfo.id=existCpt.id;else if(null!=opt.id)keyInfo.id=opt.id+"";else{var idNum=0;do keyInfo.id="\0"+keyInfo.name+"\0"+idNum++;while(idMap.get(keyInfo.id))}idMap.set(keyInfo.id,item)}})}function isNameSpecified(componentModel){var name=componentModel.name;return!(!name||!name.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isIdInner(cptOption){return isObject(cptOption)&&cptOption.id&&0===(cptOption.id+"").indexOf("\0_ec_\0")}function compressBatches(batchA,batchB){function makeMap(sourceBatch,map,otherMap){for(var i=0,len=sourceBatch.length;i<len;i++)for(var seriesId=sourceBatch[i].seriesId,dataIndices=normalizeToArray(sourceBatch[i].dataIndex),otherDataIndices=otherMap&&otherMap[seriesId],j=0,lenj=dataIndices.length;j<lenj;j++){var dataIndex=dataIndices[j];otherDataIndices&&otherDataIndices[dataIndex]?otherDataIndices[dataIndex]=null:(map[seriesId]||(map[seriesId]={}))[dataIndex]=1}}function mapToArray(map,isData){var result=[];for(var i in map)if(map.hasOwnProperty(i)&&null!=map[i])if(isData)result.push(+i);else{var dataIndices=mapToArray(map[i],!0);dataIndices.length&&result.push({"seriesId":i,"dataIndex":dataIndices})}return result}var mapA={},mapB={};return makeMap(batchA||[],mapA),makeMap(batchB||[],mapB,mapA),[mapToArray(mapA),mapToArray(mapB)]}function queryDataIndex(data,payload){return null!=payload.dataIndexInside?payload.dataIndexInside:null!=payload.dataIndex?zrUtil.isArray(payload.dataIndex)?zrUtil.map(payload.dataIndex,function(value){return data.indexOfRawIndex(value)}):data.indexOfRawIndex(payload.dataIndex):null!=payload.name?zrUtil.isArray(payload.name)?zrUtil.map(payload.name,function(value){return data.indexOfName(value)}):data.indexOfName(payload.name):void 0}function makeInner(){var key="__\0ec_inner_"+innerUniqueIndex++ +"_"+Math.random().toFixed(5);return function(hostObj){return hostObj[key]||(hostObj[key]={})}}function parseFinder(ecModel,finder,opt){if(zrUtil.isString(finder)){var obj={};obj[finder+"Index"]=0,finder=obj}var defaultMainType=opt&&opt.defaultMainType;!defaultMainType||has(finder,defaultMainType+"Index")||has(finder,defaultMainType+"Id")||has(finder,defaultMainType+"Name")||(finder[defaultMainType+"Index"]=0);var result={};return each(finder,function(value,key){var value=finder[key];if("dataIndex"===key||"dataIndexInside"===key)return void(result[key]=value);var parsedKey=key.match(/^(\w+)(Index|Id|Name)$/)||[],mainType=parsedKey[1],queryType=(parsedKey[2]||"").toLowerCase();if(!(!mainType||!queryType||null==value||"index"===queryType&&"none"===value||opt&&opt.includeMainTypes&&zrUtil.indexOf(opt.includeMainTypes,mainType)<0)){var queryParam={"mainType":mainType};"index"===queryType&&"all"===value||(queryParam[queryType]=value);var models=ecModel.queryComponents(queryParam);result[mainType+"Models"]=models,
result[mainType+"Model"]=models[0]}}),result}function has(obj,prop){return obj&&obj.hasOwnProperty(prop)}function setAttribute(dom,key,value){dom.setAttribute?dom.setAttribute(key,value):dom[key]=value}function getAttribute(dom,key){return dom.getAttribute?dom.getAttribute(key):dom[key]}var zrUtil=__webpack_require__(4),each=zrUtil.each,isObject=zrUtil.isObject,isArray=zrUtil.isArray,DUMMY_COMPONENT_NAME_PREFIX="series\0",TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],innerUniqueIndex=0;exports.normalizeToArray=normalizeToArray,exports.defaultEmphasis=defaultEmphasis,exports.TEXT_STYLE_OPTIONS=TEXT_STYLE_OPTIONS,exports.getDataItemValue=getDataItemValue,exports.isDataItemOption=isDataItemOption,exports.mappingToExists=mappingToExists,exports.makeIdAndName=makeIdAndName,exports.isNameSpecified=isNameSpecified,exports.isIdInner=isIdInner,exports.compressBatches=compressBatches,exports.queryDataIndex=queryDataIndex,exports.makeInner=makeInner,exports.parseFinder=parseFinder,exports.setAttribute=setAttribute,exports.getAttribute=getAttribute},,,function(module,exports){(function(global){var dev;"undefined"!=typeof window?dev=window.__DEV__:"undefined"!=typeof global&&(dev=global.__DEV__),"undefined"==typeof dev&&(dev=!0);var __DEV__=dev;exports.__DEV__=__DEV__}).call(exports,function(){return this}())},,,,function(module,exports,__webpack_require__){function boxLayout(orient,group,gap,maxWidth,maxHeight){var x=0,y=0;null==maxWidth&&(maxWidth=1/0),null==maxHeight&&(maxHeight=1/0);var currentLineMaxSize=0;group.eachChild(function(child,idx){var nextX,nextY,position=child.position,rect=child.getBoundingRect(),nextChild=group.childAt(idx+1),nextChildRect=nextChild&&nextChild.getBoundingRect();if("horizontal"===orient){var moveX=rect.width+(nextChildRect?-nextChildRect.x+rect.x:0);nextX=x+moveX,nextX>maxWidth||child.newline?(x=0,nextX=moveX,y+=currentLineMaxSize+gap,currentLineMaxSize=rect.height):currentLineMaxSize=Math.max(currentLineMaxSize,rect.height)}else{var moveY=rect.height+(nextChildRect?-nextChildRect.y+rect.y:0);nextY=y+moveY,nextY>maxHeight||child.newline?(x+=currentLineMaxSize+gap,y=0,nextY=moveY,currentLineMaxSize=rect.width):currentLineMaxSize=Math.max(currentLineMaxSize,rect.width)}child.newline||(position[0]=x,position[1]=y,"horizontal"===orient?x=nextX+gap:y=nextY+gap)})}function getAvailableSize(positionInfo,containerRect,margin){var containerWidth=containerRect.width,containerHeight=containerRect.height,x=parsePercent(positionInfo.x,containerWidth),y=parsePercent(positionInfo.y,containerHeight),x2=parsePercent(positionInfo.x2,containerWidth),y2=parsePercent(positionInfo.y2,containerHeight);return(isNaN(x)||isNaN(parseFloat(positionInfo.x)))&&(x=0),(isNaN(x2)||isNaN(parseFloat(positionInfo.x2)))&&(x2=containerWidth),(isNaN(y)||isNaN(parseFloat(positionInfo.y)))&&(y=0),(isNaN(y2)||isNaN(parseFloat(positionInfo.y2)))&&(y2=containerHeight),margin=formatUtil.normalizeCssArray(margin||0),{"width":Math.max(x2-x-margin[1]-margin[3],0),"height":Math.max(y2-y-margin[0]-margin[2],0)}}function getLayoutRect(positionInfo,containerRect,margin){margin=formatUtil.normalizeCssArray(margin||0);var containerWidth=containerRect.width,containerHeight=containerRect.height,left=parsePercent(positionInfo.left,containerWidth),top=parsePercent(positionInfo.top,containerHeight),right=parsePercent(positionInfo.right,containerWidth),bottom=parsePercent(positionInfo.bottom,containerHeight),width=parsePercent(positionInfo.width,containerWidth),height=parsePercent(positionInfo.height,containerHeight),verticalMargin=margin[2]+margin[0],horizontalMargin=margin[1]+margin[3],aspect=positionInfo.aspect;switch(isNaN(width)&&(width=containerWidth-right-horizontalMargin-left),isNaN(height)&&(height=containerHeight-bottom-verticalMargin-top),null!=aspect&&(isNaN(width)&&isNaN(height)&&(aspect>containerWidth/containerHeight?width=.8*containerWidth:height=.8*containerHeight),isNaN(width)&&(width=aspect*height),isNaN(height)&&(height=width/aspect)),isNaN(left)&&(left=containerWidth-right-width-horizontalMargin),isNaN(top)&&(top=containerHeight-bottom-height-verticalMargin),positionInfo.left||positionInfo.right){case"center":left=containerWidth/2-width/2-margin[3];break;case"right":left=containerWidth-width-horizontalMargin}switch(positionInfo.top||positionInfo.bottom){case"middle":case"center":top=containerHeight/2-height/2-margin[0];break;case"bottom":top=containerHeight-height-verticalMargin}left=left||0,top=top||0,isNaN(width)&&(width=containerWidth-horizontalMargin-left-(right||0)),isNaN(height)&&(height=containerHeight-verticalMargin-top-(bottom||0));var rect=new BoundingRect(left+margin[3],top+margin[0],width,height);return rect.margin=margin,rect}function positionElement(el,positionInfo,containerRect,margin,opt){var h=!opt||!opt.hv||opt.hv[0],v=!opt||!opt.hv||opt.hv[1],boundingMode=opt&&opt.boundingMode||"all";if(h||v){var rect;if("raw"===boundingMode)rect="group"===el.type?new BoundingRect(0,0,+positionInfo.width||0,+positionInfo.height||0):el.getBoundingRect();else if(rect=el.getBoundingRect(),el.needLocalTransform()){var transform=el.getLocalTransform();rect=rect.clone(),rect.applyTransform(transform)}positionInfo=getLayoutRect(zrUtil.defaults({"width":rect.width,"height":rect.height},positionInfo),containerRect,margin);var elPos=el.position,dx=h?positionInfo.x-rect.x:0,dy=v?positionInfo.y-rect.y:0;el.attr("position","raw"===boundingMode?[dx,dy]:[elPos[0]+dx,elPos[1]+dy])}}function sizeCalculable(option,hvIdx){return null!=option[HV_NAMES[hvIdx][0]]||null!=option[HV_NAMES[hvIdx][1]]&&null!=option[HV_NAMES[hvIdx][2]]}function mergeLayoutParam(targetOption,newOption,opt){function merge(names,hvIdx){var newParams={},newValueCount=0,merged={},mergedValueCount=0,enoughParamNumber=2;if(each(names,function(name){merged[name]=targetOption[name]}),each(names,function(name){hasProp(newOption,name)&&(newParams[name]=merged[name]=newOption[name]),hasValue(newParams,name)&&newValueCount++,hasValue(merged,name)&&mergedValueCount++}),ignoreSize[hvIdx])return hasValue(newOption,names[1])?merged[names[2]]=null:hasValue(newOption,names[2])&&(merged[names[1]]=null),merged;if(mergedValueCount!==enoughParamNumber&&newValueCount){if(newValueCount>=enoughParamNumber)return newParams;for(var i=0;i<names.length;i++){var name=names[i];if(!hasProp(newParams,name)&&hasProp(targetOption,name)){newParams[name]=targetOption[name];break}}return newParams}return merged}function hasProp(obj,name){return obj.hasOwnProperty(name)}function hasValue(obj,name){return null!=obj[name]&&"auto"!==obj[name]}function copy(names,target,source){each(names,function(name){target[name]=source[name]})}!zrUtil.isObject(opt)&&(opt={});var ignoreSize=opt.ignoreSize;!zrUtil.isArray(ignoreSize)&&(ignoreSize=[ignoreSize,ignoreSize]);var hResult=merge(HV_NAMES[0],0),vResult=merge(HV_NAMES[1],1);copy(HV_NAMES[0],targetOption,hResult),copy(HV_NAMES[1],targetOption,vResult)}function getLayoutParams(source){return copyLayoutParams({},source)}function copyLayoutParams(target,source){return source&&target&&each(LOCATION_PARAMS,function(name){source.hasOwnProperty(name)&&(target[name]=source[name])}),target}var zrUtil=__webpack_require__(4),BoundingRect=__webpack_require__(43),_number=__webpack_require__(20),parsePercent=_number.parsePercent,formatUtil=__webpack_require__(40),each=zrUtil.each,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]],box=boxLayout,vbox=zrUtil.curry(boxLayout,"vertical"),hbox=zrUtil.curry(boxLayout,"horizontal");exports.LOCATION_PARAMS=LOCATION_PARAMS,exports.HV_NAMES=HV_NAMES,exports.box=box,exports.vbox=vbox,exports.hbox=hbox,exports.getAvailableSize=getAvailableSize,exports.getLayoutRect=getLayoutRect,exports.positionElement=positionElement,exports.sizeCalculable=sizeCalculable,exports.mergeLayoutParam=mergeLayoutParam,exports.getLayoutParams=getLayoutParams,exports.copyLayoutParams=copyLayoutParams},,,,function(module,exports){function create(x,y){var out=new ArrayCtor(2);return null==x&&(x=0),null==y&&(y=0),out[0]=x,out[1]=y,out}function copy(out,v){return out[0]=v[0],out[1]=v[1],out}function clone(v){var out=new ArrayCtor(2);return out[0]=v[0],out[1]=v[1],out}function set(out,a,b){return out[0]=a,out[1]=b,out}function add(out,v1,v2){return out[0]=v1[0]+v2[0],out[1]=v1[1]+v2[1],out}function scaleAndAdd(out,v1,v2,a){return out[0]=v1[0]+v2[0]*a,out[1]=v1[1]+v2[1]*a,out}function sub(out,v1,v2){return out[0]=v1[0]-v2[0],out[1]=v1[1]-v2[1],out}function len(v){return Math.sqrt(lenSquare(v))}function lenSquare(v){return v[0]*v[0]+v[1]*v[1]}function mul(out,v1,v2){return out[0]=v1[0]*v2[0],out[1]=v1[1]*v2[1],out}function div(out,v1,v2){return out[0]=v1[0]/v2[0],out[1]=v1[1]/v2[1],out}function dot(v1,v2){return v1[0]*v2[0]+v1[1]*v2[1]}function scale(out,v,s){return out[0]=v[0]*s,out[1]=v[1]*s,out}function normalize(out,v){var d=len(v);return 0===d?(out[0]=0,out[1]=0):(out[0]=v[0]/d,out[1]=v[1]/d),out}function distance(v1,v2){return Math.sqrt((v1[0]-v2[0])*(v1[0]-v2[0])+(v1[1]-v2[1])*(v1[1]-v2[1]))}function distanceSquare(v1,v2){return(v1[0]-v2[0])*(v1[0]-v2[0])+(v1[1]-v2[1])*(v1[1]-v2[1])}function negate(out,v){return out[0]=-v[0],out[1]=-v[1],out}function lerp(out,v1,v2,t){return out[0]=v1[0]+t*(v2[0]-v1[0]),out[1]=v1[1]+t*(v2[1]-v1[1]),out}function applyTransform(out,v,m){var x=v[0],y=v[1];return out[0]=m[0]*x+m[2]*y+m[4],out[1]=m[1]*x+m[3]*y+m[5],out}function min(out,v1,v2){return out[0]=Math.min(v1[0],v2[0]),out[1]=Math.min(v1[1],v2[1]),out}function max(out,v1,v2){return out[0]=Math.max(v1[0],v2[0]),out[1]=Math.max(v1[1],v2[1]),out}var ArrayCtor="undefined"==typeof Float32Array?Array:Float32Array,length=len,lengthSquare=lenSquare,dist=distance,distSquare=distanceSquare;exports.create=create,exports.copy=copy,exports.clone=clone,exports.set=set,exports.add=add,exports.scaleAndAdd=scaleAndAdd,exports.sub=sub,exports.len=len,exports.length=length,exports.lenSquare=lenSquare,exports.lengthSquare=lengthSquare,exports.mul=mul,exports.div=div,exports.dot=dot,exports.scale=scale,exports.normalize=normalize,exports.distance=distance,exports.dist=dist,exports.distanceSquare=distanceSquare,exports.distSquare=distSquare,exports.negate=negate,exports.lerp=lerp,exports.applyTransform=applyTransform,exports.min=min,exports.max=max},,function(module,exports,__webpack_require__){function addCommas(x){return isNaN(x)?"-":(x=(x+"").split("."),x[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(x.length>1?"."+x[1]:""))}function toCamelCase(str,upperCaseFirst){return str=(str||"").toLowerCase().replace(/-(.)/g,function(match,group1){return group1.toUpperCase()}),upperCaseFirst&&str&&(str=str.charAt(0).toUpperCase()+str.slice(1)),str}function encodeHTML(source){return null==source?"":(source+"").replace(replaceReg,function(str,c){return replaceMap[c]})}function formatTpl(tpl,paramsList,encode){zrUtil.isArray(paramsList)||(paramsList=[paramsList]);var seriesLen=paramsList.length;if(!seriesLen)return"";for(var $vars=paramsList[0].$vars||[],i=0;i<$vars.length;i++){var alias=TPL_VAR_ALIAS[i];tpl=tpl.replace(wrapVar(alias),wrapVar(alias,0))}for(var seriesIdx=0;seriesIdx<seriesLen;seriesIdx++)for(var k=0;k<$vars.length;k++){var val=paramsList[seriesIdx][$vars[k]];tpl=tpl.replace(wrapVar(TPL_VAR_ALIAS[k],seriesIdx),encode?encodeHTML(val):val)}return tpl}function formatTplSimple(tpl,param,encode){return zrUtil.each(param,function(value,key){tpl=tpl.replace("{"+key+"}",encode?encodeHTML(value):value)}),tpl}function getTooltipMarker(opt,extraCssText){opt=zrUtil.isString(opt)?{"color":opt,"extraCssText":extraCssText}:opt||{};var color=opt.color,type=opt.type,extraCssText=opt.extraCssText;return color?"subItem"===type?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(color)+";"+(extraCssText||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(color)+";"+(extraCssText||"")+'"></span>':""}function pad(str,len){return str+="","0000".substr(0,len-str.length)+str}function formatTime(tpl,value,isUTC){"week"!==tpl&&"month"!==tpl&&"quarter"!==tpl&&"half-year"!==tpl&&"year"!==tpl||(tpl="MM-dd\nyyyy");var date=numberUtil.parseDate(value),utc=isUTC?"UTC":"",y=date["get"+utc+"FullYear"](),M=date["get"+utc+"Month"]()+1,d=date["get"+utc+"Date"](),h=date["get"+utc+"Hours"](),m=date["get"+utc+"Minutes"](),s=date["get"+utc+"Seconds"](),S=date["get"+utc+"Milliseconds"]();return tpl=tpl.replace("MM",pad(M,2)).replace("M",M).replace("yyyy",y).replace("yy",y%100).replace("dd",pad(d,2)).replace("d",d).replace("hh",pad(h,2)).replace("h",h).replace("mm",pad(m,2)).replace("m",m).replace("ss",pad(s,2)).replace("s",s).replace("SSS",pad(S,3))}function capitalFirst(str){return str?str.charAt(0).toUpperCase()+str.substr(1):str}var zrUtil=__webpack_require__(4),textContain=__webpack_require__(108),numberUtil=__webpack_require__(20),normalizeCssArray=zrUtil.normalizeCssArray,replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(varName,seriesIdx){return"{"+varName+(null==seriesIdx?"":seriesIdx)+"}"},truncateText=textContain.truncateText,getTextRect=textContain.getBoundingRect;exports.addCommas=addCommas,exports.toCamelCase=toCamelCase,exports.normalizeCssArray=normalizeCssArray,exports.encodeHTML=encodeHTML,exports.formatTpl=formatTpl,exports.formatTplSimple=formatTplSimple,exports.getTooltipMarker=getTooltipMarker,exports.formatTime=formatTime,exports.capitalFirst=capitalFirst,exports.truncateText=truncateText,exports.getTextRect=getTextRect},,,function(module,exports,__webpack_require__){function BoundingRect(x,y,width,height){width<0&&(x+=width,width=-width),height<0&&(y+=height,height=-height),this.x=x,this.y=y,this.width=width,this.height=height}var vec2=__webpack_require__(38),matrix=__webpack_require__(70),v2ApplyTransform=vec2.applyTransform,mathMin=Math.min,mathMax=Math.max;BoundingRect.prototype={"constructor":BoundingRect,"union":function(other){var x=mathMin(other.x,this.x),y=mathMin(other.y,this.y);this.width=mathMax(other.x+other.width,this.x+this.width)-x,this.height=mathMax(other.y+other.height,this.y+this.height)-y,this.x=x,this.y=y},"applyTransform":function(){var lt=[],rb=[],lb=[],rt=[];return function(m){if(m){lt[0]=lb[0]=this.x,lt[1]=rt[1]=this.y,rb[0]=rt[0]=this.x+this.width,rb[1]=lb[1]=this.y+this.height,v2ApplyTransform(lt,lt,m),v2ApplyTransform(rb,rb,m),v2ApplyTransform(lb,lb,m),v2ApplyTransform(rt,rt,m),this.x=mathMin(lt[0],rb[0],lb[0],rt[0]),this.y=mathMin(lt[1],rb[1],lb[1],rt[1]);var maxX=mathMax(lt[0],rb[0],lb[0],rt[0]),maxY=mathMax(lt[1],rb[1],lb[1],rt[1]);this.width=maxX-this.x,this.height=maxY-this.y}}}(),"calculateTransform":function(b){var a=this,sx=b.width/a.width,sy=b.height/a.height,m=matrix.create();return matrix.translate(m,m,[-a.x,-a.y]),matrix.scale(m,m,[sx,sy]),matrix.translate(m,m,[b.x,b.y]),m},"intersect":function(b){if(!b)return!1;b instanceof BoundingRect||(b=BoundingRect.create(b));var a=this,ax0=a.x,ax1=a.x+a.width,ay0=a.y,ay1=a.y+a.height,bx0=b.x,bx1=b.x+b.width,by0=b.y,by1=b.y+b.height;return!(ax1<bx0||bx1<ax0||ay1<by0||by1<ay0)},"contain":function(x,y){var rect=this;return x>=rect.x&&x<=rect.x+rect.width&&y>=rect.y&&y<=rect.y+rect.height},"clone":function(){return new BoundingRect(this.x,this.y,this.width,this.height)},"copy":function(other){this.x=other.x,this.y=other.y,this.width=other.width,this.height=other.height},"plain":function(){return{"x":this.x,"y":this.y,"width":this.width,"height":this.height}}},BoundingRect.create=function(rect){return new BoundingRect(rect.x,rect.y,rect.width,rect.height)};var _default=BoundingRect;module.exports=_default},,,,,,,function(module,exports,__webpack_require__){function Path(opts){Displayable.call(this,opts),this.path=null}var Displayable=__webpack_require__(243),zrUtil=__webpack_require__(4),PathProxy=__webpack_require__(200),pathContain=__webpack_require__(2326),Pattern=__webpack_require__(923),getCanvasPattern=Pattern.prototype.getCanvasPattern,abs=Math.abs,pathProxyForDraw=new PathProxy(!0);Path.prototype={"constructor":Path,"type":"path","__dirtyPath":!0,"strokeContainThreshold":5,"brush":function(ctx,prevEl){var style=this.style,path=this.path||pathProxyForDraw,hasStroke=style.hasStroke(),hasFill=style.hasFill(),fill=style.fill,stroke=style.stroke,hasFillGradient=hasFill&&!!fill.colorStops,hasStrokeGradient=hasStroke&&!!stroke.colorStops,hasFillPattern=hasFill&&!!fill.image,hasStrokePattern=hasStroke&&!!stroke.image;if(style.bind(ctx,this,prevEl),this.setTransform(ctx),this.__dirty){var rect;hasFillGradient&&(rect=rect||this.getBoundingRect(),this._fillGradient=style.getGradient(ctx,fill,rect)),hasStrokeGradient&&(rect=rect||this.getBoundingRect(),this._strokeGradient=style.getGradient(ctx,stroke,rect))}hasFillGradient?ctx.fillStyle=this._fillGradient:hasFillPattern&&(ctx.fillStyle=getCanvasPattern.call(fill,ctx)),hasStrokeGradient?ctx.strokeStyle=this._strokeGradient:hasStrokePattern&&(ctx.strokeStyle=getCanvasPattern.call(stroke,ctx));var lineDash=style.lineDash,lineDashOffset=style.lineDashOffset,ctxLineDash=!!ctx.setLineDash,scale=this.getGlobalScale();path.setScale(scale[0],scale[1]),this.__dirtyPath||lineDash&&!ctxLineDash&&hasStroke?(path.beginPath(ctx),lineDash&&!ctxLineDash&&(path.setLineDash(lineDash),path.setLineDashOffset(lineDashOffset)),this.buildPath(path,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(ctx.beginPath(),this.path.rebuildPath(ctx)),hasFill&&path.fill(ctx),lineDash&&ctxLineDash&&(ctx.setLineDash(lineDash),ctx.lineDashOffset=lineDashOffset),hasStroke&&path.stroke(ctx),lineDash&&ctxLineDash&&ctx.setLineDash([]),null!=style.text&&(this.restoreTransform(ctx),this.drawRectText(ctx,this.getBoundingRect()))},"buildPath":function(ctx,shapeCfg,inBundle){},"createPathProxy":function(){this.path=new PathProxy},"getBoundingRect":function(){var rect=this._rect,style=this.style,needsUpdateRect=!rect;if(needsUpdateRect){var path=this.path;path||(path=this.path=new PathProxy),this.__dirtyPath&&(path.beginPath(),this.buildPath(path,this.shape,!1)),rect=path.getBoundingRect()}if(this._rect=rect,style.hasStroke()){var rectWithStroke=this._rectWithStroke||(this._rectWithStroke=rect.clone());if(this.__dirty||needsUpdateRect){rectWithStroke.copy(rect);var w=style.lineWidth,lineScale=style.strokeNoScale?this.getLineScale():1;style.hasFill()||(w=Math.max(w,this.strokeContainThreshold||4)),lineScale>1e-10&&(rectWithStroke.width+=w/lineScale,rectWithStroke.height+=w/lineScale,rectWithStroke.x-=w/lineScale/2,rectWithStroke.y-=w/lineScale/2)}return rectWithStroke}return rect},"contain":function(x,y){var localPos=this.transformCoordToLocal(x,y),rect=this.getBoundingRect(),style=this.style;if(x=localPos[0],y=localPos[1],rect.contain(x,y)){var pathData=this.path.data;if(style.hasStroke()){var lineWidth=style.lineWidth,lineScale=style.strokeNoScale?this.getLineScale():1;if(lineScale>1e-10&&(style.hasFill()||(lineWidth=Math.max(lineWidth,this.strokeContainThreshold)),pathContain.containStroke(pathData,lineWidth/lineScale,x,y)))return!0}if(style.hasFill())return pathContain.contain(pathData,x,y)}return!1},"dirty":function(dirtyPath){null==dirtyPath&&(dirtyPath=!0),dirtyPath&&(this.__dirtyPath=dirtyPath,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},"animateShape":function(loop){return this.animate("shape",loop)},"attrKV":function(key,value){"shape"===key?(this.setShape(value),this.__dirtyPath=!0,this._rect=null):Displayable.prototype.attrKV.call(this,key,value)},"setShape":function(key,value){var shape=this.shape;if(shape){if(zrUtil.isObject(key))for(var name in key)key.hasOwnProperty(name)&&(shape[name]=key[name]);else shape[key]=value;this.dirty(!0)}return this},"getLineScale":function(){var m=this.transform;return m&&abs(m[0]-1)>1e-10&&abs(m[3]-1)>1e-10?Math.sqrt(abs(m[0]*m[3]-m[2]*m[1])):1}},Path.extend=function(defaults){var Sub=function(opts){Path.call(this,opts),defaults.style&&this.style.extendFrom(defaults.style,!1);var defaultShape=defaults.shape;if(defaultShape){this.shape=this.shape||{};var thisShape=this.shape;for(var name in defaultShape)!thisShape.hasOwnProperty(name)&&defaultShape.hasOwnProperty(name)&&(thisShape[name]=defaultShape[name])}defaults.init&&defaults.init.call(this,opts)};zrUtil.inherits(Sub,Path);for(var name in defaults)"style"!==name&&"shape"!==name&&(Sub.prototype[name]=defaults[name]);return Sub},zrUtil.inherits(Path,Displayable);var _default=Path;module.exports=_default},function(module,exports,__webpack_require__){function getDependencies(componentType){var deps=[];return zrUtil.each(ComponentModel.getClassesByMainType(componentType),function(Clazz){deps=deps.concat(Clazz.prototype.dependencies||[])}),deps=zrUtil.map(deps,function(type){return parseClassType(type).main}),"dataset"!==componentType&&zrUtil.indexOf(deps,"dataset")<=0&&deps.unshift("dataset"),deps}var zrUtil=__webpack_require__(4),Model=__webpack_require__(56),componentUtil=__webpack_require__(279),_clazz=__webpack_require__(116),enableClassManagement=_clazz.enableClassManagement,parseClassType=_clazz.parseClassType,_model=__webpack_require__(27),makeInner=_model.makeInner,layout=__webpack_require__(34),boxLayoutMixin=__webpack_require__(1584),inner=makeInner(),ComponentModel=Model.extend({"type":"component","id":"","name":"","mainType":"","subType":"","componentIndex":0,"defaultOption":null,"ecModel":null,"dependentModels":[],"uid":null,"layoutMode":null,"$constructor":function(option,parentModel,ecModel,extraOpt){Model.call(this,option,parentModel,ecModel,extraOpt),this.uid=componentUtil.getUID("ec_cpt_model")},"init":function(option,parentModel,ecModel,extraOpt){this.mergeDefaultAndTheme(option,ecModel)},"mergeDefaultAndTheme":function(option,ecModel){var layoutMode=this.layoutMode,inputPositionParams=layoutMode?layout.getLayoutParams(option):{},themeModel=ecModel.getTheme();zrUtil.merge(option,themeModel.get(this.mainType)),zrUtil.merge(option,this.getDefaultOption()),layoutMode&&layout.mergeLayoutParam(option,inputPositionParams,layoutMode)},"mergeOption":function(option,extraOpt){zrUtil.merge(this.option,option,!0);var layoutMode=this.layoutMode;layoutMode&&layout.mergeLayoutParam(this.option,option,layoutMode)},"optionUpdated":function(newCptOption,isInit){},"getDefaultOption":function(){var fields=inner(this);if(!fields.defaultOption){for(var optList=[],Class=this.constructor;Class;){var opt=Class.prototype.defaultOption;opt&&optList.push(opt),Class=Class.superClass}for(var defaultOption={},i=optList.length-1;i>=0;i--)defaultOption=zrUtil.merge(defaultOption,optList[i],!0);fields.defaultOption=defaultOption}return fields.defaultOption},"getReferringComponents":function(mainType){return this.ecModel.queryComponents({"mainType":mainType,"index":this.get(mainType+"Index",!0),"id":this.get(mainType+"Id",!0)})}});enableClassManagement(ComponentModel,{"registerWhenExtend":!0}),componentUtil.enableSubTypeDefaulter(ComponentModel),componentUtil.enableTopologicalTravel(ComponentModel,getDependencies),zrUtil.mixin(ComponentModel,boxLayoutMixin);var _default=ComponentModel;module.exports=_default},function(module,exports){function detect(ua){var os={},browser={},firefox=ua.match(/Firefox\/([\d.]+)/),ie=ua.match(/MSIE\s([\d.]+)/)||ua.match(/Trident\/.+?rv:(([\d.]+))/),edge=ua.match(/Edge\/([\d.]+)/),weChat=/micromessenger/i.test(ua);return firefox&&(browser.firefox=!0,browser.version=firefox[1]),ie&&(browser.ie=!0,browser.version=ie[1]),edge&&(browser.edge=!0,browser.version=edge[1]),weChat&&(browser.weChat=!0),{"browser":browser,"os":os,"node":!1,"canvasSupported":!!document.createElement("canvas").getContext,"svgSupported":"undefined"!=typeof SVGRect,"touchEventsSupported":"ontouchstart"in window&&!browser.ie&&!browser.edge,"pointerEventsSupported":"onpointerdown"in window&&(browser.edge||browser.ie&&browser.version>=11)}}var env={};env="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{"browser":{},"os":{},"node":!1,"wxa":!0,"canvasSupported":!0,"svgSupported":!1,"touchEventsSupported":!0}:"undefined"==typeof document&&"undefined"!=typeof self?{"browser":{},"os":{},"node":!1,"worker":!0,"canvasSupported":!0}:"undefined"==typeof navigator?{"browser":{},"os":{},"node":!0,"worker":!1,"canvasSupported":!0,"svgSupported":!0}:detect(navigator.userAgent);var _default=env;module.exports=_default},,,,function(module,exports,__webpack_require__){function Model(option,parentModel,ecModel){this.parentModel=parentModel,this.ecModel=ecModel,this.option=option}function doGet(obj,pathArr,parentModel){for(var i=0;i<pathArr.length&&(!pathArr[i]||(obj=obj&&"object"==typeof obj?obj[pathArr[i]]:null,null!=obj));i++);return null==obj&&parentModel&&(obj=parentModel.get(pathArr)),obj}function getParent(model,path){var getParentMethod=inner(model).getParent;return getParentMethod?getParentMethod.call(model,path):model.parentModel}var zrUtil=__webpack_require__(4),env=__webpack_require__(52),_model=__webpack_require__(27),makeInner=_model.makeInner,_clazz=__webpack_require__(116),enableClassExtend=_clazz.enableClassExtend,enableClassCheck=_clazz.enableClassCheck,lineStyleMixin=__webpack_require__(1586),areaStyleMixin=__webpack_require__(1583),textStyleMixin=__webpack_require__(1587),itemStyleMixin=__webpack_require__(1585),mixin=zrUtil.mixin,inner=makeInner();Model.prototype={"constructor":Model,"init":null,"mergeOption":function(option){zrUtil.merge(this.option,option,!0)},"get":function(path,ignoreParent){return null==path?this.option:doGet(this.option,this.parsePath(path),!ignoreParent&&getParent(this,path))},"getShallow":function(key,ignoreParent){var option=this.option,val=null==option?option:option[key],parentModel=!ignoreParent&&getParent(this,key);return null==val&&parentModel&&(val=parentModel.getShallow(key)),val},"getModel":function(path,parentModel){var thisParentModel,obj=null==path?this.option:doGet(this.option,path=this.parsePath(path));return parentModel=parentModel||(thisParentModel=getParent(this,path))&&thisParentModel.getModel(path),new Model(obj,parentModel,this.ecModel)},"isEmpty":function(){return null==this.option},"restoreData":function(){},"clone":function(){var Ctor=this.constructor;return new Ctor(zrUtil.clone(this.option))},"setReadOnly":function(properties){},"parsePath":function(path){return"string"==typeof path&&(path=path.split(".")),path},"customizeGetParent":function(getParentMethod){inner(this).getParent=getParentMethod},"isAnimationEnabled":function(){if(!env.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},enableClassExtend(Model),enableClassCheck(Model),mixin(Model,lineStyleMixin),mixin(Model,areaStyleMixin),mixin(Model,textStyleMixin),mixin(Model,itemStyleMixin);var _default=Model;module.exports=_default},function(module,exports,__webpack_require__){function autoSeriesName(seriesModel){var name=seriesModel.name;modelUtil.isNameSpecified(seriesModel)||(seriesModel.name=getSeriesAutoName(seriesModel)||name)}function getSeriesAutoName(seriesModel){var data=seriesModel.getRawData(),dataDims=data.mapDimension("seriesName",!0),nameArr=[];return zrUtil.each(dataDims,function(dataDim){var dimInfo=data.getDimensionInfo(dataDim);dimInfo.displayName&&nameArr.push(dimInfo.displayName)}),nameArr.join(" ")}function dataTaskCount(context){return context.model.getRawData().count()}function dataTaskReset(context){var seriesModel=context.model;return seriesModel.setData(seriesModel.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(param,context){param.end>context.outputData.count()&&context.model.getRawData().cloneShallow(context.outputData)}function wrapData(data,seriesModel){zrUtil.each(data.CHANGABLE_METHODS,function(methodName){data.wrapMethod(methodName,zrUtil.curry(onDataSelfChange,seriesModel))})}function onDataSelfChange(seriesModel){var task=getCurrentTask(seriesModel);task&&task.setOutputEnd(this.count())}function getCurrentTask(seriesModel){var scheduler=(seriesModel.ecModel||{}).scheduler,pipeline=scheduler&&scheduler.getPipeline(seriesModel.uid);if(pipeline){var task=pipeline.currentTask;if(task){var agentStubMap=task.agentStubMap;agentStubMap&&(task=agentStubMap.get(seriesModel.uid))}return task}}var _config=__webpack_require__(30),zrUtil=(_config.__DEV__,__webpack_require__(4)),env=__webpack_require__(52),_format=__webpack_require__(40),formatTime=_format.formatTime,encodeHTML=_format.encodeHTML,addCommas=_format.addCommas,getTooltipMarker=_format.getTooltipMarker,modelUtil=__webpack_require__(27),ComponentModel=__webpack_require__(51),colorPaletteMixin=__webpack_require__(660),dataFormatMixin=__webpack_require__(390),_layout=__webpack_require__(34),getLayoutParams=_layout.getLayoutParams,mergeLayoutParam=_layout.mergeLayoutParam,_task=__webpack_require__(391),createTask=_task.createTask,_sourceHelper=__webpack_require__(275),prepareSource=_sourceHelper.prepareSource,getSource=_sourceHelper.getSource,_dataProvider=__webpack_require__(161),retrieveRawValue=_dataProvider.retrieveRawValue,inner=modelUtil.makeInner(),SeriesModel=ComponentModel.extend({"type":"series.__base__","seriesIndex":0,"coordinateSystem":null,"defaultOption":null,"legendDataProvider":null,"visualColorAccessPath":"itemStyle.color","layoutMode":null,"init":function(option,parentModel,ecModel,extraOpt){this.seriesIndex=this.componentIndex,this.dataTask=createTask({"count":dataTaskCount,"reset":dataTaskReset}),this.dataTask.context={"model":this},this.mergeDefaultAndTheme(option,ecModel),prepareSource(this);var data=this.getInitialData(option,ecModel);wrapData(data,this),this.dataTask.context.data=data,inner(this).dataBeforeProcessed=data,autoSeriesName(this)},"mergeDefaultAndTheme":function(option,ecModel){var layoutMode=this.layoutMode,inputPositionParams=layoutMode?getLayoutParams(option):{},themeSubType=this.subType;ComponentModel.hasClass(themeSubType)&&(themeSubType+="Series"),zrUtil.merge(option,ecModel.getTheme().get(this.subType)),zrUtil.merge(option,this.getDefaultOption()),modelUtil.defaultEmphasis(option,"label",["show"]),this.fillDataTextStyle(option.data),layoutMode&&mergeLayoutParam(option,inputPositionParams,layoutMode)},"mergeOption":function(newSeriesOption,ecModel){newSeriesOption=zrUtil.merge(this.option,newSeriesOption,!0),this.fillDataTextStyle(newSeriesOption.data);var layoutMode=this.layoutMode;layoutMode&&mergeLayoutParam(this.option,newSeriesOption,layoutMode),prepareSource(this);var data=this.getInitialData(newSeriesOption,ecModel);wrapData(data,this),this.dataTask.dirty(),this.dataTask.context.data=data,inner(this).dataBeforeProcessed=data,autoSeriesName(this)},"fillDataTextStyle":function(data){if(data&&!zrUtil.isTypedArray(data))for(var props=["show"],i=0;i<data.length;i++)data[i]&&data[i].label&&modelUtil.defaultEmphasis(data[i],"label",props)},"getInitialData":function(){},"appendData":function(params){var data=this.getRawData();data.appendData(params.data)},"getData":function(dataType){var task=getCurrentTask(this);if(task){var data=task.context.data;return null==dataType?data:data.getLinkedData(dataType)}return inner(this).data},"setData":function(data){var task=getCurrentTask(this);if(task){var context=task.context;context.data!==data&&task.modifyOutputEnd&&task.setOutputEnd(data.count()),context.outputData=data,task!==this.dataTask&&(context.data=data)}inner(this).data=data},"getSource":function(){return getSource(this);
},"getRawData":function(){return inner(this).dataBeforeProcessed},"getBaseAxis":function(){var coordSys=this.coordinateSystem;return coordSys&&coordSys.getBaseAxis&&coordSys.getBaseAxis()},"formatTooltip":function(dataIndex,multipleSeries,dataType){function formatArrayValue(value){function setEachItem(val,dim){var dimInfo=data.getDimensionInfo(dim);if(dimInfo&&dimInfo.otherDims.tooltip!==!1){var dimType=dimInfo.type,dimHead=getTooltipMarker({"color":color,"type":"subItem"}),valStr=(vertially?dimHead+encodeHTML(dimInfo.displayName||"-")+": ":"")+encodeHTML("ordinal"===dimType?val+"":"time"===dimType?multipleSeries?"":formatTime("yyyy/MM/dd hh:mm:ss",val):addCommas(val));valStr&&result.push(valStr)}}var vertially=zrUtil.reduce(value,function(vertially,val,idx){var dimItem=data.getDimensionInfo(idx);return vertially|=dimItem&&dimItem.tooltip!==!1&&null!=dimItem.displayName},0),result=[];return tooltipDims.length?zrUtil.each(tooltipDims,function(dim){setEachItem(retrieveRawValue(data,dataIndex,dim),dim)}):zrUtil.each(value,setEachItem),(vertially?"<br/>":"")+result.join(vertially?"<br/>":", ")}function formatSingleValue(val){return encodeHTML(addCommas(val))}var data=this.getData(),tooltipDims=data.mapDimension("defaultedTooltip",!0),tooltipDimLen=tooltipDims.length,value=this.getRawValue(dataIndex),isValueArr=zrUtil.isArray(value),color=data.getItemVisual(dataIndex,"color");zrUtil.isObject(color)&&color.colorStops&&(color=(color.colorStops[0]||{}).color),color=color||"transparent";var formattedValue=tooltipDimLen>1||isValueArr&&!tooltipDimLen?formatArrayValue(value):formatSingleValue(tooltipDimLen?retrieveRawValue(data,dataIndex,tooltipDims[0]):isValueArr?value[0]:value),colorEl=getTooltipMarker(color),name=data.getName(dataIndex),seriesName=this.name;return modelUtil.isNameSpecified(this)||(seriesName=""),seriesName=seriesName?encodeHTML(seriesName)+(multipleSeries?": ":"<br/>"):"",multipleSeries?colorEl+seriesName+formattedValue:seriesName+colorEl+(name?encodeHTML(name)+": "+formattedValue:formattedValue)},"isAnimationEnabled":function(){if(env.node)return!1;var animationEnabled=this.getShallow("animation");return animationEnabled&&this.getData().count()>this.getShallow("animationThreshold")&&(animationEnabled=!1),animationEnabled},"restoreData":function(){this.dataTask.dirty()},"getColorFromPalette":function(name,scope,requestColorNum){var ecModel=this.ecModel,color=colorPaletteMixin.getColorFromPalette.call(this,name,scope,requestColorNum);return color||(color=ecModel.getColorFromPalette(name,scope,requestColorNum)),color},"coordDimToDataDim":function(coordDim){return this.getRawData().mapDimension(coordDim,!0)},"getProgressive":function(){return this.get("progressive")},"getProgressiveThreshold":function(){return this.get("progressiveThreshold")},"getAxisTooltipData":null,"getTooltipPosition":null,"pipeTask":null,"preventIncremental":null,"pipelineContext":null});zrUtil.mixin(SeriesModel,dataFormatMixin),zrUtil.mixin(SeriesModel,colorPaletteMixin);var _default=SeriesModel;module.exports=_default},,,,,,,,,,,,,function(module,exports){function create(){var out=new ArrayCtor(6);return identity(out),out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=0,out[5]=0,out}function copy(out,m){return out[0]=m[0],out[1]=m[1],out[2]=m[2],out[3]=m[3],out[4]=m[4],out[5]=m[5],out}function mul(out,m1,m2){var out0=m1[0]*m2[0]+m1[2]*m2[1],out1=m1[1]*m2[0]+m1[3]*m2[1],out2=m1[0]*m2[2]+m1[2]*m2[3],out3=m1[1]*m2[2]+m1[3]*m2[3],out4=m1[0]*m2[4]+m1[2]*m2[5]+m1[4],out5=m1[1]*m2[4]+m1[3]*m2[5]+m1[5];return out[0]=out0,out[1]=out1,out[2]=out2,out[3]=out3,out[4]=out4,out[5]=out5,out}function translate(out,a,v){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4]+v[0],out[5]=a[5]+v[1],out}function rotate(out,a,rad){var aa=a[0],ac=a[2],atx=a[4],ab=a[1],ad=a[3],aty=a[5],st=Math.sin(rad),ct=Math.cos(rad);return out[0]=aa*ct+ab*st,out[1]=-aa*st+ab*ct,out[2]=ac*ct+ad*st,out[3]=-ac*st+ct*ad,out[4]=ct*atx+st*aty,out[5]=ct*aty-st*atx,out}function scale(out,a,v){var vx=v[0],vy=v[1];return out[0]=a[0]*vx,out[1]=a[1]*vy,out[2]=a[2]*vx,out[3]=a[3]*vy,out[4]=a[4]*vx,out[5]=a[5]*vy,out}function invert(out,a){var aa=a[0],ac=a[2],atx=a[4],ab=a[1],ad=a[3],aty=a[5],det=aa*ad-ab*ac;return det?(det=1/det,out[0]=ad*det,out[1]=-ab*det,out[2]=-ac*det,out[3]=aa*det,out[4]=(ac*aty-ad*atx)*det,out[5]=(ab*atx-aa*aty)*det,out):null}function clone(a){var b=create();return copy(b,a),b}var ArrayCtor="undefined"==typeof Float32Array?Array:Float32Array;exports.create=create,exports.identity=identity,exports.copy=copy,exports.mul=mul,exports.translate=translate,exports.rotate=rotate,exports.scale=scale,exports.invert=invert,exports.clone=clone},,,,,,,,,,,,function(module,exports,__webpack_require__){function getIndicesCtor(list){return list._rawCount>65535?CtorUint32Array:CtorUint16Array}function cloneChunk(originalChunk){var Ctor=originalChunk.constructor;return Ctor===Array?originalChunk.slice():new Ctor(originalChunk)}function transferProperties(target,source){zrUtil.each(TRANSFERABLE_PROPERTIES.concat(source.__wrappedMethods||[]),function(propName){source.hasOwnProperty(propName)&&(target[propName]=source[propName])}),target.__wrappedMethods=source.__wrappedMethods,zrUtil.each(CLONE_PROPERTIES,function(propName){target[propName]=zrUtil.clone(source[propName])}),target._calculationInfo=zrUtil.extend(source._calculationInfo)}function prepareInvertedIndex(list){var invertedIndicesMap=list._invertedIndicesMap;zrUtil.each(invertedIndicesMap,function(invertedIndices,dim){var dimInfo=list._dimensionInfos[dim],ordinalMeta=dimInfo.ordinalMeta;if(ordinalMeta){invertedIndices=invertedIndicesMap[dim]=new CtorUint32Array(ordinalMeta.categories.length);for(var i=0;i<invertedIndices.length;i++)invertedIndices[i]=NaN;for(var i=0;i<list._count;i++)invertedIndices[list.get(dim,i)]=i}})}function getRawValueFromStore(list,dimIndex,rawIndex){var val;if(null!=dimIndex){var chunkSize=list._chunkSize,chunkIndex=Math.floor(rawIndex/chunkSize),chunkOffset=rawIndex%chunkSize,dim=list.dimensions[dimIndex],chunk=list._storage[dim][chunkIndex];if(chunk){val=chunk[chunkOffset];var ordinalMeta=list._dimensionInfos[dim].ordinalMeta;ordinalMeta&&ordinalMeta.categories.length&&(val=ordinalMeta.categories[val])}}return val}function getRawIndexWithoutIndices(idx){return idx}function getRawIndexWithIndices(idx){return idx<this._count&&idx>=0?this._indices[idx]:-1}function getId(list,rawIndex){var id=list._idList[rawIndex];return null==id&&(id=getRawValueFromStore(list,list._idDimIdx,rawIndex)),null==id&&(id=ID_PREFIX+rawIndex),id}function normalizeDimensions(dimensions){return zrUtil.isArray(dimensions)||(dimensions=[dimensions]),dimensions}function cloneListForMapAndSample(original,excludeDimensions){var allDimensions=original.dimensions,list=new List(zrUtil.map(allDimensions,original.getDimensionInfo,original),original.hostModel);transferProperties(list,original);for(var storage=list._storage={},originalStorage=original._storage,i=0;i<allDimensions.length;i++){var dim=allDimensions[i];originalStorage[dim]&&(zrUtil.indexOf(excludeDimensions,dim)>=0?(storage[dim]=cloneDimStore(originalStorage[dim]),list._rawExtent[dim]=getInitialExtent(),list._extent[dim]=null):storage[dim]=originalStorage[dim])}return list}function cloneDimStore(originalDimStore){for(var newDimStore=new Array(originalDimStore.length),j=0;j<originalDimStore.length;j++)newDimStore[j]=cloneChunk(originalDimStore[j]);return newDimStore}function getInitialExtent(){return[1/0,-(1/0)]}var _config=__webpack_require__(30),zrUtil=(_config.__DEV__,__webpack_require__(4)),Model=__webpack_require__(56),DataDiffer=__webpack_require__(160),Source=__webpack_require__(220),_dataProvider=__webpack_require__(161),defaultDimValueGetters=_dataProvider.defaultDimValueGetters,DefaultDataProvider=_dataProvider.DefaultDataProvider,_dimensionHelper=__webpack_require__(221),summarizeDimensions=_dimensionHelper.summarizeDimensions,isObject=zrUtil.isObject,UNDEFINED="undefined",ID_PREFIX="e\0\0",dataCtors={"float":typeof Float64Array===UNDEFINED?Array:Float64Array,"int":typeof Int32Array===UNDEFINED?Array:Int32Array,"ordinal":Array,"number":Array,"time":Array},CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],CLONE_PROPERTIES=["_extent","_approximateExtent","_rawExtent"],List=function(dimensions,hostModel){dimensions=dimensions||["x","y"];for(var dimensionInfos={},dimensionNames=[],invertedIndicesMap={},i=0;i<dimensions.length;i++){var dimensionInfo=dimensions[i];zrUtil.isString(dimensionInfo)&&(dimensionInfo={"name":dimensionInfo});var dimensionName=dimensionInfo.name;dimensionInfo.type=dimensionInfo.type||"float",dimensionInfo.coordDim||(dimensionInfo.coordDim=dimensionName,dimensionInfo.coordDimIndex=0),dimensionInfo.otherDims=dimensionInfo.otherDims||{},dimensionNames.push(dimensionName),dimensionInfos[dimensionName]=dimensionInfo,dimensionInfo.index=i,dimensionInfo.createInvertedIndices&&(invertedIndicesMap[dimensionName]=[])}this.dimensions=dimensionNames,this._dimensionInfos=dimensionInfos,this.hostModel=hostModel,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=summarizeDimensions(this),this._invertedIndicesMap=invertedIndicesMap,this._calculationInfo={}},listProto=List.prototype;listProto.type="list",listProto.hasItemOption=!0,listProto.getDimension=function(dim){return isNaN(dim)||(dim=this.dimensions[dim]||dim),dim},listProto.getDimensionInfo=function(dim){return this._dimensionInfos[this.getDimension(dim)]},listProto.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},listProto.mapDimension=function(coordDim,idx){var dimensionsSummary=this._dimensionsSummary;if(null==idx)return dimensionsSummary.encodeFirstDimNotExtra[coordDim];var dims=dimensionsSummary.encode[coordDim];return idx===!0?(dims||[]).slice():dims&&dims[idx]},listProto.initData=function(data,nameList,dimValueGetter){var notProvider=Source.isInstance(data)||zrUtil.isArrayLike(data);notProvider&&(data=new DefaultDataProvider(data,this.dimensions.length)),this._rawData=data,this._storage={},this._indices=null,this._nameList=nameList||[],this._idList=[],this._nameRepeatCount={},dimValueGetter||(this.hasItemOption=!1),this.defaultDimValueGetter=defaultDimValueGetters[this._rawData.getSource().sourceFormat],this._dimValueGetter=dimValueGetter=dimValueGetter||this.defaultDimValueGetter,this._rawExtent={},this._initDataFromProvider(0,data.count()),data.pure&&(this.hasItemOption=!1)},listProto.getProvider=function(){return this._rawData},listProto.appendData=function(data){var rawData=this._rawData,start=this.count();rawData.appendData(data);var end=rawData.count();rawData.persistent||(end+=start),this._initDataFromProvider(start,end)},listProto._initDataFromProvider=function(start,end){if(!(start>=end)){for(var nameDimIdx,chunkSize=this._chunkSize,rawData=this._rawData,storage=this._storage,dimensions=this.dimensions,dimLen=dimensions.length,dimensionInfoMap=this._dimensionInfos,nameList=this._nameList,idList=this._idList,rawExtent=this._rawExtent,nameRepeatCount=this._nameRepeatCount={},chunkCount=this._chunkCount,lastChunkIndex=chunkCount-1,i=0;i<dimLen;i++){var dim=dimensions[i];rawExtent[dim]||(rawExtent[dim]=getInitialExtent());var dimInfo=dimensionInfoMap[dim];0===dimInfo.otherDims.itemName&&(nameDimIdx=this._nameDimIdx=i),0===dimInfo.otherDims.itemId&&(this._idDimIdx=i);var DataCtor=dataCtors[dimInfo.type];storage[dim]||(storage[dim]=[]);var resizeChunkArray=storage[dim][lastChunkIndex];if(resizeChunkArray&&resizeChunkArray.length<chunkSize){for(var newStore=new DataCtor(Math.min(end-lastChunkIndex*chunkSize,chunkSize)),j=0;j<resizeChunkArray.length;j++)newStore[j]=resizeChunkArray[j];storage[dim][lastChunkIndex]=newStore}for(var k=chunkCount*chunkSize;k<end;k+=chunkSize)storage[dim].push(new DataCtor(Math.min(end-k,chunkSize)));this._chunkCount=storage[dim].length}for(var dataItem=new Array(dimLen),idx=start;idx<end;idx++){dataItem=rawData.getItem(idx,dataItem);for(var chunkIndex=Math.floor(idx/chunkSize),chunkOffset=idx%chunkSize,k=0;k<dimLen;k++){var dim=dimensions[k],dimStorage=storage[dim][chunkIndex],val=this._dimValueGetter(dataItem,dim,idx,k);dimStorage[chunkOffset]=val;var dimRawExtent=rawExtent[dim];val<dimRawExtent[0]&&(dimRawExtent[0]=val),val>dimRawExtent[1]&&(dimRawExtent[1]=val)}if(!rawData.pure){var name=nameList[idx];if(dataItem&&null==name)if(null!=dataItem.name)nameList[idx]=name=dataItem.name;else if(null!=nameDimIdx){var nameDim=dimensions[nameDimIdx],nameDimChunk=storage[nameDim][chunkIndex];if(nameDimChunk){name=nameDimChunk[chunkOffset];var ordinalMeta=dimensionInfoMap[nameDim].ordinalMeta;ordinalMeta&&ordinalMeta.categories.length&&(name=ordinalMeta.categories[name])}}var id=null==dataItem?null:dataItem.id;null==id&&null!=name&&(nameRepeatCount[name]=nameRepeatCount[name]||0,id=name,nameRepeatCount[name]>0&&(id+="__ec__"+nameRepeatCount[name]),nameRepeatCount[name]++),null!=id&&(idList[idx]=id)}}!rawData.persistent&&rawData.clean&&rawData.clean(),this._rawCount=this._count=end,this._extent={},prepareInvertedIndex(this)}},listProto.count=function(){return this._count},listProto.getIndices=function(){var newIndices,indices=this._indices;if(indices){var Ctor=indices.constructor,thisCount=this._count;if(Ctor===Array){newIndices=new Ctor(thisCount);for(var i=0;i<thisCount;i++)newIndices[i]=indices[i]}else newIndices=new Ctor(indices.buffer,0,thisCount)}else for(var Ctor=getIndicesCtor(this),newIndices=new Ctor(this.count()),i=0;i<newIndices.length;i++)newIndices[i]=i;return newIndices},listProto.get=function(dim,idx){if(!(idx>=0&&idx<this._count))return NaN;var storage=this._storage;if(!storage[dim])return NaN;idx=this.getRawIndex(idx);var chunkIndex=Math.floor(idx/this._chunkSize),chunkOffset=idx%this._chunkSize,chunkStore=storage[dim][chunkIndex],value=chunkStore[chunkOffset];return value},listProto.getByRawIndex=function(dim,rawIdx){if(!(rawIdx>=0&&rawIdx<this._rawCount))return NaN;var dimStore=this._storage[dim];if(!dimStore)return NaN;var chunkIndex=Math.floor(rawIdx/this._chunkSize),chunkOffset=rawIdx%this._chunkSize,chunkStore=dimStore[chunkIndex];return chunkStore[chunkOffset]},listProto._getFast=function(dim,rawIdx){var chunkIndex=Math.floor(rawIdx/this._chunkSize),chunkOffset=rawIdx%this._chunkSize,chunkStore=this._storage[dim][chunkIndex];return chunkStore[chunkOffset]},listProto.getValues=function(dimensions,idx){var values=[];zrUtil.isArray(dimensions)||(idx=dimensions,dimensions=this.dimensions);for(var i=0,len=dimensions.length;i<len;i++)values.push(this.get(dimensions[i],idx));return values},listProto.hasValue=function(idx){for(var dataDimsOnCoord=this._dimensionsSummary.dataDimsOnCoord,dimensionInfos=this._dimensionInfos,i=0,len=dataDimsOnCoord.length;i<len;i++)if("ordinal"!==dimensionInfos[dataDimsOnCoord[i]].type&&isNaN(this.get(dataDimsOnCoord[i],idx)))return!1;return!0},listProto.getDataExtent=function(dim){dim=this.getDimension(dim);var dimData=this._storage[dim],initialExtent=getInitialExtent();if(!dimData)return initialExtent;var dimExtent,currEnd=this.count(),useRaw=!this._indices;if(useRaw)return this._rawExtent[dim].slice();if(dimExtent=this._extent[dim])return dimExtent.slice();dimExtent=initialExtent;for(var min=dimExtent[0],max=dimExtent[1],i=0;i<currEnd;i++){var value=this._getFast(dim,this.getRawIndex(i));value<min&&(min=value),value>max&&(max=value)}return dimExtent=[min,max],this._extent[dim]=dimExtent,dimExtent},listProto.getApproximateExtent=function(dim){return dim=this.getDimension(dim),this._approximateExtent[dim]||this.getDataExtent(dim)},listProto.setApproximateExtent=function(extent,dim){dim=this.getDimension(dim),this._approximateExtent[dim]=extent.slice()},listProto.getCalculationInfo=function(key){return this._calculationInfo[key]},listProto.setCalculationInfo=function(key,value){isObject(key)?zrUtil.extend(this._calculationInfo,key):this._calculationInfo[key]=value},listProto.getSum=function(dim){var dimData=this._storage[dim],sum=0;if(dimData)for(var i=0,len=this.count();i<len;i++){var value=this.get(dim,i);isNaN(value)||(sum+=value)}return sum},listProto.getMedian=function(dim){var dimDataArray=[];this.each(dim,function(val,idx){isNaN(val)||dimDataArray.push(val)});var sortedDimDataArray=[].concat(dimDataArray).sort(function(a,b){return a-b}),len=this.count();return 0===len?0:len%2===1?sortedDimDataArray[(len-1)/2]:(sortedDimDataArray[len/2]+sortedDimDataArray[len/2-1])/2},listProto.rawIndexOf=function(dim,value){var invertedIndices=dim&&this._invertedIndicesMap[dim],rawIndex=invertedIndices[value];return null==rawIndex||isNaN(rawIndex)?-1:rawIndex},listProto.indexOfName=function(name){for(var i=0,len=this.count();i<len;i++)if(this.getName(i)===name)return i;return-1},listProto.indexOfRawIndex=function(rawIndex){if(!this._indices)return rawIndex;if(rawIndex>=this._rawCount||rawIndex<0)return-1;var indices=this._indices,rawDataIndex=indices[rawIndex];if(null!=rawDataIndex&&rawDataIndex<this._count&&rawDataIndex===rawIndex)return rawIndex;for(var left=0,right=this._count-1;left<=right;){var mid=(left+right)/2|0;if(indices[mid]<rawIndex)left=mid+1;else{if(!(indices[mid]>rawIndex))return mid;right=mid-1}}return-1},listProto.indicesOfNearest=function(dim,value,maxDistance){var storage=this._storage,dimData=storage[dim],nearestIndices=[];if(!dimData)return nearestIndices;null==maxDistance&&(maxDistance=1/0);for(var minDist=Number.MAX_VALUE,minDiff=-1,i=0,len=this.count();i<len;i++){var diff=value-this.get(dim,i),dist=Math.abs(diff);diff<=maxDistance&&dist<=minDist&&((dist<minDist||diff>=0&&minDiff<0)&&(minDist=dist,minDiff=diff,nearestIndices.length=0),nearestIndices.push(i))}return nearestIndices},listProto.getRawIndex=getRawIndexWithoutIndices,listProto.getRawDataItem=function(idx){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(idx));for(var val=[],i=0;i<this.dimensions.length;i++){var dim=this.dimensions[i];val.push(this.get(dim,idx))}return val},listProto.getName=function(idx){var rawIndex=this.getRawIndex(idx);return this._nameList[rawIndex]||getRawValueFromStore(this,this._nameDimIdx,rawIndex)||""},listProto.getId=function(idx){return getId(this,this.getRawIndex(idx))},listProto.each=function(dims,cb,context,contextCompat){"use strict";if(this._count){"function"==typeof dims&&(contextCompat=context,context=cb,cb=dims,dims=[]),context=context||contextCompat||this,dims=zrUtil.map(normalizeDimensions(dims),this.getDimension,this);for(var dimSize=dims.length,i=0;i<this.count();i++)switch(dimSize){case 0:cb.call(context,i);break;case 1:cb.call(context,this.get(dims[0],i),i);break;case 2:cb.call(context,this.get(dims[0],i),this.get(dims[1],i),i);break;default:for(var k=0,value=[];k<dimSize;k++)value[k]=this.get(dims[k],i);value[k]=i,cb.apply(context,value)}}},listProto.filterSelf=function(dimensions,cb,context,contextCompat){"use strict";if(this._count){"function"==typeof dimensions&&(contextCompat=context,context=cb,cb=dimensions,dimensions=[]),context=context||contextCompat||this,dimensions=zrUtil.map(normalizeDimensions(dimensions),this.getDimension,this);for(var count=this.count(),Ctor=getIndicesCtor(this),newIndices=new Ctor(count),value=[],dimSize=dimensions.length,offset=0,dim0=dimensions[0],i=0;i<count;i++){var keep,rawIdx=this.getRawIndex(i);if(0===dimSize)keep=cb.call(context,i);else if(1===dimSize){var val=this._getFast(dim0,rawIdx);keep=cb.call(context,val,i)}else{for(var k=0;k<dimSize;k++)value[k]=this._getFast(dim0,rawIdx);value[k]=i,keep=cb.apply(context,value)}keep&&(newIndices[offset++]=rawIdx)}return offset<count&&(this._indices=newIndices),this._count=offset,this._extent={},this.getRawIndex=this._indices?getRawIndexWithIndices:getRawIndexWithoutIndices,this}},listProto.selectRange=function(range){"use strict";if(this._count){var dimensions=[];for(var dim in range)range.hasOwnProperty(dim)&&dimensions.push(dim);var dimSize=dimensions.length;if(dimSize){var originalCount=this.count(),Ctor=getIndicesCtor(this),newIndices=new Ctor(originalCount),offset=0,dim0=dimensions[0],min=range[dim0][0],max=range[dim0][1],quickFinished=!1;if(!this._indices){var idx=0;if(1===dimSize){for(var dimStorage=this._storage[dimensions[0]],k=0;k<this._chunkCount;k++)for(var chunkStorage=dimStorage[k],len=Math.min(this._count-k*this._chunkSize,this._chunkSize),i=0;i<len;i++){var val=chunkStorage[i];(val>=min&&val<=max||isNaN(val))&&(newIndices[offset++]=idx),idx++}quickFinished=!0}else if(2===dimSize){for(var dimStorage=this._storage[dim0],dimStorage2=this._storage[dimensions[1]],min2=range[dimensions[1]][0],max2=range[dimensions[1]][1],k=0;k<this._chunkCount;k++)for(var chunkStorage=dimStorage[k],chunkStorage2=dimStorage2[k],len=Math.min(this._count-k*this._chunkSize,this._chunkSize),i=0;i<len;i++){var val=chunkStorage[i],val2=chunkStorage2[i];(val>=min&&val<=max||isNaN(val))&&(val2>=min2&&val2<=max2||isNaN(val2))&&(newIndices[offset++]=idx),idx++}quickFinished=!0}}if(!quickFinished)if(1===dimSize)for(var i=0;i<originalCount;i++){var rawIndex=this.getRawIndex(i),val=this._getFast(dim0,rawIndex);(val>=min&&val<=max||isNaN(val))&&(newIndices[offset++]=rawIndex)}else for(var i=0;i<originalCount;i++){for(var keep=!0,rawIndex=this.getRawIndex(i),k=0;k<dimSize;k++){var dimk=dimensions[k],val=this._getFast(dim,rawIndex);(val<range[dimk][0]||val>range[dimk][1])&&(keep=!1)}keep&&(newIndices[offset++]=this.getRawIndex(i))}return offset<originalCount&&(this._indices=newIndices),this._count=offset,this._extent={},this.getRawIndex=this._indices?getRawIndexWithIndices:getRawIndexWithoutIndices,this}}},listProto.mapArray=function(dimensions,cb,context,contextCompat){"use strict";"function"==typeof dimensions&&(contextCompat=context,context=cb,cb=dimensions,dimensions=[]),context=context||contextCompat||this;var result=[];return this.each(dimensions,function(){result.push(cb&&cb.apply(this,arguments))},context),result},listProto.map=function(dimensions,cb,context,contextCompat){"use strict";context=context||contextCompat||this,dimensions=zrUtil.map(normalizeDimensions(dimensions),this.getDimension,this);var list=cloneListForMapAndSample(this,dimensions);list._indices=this._indices,list.getRawIndex=list._indices?getRawIndexWithIndices:getRawIndexWithoutIndices;for(var storage=list._storage,tmpRetValue=[],chunkSize=this._chunkSize,dimSize=dimensions.length,dataCount=this.count(),values=[],rawExtent=list._rawExtent,dataIndex=0;dataIndex<dataCount;dataIndex++){for(var dimIndex=0;dimIndex<dimSize;dimIndex++)values[dimIndex]=this.get(dimensions[dimIndex],dataIndex);values[dimSize]=dataIndex;var retValue=cb&&cb.apply(context,values);if(null!=retValue){"object"!=typeof retValue&&(tmpRetValue[0]=retValue,retValue=tmpRetValue);for(var rawIndex=this.getRawIndex(dataIndex),chunkIndex=Math.floor(rawIndex/chunkSize),chunkOffset=rawIndex%chunkSize,i=0;i<retValue.length;i++){var dim=dimensions[i],val=retValue[i],rawExtentOnDim=rawExtent[dim],dimStore=storage[dim];dimStore&&(dimStore[chunkIndex][chunkOffset]=val),val<rawExtentOnDim[0]&&(rawExtentOnDim[0]=val),val>rawExtentOnDim[1]&&(rawExtentOnDim[1]=val)}}}return list},listProto.downSample=function(dimension,rate,sampleValue,sampleIndex){for(var list=cloneListForMapAndSample(this,[dimension]),targetStorage=list._storage,frameValues=[],frameSize=Math.floor(1/rate),dimStore=targetStorage[dimension],len=this.count(),chunkSize=this._chunkSize,rawExtentOnDim=list._rawExtent[dimension],newIndices=new(getIndicesCtor(this))(len),offset=0,i=0;i<len;i+=frameSize){frameSize>len-i&&(frameSize=len-i,frameValues.length=frameSize);for(var k=0;k<frameSize;k++){var dataIdx=this.getRawIndex(i+k),originalChunkIndex=Math.floor(dataIdx/chunkSize),originalChunkOffset=dataIdx%chunkSize;frameValues[k]=dimStore[originalChunkIndex][originalChunkOffset]}var value=sampleValue(frameValues),sampleFrameIdx=this.getRawIndex(Math.min(i+sampleIndex(frameValues,value)||0,len-1)),sampleChunkIndex=Math.floor(sampleFrameIdx/chunkSize),sampleChunkOffset=sampleFrameIdx%chunkSize;dimStore[sampleChunkIndex][sampleChunkOffset]=value,value<rawExtentOnDim[0]&&(rawExtentOnDim[0]=value),value>rawExtentOnDim[1]&&(rawExtentOnDim[1]=value),newIndices[offset++]=sampleFrameIdx}return list._count=offset,list._indices=newIndices,list.getRawIndex=getRawIndexWithIndices,list},listProto.getItemModel=function(idx){var hostModel=this.hostModel;return new Model(this.getRawDataItem(idx),hostModel,hostModel&&hostModel.ecModel)},listProto.diff=function(otherList){var thisList=this;return new DataDiffer(otherList?otherList.getIndices():[],this.getIndices(),function(idx){return getId(otherList,idx)},function(idx){return getId(thisList,idx)})},listProto.getVisual=function(key){var visual=this._visual;return visual&&visual[key]},listProto.setVisual=function(key,val){if(isObject(key))for(var name in key)key.hasOwnProperty(name)&&this.setVisual(name,key[name]);else this._visual=this._visual||{},this._visual[key]=val},listProto.setLayout=function(key,val){if(isObject(key))for(var name in key)key.hasOwnProperty(name)&&this.setLayout(name,key[name]);else this._layout[key]=val},listProto.getLayout=function(key){return this._layout[key]},listProto.getItemLayout=function(idx){return this._itemLayouts[idx]},listProto.setItemLayout=function(idx,layout,merge){this._itemLayouts[idx]=merge?zrUtil.extend(this._itemLayouts[idx]||{},layout):layout},listProto.clearItemLayouts=function(){this._itemLayouts.length=0},listProto.getItemVisual=function(idx,key,ignoreParent){var itemVisual=this._itemVisuals[idx],val=itemVisual&&itemVisual[key];return null!=val||ignoreParent?val:this.getVisual(key)},listProto.setItemVisual=function(idx,key,value){var itemVisual=this._itemVisuals[idx]||{},hasItemVisual=this.hasItemVisual;if(this._itemVisuals[idx]=itemVisual,isObject(key))for(var name in key)key.hasOwnProperty(name)&&(itemVisual[name]=key[name],hasItemVisual[name]=!0);else itemVisual[key]=value,hasItemVisual[key]=!0},listProto.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var setItemDataAndSeriesIndex=function(child){child.seriesIndex=this.seriesIndex,child.dataIndex=this.dataIndex,child.dataType=this.dataType};listProto.setItemGraphicEl=function(idx,el){var hostModel=this.hostModel;el&&(el.dataIndex=idx,el.dataType=this.dataType,el.seriesIndex=hostModel&&hostModel.seriesIndex,"group"===el.type&&el.traverse(setItemDataAndSeriesIndex,el)),this._graphicEls[idx]=el},listProto.getItemGraphicEl=function(idx){return this._graphicEls[idx]},listProto.eachItemGraphicEl=function(cb,context){zrUtil.each(this._graphicEls,function(el,idx){el&&cb&&cb.call(context,el,idx)})},listProto.cloneShallow=function(list){if(!list){var dimensionInfoList=zrUtil.map(this.dimensions,this.getDimensionInfo,this);list=new List(dimensionInfoList,this.hostModel)}if(list._storage=this._storage,transferProperties(list,this),this._indices){var Ctor=this._indices.constructor;list._indices=new Ctor(this._indices)}else list._indices=null;return list.getRawIndex=list._indices?getRawIndexWithIndices:getRawIndexWithoutIndices,list},listProto.wrapMethod=function(methodName,injectFunction){var originalMethod=this[methodName];"function"==typeof originalMethod&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(methodName),this[methodName]=function(){var res=originalMethod.apply(this,arguments);return injectFunction.apply(this,[res].concat(zrUtil.slice(arguments)))})},listProto.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],listProto.CHANGABLE_METHODS=["filterSelf","selectRange"];var _default=List;module.exports=_default},function(module,exports,__webpack_require__){function symbolPathSetColor(color,innerColor){if("image"!==this.type){var symbolStyle=this.style,symbolShape=this.shape;symbolShape&&"line"===symbolShape.symbolType?symbolStyle.stroke=color:this.__isEmptyBrush?(symbolStyle.stroke=color,symbolStyle.fill=innerColor||"#fff"):(symbolStyle.fill&&(symbolStyle.fill=color),symbolStyle.stroke&&(symbolStyle.stroke=color)),this.dirty(!1)}}function createSymbol(symbolType,x,y,w,h,color,keepAspect){var isEmpty=0===symbolType.indexOf("empty");isEmpty&&(symbolType=symbolType.substr(5,1).toLowerCase()+symbolType.substr(6));var symbolPath;return symbolPath=0===symbolType.indexOf("image://")?graphic.makeImage(symbolType.slice(8),new BoundingRect(x,y,w,h),keepAspect?"center":"cover"):0===symbolType.indexOf("path://")?graphic.makePath(symbolType.slice(7),{},new BoundingRect(x,y,w,h),keepAspect?"center":"cover"):new SymbolClz({"shape":{"symbolType":symbolType,"x":x,"y":y,"width":w,"height":h}}),symbolPath.__isEmptyBrush=isEmpty,symbolPath.setColor=symbolPathSetColor,symbolPath.setColor(color),symbolPath}var zrUtil=__webpack_require__(4),graphic=__webpack_require__(15),BoundingRect=__webpack_require__(43),Triangle=graphic.extendShape({"type":"triangle","shape":{"cx":0,"cy":0,"width":0,"height":0},"buildPath":function(path,shape){var cx=shape.cx,cy=shape.cy,width=shape.width/2,height=shape.height/2;path.moveTo(cx,cy-height),path.lineTo(cx+width,cy+height),path.lineTo(cx-width,cy+height),path.closePath()}}),Diamond=graphic.extendShape({"type":"diamond","shape":{"cx":0,"cy":0,"width":0,"height":0},"buildPath":function(path,shape){var cx=shape.cx,cy=shape.cy,width=shape.width/2,height=shape.height/2;path.moveTo(cx,cy-height),path.lineTo(cx+width,cy),path.lineTo(cx,cy+height),path.lineTo(cx-width,cy),path.closePath()}}),Pin=graphic.extendShape({"type":"pin","shape":{"x":0,"y":0,"width":0,"height":0},"buildPath":function(path,shape){var x=shape.x,y=shape.y,w=shape.width/5*3,h=Math.max(w,shape.height),r=w/2,dy=r*r/(h-r),cy=y-h+r+dy,angle=Math.asin(dy/r),dx=Math.cos(angle)*r,tanX=Math.sin(angle),tanY=Math.cos(angle),cpLen=.6*r,cpLen2=.7*r;path.moveTo(x-dx,cy+dy),path.arc(x,cy,r,Math.PI-angle,2*Math.PI+angle),path.bezierCurveTo(x+dx-tanX*cpLen,cy+dy+tanY*cpLen,x,y-cpLen2,x,y),path.bezierCurveTo(x,y-cpLen2,x-dx+tanX*cpLen,cy+dy+tanY*cpLen,x-dx,cy+dy),path.closePath()}}),Arrow=graphic.extendShape({"type":"arrow","shape":{"x":0,"y":0,"width":0,"height":0},"buildPath":function(ctx,shape){var height=shape.height,width=shape.width,x=shape.x,y=shape.y,dx=width/3*2;ctx.moveTo(x,y),ctx.lineTo(x+dx,y+height),ctx.lineTo(x,y+height/4*3),ctx.lineTo(x-dx,y+height),ctx.lineTo(x,y),ctx.closePath()}}),symbolCtors={"line":graphic.Line,"rect":graphic.Rect,"roundRect":graphic.Rect,"square":graphic.Rect,"circle":graphic.Circle,"diamond":Diamond,"pin":Pin,"arrow":Arrow,"triangle":Triangle},symbolShapeMakers={"line":function(x,y,w,h,shape){shape.x1=x,shape.y1=y+h/2,shape.x2=x+w,shape.y2=y+h/2},"rect":function(x,y,w,h,shape){shape.x=x,shape.y=y,shape.width=w,shape.height=h},"roundRect":function(x,y,w,h,shape){shape.x=x,shape.y=y,shape.width=w,shape.height=h,shape.r=Math.min(w,h)/4},"square":function(x,y,w,h,shape){var size=Math.min(w,h);shape.x=x,shape.y=y,shape.width=size,shape.height=size},"circle":function(x,y,w,h,shape){shape.cx=x+w/2,shape.cy=y+h/2,shape.r=Math.min(w,h)/2},"diamond":function(x,y,w,h,shape){shape.cx=x+w/2,shape.cy=y+h/2,shape.width=w,shape.height=h},"pin":function(x,y,w,h,shape){shape.x=x+w/2,shape.y=y+h/2,shape.width=w,shape.height=h},"arrow":function(x,y,w,h,shape){shape.x=x+w/2,shape.y=y+h/2,shape.width=w,shape.height=h},"triangle":function(x,y,w,h,shape){shape.cx=x+w/2,shape.cy=y+h/2,shape.width=w,shape.height=h}},symbolBuildProxies={};zrUtil.each(symbolCtors,function(Ctor,name){
symbolBuildProxies[name]=new Ctor});var SymbolClz=graphic.extendShape({"type":"symbol","shape":{"symbolType":"","x":0,"y":0,"width":0,"height":0},"beforeBrush":function(){var style=this.style,shape=this.shape;"pin"===shape.symbolType&&"inside"===style.textPosition&&(style.textPosition=["50%","40%"],style.textAlign="center",style.textVerticalAlign="middle")},"buildPath":function(ctx,shape,inBundle){var symbolType=shape.symbolType,proxySymbol=symbolBuildProxies[symbolType];"none"!==shape.symbolType&&(proxySymbol||(symbolType="rect",proxySymbol=symbolBuildProxies[symbolType]),symbolShapeMakers[symbolType](shape.x,shape.y,shape.width,shape.height,proxySymbol.shape),proxySymbol.buildPath(ctx,proxySymbol.shape,inBundle))}});exports.createSymbol=createSymbol},,,,,,,,,function(module,exports,__webpack_require__){function CoordinateSystemManager(){this._coordinateSystems=[]}var zrUtil=__webpack_require__(4),coordinateSystemCreators={};CoordinateSystemManager.prototype={"constructor":CoordinateSystemManager,"create":function(ecModel,api){var coordinateSystems=[];zrUtil.each(coordinateSystemCreators,function(creater,type){var list=creater.create(ecModel,api);coordinateSystems=coordinateSystems.concat(list||[])}),this._coordinateSystems=coordinateSystems},"update":function(ecModel,api){zrUtil.each(this._coordinateSystems,function(coordSys){coordSys.update&&coordSys.update(ecModel,api)})},"getCoordinateSystems":function(){return this._coordinateSystems.slice()}},CoordinateSystemManager.register=function(type,coordinateSystemCreator){coordinateSystemCreators[type]=coordinateSystemCreator},CoordinateSystemManager.get=function(type){return coordinateSystemCreators[type]};var _default=CoordinateSystemManager;module.exports=_default},function(module,exports,__webpack_require__){function getScaleExtent(scale,model){var axisDataLen,boundaryGap,span,scaleType=scale.type,min=model.getMin(),max=model.getMax(),fixMin=null!=min,fixMax=null!=max,originalExtent=scale.getExtent();"ordinal"===scaleType?axisDataLen=model.getCategories().length:(boundaryGap=model.get("boundaryGap"),zrUtil.isArray(boundaryGap)||(boundaryGap=[boundaryGap||0,boundaryGap||0]),"boolean"==typeof boundaryGap[0]&&(boundaryGap=[0,0]),boundaryGap[0]=numberUtil.parsePercent(boundaryGap[0],1),boundaryGap[1]=numberUtil.parsePercent(boundaryGap[1],1),span=originalExtent[1]-originalExtent[0]||Math.abs(originalExtent[0])),null==min&&(min="ordinal"===scaleType?axisDataLen?0:NaN:originalExtent[0]-boundaryGap[0]*span),null==max&&(max="ordinal"===scaleType?axisDataLen?axisDataLen-1:NaN:originalExtent[1]+boundaryGap[1]*span),"dataMin"===min?min=originalExtent[0]:"function"==typeof min&&(min=min({"min":originalExtent[0],"max":originalExtent[1]})),"dataMax"===max?max=originalExtent[1]:"function"==typeof max&&(max=max({"min":originalExtent[0],"max":originalExtent[1]})),(null==min||!isFinite(min))&&(min=NaN),(null==max||!isFinite(max))&&(max=NaN),scale.setBlank(zrUtil.eqNaN(min)||zrUtil.eqNaN(max)||"ordinal"===scaleType&&!scale.getOrdinalMeta().categories.length),model.getNeedCrossZero()&&(min>0&&max>0&&!fixMin&&(min=0),min<0&&max<0&&!fixMax&&(max=0));var ecModel=model.ecModel;if(ecModel&&"time"===scaleType){var isBaseAxisAndHasBarSeries,barSeriesModels=prepareLayoutBarSeries("bar",ecModel);if(zrUtil.each(barSeriesModels,function(seriesModel){isBaseAxisAndHasBarSeries|=seriesModel.getBaseAxis()===model.axis}),isBaseAxisAndHasBarSeries){var barWidthAndOffset=makeColumnLayout(barSeriesModels),adjustedScale=adjustScaleForOverflow(min,max,model,barWidthAndOffset);min=adjustedScale.min,max=adjustedScale.max}}return[min,max]}function adjustScaleForOverflow(min,max,model,barWidthAndOffset){var axisExtent=model.axis.getExtent(),axisLength=axisExtent[1]-axisExtent[0],barsOnCurrentAxis=retrieveColumnLayout(barWidthAndOffset,model.axis);if(void 0===barsOnCurrentAxis)return{"min":min,"max":max};var minOverflow=1/0;zrUtil.each(barsOnCurrentAxis,function(item){minOverflow=Math.min(item.offset,minOverflow)});var maxOverflow=-(1/0);zrUtil.each(barsOnCurrentAxis,function(item){maxOverflow=Math.max(item.offset+item.width,maxOverflow)}),minOverflow=Math.abs(minOverflow),maxOverflow=Math.abs(maxOverflow);var totalOverFlow=minOverflow+maxOverflow,oldRange=max-min,oldRangePercentOfNew=1-(minOverflow+maxOverflow)/axisLength,overflowBuffer=oldRange/oldRangePercentOfNew-oldRange;return max+=overflowBuffer*(maxOverflow/totalOverFlow),min-=overflowBuffer*(minOverflow/totalOverFlow),{"min":min,"max":max}}function niceScaleExtent(scale,model){var extent=getScaleExtent(scale,model),fixMin=null!=model.getMin(),fixMax=null!=model.getMax(),splitNumber=model.get("splitNumber");"log"===scale.type&&(scale.base=model.get("logBase"));var scaleType=scale.type;scale.setExtent(extent[0],extent[1]),scale.niceExtent({"splitNumber":splitNumber,"fixMin":fixMin,"fixMax":fixMax,"minInterval":"interval"===scaleType||"time"===scaleType?model.get("minInterval"):null,"maxInterval":"interval"===scaleType||"time"===scaleType?model.get("maxInterval"):null});var interval=model.get("interval");null!=interval&&scale.setInterval&&scale.setInterval(interval)}function createScaleByModel(model,axisType){if(axisType=axisType||model.get("type"))switch(axisType){case"category":return new OrdinalScale(model.getOrdinalMeta?model.getOrdinalMeta():model.getCategories(),[1/0,-(1/0)]);case"value":return new IntervalScale;default:return(Scale.getClass(axisType)||IntervalScale).create(model)}}function ifAxisCrossZero(axis){var dataExtent=axis.scale.getExtent(),min=dataExtent[0],max=dataExtent[1];return!(min>0&&max>0||min<0&&max<0)}function makeLabelFormatter(axis){var labelFormatter=axis.getLabelModel().get("formatter"),categoryTickStart="category"===axis.type?axis.scale.getExtent()[0]:null;return"string"==typeof labelFormatter?labelFormatter=function(tpl){return function(val){return tpl.replace("{value}",null!=val?val:"")}}(labelFormatter):"function"==typeof labelFormatter?function(tickValue,idx){return null!=categoryTickStart&&(idx=tickValue-categoryTickStart),labelFormatter(getAxisRawValue(axis,tickValue),idx)}:function(tick){return axis.scale.getLabel(tick)}}function getAxisRawValue(axis,value){return"category"===axis.type?axis.scale.getLabel(value):value}function estimateLabelUnionRect(axis){var axisModel=axis.model,scale=axis.scale;if(axisModel.get("axisLabel.show")&&!scale.isBlank()){var realNumberScaleTicks,tickCount,isCategory="category"===axis.type,categoryScaleExtent=scale.getExtent();isCategory?tickCount=scale.count():(realNumberScaleTicks=scale.getTicks(),tickCount=realNumberScaleTicks.length);var rect,axisLabelModel=axis.getLabelModel(),labelFormatter=makeLabelFormatter(axis),step=1;tickCount>40&&(step=Math.ceil(tickCount/40));for(var i=0;i<tickCount;i+=step){var tickValue=realNumberScaleTicks?realNumberScaleTicks[i]:categoryScaleExtent[0]+i,label=labelFormatter(tickValue),unrotatedSingleRect=axisLabelModel.getTextRect(label),singleRect=rotateTextRect(unrotatedSingleRect,axisLabelModel.get("rotate")||0);rect?rect.union(singleRect):rect=singleRect}return rect}}function rotateTextRect(textRect,rotate){var rotateRadians=rotate*Math.PI/180,boundingBox=textRect.plain(),beforeWidth=boundingBox.width,beforeHeight=boundingBox.height,afterWidth=beforeWidth*Math.cos(rotateRadians)+beforeHeight*Math.sin(rotateRadians),afterHeight=beforeWidth*Math.sin(rotateRadians)+beforeHeight*Math.cos(rotateRadians),rotatedRect=new BoundingRect(boundingBox.x,boundingBox.y,afterWidth,afterHeight);return rotatedRect}var _config=__webpack_require__(30),zrUtil=(_config.__DEV__,__webpack_require__(4)),OrdinalScale=__webpack_require__(1593),IntervalScale=__webpack_require__(277),Scale=__webpack_require__(278),numberUtil=__webpack_require__(20),_barGrid=__webpack_require__(276),prepareLayoutBarSeries=_barGrid.prepareLayoutBarSeries,makeColumnLayout=_barGrid.makeColumnLayout,retrieveColumnLayout=_barGrid.retrieveColumnLayout,BoundingRect=__webpack_require__(43);__webpack_require__(1594),__webpack_require__(1592),exports.getScaleExtent=getScaleExtent,exports.niceScaleExtent=niceScaleExtent,exports.createScaleByModel=createScaleByModel,exports.ifAxisCrossZero=ifAxisCrossZero,exports.makeLabelFormatter=makeLabelFormatter,exports.getAxisRawValue=getAxisRawValue,exports.estimateLabelUnionRect=estimateLabelUnionRect},,,,,,,,,,,,,,,function(module,exports,__webpack_require__){function $override(name,fn){methods[name]=fn}function getWidth(text,font){font=font||DEFAULT_FONT;var key=text+":"+font;if(textWidthCache[key])return textWidthCache[key];for(var textLines=(text+"").split("\n"),width=0,i=0,l=textLines.length;i<l;i++)width=Math.max(measureText(textLines[i],font).width,width);return textWidthCacheCounter>TEXT_CACHE_MAX&&(textWidthCacheCounter=0,textWidthCache={}),textWidthCacheCounter++,textWidthCache[key]=width,width}function getBoundingRect(text,font,textAlign,textVerticalAlign,textPadding,rich,truncate){return rich?getRichTextRect(text,font,textAlign,textVerticalAlign,textPadding,rich,truncate):getPlainTextRect(text,font,textAlign,textVerticalAlign,textPadding,truncate)}function getPlainTextRect(text,font,textAlign,textVerticalAlign,textPadding,truncate){var contentBlock=parsePlainText(text,font,textPadding,truncate),outerWidth=getWidth(text,font);textPadding&&(outerWidth+=textPadding[1]+textPadding[3]);var outerHeight=contentBlock.outerHeight,x=adjustTextX(0,outerWidth,textAlign),y=adjustTextY(0,outerHeight,textVerticalAlign),rect=new BoundingRect(x,y,outerWidth,outerHeight);return rect.lineHeight=contentBlock.lineHeight,rect}function getRichTextRect(text,font,textAlign,textVerticalAlign,textPadding,rich,truncate){var contentBlock=parseRichText(text,{"rich":rich,"truncate":truncate,"font":font,"textAlign":textAlign,"textPadding":textPadding}),outerWidth=contentBlock.outerWidth,outerHeight=contentBlock.outerHeight,x=adjustTextX(0,outerWidth,textAlign),y=adjustTextY(0,outerHeight,textVerticalAlign);return new BoundingRect(x,y,outerWidth,outerHeight)}function adjustTextX(x,width,textAlign){return"right"===textAlign?x-=width:"center"===textAlign&&(x-=width/2),x}function adjustTextY(y,height,textVerticalAlign){return"middle"===textVerticalAlign?y-=height/2:"bottom"===textVerticalAlign&&(y-=height),y}function adjustTextPositionOnRect(textPosition,rect,distance){var x=rect.x,y=rect.y,height=rect.height,width=rect.width,halfHeight=height/2,textAlign="left",textVerticalAlign="top";switch(textPosition){case"left":x-=distance,y+=halfHeight,textAlign="right",textVerticalAlign="middle";break;case"right":x+=distance+width,y+=halfHeight,textVerticalAlign="middle";break;case"top":x+=width/2,y-=distance,textAlign="center",textVerticalAlign="bottom";break;case"bottom":x+=width/2,y+=height+distance,textAlign="center";break;case"inside":x+=width/2,y+=halfHeight,textAlign="center",textVerticalAlign="middle";break;case"insideLeft":x+=distance,y+=halfHeight,textVerticalAlign="middle";break;case"insideRight":x+=width-distance,y+=halfHeight,textAlign="right",textVerticalAlign="middle";break;case"insideTop":x+=width/2,y+=distance,textAlign="center";break;case"insideBottom":x+=width/2,y+=height-distance,textAlign="center",textVerticalAlign="bottom";break;case"insideTopLeft":x+=distance,y+=distance;break;case"insideTopRight":x+=width-distance,y+=distance,textAlign="right";break;case"insideBottomLeft":x+=distance,y+=height-distance,textVerticalAlign="bottom";break;case"insideBottomRight":x+=width-distance,y+=height-distance,textAlign="right",textVerticalAlign="bottom"}return{"x":x,"y":y,"textAlign":textAlign,"textVerticalAlign":textVerticalAlign}}function truncateText(text,containerWidth,font,ellipsis,options){if(!containerWidth)return"";var textLines=(text+"").split("\n");options=prepareTruncateOptions(containerWidth,font,ellipsis,options);for(var i=0,len=textLines.length;i<len;i++)textLines[i]=truncateSingleLine(textLines[i],options);return textLines.join("\n")}function prepareTruncateOptions(containerWidth,font,ellipsis,options){options=extend({},options),options.font=font;var ellipsis=retrieve2(ellipsis,"...");options.maxIterations=retrieve2(options.maxIterations,2);var minChar=options.minChar=retrieve2(options.minChar,0);options.cnCharWidth=getWidth("\u56fd",font);var ascCharWidth=options.ascCharWidth=getWidth("a",font);options.placeholder=retrieve2(options.placeholder,"");for(var contentWidth=containerWidth=Math.max(0,containerWidth-1),i=0;i<minChar&&contentWidth>=ascCharWidth;i++)contentWidth-=ascCharWidth;var ellipsisWidth=getWidth(ellipsis);return ellipsisWidth>contentWidth&&(ellipsis="",ellipsisWidth=0),contentWidth=containerWidth-ellipsisWidth,options.ellipsis=ellipsis,options.ellipsisWidth=ellipsisWidth,options.contentWidth=contentWidth,options.containerWidth=containerWidth,options}function truncateSingleLine(textLine,options){var containerWidth=options.containerWidth,font=options.font,contentWidth=options.contentWidth;if(!containerWidth)return"";var lineWidth=getWidth(textLine,font);if(lineWidth<=containerWidth)return textLine;for(var j=0;;j++){if(lineWidth<=contentWidth||j>=options.maxIterations){textLine+=options.ellipsis;break}var subLength=0===j?estimateLength(textLine,contentWidth,options.ascCharWidth,options.cnCharWidth):lineWidth>0?Math.floor(textLine.length*contentWidth/lineWidth):0;textLine=textLine.substr(0,subLength),lineWidth=getWidth(textLine,font)}return""===textLine&&(textLine=options.placeholder),textLine}function estimateLength(text,contentWidth,ascCharWidth,cnCharWidth){for(var width=0,i=0,len=text.length;i<len&&width<contentWidth;i++){var charCode=text.charCodeAt(i);width+=0<=charCode&&charCode<=127?ascCharWidth:cnCharWidth}return i}function getLineHeight(font){return getWidth("\u56fd",font)}function measureText(text,font){return methods.measureText(text,font)}function parsePlainText(text,font,padding,truncate){null!=text&&(text+="");var lineHeight=getLineHeight(font),lines=text?text.split("\n"):[],height=lines.length*lineHeight,outerHeight=height;if(padding&&(outerHeight+=padding[0]+padding[2]),text&&truncate){var truncOuterHeight=truncate.outerHeight,truncOuterWidth=truncate.outerWidth;if(null!=truncOuterHeight&&outerHeight>truncOuterHeight)text="",lines=[];else if(null!=truncOuterWidth)for(var options=prepareTruncateOptions(truncOuterWidth-(padding?padding[1]+padding[3]:0),font,truncate.ellipsis,{"minChar":truncate.minChar,"placeholder":truncate.placeholder}),i=0,len=lines.length;i<len;i++)lines[i]=truncateSingleLine(lines[i],options)}return{"lines":lines,"height":height,"outerHeight":outerHeight,"lineHeight":lineHeight}}function parseRichText(text,style){var contentBlock={"lines":[],"width":0,"height":0};if(null!=text&&(text+=""),!text)return contentBlock;for(var result,lastIndex=STYLE_REG.lastIndex=0;null!=(result=STYLE_REG.exec(text));){var matchedIndex=result.index;matchedIndex>lastIndex&&pushTokens(contentBlock,text.substring(lastIndex,matchedIndex)),pushTokens(contentBlock,result[2],result[1]),lastIndex=STYLE_REG.lastIndex}lastIndex<text.length&&pushTokens(contentBlock,text.substring(lastIndex,text.length));var lines=contentBlock.lines,contentHeight=0,contentWidth=0,pendingList=[],stlPadding=style.textPadding,truncate=style.truncate,truncateWidth=truncate&&truncate.outerWidth,truncateHeight=truncate&&truncate.outerHeight;stlPadding&&(null!=truncateWidth&&(truncateWidth-=stlPadding[1]+stlPadding[3]),null!=truncateHeight&&(truncateHeight-=stlPadding[0]+stlPadding[2]));for(var i=0;i<lines.length;i++){for(var line=lines[i],lineHeight=0,lineWidth=0,j=0;j<line.tokens.length;j++){var token=line.tokens[j],tokenStyle=token.styleName&&style.rich[token.styleName]||{},textPadding=token.textPadding=tokenStyle.textPadding,font=token.font=tokenStyle.font||style.font,tokenHeight=token.textHeight=retrieve2(tokenStyle.textHeight,getLineHeight(font));if(textPadding&&(tokenHeight+=textPadding[0]+textPadding[2]),token.height=tokenHeight,token.lineHeight=retrieve3(tokenStyle.textLineHeight,style.textLineHeight,tokenHeight),token.textAlign=tokenStyle&&tokenStyle.textAlign||style.textAlign,token.textVerticalAlign=tokenStyle&&tokenStyle.textVerticalAlign||"middle",null!=truncateHeight&&contentHeight+token.lineHeight>truncateHeight)return{"lines":[],"width":0,"height":0};token.textWidth=getWidth(token.text,font);var tokenWidth=tokenStyle.textWidth,tokenWidthNotSpecified=null==tokenWidth||"auto"===tokenWidth;if("string"==typeof tokenWidth&&"%"===tokenWidth.charAt(tokenWidth.length-1))token.percentWidth=tokenWidth,pendingList.push(token),tokenWidth=0;else{if(tokenWidthNotSpecified){tokenWidth=token.textWidth;var textBackgroundColor=tokenStyle.textBackgroundColor,bgImg=textBackgroundColor&&textBackgroundColor.image;bgImg&&(bgImg=imageHelper.findExistImage(bgImg),imageHelper.isImageReady(bgImg)&&(tokenWidth=Math.max(tokenWidth,bgImg.width*tokenHeight/bgImg.height)))}var paddingW=textPadding?textPadding[1]+textPadding[3]:0;tokenWidth+=paddingW;var remianTruncWidth=null!=truncateWidth?truncateWidth-lineWidth:null;null!=remianTruncWidth&&remianTruncWidth<tokenWidth&&(!tokenWidthNotSpecified||remianTruncWidth<paddingW?(token.text="",token.textWidth=tokenWidth=0):(token.text=truncateText(token.text,remianTruncWidth-paddingW,font,truncate.ellipsis,{"minChar":truncate.minChar}),token.textWidth=getWidth(token.text,font),tokenWidth=token.textWidth+paddingW))}lineWidth+=token.width=tokenWidth,tokenStyle&&(lineHeight=Math.max(lineHeight,token.lineHeight))}line.width=lineWidth,line.lineHeight=lineHeight,contentHeight+=lineHeight,contentWidth=Math.max(contentWidth,lineWidth)}contentBlock.outerWidth=contentBlock.width=retrieve2(style.textWidth,contentWidth),contentBlock.outerHeight=contentBlock.height=retrieve2(style.textHeight,contentHeight),stlPadding&&(contentBlock.outerWidth+=stlPadding[1]+stlPadding[3],contentBlock.outerHeight+=stlPadding[0]+stlPadding[2]);for(var i=0;i<pendingList.length;i++){var token=pendingList[i],percentWidth=token.percentWidth;token.width=parseInt(percentWidth,10)/100*contentWidth}return contentBlock}function pushTokens(block,str,styleName){for(var isEmptyStr=""===str,strs=str.split("\n"),lines=block.lines,i=0;i<strs.length;i++){var text=strs[i],token={"styleName":styleName,"text":text,"isLineHolder":!text&&!isEmptyStr};if(i)lines.push({"tokens":[token]});else{var tokens=(lines[lines.length-1]||(lines[0]={"tokens":[]})).tokens,tokensLen=tokens.length;1===tokensLen&&tokens[0].isLineHolder?tokens[0]=token:(text||!tokensLen||isEmptyStr)&&tokens.push(token)}}}function makeFont(style){var font=(style.fontSize||style.fontFamily)&&[style.fontStyle,style.fontWeight,(style.fontSize||12)+"px",style.fontFamily||"sans-serif"].join(" ");return font&&trim(font)||style.textFont||style.font}var BoundingRect=__webpack_require__(43),imageHelper=__webpack_require__(511),_util=__webpack_require__(4),getContext=_util.getContext,extend=_util.extend,retrieve2=_util.retrieve2,retrieve3=_util.retrieve3,trim=_util.trim,textWidthCache={},textWidthCacheCounter=0,TEXT_CACHE_MAX=5e3,STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,DEFAULT_FONT="12px sans-serif",methods={};methods.measureText=function(text,font){var ctx=getContext();return ctx.font=font||DEFAULT_FONT,ctx.measureText(text)},exports.DEFAULT_FONT=DEFAULT_FONT,exports.$override=$override,exports.getWidth=getWidth,exports.getBoundingRect=getBoundingRect,exports.adjustTextX=adjustTextX,exports.adjustTextY=adjustTextY,exports.adjustTextPositionOnRect=adjustTextPositionOnRect,exports.truncateText=truncateText,exports.getLineHeight=getLineHeight,exports.measureText=measureText,exports.parsePlainText=parsePlainText,exports.parseRichText=parseRichText,exports.makeFont=makeFont},,,,,,function(module,exports,__webpack_require__){function createListFromArray(source,seriesModel,opt){opt=opt||{},Source.isInstance(source)||(source=Source.seriesDataToSource(source));var coordSysDimDefs,coordSysName=seriesModel.get("coordinateSystem"),registeredCoordSys=CoordinateSystem.get(coordSysName),coordSysDefine=getCoordSysDefineBySeries(seriesModel);coordSysDefine&&(coordSysDimDefs=zrUtil.map(coordSysDefine.coordSysDims,function(dim){var dimInfo={"name":dim},axisModel=coordSysDefine.axisMap.get(dim);if(axisModel){var axisType=axisModel.get("type");dimInfo.type=getDimensionTypeByAxis(axisType)}return dimInfo})),coordSysDimDefs||(coordSysDimDefs=registeredCoordSys&&(registeredCoordSys.getDimensionsInfo?registeredCoordSys.getDimensionsInfo():registeredCoordSys.dimensions.slice())||["x","y"]);var firstCategoryDimIndex,hasNameEncode,dimInfoList=createDimensions(source,{"coordDimensions":coordSysDimDefs,"generateCoord":opt.generateCoord});coordSysDefine&&zrUtil.each(dimInfoList,function(dimInfo,dimIndex){var coordDim=dimInfo.coordDim,categoryAxisModel=coordSysDefine.categoryAxisMap.get(coordDim);categoryAxisModel&&(null==firstCategoryDimIndex&&(firstCategoryDimIndex=dimIndex),dimInfo.ordinalMeta=categoryAxisModel.getOrdinalMeta()),null!=dimInfo.otherDims.itemName&&(hasNameEncode=!0)}),hasNameEncode||null==firstCategoryDimIndex||(dimInfoList[firstCategoryDimIndex].otherDims.itemName=0);var stackCalculationInfo=enableDataStack(seriesModel,dimInfoList),list=new List(dimInfoList,seriesModel);list.setCalculationInfo(stackCalculationInfo);var dimValueGetter=null!=firstCategoryDimIndex&&isNeedCompleteOrdinalData(source)?function(itemOpt,dimName,dataIndex,dimIndex){return dimIndex===firstCategoryDimIndex?dataIndex:this.defaultDimValueGetter(itemOpt,dimName,dataIndex,dimIndex)}:null;return list.hasItemOption=!1,list.initData(source,null,dimValueGetter),list}function isNeedCompleteOrdinalData(source){if(source.sourceFormat===SOURCE_FORMAT_ORIGINAL){var sampleItem=firstDataNotNull(source.data||[]);return null!=sampleItem&&!zrUtil.isArray(getDataItemValue(sampleItem))}}function firstDataNotNull(data){for(var i=0;i<data.length&&null==data[i];)i++;return data[i]}var zrUtil=__webpack_require__(4),List=__webpack_require__(82),createDimensions=__webpack_require__(193),_sourceType=__webpack_require__(222),SOURCE_FORMAT_ORIGINAL=_sourceType.SOURCE_FORMAT_ORIGINAL,_dimensionHelper=__webpack_require__(221),getDimensionTypeByAxis=_dimensionHelper.getDimensionTypeByAxis,_model=__webpack_require__(27),getDataItemValue=_model.getDataItemValue,CoordinateSystem=__webpack_require__(92),_referHelper=__webpack_require__(661),getCoordSysDefineBySeries=_referHelper.getCoordSysDefineBySeries,Source=__webpack_require__(220),_dataStackHelper=__webpack_require__(115),enableDataStack=_dataStackHelper.enableDataStack,_default=createListFromArray;module.exports=_default},function(module,exports,__webpack_require__){function enableDataStack(seriesModel,dimensionInfoList,opt){opt=opt||{};var stackedByDimInfo,stackedDimInfo,stackResultDimension,stackedOverDimension,byIndex=opt.byIndex,stackedCoordDimension=opt.stackedCoordDimension,mayStack=!(!seriesModel||!seriesModel.get("stack"));if(each(dimensionInfoList,function(dimensionInfo,index){isString(dimensionInfo)&&(dimensionInfoList[index]=dimensionInfo={"name":dimensionInfo}),mayStack&&!dimensionInfo.isExtraCoord&&(byIndex||stackedByDimInfo||!dimensionInfo.ordinalMeta||(stackedByDimInfo=dimensionInfo),stackedDimInfo||"ordinal"===dimensionInfo.type||"time"===dimensionInfo.type||stackedCoordDimension&&stackedCoordDimension!==dimensionInfo.coordDim||(stackedDimInfo=dimensionInfo))}),!stackedDimInfo||byIndex||stackedByDimInfo||(byIndex=!0),stackedDimInfo){stackResultDimension="__\0ecstackresult",stackedOverDimension="__\0ecstackedover",stackedByDimInfo&&(stackedByDimInfo.createInvertedIndices=!0);var stackedDimCoordDim=stackedDimInfo.coordDim,stackedDimType=stackedDimInfo.type,stackedDimCoordIndex=0;each(dimensionInfoList,function(dimensionInfo){dimensionInfo.coordDim===stackedDimCoordDim&&stackedDimCoordIndex++}),dimensionInfoList.push({"name":stackResultDimension,"coordDim":stackedDimCoordDim,"coordDimIndex":stackedDimCoordIndex,"type":stackedDimType,"isExtraCoord":!0,"isCalculationCoord":!0}),stackedDimCoordIndex++,dimensionInfoList.push({"name":stackedOverDimension,"coordDim":stackedOverDimension,"coordDimIndex":stackedDimCoordIndex,"type":stackedDimType,"isExtraCoord":!0,"isCalculationCoord":!0})}return{"stackedDimension":stackedDimInfo&&stackedDimInfo.name,"stackedByDimension":stackedByDimInfo&&stackedByDimInfo.name,"isStackedByIndex":byIndex,"stackedOverDimension":stackedOverDimension,"stackResultDimension":stackResultDimension}}function isDimensionStacked(data,stackedDim){return!!stackedDim&&stackedDim===data.getCalculationInfo("stackedDimension")}function getStackedDimension(data,targetDim){return isDimensionStacked(data,targetDim)?data.getCalculationInfo("stackResultDimension"):targetDim}var _util=__webpack_require__(4),each=_util.each,isString=_util.isString;exports.enableDataStack=enableDataStack,exports.isDimensionStacked=isDimensionStacked,exports.getStackedDimension=getStackedDimension},function(module,exports,__webpack_require__){function parseClassType(componentType){var ret={"main":"","sub":""};return componentType&&(componentType=componentType.split(TYPE_DELIMITER),ret.main=componentType[0]||"",ret.sub=componentType[1]||""),ret}function checkClassType(componentType){zrUtil.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(componentType),'componentType "'+componentType+'" illegal')}function enableClassExtend(RootClass,mandatoryMethods){RootClass.$constructor=RootClass,RootClass.extend=function(proto){var superClass=this,ExtendedClass=function(){proto.$constructor?proto.$constructor.apply(this,arguments):superClass.apply(this,arguments)};return zrUtil.extend(ExtendedClass.prototype,proto),ExtendedClass.extend=this.extend,ExtendedClass.superCall=superCall,ExtendedClass.superApply=superApply,zrUtil.inherits(ExtendedClass,this),ExtendedClass.superClass=superClass,ExtendedClass}}function enableClassCheck(Clz){var classAttr=["__\0is_clz",classBase++,Math.random().toFixed(3)].join("_");Clz.prototype[classAttr]=!0,Clz.isInstance=function(obj){return!(!obj||!obj[classAttr])}}function superCall(context,methodName){var args=zrUtil.slice(arguments,2);return this.superClass.prototype[methodName].apply(context,args)}function superApply(context,methodName,args){return this.superClass.prototype[methodName].apply(context,args)}function enableClassManagement(entity,options){function makeContainer(componentType){var container=storage[componentType.main];return container&&container[IS_CONTAINER]||(container=storage[componentType.main]={},container[IS_CONTAINER]=!0),container}options=options||{};var storage={};if(entity.registerClass=function(Clazz,componentType){if(componentType)if(checkClassType(componentType),componentType=parseClassType(componentType),componentType.sub){if(componentType.sub!==IS_CONTAINER){var container=makeContainer(componentType);container[componentType.sub]=Clazz}}else storage[componentType.main]=Clazz;return Clazz},entity.getClass=function(componentMainType,subType,throwWhenNotFound){var Clazz=storage[componentMainType];if(Clazz&&Clazz[IS_CONTAINER]&&(Clazz=subType?Clazz[subType]:null),throwWhenNotFound&&!Clazz)throw new Error(subType?"Component "+componentMainType+"."+(subType||"")+" not exists. Load it first.":componentMainType+".type should be specified.");return Clazz},entity.getClassesByMainType=function(componentType){componentType=parseClassType(componentType);var result=[],obj=storage[componentType.main];return obj&&obj[IS_CONTAINER]?zrUtil.each(obj,function(o,type){type!==IS_CONTAINER&&result.push(o)}):result.push(obj),result},entity.hasClass=function(componentType){return componentType=parseClassType(componentType),!!storage[componentType.main]},entity.getAllClassMainTypes=function(){var types=[];return zrUtil.each(storage,function(obj,type){types.push(type)}),types},entity.hasSubTypes=function(componentType){componentType=parseClassType(componentType);var obj=storage[componentType.main];return obj&&obj[IS_CONTAINER]},entity.parseClassType=parseClassType,options.registerWhenExtend){var originalExtend=entity.extend;originalExtend&&(entity.extend=function(proto){var ExtendedClass=originalExtend.call(this,proto);return entity.registerClass(ExtendedClass,proto.type)})}return entity}function setReadOnly(obj,properties){}var _config=__webpack_require__(30),zrUtil=(_config.__DEV__,__webpack_require__(4)),TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",classBase=0;exports.parseClassType=parseClassType,exports.enableClassExtend=enableClassExtend,exports.enableClassCheck=enableClassCheck,exports.enableClassManagement=enableClassManagement,exports.setReadOnly=setReadOnly},function(module,exports,__webpack_require__){function Chart(){this.group=new Group,this.uid=componentUtil.getUID("viewChart"),this.renderTask=createTask({"plan":renderTaskPlan,"reset":renderTaskReset}),this.renderTask.context={"view":this}}function elSetState(el,state){if(el&&(el.trigger(state),"group"===el.type))for(var i=0;i<el.childCount();i++)elSetState(el.childAt(i),state)}function toggleHighlight(data,payload,state){var dataIndex=modelUtil.queryDataIndex(data,payload);null!=dataIndex?each(modelUtil.normalizeToArray(dataIndex),function(dataIdx){elSetState(data.getItemGraphicEl(dataIdx),state)}):data.eachItemGraphicEl(function(el){elSetState(el,state)})}function renderTaskPlan(context){return renderPlanner(context.model)}function renderTaskReset(context){var seriesModel=context.model,ecModel=context.ecModel,api=context.api,payload=context.payload,progressiveRender=seriesModel.pipelineContext.progressiveRender,view=context.view,updateMethod=payload&&inner(payload).updateMethod,methodName=progressiveRender?"incrementalPrepareRender":updateMethod&&view[updateMethod]?updateMethod:"render";return"render"!==methodName&&view[methodName](seriesModel,ecModel,api,payload),progressMethodMap[methodName]}var _util=__webpack_require__(4),each=_util.each,Group=__webpack_require__(316),componentUtil=__webpack_require__(279),clazzUtil=__webpack_require__(116),modelUtil=__webpack_require__(27),_task=__webpack_require__(391),createTask=_task.createTask,createRenderPlanner=__webpack_require__(191),inner=modelUtil.makeInner(),renderPlanner=createRenderPlanner();Chart.prototype={"type":"chart","init":function(ecModel,api){},"render":function(seriesModel,ecModel,api,payload){},"highlight":function(seriesModel,ecModel,api,payload){toggleHighlight(seriesModel.getData(),payload,"emphasis")},"downplay":function(seriesModel,ecModel,api,payload){toggleHighlight(seriesModel.getData(),payload,"normal")},"remove":function(ecModel,api){this.group.removeAll()},"dispose":function(){},"incrementalPrepareRender":null,"incrementalRender":null,"updateTransform":null};var chartProto=Chart.prototype;chartProto.updateView=chartProto.updateLayout=chartProto.updateVisual=function(seriesModel,ecModel,api,payload){this.render(seriesModel,ecModel,api,payload)},clazzUtil.enableClassExtend(Chart,["dispose"]),clazzUtil.enableClassManagement(Chart,{"registerWhenExtend":!0}),Chart.markUpdateMethod=function(payload,methodName){inner(payload).updateMethod=methodName};var progressMethodMap={"incrementalPrepareRender":{"progress":function(params,context){context.view.incrementalRender(params,context.model,context.ecModel,context.api,context.payload)}},"render":{"forceFirstProgress":!0,"progress":function(params,context){context.view.render(context.model,context.ecModel,context.api,context.payload)}}},_default=Chart;module.exports=_default},,,,,,,function(module,exports,__webpack_require__){function getBoundingClientRect(el){return el.getBoundingClientRect?el.getBoundingClientRect():{"left":0,"top":0}}function clientToLocal(el,e,out,calculate){return out=out||{},calculate||!env.canvasSupported?defaultGetZrXY(el,e,out):env.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(out.zrX=e.layerX,out.zrY=e.layerY):null!=e.offsetX?(out.zrX=e.offsetX,out.zrY=e.offsetY):defaultGetZrXY(el,e,out),out}function defaultGetZrXY(el,e,out){var box=getBoundingClientRect(el);out.zrX=e.clientX-box.left,out.zrY=e.clientY-box.top}function normalizeEvent(el,e,calculate){if(e=e||window.event,null!=e.zrX)return e;var eventType=e.type,isTouch=eventType&&eventType.indexOf("touch")>=0;
if(isTouch){var touch="touchend"!=eventType?e.targetTouches[0]:e.changedTouches[0];touch&&clientToLocal(el,touch,e,calculate)}else clientToLocal(el,e,e,calculate),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var button=e.button;return null==e.which&&void 0!==button&&MOUSE_EVENT_REG.test(e.type)&&(e.which=1&button?1:2&button?3:4&button?2:0),e}function addEventListener(el,name,handler){isDomLevel2?el.addEventListener(name,handler):el.attachEvent("on"+name,handler)}function removeEventListener(el,name,handler){isDomLevel2?el.removeEventListener(name,handler):el.detachEvent("on"+name,handler)}function notLeftMouse(e){return e.which>1}var Eventful=__webpack_require__(176);exports.Dispatcher=Eventful;var env=__webpack_require__(52),isDomLevel2="undefined"!=typeof window&&!!window.addEventListener,MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,stop=isDomLevel2?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};exports.clientToLocal=clientToLocal,exports.normalizeEvent=normalizeEvent,exports.addEventListener=addEventListener,exports.removeEventListener=removeEventListener,exports.stop=stop,exports.notLeftMouse=notLeftMouse},function(module,exports,__webpack_require__){function clampCssByte(i){return i=Math.round(i),i<0?0:i>255?255:i}function clampCssAngle(i){return i=Math.round(i),i<0?0:i>360?360:i}function clampCssFloat(f){return f<0?0:f>1?1:f}function parseCssInt(str){return clampCssByte(str.length&&"%"===str.charAt(str.length-1)?parseFloat(str)/100*255:parseInt(str,10))}function parseCssFloat(str){return clampCssFloat(str.length&&"%"===str.charAt(str.length-1)?parseFloat(str)/100:parseFloat(str))}function cssHueToRgb(m1,m2,h){return h<0?h+=1:h>1&&(h-=1),6*h<1?m1+(m2-m1)*h*6:2*h<1?m2:3*h<2?m1+(m2-m1)*(2/3-h)*6:m1}function lerpNumber(a,b,p){return a+(b-a)*p}function setRgba(out,r,g,b,a){return out[0]=r,out[1]=g,out[2]=b,out[3]=a,out}function copyRgba(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function putToCache(colorStr,rgbaArr){lastRemovedArr&&copyRgba(lastRemovedArr,rgbaArr),lastRemovedArr=colorCache.put(colorStr,lastRemovedArr||rgbaArr.slice())}function parse(colorStr,rgbaArr){if(colorStr){rgbaArr=rgbaArr||[];var cached=colorCache.get(colorStr);if(cached)return copyRgba(rgbaArr,cached);colorStr+="";var str=colorStr.replace(/ /g,"").toLowerCase();if(str in kCSSColorTable)return copyRgba(rgbaArr,kCSSColorTable[str]),putToCache(colorStr,rgbaArr),rgbaArr;if("#"!==str.charAt(0)){var op=str.indexOf("("),ep=str.indexOf(")");if(op!==-1&&ep+1===str.length){var fname=str.substr(0,op),params=str.substr(op+1,ep-(op+1)).split(","),alpha=1;switch(fname){case"rgba":if(4!==params.length)return void setRgba(rgbaArr,0,0,0,1);alpha=parseCssFloat(params.pop());case"rgb":return 3!==params.length?void setRgba(rgbaArr,0,0,0,1):(setRgba(rgbaArr,parseCssInt(params[0]),parseCssInt(params[1]),parseCssInt(params[2]),alpha),putToCache(colorStr,rgbaArr),rgbaArr);case"hsla":return 4!==params.length?void setRgba(rgbaArr,0,0,0,1):(params[3]=parseCssFloat(params[3]),hsla2rgba(params,rgbaArr),putToCache(colorStr,rgbaArr),rgbaArr);case"hsl":return 3!==params.length?void setRgba(rgbaArr,0,0,0,1):(hsla2rgba(params,rgbaArr),putToCache(colorStr,rgbaArr),rgbaArr);default:return}}setRgba(rgbaArr,0,0,0,1)}else{if(4===str.length){var iv=parseInt(str.substr(1),16);return iv>=0&&iv<=4095?(setRgba(rgbaArr,(3840&iv)>>4|(3840&iv)>>8,240&iv|(240&iv)>>4,15&iv|(15&iv)<<4,1),putToCache(colorStr,rgbaArr),rgbaArr):void setRgba(rgbaArr,0,0,0,1)}if(7===str.length){var iv=parseInt(str.substr(1),16);return iv>=0&&iv<=16777215?(setRgba(rgbaArr,(16711680&iv)>>16,(65280&iv)>>8,255&iv,1),putToCache(colorStr,rgbaArr),rgbaArr):void setRgba(rgbaArr,0,0,0,1)}}}}function hsla2rgba(hsla,rgba){var h=(parseFloat(hsla[0])%360+360)%360/360,s=parseCssFloat(hsla[1]),l=parseCssFloat(hsla[2]),m2=l<=.5?l*(s+1):l+s-l*s,m1=2*l-m2;return rgba=rgba||[],setRgba(rgba,clampCssByte(255*cssHueToRgb(m1,m2,h+1/3)),clampCssByte(255*cssHueToRgb(m1,m2,h)),clampCssByte(255*cssHueToRgb(m1,m2,h-1/3)),1),4===hsla.length&&(rgba[3]=hsla[3]),rgba}function rgba2hsla(rgba){if(rgba){var H,S,R=rgba[0]/255,G=rgba[1]/255,B=rgba[2]/255,vMin=Math.min(R,G,B),vMax=Math.max(R,G,B),delta=vMax-vMin,L=(vMax+vMin)/2;if(0===delta)H=0,S=0;else{S=L<.5?delta/(vMax+vMin):delta/(2-vMax-vMin);var deltaR=((vMax-R)/6+delta/2)/delta,deltaG=((vMax-G)/6+delta/2)/delta,deltaB=((vMax-B)/6+delta/2)/delta;R===vMax?H=deltaB-deltaG:G===vMax?H=1/3+deltaR-deltaB:B===vMax&&(H=2/3+deltaG-deltaR),H<0&&(H+=1),H>1&&(H-=1)}var hsla=[360*H,S,L];return null!=rgba[3]&&hsla.push(rgba[3]),hsla}}function lift(color,level){var colorArr=parse(color);if(colorArr){for(var i=0;i<3;i++)level<0?colorArr[i]=colorArr[i]*(1-level)|0:colorArr[i]=(255-colorArr[i])*level+colorArr[i]|0,colorArr[i]>255?colorArr[i]=255:color[i]<0&&(colorArr[i]=0);return stringify(colorArr,4===colorArr.length?"rgba":"rgb")}}function toHex(color){var colorArr=parse(color);if(colorArr)return((1<<24)+(colorArr[0]<<16)+(colorArr[1]<<8)+ +colorArr[2]).toString(16).slice(1)}function fastLerp(normalizedValue,colors,out){if(colors&&colors.length&&normalizedValue>=0&&normalizedValue<=1){out=out||[];var value=normalizedValue*(colors.length-1),leftIndex=Math.floor(value),rightIndex=Math.ceil(value),leftColor=colors[leftIndex],rightColor=colors[rightIndex],dv=value-leftIndex;return out[0]=clampCssByte(lerpNumber(leftColor[0],rightColor[0],dv)),out[1]=clampCssByte(lerpNumber(leftColor[1],rightColor[1],dv)),out[2]=clampCssByte(lerpNumber(leftColor[2],rightColor[2],dv)),out[3]=clampCssFloat(lerpNumber(leftColor[3],rightColor[3],dv)),out}}function lerp(normalizedValue,colors,fullOutput){if(colors&&colors.length&&normalizedValue>=0&&normalizedValue<=1){var value=normalizedValue*(colors.length-1),leftIndex=Math.floor(value),rightIndex=Math.ceil(value),leftColor=parse(colors[leftIndex]),rightColor=parse(colors[rightIndex]),dv=value-leftIndex,color=stringify([clampCssByte(lerpNumber(leftColor[0],rightColor[0],dv)),clampCssByte(lerpNumber(leftColor[1],rightColor[1],dv)),clampCssByte(lerpNumber(leftColor[2],rightColor[2],dv)),clampCssFloat(lerpNumber(leftColor[3],rightColor[3],dv))],"rgba");return fullOutput?{"color":color,"leftIndex":leftIndex,"rightIndex":rightIndex,"value":value}:color}}function modifyHSL(color,h,s,l){if(color=parse(color))return color=rgba2hsla(color),null!=h&&(color[0]=clampCssAngle(h)),null!=s&&(color[1]=parseCssFloat(s)),null!=l&&(color[2]=parseCssFloat(l)),stringify(hsla2rgba(color),"rgba")}function modifyAlpha(color,alpha){if(color=parse(color),color&&null!=alpha)return color[3]=clampCssFloat(alpha),stringify(color,"rgba")}function stringify(arrColor,type){if(arrColor&&arrColor.length){var colorStr=arrColor[0]+","+arrColor[1]+","+arrColor[2];return"rgba"!==type&&"hsva"!==type&&"hsla"!==type||(colorStr+=","+arrColor[3]),type+"("+colorStr+")"}}var LRU=__webpack_require__(920),kCSSColorTable={"transparent":[0,0,0,0],"aliceblue":[240,248,255,1],"antiquewhite":[250,235,215,1],"aqua":[0,255,255,1],"aquamarine":[127,255,212,1],"azure":[240,255,255,1],"beige":[245,245,220,1],"bisque":[255,228,196,1],"black":[0,0,0,1],"blanchedalmond":[255,235,205,1],"blue":[0,0,255,1],"blueviolet":[138,43,226,1],"brown":[165,42,42,1],"burlywood":[222,184,135,1],"cadetblue":[95,158,160,1],"chartreuse":[127,255,0,1],"chocolate":[210,105,30,1],"coral":[255,127,80,1],"cornflowerblue":[100,149,237,1],"cornsilk":[255,248,220,1],"crimson":[220,20,60,1],"cyan":[0,255,255,1],"darkblue":[0,0,139,1],"darkcyan":[0,139,139,1],"darkgoldenrod":[184,134,11,1],"darkgray":[169,169,169,1],"darkgreen":[0,100,0,1],"darkgrey":[169,169,169,1],"darkkhaki":[189,183,107,1],"darkmagenta":[139,0,139,1],"darkolivegreen":[85,107,47,1],"darkorange":[255,140,0,1],"darkorchid":[153,50,204,1],"darkred":[139,0,0,1],"darksalmon":[233,150,122,1],"darkseagreen":[143,188,143,1],"darkslateblue":[72,61,139,1],"darkslategray":[47,79,79,1],"darkslategrey":[47,79,79,1],"darkturquoise":[0,206,209,1],"darkviolet":[148,0,211,1],"deeppink":[255,20,147,1],"deepskyblue":[0,191,255,1],"dimgray":[105,105,105,1],"dimgrey":[105,105,105,1],"dodgerblue":[30,144,255,1],"firebrick":[178,34,34,1],"floralwhite":[255,250,240,1],"forestgreen":[34,139,34,1],"fuchsia":[255,0,255,1],"gainsboro":[220,220,220,1],"ghostwhite":[248,248,255,1],"gold":[255,215,0,1],"goldenrod":[218,165,32,1],"gray":[128,128,128,1],"green":[0,128,0,1],"greenyellow":[173,255,47,1],"grey":[128,128,128,1],"honeydew":[240,255,240,1],"hotpink":[255,105,180,1],"indianred":[205,92,92,1],"indigo":[75,0,130,1],"ivory":[255,255,240,1],"khaki":[240,230,140,1],"lavender":[230,230,250,1],"lavenderblush":[255,240,245,1],"lawngreen":[124,252,0,1],"lemonchiffon":[255,250,205,1],"lightblue":[173,216,230,1],"lightcoral":[240,128,128,1],"lightcyan":[224,255,255,1],"lightgoldenrodyellow":[250,250,210,1],"lightgray":[211,211,211,1],"lightgreen":[144,238,144,1],"lightgrey":[211,211,211,1],"lightpink":[255,182,193,1],"lightsalmon":[255,160,122,1],"lightseagreen":[32,178,170,1],"lightskyblue":[135,206,250,1],"lightslategray":[119,136,153,1],"lightslategrey":[119,136,153,1],"lightsteelblue":[176,196,222,1],"lightyellow":[255,255,224,1],"lime":[0,255,0,1],"limegreen":[50,205,50,1],"linen":[250,240,230,1],"magenta":[255,0,255,1],"maroon":[128,0,0,1],"mediumaquamarine":[102,205,170,1],"mediumblue":[0,0,205,1],"mediumorchid":[186,85,211,1],"mediumpurple":[147,112,219,1],"mediumseagreen":[60,179,113,1],"mediumslateblue":[123,104,238,1],"mediumspringgreen":[0,250,154,1],"mediumturquoise":[72,209,204,1],"mediumvioletred":[199,21,133,1],"midnightblue":[25,25,112,1],"mintcream":[245,255,250,1],"mistyrose":[255,228,225,1],"moccasin":[255,228,181,1],"navajowhite":[255,222,173,1],"navy":[0,0,128,1],"oldlace":[253,245,230,1],"olive":[128,128,0,1],"olivedrab":[107,142,35,1],"orange":[255,165,0,1],"orangered":[255,69,0,1],"orchid":[218,112,214,1],"palegoldenrod":[238,232,170,1],"palegreen":[152,251,152,1],"paleturquoise":[175,238,238,1],"palevioletred":[219,112,147,1],"papayawhip":[255,239,213,1],"peachpuff":[255,218,185,1],"peru":[205,133,63,1],"pink":[255,192,203,1],"plum":[221,160,221,1],"powderblue":[176,224,230,1],"purple":[128,0,128,1],"red":[255,0,0,1],"rosybrown":[188,143,143,1],"royalblue":[65,105,225,1],"saddlebrown":[139,69,19,1],"salmon":[250,128,114,1],"sandybrown":[244,164,96,1],"seagreen":[46,139,87,1],"seashell":[255,245,238,1],"sienna":[160,82,45,1],"silver":[192,192,192,1],"skyblue":[135,206,235,1],"slateblue":[106,90,205,1],"slategray":[112,128,144,1],"slategrey":[112,128,144,1],"snow":[255,250,250,1],"springgreen":[0,255,127,1],"steelblue":[70,130,180,1],"tan":[210,180,140,1],"teal":[0,128,128,1],"thistle":[216,191,216,1],"tomato":[255,99,71,1],"turquoise":[64,224,208,1],"violet":[238,130,238,1],"wheat":[245,222,179,1],"white":[255,255,255,1],"whitesmoke":[245,245,245,1],"yellow":[255,255,0,1],"yellowgreen":[154,205,50,1]},colorCache=new LRU(20),lastRemovedArr=null,fastMapToColor=fastLerp,mapToColor=lerp;exports.parse=parse,exports.lift=lift,exports.toHex=toHex,exports.fastLerp=fastLerp,exports.fastMapToColor=fastMapToColor,exports.lerp=lerp,exports.mapToColor=mapToColor,exports.modifyHSL=modifyHSL,exports.modifyAlpha=modifyAlpha,exports.stringify=stringify},,,,,,function(module,exports){function register(name,ctor){features[name]=ctor}function get(name){return features[name]}var features={};exports.register=register,exports.get=get},function(module,exports,__webpack_require__){function fixExtentWithBands(extent,nTick){var size=extent[1]-extent[0],len=nTick,margin=size/len/2;extent[0]+=margin,extent[1]-=margin}function fixOnBandTicksCoords(axis,ticksCoords,tickCategoryInterval,alignWithLabel,clamp){function littleThan(a,b){return inverse?a>b:a<b}var ticksLen=ticksCoords.length;if(axis.onBand&&!alignWithLabel&&ticksLen){var last,axisExtent=axis.getExtent();if(1===ticksLen)ticksCoords[0].coord=axisExtent[0],last=ticksCoords[1]={"coord":axisExtent[0]};else{var shift=ticksCoords[1].coord-ticksCoords[0].coord;each(ticksCoords,function(ticksItem){ticksItem.coord-=shift/2;var tickCategoryInterval=tickCategoryInterval||0;tickCategoryInterval%2>0&&(ticksItem.coord-=shift/(2*(tickCategoryInterval+1)))}),last={"coord":ticksCoords[ticksLen-1].coord+shift},ticksCoords.push(last)}var inverse=axisExtent[0]>axisExtent[1];littleThan(ticksCoords[0].coord,axisExtent[0])&&(clamp?ticksCoords[0].coord=axisExtent[0]:ticksCoords.shift()),clamp&&littleThan(axisExtent[0],ticksCoords[0].coord)&&ticksCoords.unshift({"coord":axisExtent[0]}),littleThan(axisExtent[1],last.coord)&&(clamp?last.coord=axisExtent[1]:ticksCoords.pop()),clamp&&littleThan(last.coord,axisExtent[1])&&ticksCoords.push({"coord":axisExtent[1]})}}var _util=__webpack_require__(4),each=_util.each,map=_util.map,_number=__webpack_require__(20),linearMap=_number.linearMap,getPixelPrecision=_number.getPixelPrecision,_axisTickLabelBuilder=__webpack_require__(1542),createAxisTicks=_axisTickLabelBuilder.createAxisTicks,createAxisLabels=_axisTickLabelBuilder.createAxisLabels,calculateCategoryInterval=_axisTickLabelBuilder.calculateCategoryInterval,NORMALIZED_EXTENT=[0,1],Axis=function(dim,scale,extent){this.dim=dim,this.scale=scale,this._extent=extent||[0,0],this.inverse=!1,this.onBand=!1};Axis.prototype={"constructor":Axis,"contain":function(coord){var extent=this._extent,min=Math.min(extent[0],extent[1]),max=Math.max(extent[0],extent[1]);return coord>=min&&coord<=max},"containData":function(data){return this.contain(this.dataToCoord(data))},"getExtent":function(){return this._extent.slice()},"getPixelPrecision":function(dataExtent){return getPixelPrecision(dataExtent||this.scale.getExtent(),this._extent)},"setExtent":function(start,end){var extent=this._extent;extent[0]=start,extent[1]=end},"dataToCoord":function(data,clamp){var extent=this._extent,scale=this.scale;return data=scale.normalize(data),this.onBand&&"ordinal"===scale.type&&(extent=extent.slice(),fixExtentWithBands(extent,scale.count())),linearMap(data,NORMALIZED_EXTENT,extent,clamp)},"coordToData":function(coord,clamp){var extent=this._extent,scale=this.scale;this.onBand&&"ordinal"===scale.type&&(extent=extent.slice(),fixExtentWithBands(extent,scale.count()));var t=linearMap(coord,extent,NORMALIZED_EXTENT,clamp);return this.scale.scale(t)},"pointToData":function(point,clamp){},"getTicksCoords":function(opt){opt=opt||{};var tickModel=opt.tickModel||this.getTickModel(),result=createAxisTicks(this,tickModel),ticks=result.ticks,ticksCoords=map(ticks,function(tickValue){return{"coord":this.dataToCoord(tickValue),"tickValue":tickValue}},this),alignWithLabel=tickModel.get("alignWithLabel");return fixOnBandTicksCoords(this,ticksCoords,result.tickCategoryInterval,alignWithLabel,opt.clamp),ticksCoords},"getViewLabels":function(){return createAxisLabels(this).labels},"getLabelModel":function(){return this.model.getModel("axisLabel")},"getTickModel":function(){return this.model.getModel("axisTick")},"getBandWidth":function(){var axisExtent=this._extent,dataExtent=this.scale.getExtent(),len=dataExtent[1]-dataExtent[0]+(this.onBand?1:0);0===len&&(len=1);var size=Math.abs(axisExtent[1]-axisExtent[0]);return Math.abs(size)/len},"isHorizontal":null,"getRotate":null,"calculateCategoryInterval":function(){return calculateCategoryInterval(this)}};var _default=Axis;module.exports=_default},,,,,,,,function(module,exports,__webpack_require__){function isAroundZero(val){return val>-EPSILON&&val<EPSILON}function isNotAroundZero(val){return val>EPSILON||val<-EPSILON}function cubicAt(p0,p1,p2,p3,t){var onet=1-t;return onet*onet*(onet*p0+3*t*p1)+t*t*(t*p3+3*onet*p2)}function cubicDerivativeAt(p0,p1,p2,p3,t){var onet=1-t;return 3*(((p1-p0)*onet+2*(p2-p1)*t)*onet+(p3-p2)*t*t)}function cubicRootAt(p0,p1,p2,p3,val,roots){var a=p3+3*(p1-p2)-p0,b=3*(p2-2*p1+p0),c=3*(p1-p0),d=p0-val,A=b*b-3*a*c,B=b*c-9*a*d,C=c*c-3*b*d,n=0;if(isAroundZero(A)&&isAroundZero(B))if(isAroundZero(b))roots[0]=0;else{var t1=-c/b;t1>=0&&t1<=1&&(roots[n++]=t1)}else{var disc=B*B-4*A*C;if(isAroundZero(disc)){var K=B/A,t1=-b/a+K,t2=-K/2;t1>=0&&t1<=1&&(roots[n++]=t1),t2>=0&&t2<=1&&(roots[n++]=t2)}else if(disc>0){var discSqrt=mathSqrt(disc),Y1=A*b+1.5*a*(-B+discSqrt),Y2=A*b+1.5*a*(-B-discSqrt);Y1=Y1<0?-mathPow(-Y1,ONE_THIRD):mathPow(Y1,ONE_THIRD),Y2=Y2<0?-mathPow(-Y2,ONE_THIRD):mathPow(Y2,ONE_THIRD);var t1=(-b-(Y1+Y2))/(3*a);t1>=0&&t1<=1&&(roots[n++]=t1)}else{var T=(2*A*b-3*a*B)/(2*mathSqrt(A*A*A)),theta=Math.acos(T)/3,ASqrt=mathSqrt(A),tmp=Math.cos(theta),t1=(-b-2*ASqrt*tmp)/(3*a),t2=(-b+ASqrt*(tmp+THREE_SQRT*Math.sin(theta)))/(3*a),t3=(-b+ASqrt*(tmp-THREE_SQRT*Math.sin(theta)))/(3*a);t1>=0&&t1<=1&&(roots[n++]=t1),t2>=0&&t2<=1&&(roots[n++]=t2),t3>=0&&t3<=1&&(roots[n++]=t3)}}return n}function cubicExtrema(p0,p1,p2,p3,extrema){var b=6*p2-12*p1+6*p0,a=9*p1+3*p3-3*p0-9*p2,c=3*p1-3*p0,n=0;if(isAroundZero(a)){if(isNotAroundZero(b)){var t1=-c/b;t1>=0&&t1<=1&&(extrema[n++]=t1)}}else{var disc=b*b-4*a*c;if(isAroundZero(disc))extrema[0]=-b/(2*a);else if(disc>0){var discSqrt=mathSqrt(disc),t1=(-b+discSqrt)/(2*a),t2=(-b-discSqrt)/(2*a);t1>=0&&t1<=1&&(extrema[n++]=t1),t2>=0&&t2<=1&&(extrema[n++]=t2)}}return n}function cubicSubdivide(p0,p1,p2,p3,t,out){var p01=(p1-p0)*t+p0,p12=(p2-p1)*t+p1,p23=(p3-p2)*t+p2,p012=(p12-p01)*t+p01,p123=(p23-p12)*t+p12,p0123=(p123-p012)*t+p012;out[0]=p0,out[1]=p01,out[2]=p012,out[3]=p0123,out[4]=p0123,out[5]=p123,out[6]=p23,out[7]=p3}function cubicProjectPoint(x0,y0,x1,y1,x2,y2,x3,y3,x,y,out){var t,prev,next,d1,d2,interval=.005,d=1/0;_v0[0]=x,_v0[1]=y;for(var _t=0;_t<1;_t+=.05)_v1[0]=cubicAt(x0,x1,x2,x3,_t),_v1[1]=cubicAt(y0,y1,y2,y3,_t),d1=v2DistSquare(_v0,_v1),d1<d&&(t=_t,d=d1);d=1/0;for(var i=0;i<32&&!(interval<EPSILON_NUMERIC);i++)prev=t-interval,next=t+interval,_v1[0]=cubicAt(x0,x1,x2,x3,prev),_v1[1]=cubicAt(y0,y1,y2,y3,prev),d1=v2DistSquare(_v1,_v0),prev>=0&&d1<d?(t=prev,d=d1):(_v2[0]=cubicAt(x0,x1,x2,x3,next),_v2[1]=cubicAt(y0,y1,y2,y3,next),d2=v2DistSquare(_v2,_v0),next<=1&&d2<d?(t=next,d=d2):interval*=.5);return out&&(out[0]=cubicAt(x0,x1,x2,x3,t),out[1]=cubicAt(y0,y1,y2,y3,t)),mathSqrt(d)}function quadraticAt(p0,p1,p2,t){var onet=1-t;return onet*(onet*p0+2*t*p1)+t*t*p2}function quadraticDerivativeAt(p0,p1,p2,t){return 2*((1-t)*(p1-p0)+t*(p2-p1))}function quadraticRootAt(p0,p1,p2,val,roots){var a=p0-2*p1+p2,b=2*(p1-p0),c=p0-val,n=0;if(isAroundZero(a)){if(isNotAroundZero(b)){var t1=-c/b;t1>=0&&t1<=1&&(roots[n++]=t1)}}else{var disc=b*b-4*a*c;if(isAroundZero(disc)){var t1=-b/(2*a);t1>=0&&t1<=1&&(roots[n++]=t1)}else if(disc>0){var discSqrt=mathSqrt(disc),t1=(-b+discSqrt)/(2*a),t2=(-b-discSqrt)/(2*a);t1>=0&&t1<=1&&(roots[n++]=t1),t2>=0&&t2<=1&&(roots[n++]=t2)}}return n}function quadraticExtremum(p0,p1,p2){var divider=p0+p2-2*p1;return 0===divider?.5:(p0-p1)/divider}function quadraticSubdivide(p0,p1,p2,t,out){var p01=(p1-p0)*t+p0,p12=(p2-p1)*t+p1,p012=(p12-p01)*t+p01;out[0]=p0,out[1]=p01,out[2]=p012,out[3]=p012,out[4]=p12,out[5]=p2}function quadraticProjectPoint(x0,y0,x1,y1,x2,y2,x,y,out){var t,interval=.005,d=1/0;_v0[0]=x,_v0[1]=y;for(var _t=0;_t<1;_t+=.05){_v1[0]=quadraticAt(x0,x1,x2,_t),_v1[1]=quadraticAt(y0,y1,y2,_t);var d1=v2DistSquare(_v0,_v1);d1<d&&(t=_t,d=d1)}d=1/0;for(var i=0;i<32&&!(interval<EPSILON_NUMERIC);i++){var prev=t-interval,next=t+interval;_v1[0]=quadraticAt(x0,x1,x2,prev),_v1[1]=quadraticAt(y0,y1,y2,prev);var d1=v2DistSquare(_v1,_v0);if(prev>=0&&d1<d)t=prev,d=d1;else{_v2[0]=quadraticAt(x0,x1,x2,next),_v2[1]=quadraticAt(y0,y1,y2,next);var d2=v2DistSquare(_v2,_v0);next<=1&&d2<d?(t=next,d=d2):interval*=.5}}return out&&(out[0]=quadraticAt(x0,x1,x2,t),out[1]=quadraticAt(y0,y1,y2,t)),mathSqrt(d)}var _vector=__webpack_require__(38),v2Create=_vector.create,v2DistSquare=_vector.distSquare,mathPow=Math.pow,mathSqrt=Math.sqrt,EPSILON=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt(3),ONE_THIRD=1/3,_v0=v2Create(),_v1=v2Create(),_v2=v2Create();exports.cubicAt=cubicAt,exports.cubicDerivativeAt=cubicDerivativeAt,exports.cubicRootAt=cubicRootAt,exports.cubicExtrema=cubicExtrema,exports.cubicSubdivide=cubicSubdivide,exports.cubicProjectPoint=cubicProjectPoint,exports.quadraticAt=quadraticAt,exports.quadraticDerivativeAt=quadraticDerivativeAt,exports.quadraticRootAt=quadraticRootAt,exports.quadraticExtremum=quadraticExtremum,exports.quadraticSubdivide=quadraticSubdivide,exports.quadraticProjectPoint=quadraticProjectPoint},,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){function retrieveTargetInfo(payload,validPayloadTypes,seriesModel){if(payload&&zrUtil.indexOf(validPayloadTypes,payload.type)>=0){var root=seriesModel.getData().tree.root,targetNode=payload.targetNode;if(targetNode&&root.contains(targetNode))return{"node":targetNode};var targetNodeId=payload.targetNodeId;if(null!=targetNodeId&&(targetNode=root.getNodeById(targetNodeId)))return{"node":targetNode}}}function getPathToRoot(node){for(var path=[];node;)node=node.parentNode,node&&path.push(node);return path.reverse()}function aboveViewRoot(viewRoot,node){var viewPath=getPathToRoot(viewRoot);return zrUtil.indexOf(viewPath,node)>=0}function wrapTreePathInfo(node,seriesModel){for(var treePathInfo=[];node;){var nodeDataIndex=node.dataIndex;treePathInfo.push({"name":node.name,"dataIndex":nodeDataIndex,"value":seriesModel.getRawValue(nodeDataIndex)}),node=node.parentNode}return treePathInfo.reverse(),treePathInfo}var zrUtil=__webpack_require__(4);exports.retrieveTargetInfo=retrieveTargetInfo,exports.getPathToRoot=getPathToRoot,exports.aboveViewRoot=aboveViewRoot,exports.wrapTreePathInfo=wrapTreePathInfo},function(module,exports,__webpack_require__){function makeAxisEventDataBase(axisModel){var eventData={"componentType":axisModel.mainType};return eventData[axisModel.mainType+"Index"]=axisModel.componentIndex,eventData}function endTextLayout(opt,textPosition,textRotate,extent){var textAlign,textVerticalAlign,rotationDiff=remRadian(textRotate-opt.rotation),inverse=extent[0]>extent[1],onLeft="start"===textPosition&&!inverse||"start"!==textPosition&&inverse;return isRadianAroundZero(rotationDiff-PI/2)?(textVerticalAlign=onLeft?"bottom":"top",textAlign="center"):isRadianAroundZero(rotationDiff-1.5*PI)?(textVerticalAlign=onLeft?"top":"bottom",textAlign="center"):(textVerticalAlign="middle",textAlign=rotationDiff<1.5*PI&&rotationDiff>PI/2?onLeft?"left":"right":onLeft?"right":"left"),{"rotation":rotationDiff,"textAlign":textAlign,"textVerticalAlign":textVerticalAlign}}function isSilent(axisModel){var tooltipOpt=axisModel.get("tooltip");return axisModel.get("silent")||!(axisModel.get("triggerEvent")||tooltipOpt&&tooltipOpt.show)}function fixMinMaxLabelShow(axisModel,labelEls,tickEls){var showMinLabel=axisModel.get("axisLabel.showMinLabel"),showMaxLabel=axisModel.get("axisLabel.showMaxLabel");labelEls=labelEls||[],tickEls=tickEls||[];var firstLabel=labelEls[0],nextLabel=labelEls[1],lastLabel=labelEls[labelEls.length-1],prevLabel=labelEls[labelEls.length-2],firstTick=tickEls[0],nextTick=tickEls[1],lastTick=tickEls[tickEls.length-1],prevTick=tickEls[tickEls.length-2];showMinLabel===!1?(ignoreEl(firstLabel),ignoreEl(firstTick)):isTwoLabelOverlapped(firstLabel,nextLabel)&&(showMinLabel?(ignoreEl(nextLabel),ignoreEl(nextTick)):(ignoreEl(firstLabel),ignoreEl(firstTick))),showMaxLabel===!1?(ignoreEl(lastLabel),ignoreEl(lastTick)):isTwoLabelOverlapped(prevLabel,lastLabel)&&(showMaxLabel?(ignoreEl(prevLabel),ignoreEl(prevTick)):(ignoreEl(lastLabel),ignoreEl(lastTick)))}function ignoreEl(el){el&&(el.ignore=!0)}function isTwoLabelOverlapped(current,next,labelLayout){var firstRect=current&&current.getBoundingRect().clone(),nextRect=next&&next.getBoundingRect().clone();if(firstRect&&nextRect){var mRotationBack=matrixUtil.identity([]);return matrixUtil.rotate(mRotationBack,mRotationBack,-current.rotation),firstRect.applyTransform(matrixUtil.mul([],mRotationBack,current.getLocalTransform())),nextRect.applyTransform(matrixUtil.mul([],mRotationBack,next.getLocalTransform())),firstRect.intersect(nextRect)}}function isNameLocationCenter(nameLocation){return"middle"===nameLocation||"center"===nameLocation}function buildAxisTick(axisBuilder,axisModel,opt){var axis=axisModel.axis;if(axisModel.get("axisTick.show")&&!axis.scale.isBlank()){for(var tickModel=axisModel.getModel("axisTick"),lineStyleModel=tickModel.getModel("lineStyle"),tickLen=tickModel.get("length"),ticksCoords=axis.getTicksCoords(),pt1=[],pt2=[],matrix=axisBuilder._transform,tickEls=[],i=0;i<ticksCoords.length;i++){var tickCoord=ticksCoords[i].coord;pt1[0]=tickCoord,pt1[1]=0,pt2[0]=tickCoord,pt2[1]=opt.tickDirection*tickLen,matrix&&(v2ApplyTransform(pt1,pt1,matrix),v2ApplyTransform(pt2,pt2,matrix));var tickEl=new graphic.Line(graphic.subPixelOptimizeLine({"anid":"tick_"+ticksCoords[i].tickValue,"shape":{"x1":pt1[0],"y1":pt1[1],"x2":pt2[0],"y2":pt2[1]},"style":defaults(lineStyleModel.getLineStyle(),{"stroke":axisModel.get("axisLine.lineStyle.color")}),"z2":2,"silent":!0}));axisBuilder.group.add(tickEl),tickEls.push(tickEl)}return tickEls}}function buildAxisLabel(axisBuilder,axisModel,opt){var axis=axisModel.axis,show=retrieve(opt.axisLabelShow,axisModel.get("axisLabel.show"));if(show&&!axis.scale.isBlank()){var labelModel=axisModel.getModel("axisLabel"),labelMargin=labelModel.get("margin"),labels=axis.getViewLabels(),labelRotation=(retrieve(opt.labelRotate,labelModel.get("rotate"))||0)*PI/180,labelLayout=innerTextLayout(opt.rotation,labelRotation,opt.labelDirection),rawCategoryData=axisModel.getCategories(!0),labelEls=[],silent=isSilent(axisModel),triggerEvent=axisModel.get("triggerEvent");return each(labels,function(labelItem,index){var tickValue=labelItem.tickValue,formattedLabel=labelItem.formattedLabel,rawLabel=labelItem.rawLabel,itemLabelModel=labelModel;rawCategoryData&&rawCategoryData[tickValue]&&rawCategoryData[tickValue].textStyle&&(itemLabelModel=new Model(rawCategoryData[tickValue].textStyle,labelModel,axisModel.ecModel));var textColor=itemLabelModel.getTextColor()||axisModel.get("axisLine.lineStyle.color"),tickCoord=axis.dataToCoord(tickValue),pos=[tickCoord,opt.labelOffset+opt.labelDirection*labelMargin],textEl=new graphic.Text({"anid":"label_"+tickValue,"position":pos,"rotation":labelLayout.rotation,"silent":silent,"z2":10});graphic.setTextStyle(textEl.style,itemLabelModel,{"text":formattedLabel,"textAlign":itemLabelModel.getShallow("align",!0)||labelLayout.textAlign,"textVerticalAlign":itemLabelModel.getShallow("verticalAlign",!0)||itemLabelModel.getShallow("baseline",!0)||labelLayout.textVerticalAlign,"textFill":"function"==typeof textColor?textColor("category"===axis.type?rawLabel:"value"===axis.type?tickValue+"":tickValue,index):textColor}),triggerEvent&&(textEl.eventData=makeAxisEventDataBase(axisModel),textEl.eventData.targetType="axisLabel",textEl.eventData.value=rawLabel),axisBuilder._dumbGroup.add(textEl),textEl.updateTransform(),labelEls.push(textEl),axisBuilder.group.add(textEl),textEl.decomposeTransform()}),labelEls}}var _util=__webpack_require__(4),retrieve=_util.retrieve,defaults=_util.defaults,extend=_util.extend,each=_util.each,formatUtil=__webpack_require__(40),graphic=__webpack_require__(15),Model=__webpack_require__(56),_number=__webpack_require__(20),isRadianAroundZero=_number.isRadianAroundZero,remRadian=_number.remRadian,_symbol=__webpack_require__(83),createSymbol=_symbol.createSymbol,matrixUtil=__webpack_require__(70),_vector=__webpack_require__(38),v2ApplyTransform=_vector.applyTransform,PI=Math.PI,AxisBuilder=function(axisModel,opt){this.opt=opt,this.axisModel=axisModel,defaults(opt,{"labelOffset":0,"nameDirection":1,"tickDirection":1,"labelDirection":1,"silent":!0}),this.group=new graphic.Group;var dumbGroup=new graphic.Group({"position":opt.position.slice(),"rotation":opt.rotation});dumbGroup.updateTransform(),this._transform=dumbGroup.transform,this._dumbGroup=dumbGroup};AxisBuilder.prototype={"constructor":AxisBuilder,"hasBuilder":function(name){return!!builders[name]},"add":function(name){builders[name].call(this)},"getGroup":function(){return this.group}};var builders={"axisLine":function(){var opt=this.opt,axisModel=this.axisModel;if(axisModel.get("axisLine.show")){var extent=this.axisModel.axis.getExtent(),matrix=this._transform,pt1=[extent[0],0],pt2=[extent[1],0];matrix&&(v2ApplyTransform(pt1,pt1,matrix),v2ApplyTransform(pt2,pt2,matrix));var lineStyle=extend({"lineCap":"round"},axisModel.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new graphic.Line(graphic.subPixelOptimizeLine({"anid":"line","shape":{"x1":pt1[0],"y1":pt1[1],"x2":pt2[0],"y2":pt2[1]},"style":lineStyle,"strokeContainThreshold":opt.strokeContainThreshold||5,"silent":!0,"z2":1})));var arrows=axisModel.get("axisLine.symbol"),arrowSize=axisModel.get("axisLine.symbolSize"),arrowOffset=axisModel.get("axisLine.symbolOffset")||0;if("number"==typeof arrowOffset&&(arrowOffset=[arrowOffset,arrowOffset]),null!=arrows){"string"==typeof arrows&&(arrows=[arrows,arrows]),"string"!=typeof arrowSize&&"number"!=typeof arrowSize||(arrowSize=[arrowSize,arrowSize]);var symbolWidth=arrowSize[0],symbolHeight=arrowSize[1];each([{"rotate":opt.rotation+Math.PI/2,"offset":arrowOffset[0],"r":0},{"rotate":opt.rotation-Math.PI/2,"offset":arrowOffset[1],"r":Math.sqrt((pt1[0]-pt2[0])*(pt1[0]-pt2[0])+(pt1[1]-pt2[1])*(pt1[1]-pt2[1]))}],function(point,index){if("none"!==arrows[index]&&null!=arrows[index]){var symbol=createSymbol(arrows[index],-symbolWidth/2,-symbolHeight/2,symbolWidth,symbolHeight,lineStyle.stroke,!0),r=point.r+point.offset,pos=[pt1[0]+r*Math.cos(opt.rotation),pt1[1]-r*Math.sin(opt.rotation)];symbol.attr({"rotation":point.rotate,"position":pos,"silent":!0}),this.group.add(symbol)}},this)}}},"axisTickLabel":function(){var axisModel=this.axisModel,opt=this.opt,tickEls=buildAxisTick(this,axisModel,opt),labelEls=buildAxisLabel(this,axisModel,opt);fixMinMaxLabelShow(axisModel,labelEls,tickEls)},"axisName":function(){var opt=this.opt,axisModel=this.axisModel,name=retrieve(opt.axisName,axisModel.get("name"));if(name){var labelLayout,nameLocation=axisModel.get("nameLocation"),nameDirection=opt.nameDirection,textStyleModel=axisModel.getModel("nameTextStyle"),gap=axisModel.get("nameGap")||0,extent=this.axisModel.axis.getExtent(),gapSignal=extent[0]>extent[1]?-1:1,pos=["start"===nameLocation?extent[0]-gapSignal*gap:"end"===nameLocation?extent[1]+gapSignal*gap:(extent[0]+extent[1])/2,isNameLocationCenter(nameLocation)?opt.labelOffset+nameDirection*gap:0],nameRotation=axisModel.get("nameRotate");null!=nameRotation&&(nameRotation=nameRotation*PI/180);var axisNameAvailableWidth;isNameLocationCenter(nameLocation)?labelLayout=innerTextLayout(opt.rotation,null!=nameRotation?nameRotation:opt.rotation,nameDirection):(labelLayout=endTextLayout(opt,nameLocation,nameRotation||0,extent),axisNameAvailableWidth=opt.axisNameAvailableWidth,null!=axisNameAvailableWidth&&(axisNameAvailableWidth=Math.abs(axisNameAvailableWidth/Math.sin(labelLayout.rotation)),!isFinite(axisNameAvailableWidth)&&(axisNameAvailableWidth=null)));var textFont=textStyleModel.getFont(),truncateOpt=axisModel.get("nameTruncate",!0)||{},ellipsis=truncateOpt.ellipsis,maxWidth=retrieve(opt.nameTruncateMaxWidth,truncateOpt.maxWidth,axisNameAvailableWidth),truncatedText=null!=ellipsis&&null!=maxWidth?formatUtil.truncateText(name,maxWidth,textFont,ellipsis,{"minChar":2,"placeholder":truncateOpt.placeholder}):name,tooltipOpt=axisModel.get("tooltip",!0),mainType=axisModel.mainType,formatterParams={"componentType":mainType,"name":name,"$vars":["name"]};formatterParams[mainType+"Index"]=axisModel.componentIndex;var textEl=new graphic.Text({"anid":"name","__fullText":name,"__truncatedText":truncatedText,"position":pos,"rotation":labelLayout.rotation,"silent":isSilent(axisModel),"z2":1,"tooltip":tooltipOpt&&tooltipOpt.show?extend({"content":name,"formatter":function(){return name},"formatterParams":formatterParams},tooltipOpt):null});graphic.setTextStyle(textEl.style,textStyleModel,{"text":truncatedText,"textFont":textFont,"textFill":textStyleModel.getTextColor()||axisModel.get("axisLine.lineStyle.color"),
"textAlign":labelLayout.textAlign,"textVerticalAlign":labelLayout.textVerticalAlign}),axisModel.get("triggerEvent")&&(textEl.eventData=makeAxisEventDataBase(axisModel),textEl.eventData.targetType="axisName",textEl.eventData.name=name),this._dumbGroup.add(textEl),textEl.updateTransform(),this.group.add(textEl),textEl.decomposeTransform()}}},innerTextLayout=AxisBuilder.innerTextLayout=function(axisRotation,textRotation,direction){var textAlign,textVerticalAlign,rotationDiff=remRadian(textRotation-axisRotation);return isRadianAroundZero(rotationDiff)?(textVerticalAlign=direction>0?"top":"bottom",textAlign="center"):isRadianAroundZero(rotationDiff-PI)?(textVerticalAlign=direction>0?"bottom":"top",textAlign="center"):(textVerticalAlign="middle",textAlign=rotationDiff>0&&rotationDiff<PI?direction>0?"right":"left":direction>0?"left":"right"),{"rotation":rotationDiff,"textAlign":textAlign,"textVerticalAlign":textVerticalAlign}},_default=AxisBuilder;module.exports=_default},function(module,exports,__webpack_require__){function updateAxisPointer(axisView,axisModel,ecModel,api,payload,forceRender){var Clazz=AxisView.getAxisPointerClass(axisView.axisPointerClass);if(Clazz){var axisPointerModel=axisPointerModelHelper.getAxisPointerModel(axisModel);axisPointerModel?(axisView._axisPointer||(axisView._axisPointer=new Clazz)).render(axisModel,axisPointerModel,api,forceRender):disposeAxisPointer(axisView,api)}}function disposeAxisPointer(axisView,ecModel,api){var axisPointer=axisView._axisPointer;axisPointer&&axisPointer.dispose(ecModel,api),axisView._axisPointer=null}var _config=__webpack_require__(30),echarts=(_config.__DEV__,__webpack_require__(13)),axisPointerModelHelper=__webpack_require__(270),AxisView=echarts.extendComponentView({"type":"axis","_axisPointer":null,"axisPointerClass":null,"render":function(axisModel,ecModel,api,payload){this.axisPointerClass&&axisPointerModelHelper.fixValue(axisModel),AxisView.superApply(this,"render",arguments),updateAxisPointer(this,axisModel,ecModel,api,payload,!0)},"updateAxisPointer":function(axisModel,ecModel,api,payload,force){updateAxisPointer(this,axisModel,ecModel,api,payload,!1)},"remove":function(ecModel,api){var axisPointer=this._axisPointer;axisPointer&&axisPointer.remove(api),AxisView.superApply(this,"remove",arguments)},"dispose":function(ecModel,api){disposeAxisPointer(this,api),AxisView.superApply(this,"dispose",arguments)}}),axisPointerClazz=[];AxisView.registerAxisPointerClass=function(type,clazz){axisPointerClazz[type]=clazz},AxisView.getAxisPointerClass=function(type){return type&&axisPointerClazz[type]};var _default=AxisView;module.exports=_default},function(module,exports){function defaultKeyGetter(item){return item}function DataDiffer(oldArr,newArr,oldKeyGetter,newKeyGetter,context){this._old=oldArr,this._new=newArr,this._oldKeyGetter=oldKeyGetter||defaultKeyGetter,this._newKeyGetter=newKeyGetter||defaultKeyGetter,this.context=context}function initIndexMap(arr,map,keyArr,keyGetterName,dataDiffer){for(var i=0;i<arr.length;i++){var key="_ec_"+dataDiffer[keyGetterName](arr[i],i),existence=map[key];null==existence?(keyArr.push(key),map[key]=i):(existence.length||(map[key]=existence=[existence]),existence.push(i))}}DataDiffer.prototype={"constructor":DataDiffer,"add":function(func){return this._add=func,this},"update":function(func){return this._update=func,this},"remove":function(func){return this._remove=func,this},"execute":function(){var i,oldArr=this._old,newArr=this._new,oldDataIndexMap={},newDataIndexMap={},oldDataKeyArr=[],newDataKeyArr=[];for(initIndexMap(oldArr,oldDataIndexMap,oldDataKeyArr,"_oldKeyGetter",this),initIndexMap(newArr,newDataIndexMap,newDataKeyArr,"_newKeyGetter",this),i=0;i<oldArr.length;i++){var key=oldDataKeyArr[i],idx=newDataIndexMap[key];if(null!=idx){var len=idx.length;len?(1===len&&(newDataIndexMap[key]=null),idx=idx.unshift()):newDataIndexMap[key]=null,this._update&&this._update(idx,i)}else this._remove&&this._remove(i)}for(var i=0;i<newDataKeyArr.length;i++){var key=newDataKeyArr[i];if(newDataIndexMap.hasOwnProperty(key)){var idx=newDataIndexMap[key];if(null==idx)continue;if(idx.length)for(var j=0,len=idx.length;j<len;j++)this._add&&this._add(idx[j]);else this._add&&this._add(idx)}}}};var _default=DataDiffer;module.exports=_default},function(module,exports,__webpack_require__){function DefaultDataProvider(source,dimSize){Source.isInstance(source)||(source=Source.seriesDataToSource(source)),this._source=source;var data=this._data=source.data,sourceFormat=source.sourceFormat;sourceFormat===SOURCE_FORMAT_TYPED_ARRAY&&(this._offset=0,this._dimSize=dimSize,this._data=data);var methods=providerMethods[sourceFormat===SOURCE_FORMAT_ARRAY_ROWS?sourceFormat+"_"+source.seriesLayoutBy:sourceFormat];extend(this,methods)}function countSimply(){return this._data.length}function getItemSimply(idx){return this._data[idx]}function appendDataSimply(newData){for(var i=0;i<newData.length;i++)this._data.push(newData[i])}function getRawValueSimply(dataItem,dataIndex,dimIndex,dimName){return null!=dimIndex?dataItem[dimIndex]:dataItem}function getDimValueSimply(dataItem,dimName,dataIndex,dimIndex){return converDataValue(dataItem[dimIndex],this._dimensionInfos[dimName])}function converDataValue(value,dimInfo){var dimType=dimInfo&&dimInfo.type;if("ordinal"===dimType){var ordinalMeta=dimInfo&&dimInfo.ordinalMeta;return ordinalMeta?ordinalMeta.parseAndCollect(value):value}return"time"===dimType&&"number"!=typeof value&&null!=value&&"-"!==value&&(value=+parseDate(value)),null==value||""===value?NaN:+value}function retrieveRawValue(data,dataIndex,dim){if(data){var dataItem=data.getRawDataItem(dataIndex);if(null!=dataItem){var dimName,dimIndex,sourceFormat=data.getProvider().getSource().sourceFormat,dimInfo=data.getDimensionInfo(dim);return dimInfo&&(dimName=dimInfo.name,dimIndex=dimInfo.index),rawValueGetters[sourceFormat](dataItem,dataIndex,dimIndex,dimName)}}}function retrieveRawAttr(data,dataIndex,attr){if(data){var sourceFormat=data.getProvider().getSource().sourceFormat;if(sourceFormat===SOURCE_FORMAT_ORIGINAL||sourceFormat===SOURCE_FORMAT_OBJECT_ROWS){var dataItem=data.getRawDataItem(dataIndex);return sourceFormat!==SOURCE_FORMAT_ORIGINAL||isObject(dataItem)||(dataItem=null),dataItem?dataItem[attr]:void 0}}}var _config=__webpack_require__(30),_util=(_config.__DEV__,__webpack_require__(4)),extend=(_util.isTypedArray,_util.extend),each=(_util.assert,_util.each),isObject=_util.isObject,_model=__webpack_require__(27),getDataItemValue=_model.getDataItemValue,isDataItemOption=_model.isDataItemOption,_number=__webpack_require__(20),parseDate=_number.parseDate,Source=__webpack_require__(220),_sourceType=__webpack_require__(222),SOURCE_FORMAT_TYPED_ARRAY=_sourceType.SOURCE_FORMAT_TYPED_ARRAY,SOURCE_FORMAT_ARRAY_ROWS=_sourceType.SOURCE_FORMAT_ARRAY_ROWS,SOURCE_FORMAT_ORIGINAL=_sourceType.SOURCE_FORMAT_ORIGINAL,SOURCE_FORMAT_OBJECT_ROWS=_sourceType.SOURCE_FORMAT_OBJECT_ROWS,providerProto=DefaultDataProvider.prototype;providerProto.pure=!1,providerProto.persistent=!0,providerProto.getSource=function(){return this._source};var providerMethods={"arrayRows_column":{"pure":!0,"count":function(){return Math.max(0,this._data.length-this._source.startIndex)},"getItem":function(idx){return this._data[idx+this._source.startIndex]},"appendData":appendDataSimply},"arrayRows_row":{"pure":!0,"count":function(){var row=this._data[0];return row?Math.max(0,row.length-this._source.startIndex):0},"getItem":function(idx){idx+=this._source.startIndex;for(var item=[],data=this._data,i=0;i<data.length;i++){var row=data[i];item.push(row?row[idx]:null)}return item},"appendData":function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},"objectRows":{"pure":!0,"count":countSimply,"getItem":getItemSimply,"appendData":appendDataSimply},"keyedColumns":{"pure":!0,"count":function(){var dimName=this._source.dimensionsDefine[0].name,col=this._data[dimName];return col?col.length:0},"getItem":function(idx){for(var item=[],dims=this._source.dimensionsDefine,i=0;i<dims.length;i++){var col=this._data[dims[i].name];item.push(col?col[idx]:null)}return item},"appendData":function(newData){var data=this._data;each(newData,function(newCol,key){for(var oldCol=data[key]||(data[key]=[]),i=0;i<(newCol||[]).length;i++)oldCol.push(newCol[i])})}},"original":{"count":countSimply,"getItem":getItemSimply,"appendData":appendDataSimply},"typedArray":{"persistent":!1,"pure":!0,"count":function(){return this._data?this._data.length/this._dimSize:0},"getItem":function(idx,out){idx-=this._offset,out=out||[];for(var offset=this._dimSize*idx,i=0;i<this._dimSize;i++)out[i]=this._data[offset+i];return out},"appendData":function(newData){this._data=newData},"clean":function(){this._offset+=this.count(),this._data=null}}},rawValueGetters={"arrayRows":getRawValueSimply,"objectRows":function(dataItem,dataIndex,dimIndex,dimName){return null!=dimIndex?dataItem[dimName]:dataItem},"keyedColumns":getRawValueSimply,"original":function(dataItem,dataIndex,dimIndex,dimName){var value=getDataItemValue(dataItem);return null!=dimIndex&&value instanceof Array?value[dimIndex]:value},"typedArray":getRawValueSimply},defaultDimValueGetters={"arrayRows":getDimValueSimply,"objectRows":function(dataItem,dimName,dataIndex,dimIndex){return converDataValue(dataItem[dimName],this._dimensionInfos[dimName])},"keyedColumns":getDimValueSimply,"original":function(dataItem,dimName,dataIndex,dimIndex){var value=dataItem&&(null==dataItem.value?dataItem:dataItem.value);return!this._rawData.pure&&isDataItemOption(dataItem)&&(this.hasItemOption=!0),converDataValue(value instanceof Array?value[dimIndex]:value,this._dimensionInfos[dimName])},"typedArray":function(dataItem,dimName,dataIndex,dimIndex){return dataItem[dimIndex]}};exports.DefaultDataProvider=DefaultDataProvider,exports.defaultDimValueGetters=defaultDimValueGetters,exports.retrieveRawValue=retrieveRawValue,exports.retrieveRawAttr=retrieveRawAttr},function(module,exports){var _default={"toolbox":{"brush":{"title":{"rect":"\u77e9\u5f62\u9009\u62e9","polygon":"\u5708\u9009","lineX":"\u6a2a\u5411\u9009\u62e9","lineY":"\u7eb5\u5411\u9009\u62e9","keep":"\u4fdd\u6301\u9009\u62e9","clear":"\u6e05\u9664\u9009\u62e9"}},"dataView":{"title":"\u6570\u636e\u89c6\u56fe","lang":["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},"dataZoom":{"title":{"zoom":"\u533a\u57df\u7f29\u653e","back":"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},"magicType":{"title":{"line":"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe","bar":"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe","stack":"\u5207\u6362\u4e3a\u5806\u53e0","tiled":"\u5207\u6362\u4e3a\u5e73\u94fa"}},"restore":{"title":"\u8fd8\u539f"},"saveAsImage":{"title":"\u4fdd\u5b58\u4e3a\u56fe\u7247","lang":["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},"series":{"typeNames":{"pie":"\u997c\u56fe","bar":"\u67f1\u72b6\u56fe","line":"\u6298\u7ebf\u56fe","scatter":"\u6563\u70b9\u56fe","effectScatter":"\u6d9f\u6f2a\u6563\u70b9\u56fe","radar":"\u96f7\u8fbe\u56fe","tree":"\u6811\u56fe","treemap":"\u77e9\u5f62\u6811\u56fe","boxplot":"\u7bb1\u578b\u56fe","candlestick":"K\u7ebf\u56fe","k":"K\u7ebf\u56fe","heatmap":"\u70ed\u529b\u56fe","map":"\u5730\u56fe","parallel":"\u5e73\u884c\u5750\u6807\u56fe","lines":"\u7ebf\u56fe","graph":"\u5173\u7cfb\u56fe","sankey":"\u6851\u57fa\u56fe","funnel":"\u6f0f\u6597\u56fe","gauge":"\u4eea\u8868\u76d8\u56fe","pictorialBar":"\u8c61\u5f62\u67f1\u56fe","themeRiver":"\u4e3b\u9898\u6cb3\u6d41\u56fe","sunburst":"\u65ed\u65e5\u56fe"}},"aria":{"general":{"withTitle":"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002","withoutTitle":"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},"series":{"single":{"prefix":"","withName":"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002","withoutName":"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},"multiple":{"prefix":"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002","withName":"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c","withoutName":"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c","separator":{"middle":"\uff1b","end":"\u3002"}}},"data":{"allData":"\u5176\u6570\u636e\u662f\u2014\u2014","partialData":"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014","withName":"{name}\u7684\u6570\u636e\u662f{value}","withoutName":"{value}","separator":{"middle":"\uff0c","end":""}}}};module.exports=_default},function(module,exports){function throttle(fn,delay,debounce){function exec(){lastExec=(new Date).getTime(),timer=null,fn.apply(scope,args||[])}var currCall,diff,scope,args,debounceNextCall,lastCall=0,lastExec=0,timer=null;delay=delay||0;var cb=function(){currCall=(new Date).getTime(),scope=this,args=arguments;var thisDelay=debounceNextCall||delay,thisDebounce=debounceNextCall||debounce;debounceNextCall=null,diff=currCall-(thisDebounce?lastCall:lastExec)-thisDelay,clearTimeout(timer),thisDebounce?timer=setTimeout(exec,thisDelay):diff>=0?exec():timer=setTimeout(exec,-diff),lastCall=currCall};return cb.clear=function(){timer&&(clearTimeout(timer),timer=null)},cb.debounceNextCall=function(debounceDelay){debounceNextCall=debounceDelay},cb}function createOrUpdate(obj,fnAttr,rate,throttleType){var fn=obj[fnAttr];if(fn){var originFn=fn[ORIGIN_METHOD]||fn,lastThrottleType=fn[THROTTLE_TYPE],lastRate=fn[RATE];if(lastRate!==rate||lastThrottleType!==throttleType){if(null==rate||!throttleType)return obj[fnAttr]=originFn;fn=obj[fnAttr]=throttle(originFn,rate,"debounce"===throttleType),fn[ORIGIN_METHOD]=originFn,fn[THROTTLE_TYPE]=throttleType,fn[RATE]=rate}return fn}}function clear(obj,fnAttr){var fn=obj[fnAttr];fn&&fn[ORIGIN_METHOD]&&(obj[fnAttr]=fn[ORIGIN_METHOD])}var ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";exports.throttle=throttle,exports.createOrUpdate=createOrUpdate,exports.clear=clear},function(module,exports,__webpack_require__){function preprocessForPiecewise(thisOption){var pieceList=thisOption.pieceList;thisOption.hasSpecialVisual=!1,zrUtil.each(pieceList,function(piece,index){piece.originIndex=index,null!=piece.visual&&(thisOption.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory(thisOption){var categories=thisOption.categories,visual=thisOption.visual,categoryMap=thisOption.categoryMap={};if(each(categories,function(cate,index){categoryMap[cate]=index}),!zrUtil.isArray(visual)){var visualArr=[];zrUtil.isObject(visual)?each(visual,function(v,cate){var index=categoryMap[cate];visualArr[null!=index?index:CATEGORY_DEFAULT_VISUAL_INDEX]=v}):visualArr[CATEGORY_DEFAULT_VISUAL_INDEX]=visual,visual=setVisualToOption(thisOption,visualArr)}for(var i=categories.length-1;i>=0;i--)null==visual[i]&&(delete categoryMap[categories[i]],categories.pop())}function normalizeVisualRange(thisOption,isCategory){var visual=thisOption.visual,visualArr=[];zrUtil.isObject(visual)?each(visual,function(v){visualArr.push(v)}):null!=visual&&visualArr.push(visual);var doNotNeedPair={"color":1,"symbol":1};isCategory||1!==visualArr.length||doNotNeedPair.hasOwnProperty(thisOption.type)||(visualArr[1]=visualArr[0]),setVisualToOption(thisOption,visualArr)}function makePartialColorVisualHandler(applyValue){return{"applyVisual":function(value,getter,setter){value=this.mapValueToVisual(value),setter("color",applyValue(getter("color"),value))},"_doMap":makeDoMap([0,1])}}function doMapToArray(normalized){var visual=this.option.visual;return visual[Math.round(linearMap(normalized,[0,1],[0,visual.length-1],!0))]||{}}function makeApplyVisual(visualType){return function(value,getter,setter){setter(visualType,this.mapValueToVisual(value))}}function doMapCategory(normalized){var visual=this.option.visual;return visual[this.option.loop&&normalized!==CATEGORY_DEFAULT_VISUAL_INDEX?normalized%visual.length:normalized]}function doMapFixed(){return this.option.visual[0]}function makeDoMap(sourceExtent){return{"linear":function(normalized){return linearMap(normalized,sourceExtent,this.option.visual,!0)},"category":doMapCategory,"piecewise":function(normalized,value){var result=getSpecifiedVisual.call(this,value);return null==result&&(result=linearMap(normalized,sourceExtent,this.option.visual,!0)),result},"fixed":doMapFixed}}function getSpecifiedVisual(value){var thisOption=this.option,pieceList=thisOption.pieceList;if(thisOption.hasSpecialVisual){var pieceIndex=VisualMapping.findPieceIndex(value,pieceList),piece=pieceList[pieceIndex];if(piece&&piece.visual)return piece.visual[this.type]}}function setVisualToOption(thisOption,visualArr){return thisOption.visual=visualArr,"color"===thisOption.type&&(thisOption.parsedVisual=zrUtil.map(visualArr,function(item){return zrColor.parse(item)})),visualArr}function littleThan(close,a,b){return close?a<=b:a<b}var zrUtil=__webpack_require__(4),zrColor=__webpack_require__(125),_number=__webpack_require__(20),linearMap=_number.linearMap,each=zrUtil.each,isObject=zrUtil.isObject,CATEGORY_DEFAULT_VISUAL_INDEX=-1,VisualMapping=function(option){var mappingMethod=option.mappingMethod,visualType=option.type,thisOption=this.option=zrUtil.clone(option);this.type=visualType,this.mappingMethod=mappingMethod,this._normalizeData=normalizers[mappingMethod];var visualHandler=visualHandlers[visualType];this.applyVisual=visualHandler.applyVisual,this.getColorMapper=visualHandler.getColorMapper,this._doMap=visualHandler._doMap[mappingMethod],"piecewise"===mappingMethod?(normalizeVisualRange(thisOption),preprocessForPiecewise(thisOption)):"category"===mappingMethod?thisOption.categories?preprocessForSpecifiedCategory(thisOption):normalizeVisualRange(thisOption,!0):(zrUtil.assert("linear"!==mappingMethod||thisOption.dataExtent),normalizeVisualRange(thisOption))};VisualMapping.prototype={"constructor":VisualMapping,"mapValueToVisual":function(value){var normalized=this._normalizeData(value);return this._doMap(normalized,value)},"getNormalizer":function(){return zrUtil.bind(this._normalizeData,this)}};var visualHandlers=VisualMapping.visualHandlers={"color":{"applyVisual":makeApplyVisual("color"),"getColorMapper":function(){var thisOption=this.option;return zrUtil.bind("category"===thisOption.mappingMethod?function(value,isNormalized){return!isNormalized&&(value=this._normalizeData(value)),doMapCategory.call(this,value)}:function(value,isNormalized,out){var returnRGBArray=!!out;return!isNormalized&&(value=this._normalizeData(value)),out=zrColor.fastLerp(value,thisOption.parsedVisual,out),returnRGBArray?out:zrColor.stringify(out,"rgba")},this)},"_doMap":{"linear":function(normalized){return zrColor.stringify(zrColor.fastLerp(normalized,this.option.parsedVisual),"rgba")},"category":doMapCategory,"piecewise":function(normalized,value){var result=getSpecifiedVisual.call(this,value);return null==result&&(result=zrColor.stringify(zrColor.fastLerp(normalized,this.option.parsedVisual),"rgba")),result},"fixed":doMapFixed}},"colorHue":makePartialColorVisualHandler(function(color,value){return zrColor.modifyHSL(color,value)}),"colorSaturation":makePartialColorVisualHandler(function(color,value){return zrColor.modifyHSL(color,null,value)}),"colorLightness":makePartialColorVisualHandler(function(color,value){return zrColor.modifyHSL(color,null,null,value)}),"colorAlpha":makePartialColorVisualHandler(function(color,value){return zrColor.modifyAlpha(color,value)}),"opacity":{"applyVisual":makeApplyVisual("opacity"),"_doMap":makeDoMap([0,1])},"liftZ":{"applyVisual":makeApplyVisual("liftZ"),"_doMap":{"linear":doMapFixed,"category":doMapFixed,"piecewise":doMapFixed,"fixed":doMapFixed}},"symbol":{"applyVisual":function(value,getter,setter){var symbolCfg=this.mapValueToVisual(value);if(zrUtil.isString(symbolCfg))setter("symbol",symbolCfg);else if(isObject(symbolCfg))for(var name in symbolCfg)symbolCfg.hasOwnProperty(name)&&setter(name,symbolCfg[name])},"_doMap":{"linear":doMapToArray,"category":doMapCategory,"piecewise":function(normalized,value){var result=getSpecifiedVisual.call(this,value);return null==result&&(result=doMapToArray.call(this,normalized)),result},"fixed":doMapFixed}},"symbolSize":{"applyVisual":makeApplyVisual("symbolSize"),"_doMap":makeDoMap([0,1])}},normalizers={"linear":function(value){return linearMap(value,this.option.dataExtent,[0,1],!0)},"piecewise":function(value){var pieceList=this.option.pieceList,pieceIndex=VisualMapping.findPieceIndex(value,pieceList,!0);if(null!=pieceIndex)return linearMap(pieceIndex,[0,pieceList.length-1],[0,1],!0)},"category":function(value){var index=this.option.categories?this.option.categoryMap[value]:value;return null==index?CATEGORY_DEFAULT_VISUAL_INDEX:index},"fixed":zrUtil.noop};VisualMapping.listVisualTypes=function(){var visualTypes=[];return zrUtil.each(visualHandlers,function(handler,key){visualTypes.push(key)}),visualTypes},VisualMapping.addVisualHandler=function(name,handler){visualHandlers[name]=handler},VisualMapping.isValidType=function(visualType){return visualHandlers.hasOwnProperty(visualType)},VisualMapping.eachVisual=function(visual,callback,context){zrUtil.isObject(visual)?zrUtil.each(visual,callback,context):callback.call(context,visual)},VisualMapping.mapVisual=function(visual,callback,context){var isPrimary,newVisual=zrUtil.isArray(visual)?[]:zrUtil.isObject(visual)?{}:(isPrimary=!0,null);return VisualMapping.eachVisual(visual,function(v,key){var newVal=callback.call(context,v,key);isPrimary?newVisual=newVal:newVisual[key]=newVal}),newVisual},VisualMapping.retrieveVisuals=function(obj){var hasVisual,ret={};return obj&&each(visualHandlers,function(h,visualType){obj.hasOwnProperty(visualType)&&(ret[visualType]=obj[visualType],hasVisual=!0)}),hasVisual?ret:null},VisualMapping.prepareVisualTypes=function(visualTypes){if(isObject(visualTypes)){var types=[];each(visualTypes,function(item,type){types.push(type)}),visualTypes=types}else{if(!zrUtil.isArray(visualTypes))return[];visualTypes=visualTypes.slice()}return visualTypes.sort(function(type1,type2){return"color"===type2&&"color"!==type1&&0===type1.indexOf("color")?1:-1}),visualTypes},VisualMapping.dependsOn=function(visualType1,visualType2){return"color"===visualType2?!(!visualType1||0!==visualType1.indexOf(visualType2)):visualType1===visualType2},VisualMapping.findPieceIndex=function(value,pieceList,findClosestWhenOutside){function updatePossible(val,index){var newAbs=Math.abs(val-value);newAbs<abs&&(abs=newAbs,possibleI=index)}for(var possibleI,abs=1/0,i=0,len=pieceList.length;i<len;i++){var pieceValue=pieceList[i].value;if(null!=pieceValue){if(pieceValue===value||"string"==typeof pieceValue&&pieceValue===value+"")return i;findClosestWhenOutside&&updatePossible(pieceValue,i)}}for(var i=0,len=pieceList.length;i<len;i++){var piece=pieceList[i],interval=piece.interval,close=piece.close;if(interval){if(interval[0]===-(1/0)){if(littleThan(close[1],value,interval[1]))return i}else if(interval[1]===1/0){if(littleThan(close[0],interval[0],value))return i}else if(littleThan(close[0],interval[0],value)&&littleThan(close[1],value,interval[1]))return i;findClosestWhenOutside&&updatePossible(interval[0],i),findClosestWhenOutside&&updatePossible(interval[1],i)}}if(findClosestWhenOutside)return value===1/0?pieceList.length-1:value===-(1/0)?0:possibleI};var _default=VisualMapping;module.exports=_default},function(module,exports){function _default(seriesType,defaultSymbolType,legendSymbol){return{"seriesType":seriesType,"performRawSeries":!0,"reset":function(seriesModel,ecModel,api){function dataEach(data,idx){if("function"==typeof symbolSize){var rawValue=seriesModel.getRawValue(idx),params=seriesModel.getDataParams(idx);data.setItemVisual(idx,"symbolSize",symbolSize(rawValue,params))}if(data.hasItemOption){var itemModel=data.getItemModel(idx),itemSymbolType=itemModel.getShallow("symbol",!0),itemSymbolSize=itemModel.getShallow("symbolSize",!0),itemSymbolKeepAspect=itemModel.getShallow("symbolKeepAspect",!0);null!=itemSymbolType&&data.setItemVisual(idx,"symbol",itemSymbolType),null!=itemSymbolSize&&data.setItemVisual(idx,"symbolSize",itemSymbolSize),null!=itemSymbolKeepAspect&&data.setItemVisual(idx,"symbolKeepAspect",itemSymbolKeepAspect)}}var data=seriesModel.getData(),symbolType=seriesModel.get("symbol")||defaultSymbolType,symbolSize=seriesModel.get("symbolSize"),keepAspect=seriesModel.get("symbolKeepAspect");if(data.setVisual({"legendSymbol":legendSymbol||symbolType,"symbol":symbolType,"symbolSize":symbolSize,"symbolKeepAspect":keepAspect}),!ecModel.isSeriesFiltered(seriesModel)){var hasCallback="function"==typeof symbolSize;return{"dataEach":data.hasItemOption||hasCallback?dataEach:null}}}}}module.exports=_default},,,,,,,,,,,function(module,exports){var arrySlice=Array.prototype.slice,Eventful=function(){this._$handlers={}};Eventful.prototype={"constructor":Eventful,"one":function(event,handler,context){var _h=this._$handlers;if(!handler||!event)return this;_h[event]||(_h[event]=[]);for(var i=0;i<_h[event].length;i++)if(_h[event][i].h===handler)return this;return _h[event].push({"h":handler,"one":!0,"ctx":context||this}),this},"on":function(event,handler,context){var _h=this._$handlers;if(!handler||!event)return this;_h[event]||(_h[event]=[]);for(var i=0;i<_h[event].length;i++)if(_h[event][i].h===handler)return this;return _h[event].push({"h":handler,"one":!1,"ctx":context||this}),this},"isSilent":function(event){var _h=this._$handlers;return _h[event]&&_h[event].length},"off":function(event,handler){var _h=this._$handlers;if(!event)return this._$handlers={},this;if(handler){if(_h[event]){for(var newList=[],i=0,l=_h[event].length;i<l;i++)_h[event][i]["h"]!=handler&&newList.push(_h[event][i]);_h[event]=newList}_h[event]&&0===_h[event].length&&delete _h[event]}else delete _h[event];return this},"trigger":function(type){if(this._$handlers[type]){var args=arguments,argLen=args.length;argLen>3&&(args=arrySlice.call(args,1));for(var _h=this._$handlers[type],len=_h.length,i=0;i<len;){switch(argLen){case 1:_h[i]["h"].call(_h[i]["ctx"]);break;case 2:_h[i]["h"].call(_h[i]["ctx"],args[1]);break;case 3:_h[i]["h"].call(_h[i]["ctx"],args[1],args[2]);break;default:_h[i]["h"].apply(_h[i]["ctx"],args)}_h[i]["one"]?(_h.splice(i,1),len--):i++}}return this},"triggerWithContext":function(type){if(this._$handlers[type]){var args=arguments,argLen=args.length;argLen>4&&(args=arrySlice.call(args,1,args.length-1));for(var ctx=args[args.length-1],_h=this._$handlers[type],len=_h.length,i=0;i<len;){switch(argLen){case 1:_h[i]["h"].call(ctx);break;case 2:_h[i]["h"].call(ctx,args[1]);break;case 3:_h[i]["h"].call(ctx,args[1],args[2]);break;default:_h[i]["h"].apply(ctx,args)}_h[i]["one"]?(_h.splice(i,1),len--):i++}}return this}};var _default=Eventful;module.exports=_default},,,,,,,,,,,,,,function(module,exports,__webpack_require__){function _default(seriesModel,opt,nameList){opt=isArray(opt)&&{"coordDimensions":opt}||extend({},opt);var source=seriesModel.getSource(),dimensionsInfo=createDimensions(source,opt),list=new List(dimensionsInfo,seriesModel);return list.initData(source,nameList),list}var createDimensions=__webpack_require__(193),List=__webpack_require__(82),_util=__webpack_require__(4),extend=_util.extend,isArray=_util.isArray;module.exports=_default},function(module,exports,__webpack_require__){function _default(){var inner=makeInner();return function(seriesModel){var fields=inner(seriesModel),pipelineContext=seriesModel.pipelineContext,originalLarge=fields.large,originalProgressive=fields.progressiveRender,large=fields.large=pipelineContext.large,progressive=fields.progressiveRender=pipelineContext.progressiveRender;return!!(originalLarge^large||originalProgressive^progressive)&&"reset"}}var _model=__webpack_require__(27),makeInner=_model.makeInner;module.exports=_default},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),_default=(__webpack_require__(93),{"getMin":function(origin){var option=this.option,min=origin||null==option.rangeStart?option.min:option.rangeStart;return this.axis&&null!=min&&"dataMin"!==min&&"function"!=typeof min&&!zrUtil.eqNaN(min)&&(min=this.axis.scale.parse(min)),min},"getMax":function(origin){var option=this.option,max=origin||null==option.rangeEnd?option.max:option.rangeEnd;return this.axis&&null!=max&&"dataMax"!==max&&"function"!=typeof max&&!zrUtil.eqNaN(max)&&(max=this.axis.scale.parse(max)),max},"getNeedCrossZero":function(){var option=this.option;return null==option.rangeStart&&null==option.rangeEnd&&!option.scale},"getCoordSysModel":zrUtil.noop,"setRange":function(rangeStart,rangeEnd){this.option.rangeStart=rangeStart,this.option.rangeEnd=rangeEnd},"resetRange":function(){this.option.rangeStart=this.option.rangeEnd=null}});module.exports=_default},function(module,exports,__webpack_require__){function _default(source,opt){return opt=opt||{},completeDimensions(opt.coordDimensions||[],source,{"dimsDef":opt.dimensionsDefine||source.dimensionsDefine,"encodeDef":opt.encodeDefine||source.encodeDefine,"dimCount":opt.dimensionsCount,"generateCoord":opt.generateCoord,"generateCoordCount":opt.generateCoordCount})}var completeDimensions=__webpack_require__(656);module.exports=_default},function(module,exports,__webpack_require__){function _default(properties){for(var i=0;i<properties.length;i++)properties[i][1]||(properties[i][1]=properties[i][0]);return function(model,excludes,includes){for(var style={},i=0;i<properties.length;i++){var propName=properties[i][1];if(!(excludes&&zrUtil.indexOf(excludes,propName)>=0||includes&&zrUtil.indexOf(includes,propName)<0)){var val=model.getShallow(propName);null!=val&&(style[properties[i][0]]=val)}}return style}}var zrUtil=__webpack_require__(4);module.exports=_default},,,,,,function(module,exports,__webpack_require__){var curve=__webpack_require__(140),vec2=__webpack_require__(38),bbox=__webpack_require__(508),BoundingRect=__webpack_require__(43),_config=__webpack_require__(315),dpr=_config.devicePixelRatio,CMD={"M":1,"L":2,"C":3,"Q":4,"A":5,"Z":6,"R":7},min=[],max=[],min2=[],max2=[],mathMin=Math.min,mathMax=Math.max,mathCos=Math.cos,mathSin=Math.sin,mathSqrt=Math.sqrt,mathAbs=Math.abs,hasTypedArray="undefined"!=typeof Float32Array,PathProxy=function(notSaveData){this._saveData=!notSaveData,this._saveData&&(this.data=[]),this._ctx=null};PathProxy.prototype={"constructor":PathProxy,"_xi":0,"_yi":0,"_x0":0,"_y0":0,"_ux":0,"_uy":0,"_len":0,"_lineDash":null,"_dashOffset":0,"_dashIdx":0,"_dashSum":0,"setScale":function(sx,sy){this._ux=mathAbs(1/dpr/sx)||0,this._uy=mathAbs(1/dpr/sy)||0},"getContext":function(){return this._ctx},"beginPath":function(ctx){return this._ctx=ctx,ctx&&ctx.beginPath(),ctx&&(this.dpr=ctx.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},"moveTo":function(x,y){return this.addData(CMD.M,x,y),this._ctx&&this._ctx.moveTo(x,y),this._x0=x,this._y0=y,this._xi=x,this._yi=y,this},"lineTo":function(x,y){var exceedUnit=mathAbs(x-this._xi)>this._ux||mathAbs(y-this._yi)>this._uy||this._len<5;return this.addData(CMD.L,x,y),this._ctx&&exceedUnit&&(this._needsDash()?this._dashedLineTo(x,y):this._ctx.lineTo(x,y)),exceedUnit&&(this._xi=x,this._yi=y),this},"bezierCurveTo":function(x1,y1,x2,y2,x3,y3){return this.addData(CMD.C,x1,y1,x2,y2,x3,y3),this._ctx&&(this._needsDash()?this._dashedBezierTo(x1,y1,x2,y2,x3,y3):this._ctx.bezierCurveTo(x1,y1,x2,y2,x3,y3)),this._xi=x3,this._yi=y3,this},"quadraticCurveTo":function(x1,y1,x2,y2){return this.addData(CMD.Q,x1,y1,x2,y2),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(x1,y1,x2,y2):this._ctx.quadraticCurveTo(x1,y1,x2,y2)),this._xi=x2,this._yi=y2,this},"arc":function(cx,cy,r,startAngle,endAngle,anticlockwise){return this.addData(CMD.A,cx,cy,r,r,startAngle,endAngle-startAngle,0,anticlockwise?0:1),this._ctx&&this._ctx.arc(cx,cy,r,startAngle,endAngle,anticlockwise),this._xi=mathCos(endAngle)*r+cx,this._yi=mathSin(endAngle)*r+cx,this},"arcTo":function(x1,y1,x2,y2,radius){return this._ctx&&this._ctx.arcTo(x1,y1,x2,y2,radius),this},"rect":function(x,y,w,h){
return this._ctx&&this._ctx.rect(x,y,w,h),this.addData(CMD.R,x,y,w,h),this},"closePath":function(){this.addData(CMD.Z);var ctx=this._ctx,x0=this._x0,y0=this._y0;return ctx&&(this._needsDash()&&this._dashedLineTo(x0,y0),ctx.closePath()),this._xi=x0,this._yi=y0,this},"fill":function(ctx){ctx&&ctx.fill(),this.toStatic()},"stroke":function(ctx){ctx&&ctx.stroke(),this.toStatic()},"setLineDash":function(lineDash){if(lineDash instanceof Array){this._lineDash=lineDash,this._dashIdx=0;for(var lineDashSum=0,i=0;i<lineDash.length;i++)lineDashSum+=lineDash[i];this._dashSum=lineDashSum}return this},"setLineDashOffset":function(offset){return this._dashOffset=offset,this},"len":function(){return this._len},"setData":function(data){var len=data.length;this.data&&this.data.length==len||!hasTypedArray||(this.data=new Float32Array(len));for(var i=0;i<len;i++)this.data[i]=data[i];this._len=len},"appendPath":function(path){path instanceof Array||(path=[path]);for(var len=path.length,appendSize=0,offset=this._len,i=0;i<len;i++)appendSize+=path[i].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(offset+appendSize));for(var i=0;i<len;i++)for(var appendPathData=path[i].data,k=0;k<appendPathData.length;k++)this.data[offset++]=appendPathData[k];this._len=offset},"addData":function(cmd){if(this._saveData){var data=this.data;this._len+arguments.length>data.length&&(this._expandData(),data=this.data);for(var i=0;i<arguments.length;i++)data[this._len++]=arguments[i];this._prevCmd=cmd}},"_expandData":function(){if(!(this.data instanceof Array)){for(var newData=[],i=0;i<this._len;i++)newData[i]=this.data[i];this.data=newData}},"_needsDash":function(){return this._lineDash},"_dashedLineTo":function(x1,y1){var dash,idx,dashSum=this._dashSum,offset=this._dashOffset,lineDash=this._lineDash,ctx=this._ctx,x0=this._xi,y0=this._yi,dx=x1-x0,dy=y1-y0,dist=mathSqrt(dx*dx+dy*dy),x=x0,y=y0,nDash=lineDash.length;for(dx/=dist,dy/=dist,offset<0&&(offset=dashSum+offset),offset%=dashSum,x-=offset*dx,y-=offset*dy;dx>0&&x<=x1||dx<0&&x>=x1||0==dx&&(dy>0&&y<=y1||dy<0&&y>=y1);)idx=this._dashIdx,dash=lineDash[idx],x+=dx*dash,y+=dy*dash,this._dashIdx=(idx+1)%nDash,dx>0&&x<x0||dx<0&&x>x0||dy>0&&y<y0||dy<0&&y>y0||ctx[idx%2?"moveTo":"lineTo"](dx>=0?mathMin(x,x1):mathMax(x,x1),dy>=0?mathMin(y,y1):mathMax(y,y1));dx=x-x1,dy=y-y1,this._dashOffset=-mathSqrt(dx*dx+dy*dy)},"_dashedBezierTo":function(x1,y1,x2,y2,x3,y3){var t,dx,dy,x,y,dashSum=this._dashSum,offset=this._dashOffset,lineDash=this._lineDash,ctx=this._ctx,x0=this._xi,y0=this._yi,cubicAt=curve.cubicAt,bezierLen=0,idx=this._dashIdx,nDash=lineDash.length,tmpLen=0;for(offset<0&&(offset=dashSum+offset),offset%=dashSum,t=0;t<1;t+=.1)dx=cubicAt(x0,x1,x2,x3,t+.1)-cubicAt(x0,x1,x2,x3,t),dy=cubicAt(y0,y1,y2,y3,t+.1)-cubicAt(y0,y1,y2,y3,t),bezierLen+=mathSqrt(dx*dx+dy*dy);for(;idx<nDash&&(tmpLen+=lineDash[idx],!(tmpLen>offset));idx++);for(t=(tmpLen-offset)/bezierLen;t<=1;)x=cubicAt(x0,x1,x2,x3,t),y=cubicAt(y0,y1,y2,y3,t),idx%2?ctx.moveTo(x,y):ctx.lineTo(x,y),t+=lineDash[idx]/bezierLen,idx=(idx+1)%nDash;idx%2!==0&&ctx.lineTo(x3,y3),dx=x3-x,dy=y3-y,this._dashOffset=-mathSqrt(dx*dx+dy*dy)},"_dashedQuadraticTo":function(x1,y1,x2,y2){var x3=x2,y3=y2;x2=(x2+2*x1)/3,y2=(y2+2*y1)/3,x1=(this._xi+2*x1)/3,y1=(this._yi+2*y1)/3,this._dashedBezierTo(x1,y1,x2,y2,x3,y3)},"toStatic":function(){var data=this.data;data instanceof Array&&(data.length=this._len,hasTypedArray&&(this.data=new Float32Array(data)))},"getBoundingRect":function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;for(var data=this.data,xi=0,yi=0,x0=0,y0=0,i=0;i<data.length;){var cmd=data[i++];switch(1==i&&(xi=data[i],yi=data[i+1],x0=xi,y0=yi),cmd){case CMD.M:x0=data[i++],y0=data[i++],xi=x0,yi=y0,min2[0]=x0,min2[1]=y0,max2[0]=x0,max2[1]=y0;break;case CMD.L:bbox.fromLine(xi,yi,data[i],data[i+1],min2,max2),xi=data[i++],yi=data[i++];break;case CMD.C:bbox.fromCubic(xi,yi,data[i++],data[i++],data[i++],data[i++],data[i],data[i+1],min2,max2),xi=data[i++],yi=data[i++];break;case CMD.Q:bbox.fromQuadratic(xi,yi,data[i++],data[i++],data[i],data[i+1],min2,max2),xi=data[i++],yi=data[i++];break;case CMD.A:var cx=data[i++],cy=data[i++],rx=data[i++],ry=data[i++],startAngle=data[i++],endAngle=data[i++]+startAngle,anticlockwise=(data[i++],1-data[i++]);1==i&&(x0=mathCos(startAngle)*rx+cx,y0=mathSin(startAngle)*ry+cy),bbox.fromArc(cx,cy,rx,ry,startAngle,endAngle,anticlockwise,min2,max2),xi=mathCos(endAngle)*rx+cx,yi=mathSin(endAngle)*ry+cy;break;case CMD.R:x0=xi=data[i++],y0=yi=data[i++];var width=data[i++],height=data[i++];bbox.fromLine(x0,y0,x0+width,y0+height,min2,max2);break;case CMD.Z:xi=x0,yi=y0}vec2.min(min,min,min2),vec2.max(max,max,max2)}return 0===i&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect(min[0],min[1],max[0]-min[0],max[1]-min[1])},"rebuildPath":function(ctx){for(var x0,y0,xi,yi,x,y,d=this.data,ux=this._ux,uy=this._uy,len=this._len,i=0;i<len;){var cmd=d[i++];switch(1==i&&(xi=d[i],yi=d[i+1],x0=xi,y0=yi),cmd){case CMD.M:x0=xi=d[i++],y0=yi=d[i++],ctx.moveTo(xi,yi);break;case CMD.L:x=d[i++],y=d[i++],(mathAbs(x-xi)>ux||mathAbs(y-yi)>uy||i===len-1)&&(ctx.lineTo(x,y),xi=x,yi=y);break;case CMD.C:ctx.bezierCurveTo(d[i++],d[i++],d[i++],d[i++],d[i++],d[i++]),xi=d[i-2],yi=d[i-1];break;case CMD.Q:ctx.quadraticCurveTo(d[i++],d[i++],d[i++],d[i++]),xi=d[i-2],yi=d[i-1];break;case CMD.A:var cx=d[i++],cy=d[i++],rx=d[i++],ry=d[i++],theta=d[i++],dTheta=d[i++],psi=d[i++],fs=d[i++],r=rx>ry?rx:ry,scaleX=rx>ry?1:rx/ry,scaleY=rx>ry?ry/rx:1,isEllipse=Math.abs(rx-ry)>.001,endAngle=theta+dTheta;isEllipse?(ctx.translate(cx,cy),ctx.rotate(psi),ctx.scale(scaleX,scaleY),ctx.arc(0,0,r,theta,endAngle,1-fs),ctx.scale(1/scaleX,1/scaleY),ctx.rotate(-psi),ctx.translate(-cx,-cy)):ctx.arc(cx,cy,r,theta,endAngle,1-fs),1==i&&(x0=mathCos(theta)*rx+cx,y0=mathSin(theta)*ry+cy),xi=mathCos(endAngle)*rx+cx,yi=mathSin(endAngle)*ry+cy;break;case CMD.R:x0=xi=d[i],y0=yi=d[i+1],ctx.rect(d[i++],d[i++],d[i++],d[i++]);break;case CMD.Z:ctx.closePath(),xi=x0,yi=y0}}}},PathProxy.CMD=CMD;var _default=PathProxy;module.exports=_default},,,,,,,,,,,,,,function(module,exports,__webpack_require__){function SymbolDraw(symbolCtor){this.group=new graphic.Group,this._symbolCtor=symbolCtor||SymbolClz}function symbolNeedsDraw(data,point,idx,opt){return point&&!isNaN(point[0])&&!isNaN(point[1])&&!(opt.isIgnore&&opt.isIgnore(idx))&&!(opt.clipShape&&!opt.clipShape.contain(point[0],point[1]))&&"none"!==data.getItemVisual(idx,"symbol")}function normalizeUpdateOpt(opt){return null==opt||isObject(opt)||(opt={"isIgnore":opt}),opt||{}}function makeSeriesScope(data){var seriesModel=data.hostModel;return{"itemStyle":seriesModel.getModel("itemStyle").getItemStyle(["color"]),"hoverItemStyle":seriesModel.getModel("emphasis.itemStyle").getItemStyle(),"symbolRotate":seriesModel.get("symbolRotate"),"symbolOffset":seriesModel.get("symbolOffset"),"hoverAnimation":seriesModel.get("hoverAnimation"),"labelModel":seriesModel.getModel("label"),"hoverLabelModel":seriesModel.getModel("emphasis.label"),"cursorStyle":seriesModel.get("cursor")}}var graphic=__webpack_require__(15),SymbolClz=__webpack_require__(269),_util=__webpack_require__(4),isObject=_util.isObject,symbolDrawProto=SymbolDraw.prototype;symbolDrawProto.updateData=function(data,opt){opt=normalizeUpdateOpt(opt);var group=this.group,seriesModel=data.hostModel,oldData=this._data,SymbolCtor=this._symbolCtor,seriesScope=makeSeriesScope(data);oldData||group.removeAll(),data.diff(oldData).add(function(newIdx){var point=data.getItemLayout(newIdx);if(symbolNeedsDraw(data,point,newIdx,opt)){var symbolEl=new SymbolCtor(data,newIdx,seriesScope);symbolEl.attr("position",point),data.setItemGraphicEl(newIdx,symbolEl),group.add(symbolEl)}}).update(function(newIdx,oldIdx){var symbolEl=oldData.getItemGraphicEl(oldIdx),point=data.getItemLayout(newIdx);return symbolNeedsDraw(data,point,newIdx,opt)?(symbolEl?(symbolEl.updateData(data,newIdx,seriesScope),graphic.updateProps(symbolEl,{"position":point},seriesModel)):(symbolEl=new SymbolCtor(data,newIdx),symbolEl.attr("position",point)),group.add(symbolEl),void data.setItemGraphicEl(newIdx,symbolEl)):void group.remove(symbolEl)}).remove(function(oldIdx){var el=oldData.getItemGraphicEl(oldIdx);el&&el.fadeOut(function(){group.remove(el)})}).execute(),this._data=data},symbolDrawProto.isPersistent=function(){return!0},symbolDrawProto.updateLayout=function(){var data=this._data;data&&data.eachItemGraphicEl(function(el,idx){var point=data.getItemLayout(idx);el.attr("position",point)})},symbolDrawProto.incrementalPrepareUpdate=function(data){this._seriesScope=makeSeriesScope(data),this._data=null,this.group.removeAll()},symbolDrawProto.incrementalUpdate=function(taskParams,data,opt){function updateIncrementalAndHover(el){el.isGroup||(el.incremental=el.useHoverLayer=!0)}opt=normalizeUpdateOpt(opt);for(var idx=taskParams.start;idx<taskParams.end;idx++){var point=data.getItemLayout(idx);if(symbolNeedsDraw(data,point,idx,opt)){var el=new this._symbolCtor(data,idx,this._seriesScope);el.traverse(updateIncrementalAndHover),el.attr("position",point),this.group.add(el),data.setItemGraphicEl(idx,el)}}},symbolDrawProto.remove=function(enableAnimation){var group=this.group,data=this._data;data&&enableAnimation?data.eachItemGraphicEl(function(el){el.fadeOut(function(){group.remove(el)})}):group.removeAll()};var _default=SymbolDraw;module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),axisPointerModelHelper=__webpack_require__(270),axisTrigger=__webpack_require__(1461);__webpack_require__(1457),__webpack_require__(1458),__webpack_require__(622),echarts.registerPreprocessor(function(option){if(option){(!option.axisPointer||0===option.axisPointer.length)&&(option.axisPointer={});var link=option.axisPointer.link;link&&!zrUtil.isArray(link)&&(option.axisPointer.link=[link])}}),echarts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC,function(ecModel,api){ecModel.getComponent("axisPointer").coordSysAxesInfo=axisPointerModelHelper.collect(ecModel,api)}),echarts.registerAction({"type":"updateAxisPointer","event":"updateAxisPointer","update":":updateAxisPointer"},axisTrigger)},function(module,exports,__webpack_require__){function retrieveRaw(option){var ret={};return each(["start","end","startValue","endValue","throttle"],function(name){option.hasOwnProperty(name)&&(ret[name]=option[name])}),ret}function updateRangeUse(dataZoomModel,rawOption){var rangePropMode=dataZoomModel._rangePropMode,rangeModeInOption=dataZoomModel.get("rangeMode");each([["start","startValue"],["end","endValue"]],function(names,index){var percentSpecified=null!=rawOption[names[0]],valueSpecified=null!=rawOption[names[1]];percentSpecified&&!valueSpecified?rangePropMode[index]="percent":!percentSpecified&&valueSpecified?rangePropMode[index]="value":rangeModeInOption?rangePropMode[index]=rangeModeInOption[index]:percentSpecified&&(rangePropMode[index]="percent")})}var _config=__webpack_require__(30),echarts=(_config.__DEV__,__webpack_require__(13)),zrUtil=__webpack_require__(4),env=__webpack_require__(52),modelUtil=__webpack_require__(27),helper=__webpack_require__(380),AxisProxy=__webpack_require__(1479),each=zrUtil.each,eachAxisDim=helper.eachAxisDim,DataZoomModel=echarts.extendComponentModel({"type":"dataZoom","dependencies":["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],"defaultOption":{"zlevel":0,"z":4,"orient":null,"xAxisIndex":null,"yAxisIndex":null,"filterMode":"filter","throttle":null,"start":0,"end":100,"startValue":null,"endValue":null,"minSpan":null,"maxSpan":null,"minValueSpan":null,"maxValueSpan":null,"rangeMode":null},"init":function(option,parentModel,ecModel){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var rawOption=retrieveRaw(option);this.mergeDefaultAndTheme(option,ecModel),this.doInit(rawOption)},"mergeOption":function(newOption){var rawOption=retrieveRaw(newOption);zrUtil.merge(this.option,newOption,!0),this.doInit(rawOption)},"doInit":function(rawOption){var thisOption=this.option;env.canvasSupported||(thisOption.realtime=!1),this._setDefaultThrottle(rawOption),updateRangeUse(this,rawOption),each([["start","startValue"],["end","endValue"]],function(names,index){"value"===this._rangePropMode[index]&&(thisOption[names[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},"_giveAxisProxies":function(){var axisProxies=this._axisProxies;this.eachTargetAxis(function(dimNames,axisIndex,dataZoomModel,ecModel){var axisModel=this.dependentModels[dimNames.axis][axisIndex],axisProxy=axisModel.__dzAxisProxy||(axisModel.__dzAxisProxy=new AxisProxy(dimNames.name,axisIndex,this,ecModel));axisProxies[dimNames.name+"_"+axisIndex]=axisProxy},this)},"_resetTarget":function(){var thisOption=this.option,autoMode=this._judgeAutoMode();eachAxisDim(function(dimNames){var axisIndexName=dimNames.axisIndex;thisOption[axisIndexName]=modelUtil.normalizeToArray(thisOption[axisIndexName])},this),"axisIndex"===autoMode?this._autoSetAxisIndex():"orient"===autoMode&&this._autoSetOrient()},"_judgeAutoMode":function(){var thisOption=this.option,hasIndexSpecified=!1;eachAxisDim(function(dimNames){null!=thisOption[dimNames.axisIndex]&&(hasIndexSpecified=!0)},this);var orient=thisOption.orient;return null==orient&&hasIndexSpecified?"orient":hasIndexSpecified?void 0:(null==orient&&(thisOption.orient="horizontal"),"axisIndex")},"_autoSetAxisIndex":function(){var autoAxisIndex=!0,orient=this.get("orient",!0),thisOption=this.option,dependentModels=this.dependentModels;if(autoAxisIndex){var dimName="vertical"===orient?"y":"x";dependentModels[dimName+"Axis"].length?(thisOption[dimName+"AxisIndex"]=[0],autoAxisIndex=!1):each(dependentModels.singleAxis,function(singleAxisModel){autoAxisIndex&&singleAxisModel.get("orient",!0)===orient&&(thisOption.singleAxisIndex=[singleAxisModel.componentIndex],autoAxisIndex=!1)})}autoAxisIndex&&eachAxisDim(function(dimNames){if(autoAxisIndex){var axisIndices=[],axisModels=this.dependentModels[dimNames.axis];if(axisModels.length&&!axisIndices.length)for(var i=0,len=axisModels.length;i<len;i++)"category"===axisModels[i].get("type")&&axisIndices.push(i);thisOption[dimNames.axisIndex]=axisIndices,axisIndices.length&&(autoAxisIndex=!1)}},this),autoAxisIndex&&this.ecModel.eachSeries(function(seriesModel){this._isSeriesHasAllAxesTypeOf(seriesModel,"value")&&eachAxisDim(function(dimNames){var axisIndices=thisOption[dimNames.axisIndex],axisIndex=seriesModel.get(dimNames.axisIndex),axisId=seriesModel.get(dimNames.axisId),axisModel=seriesModel.ecModel.queryComponents({"mainType":dimNames.axis,"index":axisIndex,"id":axisId})[0];axisIndex=axisModel.componentIndex,zrUtil.indexOf(axisIndices,axisIndex)<0&&axisIndices.push(axisIndex)})},this)},"_autoSetOrient":function(){var dim;this.eachTargetAxis(function(dimNames){!dim&&(dim=dimNames.name)},this),this.option.orient="y"===dim?"vertical":"horizontal"},"_isSeriesHasAllAxesTypeOf":function(seriesModel,axisType){var is=!0;return eachAxisDim(function(dimNames){var seriesAxisIndex=seriesModel.get(dimNames.axisIndex),axisModel=this.dependentModels[dimNames.axis][seriesAxisIndex];axisModel&&axisModel.get("type")===axisType||(is=!1)},this),is},"_setDefaultThrottle":function(rawOption){if(rawOption.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var globalOption=this.ecModel.option;this.option.throttle=globalOption.animation&&globalOption.animationDurationUpdate>0?100:20}},"getFirstTargetAxisModel":function(){var firstAxisModel;return eachAxisDim(function(dimNames){if(null==firstAxisModel){var indices=this.get(dimNames.axisIndex);indices.length&&(firstAxisModel=this.dependentModels[dimNames.axis][indices[0]])}},this),firstAxisModel},"eachTargetAxis":function(callback,context){var ecModel=this.ecModel;eachAxisDim(function(dimNames){each(this.get(dimNames.axisIndex),function(axisIndex){callback.call(context,dimNames,axisIndex,this,ecModel)},this)},this)},"getAxisProxy":function(dimName,axisIndex){return this._axisProxies[dimName+"_"+axisIndex]},"getAxisModel":function(dimName,axisIndex){var axisProxy=this.getAxisProxy(dimName,axisIndex);return axisProxy&&axisProxy.getAxisModel()},"setRawRange":function(opt,ignoreUpdateRangeUsg){var option=this.option;each([["start","startValue"],["end","endValue"]],function(names){null==opt[names[0]]&&null==opt[names[1]]||(option[names[0]]=opt[names[0]],option[names[1]]=opt[names[1]])},this),!ignoreUpdateRangeUsg&&updateRangeUse(this,opt)},"getPercentRange":function(){var axisProxy=this.findRepresentativeAxisProxy();if(axisProxy)return axisProxy.getDataPercentWindow()},"getValueRange":function(axisDimName,axisIndex){if(null!=axisDimName||null!=axisIndex)return this.getAxisProxy(axisDimName,axisIndex).getDataValueWindow();var axisProxy=this.findRepresentativeAxisProxy();return axisProxy?axisProxy.getDataValueWindow():void 0},"findRepresentativeAxisProxy":function(axisModel){if(axisModel)return axisModel.__dzAxisProxy;var axisProxies=this._axisProxies;for(var key in axisProxies)if(axisProxies.hasOwnProperty(key)&&axisProxies[key].hostedBy(this))return axisProxies[key];for(var key in axisProxies)if(axisProxies.hasOwnProperty(key)&&!axisProxies[key].hostedBy(this))return axisProxies[key]},"getRangePropMode":function(){return this._rangePropMode.slice()}}),_default=DataZoomModel;module.exports=_default},function(module,exports,__webpack_require__){var ComponentView=__webpack_require__(280),_default=ComponentView.extend({"type":"dataZoom","render":function(dataZoomModel,ecModel,api,payload){this.dataZoomModel=dataZoomModel,this.ecModel=ecModel,this.api=api},"getTargetCoordInfo":function(){function save(coordModel,axisModel,store,coordIndex){for(var item,i=0;i<store.length;i++)if(store[i].model===coordModel){item=store[i];break}item||store.push(item={"model":coordModel,"axisModels":[],"coordIndex":coordIndex}),item.axisModels.push(axisModel)}var dataZoomModel=this.dataZoomModel,ecModel=this.ecModel,coordSysLists={};return dataZoomModel.eachTargetAxis(function(dimNames,axisIndex){var axisModel=ecModel.getComponent(dimNames.axis,axisIndex);if(axisModel){var coordModel=axisModel.getCoordSysModel();coordModel&&save(coordModel,axisModel,coordSysLists[coordModel.mainType]||(coordSysLists[coordModel.mainType]=[]),coordModel.componentIndex)}},this),coordSysLists}});module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),graphic=__webpack_require__(15);__webpack_require__(387),__webpack_require__(1456),echarts.extendComponentView({"type":"grid","render":function(gridModel,ecModel){this.group.removeAll(),gridModel.get("show")&&this.group.add(new graphic.Rect({"shape":gridModel.coordinateSystem.getRect(),"style":zrUtil.defaults({"fill":gridModel.get("backgroundColor")},gridModel.getItemStyle()),"silent":!0,"z2":-1}))}}),echarts.registerPreprocessor(function(option){option.xAxis&&option.yAxis&&!option.grid&&(option.grid={})})},function(module,exports){function _default(delta,handleEnds,extent,handleIndex,minSpan,maxSpan){handleEnds[0]=restrict(handleEnds[0],extent),handleEnds[1]=restrict(handleEnds[1],extent),delta=delta||0;var extentSpan=extent[1]-extent[0];null!=minSpan&&(minSpan=restrict(minSpan,[0,extentSpan])),null!=maxSpan&&(maxSpan=Math.max(maxSpan,null!=minSpan?minSpan:0)),"all"===handleIndex&&(minSpan=maxSpan=Math.abs(handleEnds[1]-handleEnds[0]),handleIndex=0);var originalDistSign=getSpanSign(handleEnds,handleIndex);handleEnds[handleIndex]+=delta;var extentMinSpan=minSpan||0,realExtent=extent.slice();originalDistSign.sign<0?realExtent[0]+=extentMinSpan:realExtent[1]-=extentMinSpan,handleEnds[handleIndex]=restrict(handleEnds[handleIndex],realExtent);var currDistSign=getSpanSign(handleEnds,handleIndex);null!=minSpan&&(currDistSign.sign!==originalDistSign.sign||currDistSign.span<minSpan)&&(handleEnds[1-handleIndex]=handleEnds[handleIndex]+originalDistSign.sign*minSpan);var currDistSign=getSpanSign(handleEnds,handleIndex);return null!=maxSpan&&currDistSign.span>maxSpan&&(handleEnds[1-handleIndex]=handleEnds[handleIndex]+currDistSign.sign*maxSpan),handleEnds}function getSpanSign(handleEnds,handleIndex){var dist=handleEnds[handleIndex]-handleEnds[1-handleIndex];return{"span":Math.abs(dist),"sign":dist>0?-1:dist<0?1:handleIndex?-1:1}}function restrict(value,extend){return Math.min(extend[1],Math.max(extend[0],value))}module.exports=_default},function(module,exports,__webpack_require__){function Source(fields){this.fromDataset=fields.fromDataset,this.data=fields.data||(fields.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=fields.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=fields.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.dimensionsDefine=fields.dimensionsDefine,this.encodeDefine=fields.encodeDefine&&createHashMap(fields.encodeDefine),this.startIndex=fields.startIndex||0,this.dimensionsDetectCount=fields.dimensionsDetectCount}var _util=__webpack_require__(4),createHashMap=_util.createHashMap,isTypedArray=_util.isTypedArray,_clazz=__webpack_require__(116),enableClassCheck=_clazz.enableClassCheck,_sourceType=__webpack_require__(222),SOURCE_FORMAT_ORIGINAL=_sourceType.SOURCE_FORMAT_ORIGINAL,SERIES_LAYOUT_BY_COLUMN=_sourceType.SERIES_LAYOUT_BY_COLUMN,SOURCE_FORMAT_UNKNOWN=_sourceType.SOURCE_FORMAT_UNKNOWN,SOURCE_FORMAT_TYPED_ARRAY=_sourceType.SOURCE_FORMAT_TYPED_ARRAY,SOURCE_FORMAT_KEYED_COLUMNS=_sourceType.SOURCE_FORMAT_KEYED_COLUMNS;Source.seriesDataToSource=function(data){return new Source({"data":data,"sourceFormat":isTypedArray(data)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,"fromDataset":!1})},enableClassCheck(Source);var _default=Source;module.exports=_default},function(module,exports,__webpack_require__){function summarizeDimensions(data){var summary={},encode=summary.encode={},notExtraCoordDimMap=createHashMap(),defaultedLabel=[],defaultedTooltip=[];each(data.dimensions,function(dimName){var dimItem=data.getDimensionInfo(dimName),coordDim=dimItem.coordDim;if(coordDim){var coordDimArr=encode[coordDim];encode.hasOwnProperty(coordDim)||(coordDimArr=encode[coordDim]=[]),coordDimArr[dimItem.coordDimIndex]=dimName,dimItem.isExtraCoord||(notExtraCoordDimMap.set(coordDim,1),mayLabelDimType(dimItem.type)&&(defaultedLabel[0]=dimName)),dimItem.defaultTooltip&&defaultedTooltip.push(dimName)}OTHER_DIMENSIONS.each(function(v,otherDim){var otherDimArr=encode[otherDim];encode.hasOwnProperty(otherDim)||(otherDimArr=encode[otherDim]=[]);var dimIndex=dimItem.otherDims[otherDim];null!=dimIndex&&dimIndex!==!1&&(otherDimArr[dimIndex]=dimItem.name)})});var dataDimsOnCoord=[],encodeFirstDimNotExtra={};notExtraCoordDimMap.each(function(v,coordDim){var dimArr=encode[coordDim];encodeFirstDimNotExtra[coordDim]=dimArr[0],dataDimsOnCoord=dataDimsOnCoord.concat(dimArr)}),summary.dataDimsOnCoord=dataDimsOnCoord,summary.encodeFirstDimNotExtra=encodeFirstDimNotExtra;var encodeLabel=encode.label;encodeLabel&&encodeLabel.length&&(defaultedLabel=encodeLabel.slice());var encodeTooltip=encode.tooltip;return encodeTooltip&&encodeTooltip.length?defaultedTooltip=encodeTooltip.slice():defaultedTooltip.length||(defaultedTooltip=defaultedLabel.slice()),encode.defaultedLabel=defaultedLabel,encode.defaultedTooltip=defaultedTooltip,summary}function getDimensionTypeByAxis(axisType){return"category"===axisType?"ordinal":"time"===axisType?"time":"float"}function mayLabelDimType(dimType){return!("ordinal"===dimType||"time"===dimType)}var _util=__webpack_require__(4),each=_util.each,createHashMap=_util.createHashMap,_config=(_util.assert,__webpack_require__(30)),OTHER_DIMENSIONS=(_config.__DEV__,createHashMap(["tooltip","label","itemName","itemId","seriesName"]));exports.OTHER_DIMENSIONS=OTHER_DIMENSIONS,exports.summarizeDimensions=summarizeDimensions,exports.getDimensionTypeByAxis=getDimensionTypeByAxis},function(module,exports){var SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_UNKNOWN="unknown",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row";exports.SOURCE_FORMAT_ORIGINAL=SOURCE_FORMAT_ORIGINAL,exports.SOURCE_FORMAT_ARRAY_ROWS=SOURCE_FORMAT_ARRAY_ROWS,exports.SOURCE_FORMAT_OBJECT_ROWS=SOURCE_FORMAT_OBJECT_ROWS,exports.SOURCE_FORMAT_KEYED_COLUMNS=SOURCE_FORMAT_KEYED_COLUMNS,exports.SOURCE_FORMAT_UNKNOWN=SOURCE_FORMAT_UNKNOWN,exports.SOURCE_FORMAT_TYPED_ARRAY=SOURCE_FORMAT_TYPED_ARRAY,exports.SERIES_LAYOUT_BY_COLUMN=SERIES_LAYOUT_BY_COLUMN,exports.SERIES_LAYOUT_BY_ROW=SERIES_LAYOUT_BY_ROW},function(module,exports,__webpack_require__){function _default(seriesType){return{"seriesType":seriesType,"plan":createRenderPlanner(),"reset":function(seriesModel){function progress(params,data){for(var segCount=params.end-params.start,points=isLargeRender&&new Float32Array(segCount*dimLen),i=params.start,offset=0,tmpIn=[],tmpOut=[];i<params.end;i++){var point;if(1===dimLen){var x=data.get(dims[0],i);point=!isNaN(x)&&coordSys.dataToPoint(x,null,tmpOut)}else{var x=tmpIn[0]=data.get(dims[0],i),y=tmpIn[1]=data.get(dims[1],i);point=!isNaN(x)&&!isNaN(y)&&coordSys.dataToPoint(tmpIn,null,tmpOut)}isLargeRender?(points[offset++]=point?point[0]:NaN,points[offset++]=point?point[1]:NaN):data.setItemLayout(i,point&&point.slice()||[NaN,NaN])}isLargeRender&&data.setLayout("symbolPoints",points)}var data=seriesModel.getData(),coordSys=seriesModel.coordinateSystem,pipelineContext=seriesModel.pipelineContext,isLargeRender=pipelineContext.large;if(coordSys){var dims=map(coordSys.dimensions,function(dim){return data.mapDimension(dim)}).slice(0,2),dimLen=dims.length,stackResultDim=data.getCalculationInfo("stackResultDimension");return isDimensionStacked(data,dims[0])&&(dims[0]=stackResultDim),isDimensionStacked(data,dims[1])&&(dims[1]=stackResultDim),dimLen&&{"progress":progress}}}}}var _util=__webpack_require__(4),map=_util.map,createRenderPlanner=__webpack_require__(191),_dataStackHelper=__webpack_require__(115),isDimensionStacked=_dataStackHelper.isDimensionStacked;module.exports=_default},function(module,exports){function _default(seriesType){return{"seriesType":seriesType,"reset":function(seriesModel,ecModel){var legendModels=ecModel.findComponents({"mainType":"legend"});if(legendModels&&legendModels.length){var data=seriesModel.getData();data.filterSelf(function(idx){for(var name=data.getName(idx),i=0;i<legendModels.length;i++)if(!legendModels[i].isSelected(name))return!1;return!0})}}}}module.exports=_default},,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){var _config=__webpack_require__(315),debugMode=_config.debugMode,log=function(){};1===debugMode?log=function(){for(var k in arguments)throw new Error(arguments[k])}:debugMode>1&&(log=function(){for(var k in arguments)console.log(arguments[k])});var _default=log;module.exports=_default},function(module,exports,__webpack_require__){function Displayable(opts){opts=opts||{},Element.call(this,opts);for(var name in opts)opts.hasOwnProperty(name)&&"style"!==name&&(this[name]=opts[name]);this.style=new Style(opts.style,this),this._rect=null,this.__clipPaths=[]}var zrUtil=__webpack_require__(4),Style=__webpack_require__(924),Element=__webpack_require__(912),RectText=__webpack_require__(929);Displayable.prototype={"constructor":Displayable,"type":"displayable","__dirty":!0,"invisible":!1,"z":0,"z2":0,"zlevel":0,"draggable":!1,"dragging":!1,"silent":!1,"culling":!1,"cursor":"pointer","rectHover":!1,"progressive":!1,"incremental":!1,"inplace":!1,"beforeBrush":function(ctx){},"afterBrush":function(ctx){},"brush":function(ctx,prevEl){},"getBoundingRect":function(){},"contain":function(x,y){return this.rectContain(x,y)},"traverse":function(cb,context){cb.call(context,this)},"rectContain":function(x,y){var coord=this.transformCoordToLocal(x,y),rect=this.getBoundingRect();return rect.contain(coord[0],coord[1])},"dirty":function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},"animateStyle":function(loop){return this.animate("style",loop)},"attrKV":function(key,value){"style"!==key?Element.prototype.attrKV.call(this,key,value):this.style.set(value)},"setStyle":function(key,value){return this.style.set(key,value),this.dirty(!1),this},"useStyle":function(obj){return this.style=new Style(obj,this),this.dirty(!1),this}},zrUtil.inherits(Displayable,Element),zrUtil.mixin(Displayable,RectText);var _default=Displayable;module.exports=_default},function(module,exports,__webpack_require__){function ZImage(opts){Displayable.call(this,opts)}var Displayable=__webpack_require__(243),BoundingRect=__webpack_require__(43),zrUtil=__webpack_require__(4),imageHelper=__webpack_require__(511);ZImage.prototype={"constructor":ZImage,"type":"image","brush":function(ctx,prevEl){var style=this.style,src=style.image;style.bind(ctx,this,prevEl);var image=this._image=imageHelper.createOrUpdateImage(src,this._image,this,this.onload);if(image&&imageHelper.isImageReady(image)){var x=style.x||0,y=style.y||0,width=style.width,height=style.height,aspect=image.width/image.height;if(null==width&&null!=height?width=height*aspect:null==height&&null!=width?height=width/aspect:null==width&&null==height&&(width=image.width,height=image.height),this.setTransform(ctx),style.sWidth&&style.sHeight){var sx=style.sx||0,sy=style.sy||0;ctx.drawImage(image,sx,sy,style.sWidth,style.sHeight,x,y,width,height)}else if(style.sx&&style.sy){var sx=style.sx,sy=style.sy,sWidth=width-sx,sHeight=height-sy;ctx.drawImage(image,sx,sy,sWidth,sHeight,x,y,width,height)}else ctx.drawImage(image,x,y,width,height);null!=style.text&&(this.restoreTransform(ctx),this.drawRectText(ctx,this.getBoundingRect()))}},"getBoundingRect":function(){var style=this.style;return this._rect||(this._rect=new BoundingRect(style.x||0,style.y||0,style.width||0,style.height||0)),this._rect}},zrUtil.inherits(ZImage,Displayable);var _default=ZImage;module.exports=_default},function(module,exports,__webpack_require__){var Displayable=__webpack_require__(243),zrUtil=__webpack_require__(4),textContain=__webpack_require__(108),textHelper=__webpack_require__(318),Text=function(opts){Displayable.call(this,opts)};Text.prototype={"constructor":Text,"type":"text","brush":function(ctx,prevEl){var style=this.style;this.__dirty&&textHelper.normalizeTextStyle(style,!0),style.fill=style.stroke=style.shadowBlur=style.shadowColor=style.shadowOffsetX=style.shadowOffsetY=null;var text=style.text;null!=text&&(text+=""),style.bind(ctx,this,prevEl),textHelper.needDrawText(text,style)&&(this.setTransform(ctx),textHelper.renderText(this,ctx,text,style),this.restoreTransform(ctx))},"getBoundingRect":function(){var style=this.style;if(this.__dirty&&textHelper.normalizeTextStyle(style,!0),!this._rect){var text=style.text;null!=text?text+="":text="";var rect=textContain.getBoundingRect(style.text+"",style.font,style.textAlign,style.textVerticalAlign,style.textPadding,style.rich);if(rect.x+=style.x||0,rect.y+=style.y||0,textHelper.getStroke(style.textStroke,style.textStrokeWidth)){var w=style.textStrokeWidth;rect.x-=w/2,rect.y-=w/2,rect.width+=w,rect.height+=w}this._rect=rect}return this._rect}},zrUtil.inherits(Text,Displayable);var _default=Text;module.exports=_default},,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){function SymbolClz(data,idx,seriesScope){graphic.Group.call(this),this.updateData(data,idx,seriesScope)}function getScale(symbolSize){return[symbolSize[0]/2,symbolSize[1]/2]}function driftSymbol(dx,dy){this.parent.drift(dx,dy)}var zrUtil=__webpack_require__(4),_symbol=__webpack_require__(83),createSymbol=_symbol.createSymbol,graphic=__webpack_require__(15),_number=__webpack_require__(20),parsePercent=_number.parsePercent,_labelHelper=__webpack_require__(378),getDefaultLabel=_labelHelper.getDefaultLabel,symbolProto=SymbolClz.prototype,getSymbolSize=SymbolClz.getSymbolSize=function(data,idx){
var symbolSize=data.getItemVisual(idx,"symbolSize");return symbolSize instanceof Array?symbolSize.slice():[+symbolSize,+symbolSize]};symbolProto._createSymbol=function(symbolType,data,idx,symbolSize,keepAspect){this.removeAll();var color=data.getItemVisual(idx,"color"),symbolPath=createSymbol(symbolType,-1,-1,2,2,color,keepAspect);symbolPath.attr({"z2":100,"culling":!0,"scale":getScale(symbolSize)}),symbolPath.drift=driftSymbol,this._symbolType=symbolType,this.add(symbolPath)},symbolProto.stopSymbolAnimation=function(toLastFrame){this.childAt(0).stopAnimation(toLastFrame)},symbolProto.getSymbolPath=function(){return this.childAt(0)},symbolProto.getScale=function(){return this.childAt(0).scale},symbolProto.highlight=function(){this.childAt(0).trigger("emphasis")},symbolProto.downplay=function(){this.childAt(0).trigger("normal")},symbolProto.setZ=function(zlevel,z){var symbolPath=this.childAt(0);symbolPath.zlevel=zlevel,symbolPath.z=z},symbolProto.setDraggable=function(draggable){var symbolPath=this.childAt(0);symbolPath.draggable=draggable,symbolPath.cursor=draggable?"move":"pointer"},symbolProto.updateData=function(data,idx,seriesScope){this.silent=!1;var symbolType=data.getItemVisual(idx,"symbol")||"circle",seriesModel=data.hostModel,symbolSize=getSymbolSize(data,idx),isInit=symbolType!==this._symbolType;if(isInit){var keepAspect=data.getItemVisual(idx,"symbolKeepAspect");this._createSymbol(symbolType,data,idx,symbolSize,keepAspect)}else{var symbolPath=this.childAt(0);symbolPath.silent=!1,graphic.updateProps(symbolPath,{"scale":getScale(symbolSize)},seriesModel,idx)}if(this._updateCommon(data,idx,symbolSize,seriesScope),isInit){var symbolPath=this.childAt(0),fadeIn=seriesScope&&seriesScope.fadeIn,target={"scale":symbolPath.scale.slice()};fadeIn&&(target.style={"opacity":symbolPath.style.opacity}),symbolPath.scale=[0,0],fadeIn&&(symbolPath.style.opacity=0),graphic.initProps(symbolPath,target,seriesModel,idx)}this._seriesModel=seriesModel};var normalStyleAccessPath=["itemStyle"],emphasisStyleAccessPath=["emphasis","itemStyle"],normalLabelAccessPath=["label"],emphasisLabelAccessPath=["emphasis","label"];symbolProto._updateCommon=function(data,idx,symbolSize,seriesScope){function getLabelDefaultText(idx,opt){return useNameLabel?data.getName(idx):getDefaultLabel(data,idx)}var symbolPath=this.childAt(0),seriesModel=data.hostModel,color=data.getItemVisual(idx,"color");"image"!==symbolPath.type&&symbolPath.useStyle({"strokeNoScale":!0});var itemStyle=seriesScope&&seriesScope.itemStyle,hoverItemStyle=seriesScope&&seriesScope.hoverItemStyle,symbolRotate=seriesScope&&seriesScope.symbolRotate,symbolOffset=seriesScope&&seriesScope.symbolOffset,labelModel=seriesScope&&seriesScope.labelModel,hoverLabelModel=seriesScope&&seriesScope.hoverLabelModel,hoverAnimation=seriesScope&&seriesScope.hoverAnimation,cursorStyle=seriesScope&&seriesScope.cursorStyle;if(!seriesScope||data.hasItemOption){var itemModel=seriesScope&&seriesScope.itemModel?seriesScope.itemModel:data.getItemModel(idx);itemStyle=itemModel.getModel(normalStyleAccessPath).getItemStyle(["color"]),hoverItemStyle=itemModel.getModel(emphasisStyleAccessPath).getItemStyle(),symbolRotate=itemModel.getShallow("symbolRotate"),symbolOffset=itemModel.getShallow("symbolOffset"),labelModel=itemModel.getModel(normalLabelAccessPath),hoverLabelModel=itemModel.getModel(emphasisLabelAccessPath),hoverAnimation=itemModel.getShallow("hoverAnimation"),cursorStyle=itemModel.getShallow("cursor")}else hoverItemStyle=zrUtil.extend({},hoverItemStyle);var elStyle=symbolPath.style;symbolPath.attr("rotation",(symbolRotate||0)*Math.PI/180||0),symbolOffset&&symbolPath.attr("position",[parsePercent(symbolOffset[0],symbolSize[0]),parsePercent(symbolOffset[1],symbolSize[1])]),cursorStyle&&symbolPath.attr("cursor",cursorStyle),symbolPath.setColor(color,seriesScope&&seriesScope.symbolInnerColor),symbolPath.setStyle(itemStyle);var opacity=data.getItemVisual(idx,"opacity");null!=opacity&&(elStyle.opacity=opacity);var liftZ=data.getItemVisual(idx,"liftZ"),z2Origin=symbolPath.__z2Origin;null!=liftZ?null==z2Origin&&(symbolPath.__z2Origin=symbolPath.z2,symbolPath.z2+=liftZ):null!=z2Origin&&(symbolPath.z2=z2Origin,symbolPath.__z2Origin=null);var useNameLabel=seriesScope&&seriesScope.useNameLabel;graphic.setLabelStyle(elStyle,hoverItemStyle,labelModel,hoverLabelModel,{"labelFetcher":seriesModel,"labelDataIndex":idx,"defaultText":getLabelDefaultText,"isRectText":!0,"autoColor":color}),symbolPath.off("mouseover").off("mouseout").off("emphasis").off("normal"),symbolPath.hoverStyle=hoverItemStyle,graphic.setHoverStyle(symbolPath);var scale=getScale(symbolSize);if(hoverAnimation&&seriesModel.isAnimationEnabled()){var onEmphasis=function(){if(!this.incremental){var ratio=scale[1]/scale[0];this.animateTo({"scale":[Math.max(1.1*scale[0],scale[0]+3),Math.max(1.1*scale[1],scale[1]+3*ratio)]},400,"elasticOut")}},onNormal=function(){this.incremental||this.animateTo({"scale":scale},400,"elasticOut")};symbolPath.on("mouseover",onEmphasis).on("mouseout",onNormal).on("emphasis",onEmphasis).on("normal",onNormal)}},symbolProto.fadeOut=function(cb,opt){var symbolPath=this.childAt(0);this.silent=symbolPath.silent=!0,!(opt&&opt.keepLabel)&&(symbolPath.style.text=null),graphic.updateProps(symbolPath,{"style":{"opacity":0},"scale":[0,0]},this._seriesModel,this.dataIndex,cb)},zrUtil.inherits(SymbolClz,graphic.Group);var _default=SymbolClz;module.exports=_default},function(module,exports,__webpack_require__){function collect(ecModel,api){var result={"axesInfo":{},"seriesInvolved":!1,"coordSysAxesInfo":{},"coordSysMap":{}};return collectAxesInfo(result,ecModel,api),result.seriesInvolved&&collectSeriesInfo(result,ecModel),result}function collectAxesInfo(result,ecModel,api){var globalTooltipModel=ecModel.getComponent("tooltip"),globalAxisPointerModel=ecModel.getComponent("axisPointer"),linksOption=globalAxisPointerModel.get("link",!0)||[],linkGroups=[];each(api.getCoordinateSystems(),function(coordSys){function saveTooltipAxisInfo(fromTooltip,triggerTooltip,axis){var axisPointerModel=axis.model.getModel("axisPointer",globalAxisPointerModel),axisPointerShow=axisPointerModel.get("show");if(axisPointerShow&&("auto"!==axisPointerShow||fromTooltip||isHandleTrigger(axisPointerModel))){null==triggerTooltip&&(triggerTooltip=axisPointerModel.get("triggerTooltip")),axisPointerModel=fromTooltip?makeAxisPointerModel(axis,baseTooltipModel,globalAxisPointerModel,ecModel,fromTooltip,triggerTooltip):axisPointerModel;var snap=axisPointerModel.get("snap"),key=makeKey(axis.model),involveSeries=triggerTooltip||snap||"category"===axis.type,axisInfo=result.axesInfo[key]={"key":key,"axis":axis,"coordSys":coordSys,"axisPointerModel":axisPointerModel,"triggerTooltip":triggerTooltip,"involveSeries":involveSeries,"snap":snap,"useHandle":isHandleTrigger(axisPointerModel),"seriesModels":[]};axesInfoInCoordSys[key]=axisInfo,result.seriesInvolved|=involveSeries;var groupIndex=getLinkGroupIndex(linksOption,axis);if(null!=groupIndex){var linkGroup=linkGroups[groupIndex]||(linkGroups[groupIndex]={"axesInfo":{}});linkGroup.axesInfo[key]=axisInfo,linkGroup.mapper=linksOption[groupIndex].mapper,axisInfo.linkGroup=linkGroup}}}if(coordSys.axisPointerEnabled){var coordSysKey=makeKey(coordSys.model),axesInfoInCoordSys=result.coordSysAxesInfo[coordSysKey]={};result.coordSysMap[coordSysKey]=coordSys;var coordSysModel=coordSys.model,baseTooltipModel=coordSysModel.getModel("tooltip",globalTooltipModel);if(each(coordSys.getAxes(),curry(saveTooltipAxisInfo,!1,null)),coordSys.getTooltipAxes&&globalTooltipModel&&baseTooltipModel.get("show")){var triggerAxis="axis"===baseTooltipModel.get("trigger"),cross="cross"===baseTooltipModel.get("axisPointer.type"),tooltipAxes=coordSys.getTooltipAxes(baseTooltipModel.get("axisPointer.axis"));(triggerAxis||cross)&&each(tooltipAxes.baseAxes,curry(saveTooltipAxisInfo,!cross||"cross",triggerAxis)),cross&&each(tooltipAxes.otherAxes,curry(saveTooltipAxisInfo,"cross",!1))}}})}function makeAxisPointerModel(axis,baseTooltipModel,globalAxisPointerModel,ecModel,fromTooltip,triggerTooltip){var tooltipAxisPointerModel=baseTooltipModel.getModel("axisPointer"),volatileOption={};each(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(field){volatileOption[field]=zrUtil.clone(tooltipAxisPointerModel.get(field))}),volatileOption.snap="category"!==axis.type&&!!triggerTooltip,"cross"===tooltipAxisPointerModel.get("type")&&(volatileOption.type="line");var labelOption=volatileOption.label||(volatileOption.label={});if(null==labelOption.show&&(labelOption.show=!1),"cross"===fromTooltip){var tooltipAxisPointerLabelShow=tooltipAxisPointerModel.get("label.show");if(labelOption.show=null==tooltipAxisPointerLabelShow||tooltipAxisPointerLabelShow,!triggerTooltip){var crossStyle=volatileOption.lineStyle=tooltipAxisPointerModel.get("crossStyle");crossStyle&&zrUtil.defaults(labelOption,crossStyle.textStyle)}}return axis.model.getModel("axisPointer",new Model(volatileOption,globalAxisPointerModel,ecModel))}function collectSeriesInfo(result,ecModel){ecModel.eachSeries(function(seriesModel){var coordSys=seriesModel.coordinateSystem,seriesTooltipTrigger=seriesModel.get("tooltip.trigger",!0),seriesTooltipShow=seriesModel.get("tooltip.show",!0);coordSys&&"none"!==seriesTooltipTrigger&&seriesTooltipTrigger!==!1&&"item"!==seriesTooltipTrigger&&seriesTooltipShow!==!1&&seriesModel.get("axisPointer.show",!0)!==!1&&each(result.coordSysAxesInfo[makeKey(coordSys.model)],function(axisInfo){var axis=axisInfo.axis;coordSys.getAxis(axis.dim)===axis&&(axisInfo.seriesModels.push(seriesModel),null==axisInfo.seriesDataCount&&(axisInfo.seriesDataCount=0),axisInfo.seriesDataCount+=seriesModel.getData().count())})},this)}function getLinkGroupIndex(linksOption,axis){for(var axisModel=axis.model,dim=axis.dim,i=0;i<linksOption.length;i++){var linkOption=linksOption[i]||{};if(checkPropInLink(linkOption[dim+"AxisId"],axisModel.id)||checkPropInLink(linkOption[dim+"AxisIndex"],axisModel.componentIndex)||checkPropInLink(linkOption[dim+"AxisName"],axisModel.name))return i}}function checkPropInLink(linkPropValue,axisPropValue){return"all"===linkPropValue||zrUtil.isArray(linkPropValue)&&zrUtil.indexOf(linkPropValue,axisPropValue)>=0||linkPropValue===axisPropValue}function fixValue(axisModel){var axisInfo=getAxisInfo(axisModel);if(axisInfo){var axisPointerModel=axisInfo.axisPointerModel,scale=axisInfo.axis.scale,option=axisPointerModel.option,status=axisPointerModel.get("status"),value=axisPointerModel.get("value");null!=value&&(value=scale.parse(value));var useHandle=isHandleTrigger(axisPointerModel);null==status&&(option.status=useHandle?"show":"hide");var extent=scale.getExtent().slice();extent[0]>extent[1]&&extent.reverse(),(null==value||value>extent[1])&&(value=extent[1]),value<extent[0]&&(value=extent[0]),option.value=value,useHandle&&(option.status=axisInfo.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo(axisModel){var coordSysAxesInfo=(axisModel.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return coordSysAxesInfo&&coordSysAxesInfo.axesInfo[makeKey(axisModel)]}function getAxisPointerModel(axisModel){var axisInfo=getAxisInfo(axisModel);return axisInfo&&axisInfo.axisPointerModel}function isHandleTrigger(axisPointerModel){return!!axisPointerModel.get("handle.show")}function makeKey(model){return model.type+"||"+model.id}var zrUtil=__webpack_require__(4),Model=__webpack_require__(56),each=zrUtil.each,curry=zrUtil.curry;exports.collect=collect,exports.fixValue=fixValue,exports.getAxisInfo=getAxisInfo,exports.getAxisPointerModel=getAxisPointerModel,exports.makeKey=makeKey},function(module,exports,__webpack_require__){function buildElStyle(axisPointerModel){var style,axisPointerType=axisPointerModel.get("type"),styleModel=axisPointerModel.getModel(axisPointerType+"Style");return"line"===axisPointerType?(style=styleModel.getLineStyle(),style.fill=null):"shadow"===axisPointerType&&(style=styleModel.getAreaStyle(),style.stroke=null),style}function buildLabelElOption(elOption,axisModel,axisPointerModel,api,labelPos){var value=axisPointerModel.get("value"),text=getValueLabel(value,axisModel.axis,axisModel.ecModel,axisPointerModel.get("seriesDataIndices"),{"precision":axisPointerModel.get("label.precision"),"formatter":axisPointerModel.get("label.formatter")}),labelModel=axisPointerModel.getModel("label"),paddings=formatUtil.normalizeCssArray(labelModel.get("padding")||0),font=labelModel.getFont(),textRect=textContain.getBoundingRect(text,font),position=labelPos.position,width=textRect.width+paddings[1]+paddings[3],height=textRect.height+paddings[0]+paddings[2],align=labelPos.align;"right"===align&&(position[0]-=width),"center"===align&&(position[0]-=width/2);var verticalAlign=labelPos.verticalAlign;"bottom"===verticalAlign&&(position[1]-=height),"middle"===verticalAlign&&(position[1]-=height/2),confineInContainer(position,width,height,api);var bgColor=labelModel.get("backgroundColor");bgColor&&"auto"!==bgColor||(bgColor=axisModel.get("axisLine.lineStyle.color")),elOption.label={"shape":{"x":0,"y":0,"width":width,"height":height,"r":labelModel.get("borderRadius")},"position":position.slice(),"style":{"text":text,"textFont":font,"textFill":labelModel.getTextColor(),"textPosition":"inside","fill":bgColor,"stroke":labelModel.get("borderColor")||"transparent","lineWidth":labelModel.get("borderWidth")||0,"shadowBlur":labelModel.get("shadowBlur"),"shadowColor":labelModel.get("shadowColor"),"shadowOffsetX":labelModel.get("shadowOffsetX"),"shadowOffsetY":labelModel.get("shadowOffsetY")},"z2":10}}function confineInContainer(position,width,height,api){var viewWidth=api.getWidth(),viewHeight=api.getHeight();position[0]=Math.min(position[0]+width,viewWidth)-width,position[1]=Math.min(position[1]+height,viewHeight)-height,position[0]=Math.max(position[0],0),position[1]=Math.max(position[1],0)}function getValueLabel(value,axis,ecModel,seriesDataIndices,opt){value=axis.scale.parse(value);var text=axis.scale.getLabel(value,{"precision":opt.precision}),formatter=opt.formatter;if(formatter){var params={"value":axisHelper.getAxisRawValue(axis,value),"seriesData":[]};zrUtil.each(seriesDataIndices,function(idxItem){var series=ecModel.getSeriesByIndex(idxItem.seriesIndex),dataIndex=idxItem.dataIndexInside,dataParams=series&&series.getDataParams(dataIndex);dataParams&&params.seriesData.push(dataParams)}),zrUtil.isString(formatter)?text=formatter.replace("{value}",text):zrUtil.isFunction(formatter)&&(text=formatter(params))}return text}function getTransformedPosition(axis,value,layoutInfo){var transform=matrix.create();return matrix.rotate(transform,transform,layoutInfo.rotation),matrix.translate(transform,transform,layoutInfo.position),graphic.applyTransform([axis.dataToCoord(value),(layoutInfo.labelOffset||0)+(layoutInfo.labelDirection||1)*(layoutInfo.labelMargin||0)],transform)}function buildCartesianSingleLabelElOption(value,elOption,layoutInfo,axisModel,axisPointerModel,api){var textLayout=AxisBuilder.innerTextLayout(layoutInfo.rotation,0,layoutInfo.labelDirection);layoutInfo.labelMargin=axisPointerModel.get("label.margin"),buildLabelElOption(elOption,axisModel,axisPointerModel,api,{"position":getTransformedPosition(axisModel.axis,value,layoutInfo),"align":textLayout.textAlign,"verticalAlign":textLayout.textVerticalAlign})}function makeLineShape(p1,p2,xDimIndex){return xDimIndex=xDimIndex||0,{"x1":p1[xDimIndex],"y1":p1[1-xDimIndex],"x2":p2[xDimIndex],"y2":p2[1-xDimIndex]}}function makeRectShape(xy,wh,xDimIndex){return xDimIndex=xDimIndex||0,{"x":xy[xDimIndex],"y":xy[1-xDimIndex],"width":wh[xDimIndex],"height":wh[1-xDimIndex]}}function makeSectorShape(cx,cy,r0,r,startAngle,endAngle){return{"cx":cx,"cy":cy,"r0":r0,"r":r,"startAngle":startAngle,"endAngle":endAngle,"clockwise":!0}}var zrUtil=__webpack_require__(4),graphic=__webpack_require__(15),textContain=__webpack_require__(108),formatUtil=__webpack_require__(40),matrix=__webpack_require__(70),axisHelper=__webpack_require__(93),AxisBuilder=__webpack_require__(158);exports.buildElStyle=buildElStyle,exports.buildLabelElOption=buildLabelElOption,exports.getValueLabel=getValueLabel,exports.getTransformedPosition=getTransformedPosition,exports.buildCartesianSingleLabelElOption=buildCartesianSingleLabelElOption,exports.makeLineShape=makeLineShape,exports.makeRectShape=makeRectShape,exports.makeSectorShape=makeSectorShape},function(module,exports,__webpack_require__){function RoamController(zr){this.pointerChecker,this._zr=zr,this._opt={};var bind=zrUtil.bind,mousedownHandler=bind(mousedown,this),mousemoveHandler=bind(mousemove,this),mouseupHandler=bind(mouseup,this),mousewheelHandler=bind(mousewheel,this),pinchHandler=bind(pinch,this);Eventful.call(this),this.setPointerChecker=function(pointerChecker){this.pointerChecker=pointerChecker},this.enable=function(controlType,opt){this.disable(),this._opt=zrUtil.defaults(zrUtil.clone(opt)||{},{"zoomOnMouseWheel":!0,"moveOnMouseMove":!0,"preventDefaultMouseMove":!0}),null==controlType&&(controlType=!0),controlType!==!0&&"move"!==controlType&&"pan"!==controlType||(zr.on("mousedown",mousedownHandler),zr.on("mousemove",mousemoveHandler),zr.on("mouseup",mouseupHandler)),controlType!==!0&&"scale"!==controlType&&"zoom"!==controlType||(zr.on("mousewheel",mousewheelHandler),zr.on("pinch",pinchHandler))},this.disable=function(){zr.off("mousedown",mousedownHandler),zr.off("mousemove",mousemoveHandler),zr.off("mouseup",mouseupHandler),zr.off("mousewheel",mousewheelHandler),zr.off("pinch",pinchHandler)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function mousedown(e){if(!(eventTool.notLeftMouse(e)||e.target&&e.target.draggable)){var x=e.offsetX,y=e.offsetY;this.pointerChecker&&this.pointerChecker(e,x,y)&&(this._x=x,this._y=y,this._dragging=!0)}}function mousemove(e){if(!eventTool.notLeftMouse(e)&&checkKeyBinding(this,"moveOnMouseMove",e)&&this._dragging&&"pinch"!==e.gestureEvent&&!interactionMutex.isTaken(this._zr,"globalPan")){var x=e.offsetX,y=e.offsetY,oldX=this._x,oldY=this._y,dx=x-oldX,dy=y-oldY;this._x=x,this._y=y,this._opt.preventDefaultMouseMove&&eventTool.stop(e.event),this.trigger("pan",dx,dy,oldX,oldY,x,y)}}function mouseup(e){eventTool.notLeftMouse(e)||(this._dragging=!1)}function mousewheel(e){if(checkKeyBinding(this,"zoomOnMouseWheel",e)&&0!==e.wheelDelta){var zoomDelta=e.wheelDelta>0?1.1:1/1.1;zoom.call(this,e,zoomDelta,e.offsetX,e.offsetY)}}function pinch(e){if(!interactionMutex.isTaken(this._zr,"globalPan")){var zoomDelta=e.pinchScale>1?1.1:1/1.1;zoom.call(this,e,zoomDelta,e.pinchX,e.pinchY)}}function zoom(e,zoomDelta,zoomX,zoomY){this.pointerChecker&&this.pointerChecker(e,zoomX,zoomY)&&(eventTool.stop(e.event),this.trigger("zoom",zoomDelta,zoomX,zoomY))}function checkKeyBinding(roamController,prop,e){var setting=roamController._opt[prop];return setting&&(!zrUtil.isString(setting)||e.event[setting+"Key"])}var zrUtil=__webpack_require__(4),Eventful=__webpack_require__(176),eventTool=__webpack_require__(124),interactionMutex=__webpack_require__(633);zrUtil.mixin(RoamController,Eventful);var _default=RoamController;module.exports=_default},function(module,exports,__webpack_require__){function _default(axisName,BaseAxisModelClass,axisTypeDefaulter,extraDefaultOption){zrUtil.each(AXIS_TYPES,function(axisType){BaseAxisModelClass.extend({"type":axisName+"Axis."+axisType,"mergeDefaultAndTheme":function(option,ecModel){var layoutMode=this.layoutMode,inputPositionParams=layoutMode?getLayoutParams(option):{},themeModel=ecModel.getTheme();zrUtil.merge(option,themeModel.get(axisType+"Axis")),zrUtil.merge(option,this.getDefaultOption()),option.type=axisTypeDefaulter(axisName,option),layoutMode&&mergeLayoutParam(option,inputPositionParams,layoutMode)},"optionUpdated":function(){var thisOption=this.option;"category"===thisOption.type&&(this.__ordinalMeta=OrdinalMeta.createByAxisModel(this))},"getCategories":function(rawData){var option=this.option;if("category"===option.type)return rawData?option.data:this.__ordinalMeta.categories},"getOrdinalMeta":function(){return this.__ordinalMeta},"defaultOption":zrUtil.mergeAll([{},axisDefault[axisType+"Axis"],extraDefaultOption],!0)})}),ComponentModel.registerSubTypeDefaulter(axisName+"Axis",zrUtil.curry(axisTypeDefaulter,axisName))}var zrUtil=__webpack_require__(4),axisDefault=__webpack_require__(648),ComponentModel=__webpack_require__(51),_layout=__webpack_require__(34),getLayoutParams=_layout.getLayoutParams,mergeLayoutParam=_layout.mergeLayoutParam,OrdinalMeta=__webpack_require__(655),AXIS_TYPES=["value","category","time","log"];module.exports=_default},function(module,exports,__webpack_require__){function resizeGeo(geoModel,api){var boundingCoords=geoModel.get("boundingCoords");if(null!=boundingCoords){var leftTop=boundingCoords[0],rightBottom=boundingCoords[1];isNaN(leftTop[0])||isNaN(leftTop[1])||isNaN(rightBottom[0])||isNaN(rightBottom[1])||this.setBoundingRect(leftTop[0],leftTop[1],rightBottom[0]-leftTop[0],rightBottom[1]-leftTop[1])}var boxLayoutOption,rect=this.getBoundingRect(),center=geoModel.get("layoutCenter"),size=geoModel.get("layoutSize"),viewWidth=api.getWidth(),viewHeight=api.getHeight(),aspectScale=geoModel.get("aspectScale")||.75,aspect=rect.width/rect.height*aspectScale,useCenterAndSize=!1;center&&size&&(center=[numberUtil.parsePercent(center[0],viewWidth),numberUtil.parsePercent(center[1],viewHeight)],size=numberUtil.parsePercent(size,Math.min(viewWidth,viewHeight)),isNaN(center[0])||isNaN(center[1])||isNaN(size)||(useCenterAndSize=!0));var viewRect;if(useCenterAndSize){var viewRect={};aspect>1?(viewRect.width=size,viewRect.height=size/aspect):(viewRect.height=size,viewRect.width=size*aspect),viewRect.y=center[1]-viewRect.height/2,viewRect.x=center[0]-viewRect.width/2}else boxLayoutOption=geoModel.getBoxLayoutParams(),boxLayoutOption.aspect=aspect,viewRect=layout.getLayoutRect(boxLayoutOption,{"width":viewWidth,"height":viewHeight});this.setViewRect(viewRect.x,viewRect.y,viewRect.width,viewRect.height),this.setCenter(geoModel.get("center")),this.setZoom(geoModel.get("zoom"))}function setGeoCoords(geo,model){zrUtil.each(model.get("geoCoord"),function(geoCoord,name){geo.addGeoCoord(name,geoCoord)})}var _config=__webpack_require__(30),echarts=(_config.__DEV__,__webpack_require__(13)),zrUtil=__webpack_require__(4),Geo=__webpack_require__(1551),layout=__webpack_require__(34),numberUtil=__webpack_require__(20),geoCreator={"dimensions":Geo.prototype.dimensions,"create":function(ecModel,api){var geoList=[];ecModel.eachComponent("geo",function(geoModel,idx){var name=geoModel.get("map"),mapData=echarts.getMap(name),geo=new Geo(name+idx,name,mapData&&mapData.geoJson,mapData&&mapData.specialAreas,geoModel.get("nameMap"));geo.zoomLimit=geoModel.get("scaleLimit"),geoList.push(geo),setGeoCoords(geo,geoModel),geoModel.coordinateSystem=geo,geo.model=geoModel,geo.resize=resizeGeo,geo.resize(geoModel,api)}),ecModel.eachSeries(function(seriesModel){var coordSys=seriesModel.get("coordinateSystem");if("geo"===coordSys){var geoIndex=seriesModel.get("geoIndex")||0;seriesModel.coordinateSystem=geoList[geoIndex]}});var mapModelGroupBySeries={};return ecModel.eachSeriesByType("map",function(seriesModel){if(!seriesModel.getHostGeoModel()){var mapType=seriesModel.getMapType();mapModelGroupBySeries[mapType]=mapModelGroupBySeries[mapType]||[],mapModelGroupBySeries[mapType].push(seriesModel)}}),zrUtil.each(mapModelGroupBySeries,function(mapSeries,mapType){var mapData=echarts.getMap(mapType),nameMapList=zrUtil.map(mapSeries,function(singleMapSeries){return singleMapSeries.get("nameMap")}),geo=new Geo(mapType,mapType,mapData&&mapData.geoJson,mapData&&mapData.specialAreas,zrUtil.mergeAll(nameMapList));geo.zoomLimit=zrUtil.retrieve.apply(null,zrUtil.map(mapSeries,function(singleMapSeries){return singleMapSeries.get("scaleLimit")})),geoList.push(geo),geo.resize=resizeGeo,geo.resize(mapSeries[0],api),zrUtil.each(mapSeries,function(singleMapSeries){singleMapSeries.coordinateSystem=geo,setGeoCoords(geo,singleMapSeries)})}),geoList},"getFilledRegions":function(originRegionArr,mapName,nameMap){var regionsArr=(originRegionArr||[]).slice();nameMap=nameMap||{};var map=echarts.getMap(mapName),geoJson=map&&map.geoJson;if(!geoJson)return originRegionArr;for(var dataNameMap=zrUtil.createHashMap(),features=geoJson.features,i=0;i<regionsArr.length;i++)dataNameMap.set(regionsArr[i].name,regionsArr[i]);for(var i=0;i<features.length;i++){var name=features[i].properties.name;dataNameMap.get(name)||(nameMap.hasOwnProperty(name)&&(name=nameMap[name]),regionsArr.push({"name":name}))}return regionsArr}};echarts.registerCoordinateSystem("geo",geoCreator);var _default=geoCreator;module.exports=_default},function(module,exports,__webpack_require__){function detectSourceFormat(datasetModel){var data=datasetModel.option.source,sourceFormat=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(data))sourceFormat=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray(data))for(var i=0,len=data.length;i<len;i++){var item=data[i];if(null!=item){if(isArray(item)){sourceFormat=SOURCE_FORMAT_ARRAY_ROWS;break}if(isObject(item)){sourceFormat=SOURCE_FORMAT_OBJECT_ROWS;break}}}else if(isObject(data)){for(var key in data)if(data.hasOwnProperty(key)&&isArrayLike(data[key])){sourceFormat=SOURCE_FORMAT_KEYED_COLUMNS;break}}else if(null!=data)throw new Error("Invalid data");inner(datasetModel).sourceFormat=sourceFormat}function getSource(seriesModel){return inner(seriesModel).source}function resetSourceDefaulter(ecModel){inner(ecModel).datasetMap=createHashMap()}function prepareSource(seriesModel){var seriesOption=seriesModel.option,data=seriesOption.data,sourceFormat=isTypedArray(data)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,fromDataset=!1,seriesLayoutBy=seriesOption.seriesLayoutBy,sourceHeader=seriesOption.sourceHeader,dimensionsDefine=seriesOption.dimensions,datasetModel=getDatasetModel(seriesModel);if(datasetModel){var datasetOption=datasetModel.option;data=datasetOption.source,sourceFormat=inner(datasetModel).sourceFormat,fromDataset=!0,seriesLayoutBy=seriesLayoutBy||datasetOption.seriesLayoutBy,null==sourceHeader&&(sourceHeader=datasetOption.sourceHeader),dimensionsDefine=dimensionsDefine||datasetOption.dimensions}var completeResult=completeBySourceData(data,sourceFormat,seriesLayoutBy,sourceHeader,dimensionsDefine),encodeDefine=seriesOption.encode;!encodeDefine&&datasetModel&&(encodeDefine=makeDefaultEncode(seriesModel,datasetModel,data,sourceFormat,seriesLayoutBy,completeResult)),inner(seriesModel).source=new Source({"data":data,"fromDataset":fromDataset,"seriesLayoutBy":seriesLayoutBy,"sourceFormat":sourceFormat,"dimensionsDefine":completeResult.dimensionsDefine,"startIndex":completeResult.startIndex,"dimensionsDetectCount":completeResult.dimensionsDetectCount,"encodeDefine":encodeDefine})}function completeBySourceData(data,sourceFormat,seriesLayoutBy,sourceHeader,dimensionsDefine){if(!data)return{"dimensionsDefine":normalizeDimensionsDefine(dimensionsDefine)};var dimensionsDetectCount,startIndex,findPotentialName;if(sourceFormat===SOURCE_FORMAT_ARRAY_ROWS)"auto"===sourceHeader||null==sourceHeader?arrayRowsTravelFirst(function(val){null!=val&&"-"!==val&&(isString(val)?null==startIndex&&(startIndex=1):startIndex=0)},seriesLayoutBy,data,10):startIndex=sourceHeader?1:0,dimensionsDefine||1!==startIndex||(dimensionsDefine=[],arrayRowsTravelFirst(function(val,index){dimensionsDefine[index]=null!=val?val:""},seriesLayoutBy,data)),dimensionsDetectCount=dimensionsDefine?dimensionsDefine.length:seriesLayoutBy===SERIES_LAYOUT_BY_ROW?data.length:data[0]?data[0].length:null;else if(sourceFormat===SOURCE_FORMAT_OBJECT_ROWS)dimensionsDefine||(dimensionsDefine=objectRowsCollectDimensions(data),findPotentialName=!0);else if(sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS)dimensionsDefine||(dimensionsDefine=[],findPotentialName=!0,each(data,function(colArr,key){dimensionsDefine.push(key)}));else if(sourceFormat===SOURCE_FORMAT_ORIGINAL){var value0=getDataItemValue(data[0]);dimensionsDetectCount=isArray(value0)&&value0.length||1}var potentialNameDimIndex;return findPotentialName&&each(dimensionsDefine,function(dim,idx){"name"===(isObject(dim)?dim.name:dim)&&(potentialNameDimIndex=idx)}),{"startIndex":startIndex,"dimensionsDefine":normalizeDimensionsDefine(dimensionsDefine),"dimensionsDetectCount":dimensionsDetectCount,"potentialNameDimIndex":potentialNameDimIndex}}function normalizeDimensionsDefine(dimensionsDefine){if(dimensionsDefine){var nameMap=createHashMap();return map(dimensionsDefine,function(item,index){if(item=extend({},isObject(item)?item:{"name":item}),null==item.name)return item;item.name+="",null==item.displayName&&(item.displayName=item.name);var exist=nameMap.get(item.name);return exist?item.name+="-"+exist.count++:nameMap.set(item.name,{"count":1}),item})}}function arrayRowsTravelFirst(cb,seriesLayoutBy,data,maxLoop){if(null==maxLoop&&(maxLoop=1/0),seriesLayoutBy===SERIES_LAYOUT_BY_ROW)for(var i=0;i<data.length&&i<maxLoop;i++)cb(data[i]?data[i][0]:null,i);else for(var value0=data[0]||[],i=0;i<value0.length&&i<maxLoop;i++)cb(value0[i],i)}function objectRowsCollectDimensions(data){for(var obj,firstIndex=0;firstIndex<data.length&&!(obj=data[firstIndex++]););if(obj){var dimensions=[];return each(obj,function(value,key){dimensions.push(key)}),dimensions}}function makeDefaultEncode(seriesModel,datasetModel,data,sourceFormat,seriesLayoutBy,completeResult){var coordSysDefine=getCoordSysDefineBySeries(seriesModel),encode={},encodeItemName=[],encodeSeriesName=[],seriesType=seriesModel.subType,nSeriesMap=createHashMap(["pie","map","funnel"]),cSeriesMap=createHashMap(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(coordSysDefine&&null!=cSeriesMap.get(seriesType)){var ecModel=seriesModel.ecModel,datasetMap=inner(ecModel).datasetMap,key=datasetModel.uid+"_"+seriesLayoutBy,datasetRecord=datasetMap.get(key)||datasetMap.set(key,{"categoryWayDim":1,"valueWayDim":0});each(coordSysDefine.coordSysDims,function(coordDim){if(null==coordSysDefine.firstCategoryDimIndex){var dataDim=datasetRecord.valueWayDim++;encode[coordDim]=dataDim,encodeSeriesName.push(dataDim)}else if(coordSysDefine.categoryAxisMap.get(coordDim))encode[coordDim]=0,encodeItemName.push(0);else{var dataDim=datasetRecord.categoryWayDim++;encode[coordDim]=dataDim,encodeSeriesName.push(dataDim)}})}else if(null!=nSeriesMap.get(seriesType)){for(var firstNotOrdinal,i=0;i<5&&null==firstNotOrdinal;i++)doGuessOrdinal(data,sourceFormat,seriesLayoutBy,completeResult.dimensionsDefine,completeResult.startIndex,i)||(firstNotOrdinal=i);if(null!=firstNotOrdinal){encode.value=firstNotOrdinal;var nameDimIndex=completeResult.potentialNameDimIndex||Math.max(firstNotOrdinal-1,0);encodeSeriesName.push(nameDimIndex),encodeItemName.push(nameDimIndex)}}return encodeItemName.length&&(encode.itemName=encodeItemName),encodeSeriesName.length&&(encode.seriesName=encodeSeriesName),encode}function getDatasetModel(seriesModel){var option=seriesModel.option,thisData=option.data;if(!thisData)return seriesModel.ecModel.getComponent("dataset",option.datasetIndex||0)}function guessOrdinal(source,dimIndex){return doGuessOrdinal(source.data,source.sourceFormat,source.seriesLayoutBy,source.dimensionsDefine,source.startIndex,dimIndex)}function doGuessOrdinal(data,sourceFormat,seriesLayoutBy,dimensionsDefine,startIndex,dimIndex){function detectValue(val){return(null==val||!isFinite(val)||""===val)&&(!(!isString(val)||"-"===val)||void 0)}var result,maxLoop=5;if(isTypedArray(data))return!1;var dimName;if(dimensionsDefine&&(dimName=dimensionsDefine[dimIndex],dimName=isObject(dimName)?dimName.name:dimName),sourceFormat===SOURCE_FORMAT_ARRAY_ROWS)if(seriesLayoutBy===SERIES_LAYOUT_BY_ROW){for(var sample=data[dimIndex],i=0;i<(sample||[]).length&&i<maxLoop;i++)if(null!=(result=detectValue(sample[startIndex+i])))return result}else for(var i=0;i<data.length&&i<maxLoop;i++){
var row=data[startIndex+i];if(row&&null!=(result=detectValue(row[dimIndex])))return result}else if(sourceFormat===SOURCE_FORMAT_OBJECT_ROWS){if(!dimName)return;for(var i=0;i<data.length&&i<maxLoop;i++){var item=data[i];if(item&&null!=(result=detectValue(item[dimName])))return result}}else if(sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS){if(!dimName)return;var sample=data[dimName];if(!sample||isTypedArray(sample))return!1;for(var i=0;i<sample.length&&i<maxLoop;i++)if(null!=(result=detectValue(sample[i])))return result}else if(sourceFormat===SOURCE_FORMAT_ORIGINAL)for(var i=0;i<data.length&&i<maxLoop;i++){var item=data[i],val=getDataItemValue(item);if(!isArray(val))return!1;if(null!=(result=detectValue(val[dimIndex])))return result}return!1}var _config=__webpack_require__(30),_model=(_config.__DEV__,__webpack_require__(27)),makeInner=_model.makeInner,getDataItemValue=_model.getDataItemValue,_referHelper=__webpack_require__(661),getCoordSysDefineBySeries=_referHelper.getCoordSysDefineBySeries,_util=__webpack_require__(4),createHashMap=_util.createHashMap,each=_util.each,map=_util.map,isArray=_util.isArray,isString=_util.isString,isObject=_util.isObject,isTypedArray=_util.isTypedArray,isArrayLike=_util.isArrayLike,extend=_util.extend,Source=(_util.assert,__webpack_require__(220)),_sourceType=__webpack_require__(222),SOURCE_FORMAT_ORIGINAL=_sourceType.SOURCE_FORMAT_ORIGINAL,SOURCE_FORMAT_ARRAY_ROWS=_sourceType.SOURCE_FORMAT_ARRAY_ROWS,SOURCE_FORMAT_OBJECT_ROWS=_sourceType.SOURCE_FORMAT_OBJECT_ROWS,SOURCE_FORMAT_KEYED_COLUMNS=_sourceType.SOURCE_FORMAT_KEYED_COLUMNS,SOURCE_FORMAT_UNKNOWN=_sourceType.SOURCE_FORMAT_UNKNOWN,SOURCE_FORMAT_TYPED_ARRAY=_sourceType.SOURCE_FORMAT_TYPED_ARRAY,SERIES_LAYOUT_BY_ROW=_sourceType.SERIES_LAYOUT_BY_ROW,inner=makeInner();exports.detectSourceFormat=detectSourceFormat,exports.getSource=getSource,exports.resetSourceDefaulter=resetSourceDefaulter,exports.prepareSource=prepareSource,exports.guessOrdinal=guessOrdinal},function(module,exports,__webpack_require__){function getSeriesStackId(seriesModel){return seriesModel.get("stack")||STACK_PREFIX+seriesModel.seriesIndex}function getAxisKey(axis){return axis.dim+axis.index}function getLayoutOnAxis(opt){var params=[],baseAxis=opt.axis,axisKey="axis0";if("category"===baseAxis.type){for(var bandWidth=baseAxis.getBandWidth(),i=0;i<opt.count;i++)params.push(zrUtil.defaults({"bandWidth":bandWidth,"axisKey":axisKey,"stackId":STACK_PREFIX+i},opt));for(var widthAndOffsets=doCalBarWidthAndOffset(params),result=[],i=0;i<opt.count;i++){var item=widthAndOffsets[axisKey][STACK_PREFIX+i];item.offsetCenter=item.offset+item.width/2,result.push(item)}return result}}function prepareLayoutBarSeries(seriesType,ecModel){var seriesModels=[];return ecModel.eachSeriesByType(seriesType,function(seriesModel){isOnCartesian(seriesModel)&&!isInLargeMode(seriesModel)&&seriesModels.push(seriesModel)}),seriesModels}function makeColumnLayout(barSeries){var seriesInfoList=[];return zrUtil.each(barSeries,function(seriesModel){var data=seriesModel.getData(),cartesian=seriesModel.coordinateSystem,baseAxis=cartesian.getBaseAxis(),axisExtent=baseAxis.getExtent(),bandWidth="category"===baseAxis.type?baseAxis.getBandWidth():Math.abs(axisExtent[1]-axisExtent[0])/data.count(),barWidth=parsePercent(seriesModel.get("barWidth"),bandWidth),barMaxWidth=parsePercent(seriesModel.get("barMaxWidth"),bandWidth),barGap=seriesModel.get("barGap"),barCategoryGap=seriesModel.get("barCategoryGap");seriesInfoList.push({"bandWidth":bandWidth,"barWidth":barWidth,"barMaxWidth":barMaxWidth,"barGap":barGap,"barCategoryGap":barCategoryGap,"axisKey":getAxisKey(baseAxis),"stackId":getSeriesStackId(seriesModel)})}),doCalBarWidthAndOffset(seriesInfoList)}function doCalBarWidthAndOffset(seriesInfoList){var columnsMap={};zrUtil.each(seriesInfoList,function(seriesInfo,idx){var axisKey=seriesInfo.axisKey,bandWidth=seriesInfo.bandWidth,columnsOnAxis=columnsMap[axisKey]||{"bandWidth":bandWidth,"remainedWidth":bandWidth,"autoWidthCount":0,"categoryGap":"20%","gap":"30%","stacks":{}},stacks=columnsOnAxis.stacks;columnsMap[axisKey]=columnsOnAxis;var stackId=seriesInfo.stackId;stacks[stackId]||columnsOnAxis.autoWidthCount++,stacks[stackId]=stacks[stackId]||{"width":0,"maxWidth":0};var barWidth=seriesInfo.barWidth;barWidth&&!stacks[stackId].width&&(stacks[stackId].width=barWidth,barWidth=Math.min(columnsOnAxis.remainedWidth,barWidth),columnsOnAxis.remainedWidth-=barWidth);var barMaxWidth=seriesInfo.barMaxWidth;barMaxWidth&&(stacks[stackId].maxWidth=barMaxWidth);var barGap=seriesInfo.barGap;null!=barGap&&(columnsOnAxis.gap=barGap);var barCategoryGap=seriesInfo.barCategoryGap;null!=barCategoryGap&&(columnsOnAxis.categoryGap=barCategoryGap)});var result={};return zrUtil.each(columnsMap,function(columnsOnAxis,coordSysName){result[coordSysName]={};var stacks=columnsOnAxis.stacks,bandWidth=columnsOnAxis.bandWidth,categoryGap=parsePercent(columnsOnAxis.categoryGap,bandWidth),barGapPercent=parsePercent(columnsOnAxis.gap,1),remainedWidth=columnsOnAxis.remainedWidth,autoWidthCount=columnsOnAxis.autoWidthCount,autoWidth=(remainedWidth-categoryGap)/(autoWidthCount+(autoWidthCount-1)*barGapPercent);autoWidth=Math.max(autoWidth,0),zrUtil.each(stacks,function(column,stack){var maxWidth=column.maxWidth;maxWidth&&maxWidth<autoWidth&&(maxWidth=Math.min(maxWidth,remainedWidth),column.width&&(maxWidth=Math.min(maxWidth,column.width)),remainedWidth-=maxWidth,column.width=maxWidth,autoWidthCount--)}),autoWidth=(remainedWidth-categoryGap)/(autoWidthCount+(autoWidthCount-1)*barGapPercent),autoWidth=Math.max(autoWidth,0);var lastColumn,widthSum=0;zrUtil.each(stacks,function(column,idx){column.width||(column.width=autoWidth),lastColumn=column,widthSum+=column.width*(1+barGapPercent)}),lastColumn&&(widthSum-=lastColumn.width*barGapPercent);var offset=-widthSum/2;zrUtil.each(stacks,function(column,stackId){result[coordSysName][stackId]=result[coordSysName][stackId]||{"offset":offset,"width":column.width},offset+=column.width*(1+barGapPercent)})}),result}function retrieveColumnLayout(barWidthAndOffset,axis,seriesModel){if(barWidthAndOffset&&axis){var result=barWidthAndOffset[getAxisKey(axis)];return null!=result&&null!=seriesModel&&(result=result[getSeriesStackId(seriesModel)]),result}}function layout(seriesType,ecModel){var seriesModels=prepareLayoutBarSeries(seriesType,ecModel),barWidthAndOffset=makeColumnLayout(seriesModels),lastStackCoords={},lastStackCoordsOrigin={};zrUtil.each(seriesModels,function(seriesModel){var data=seriesModel.getData(),cartesian=seriesModel.coordinateSystem,baseAxis=cartesian.getBaseAxis(),stackId=getSeriesStackId(seriesModel),columnLayoutInfo=barWidthAndOffset[getAxisKey(baseAxis)][stackId],columnOffset=columnLayoutInfo.offset,columnWidth=columnLayoutInfo.width,valueAxis=cartesian.getOtherAxis(baseAxis),barMinHeight=seriesModel.get("barMinHeight")||0;lastStackCoords[stackId]=lastStackCoords[stackId]||[],lastStackCoordsOrigin[stackId]=lastStackCoordsOrigin[stackId]||[],data.setLayout({"offset":columnOffset,"size":columnWidth});for(var valueDim=data.mapDimension(valueAxis.dim),baseDim=data.mapDimension(baseAxis.dim),stacked=isDimensionStacked(data,valueDim),isValueAxisH=valueAxis.isHorizontal(),valueAxisStart=getValueAxisStart(baseAxis,valueAxis,stacked),idx=0,len=data.count();idx<len;idx++){var value=data.get(valueDim,idx),baseValue=data.get(baseDim,idx);if(!isNaN(value)){var sign=value>=0?"p":"n",baseCoord=valueAxisStart;stacked&&(lastStackCoords[stackId][baseValue]||(lastStackCoords[stackId][baseValue]={"p":valueAxisStart,"n":valueAxisStart}),baseCoord=lastStackCoords[stackId][baseValue][sign]);var x,y,width,height;if(isValueAxisH){var coord=cartesian.dataToPoint([value,baseValue]);x=baseCoord,y=coord[1]+columnOffset,width=coord[0]-valueAxisStart,height=columnWidth,Math.abs(width)<barMinHeight&&(width=(width<0?-1:1)*barMinHeight),stacked&&(lastStackCoords[stackId][baseValue][sign]+=width)}else{var coord=cartesian.dataToPoint([baseValue,value]);x=coord[0]+columnOffset,y=baseCoord,width=columnWidth,height=coord[1]-valueAxisStart,Math.abs(height)<barMinHeight&&(height=(height<=0?-1:1)*barMinHeight),stacked&&(lastStackCoords[stackId][baseValue][sign]+=height)}data.setItemLayout(idx,{"x":x,"y":y,"width":width,"height":height})}}},this)}function isOnCartesian(seriesModel){return seriesModel.coordinateSystem&&"cartesian2d"===seriesModel.coordinateSystem.type}function isInLargeMode(seriesModel){return seriesModel.pipelineContext&&seriesModel.pipelineContext.large}function getValueAxisStart(baseAxis,valueAxis,stacked){return zrUtil.indexOf(baseAxis.getAxesOnZeroOf(),valueAxis)>=0||stacked?valueAxis.toGlobalCoord(valueAxis.dataToCoord(0)):valueAxis.getGlobalExtent()[0]}var zrUtil=__webpack_require__(4),_number=__webpack_require__(20),parsePercent=_number.parsePercent,_dataStackHelper=__webpack_require__(115),isDimensionStacked=_dataStackHelper.isDimensionStacked,createRenderPlanner=__webpack_require__(191),STACK_PREFIX="__ec_stack_",LARGE_BAR_MIN_WIDTH=.5,LargeArr="undefined"!=typeof Float32Array?Float32Array:Array,largeLayout={"seriesType":"bar","plan":createRenderPlanner(),"reset":function(seriesModel){function progress(params,data){for(var dataIndex,largePoints=new LargeArr(2*params.count),coord=[],valuePair=[],offset=0;null!=(dataIndex=params.next());)valuePair[valueDimIdx]=data.get(valueDim,dataIndex),valuePair[1-valueDimIdx]=data.get(baseDim,dataIndex),coord=cartesian.dataToPoint(valuePair,null,coord),largePoints[offset++]=coord[0],largePoints[offset++]=coord[1];data.setLayout({"largePoints":largePoints,"barWidth":barWidth,"valueAxisStart":getValueAxisStart(baseAxis,valueAxis,!1),"valueAxisHorizontal":valueAxisHorizontal})}if(isOnCartesian(seriesModel)&&isInLargeMode(seriesModel)){var data=seriesModel.getData(),cartesian=seriesModel.coordinateSystem,baseAxis=cartesian.getBaseAxis(),valueAxis=cartesian.getOtherAxis(baseAxis),valueDim=data.mapDimension(valueAxis.dim),baseDim=data.mapDimension(baseAxis.dim),valueAxisHorizontal=valueAxis.isHorizontal(),valueDimIdx=valueAxisHorizontal?0:1,barWidth=retrieveColumnLayout(makeColumnLayout([seriesModel]),baseAxis,seriesModel).width;return barWidth>LARGE_BAR_MIN_WIDTH||(barWidth=LARGE_BAR_MIN_WIDTH),{"progress":progress}}}};exports.getLayoutOnAxis=getLayoutOnAxis,exports.prepareLayoutBarSeries=prepareLayoutBarSeries,exports.makeColumnLayout=makeColumnLayout,exports.retrieveColumnLayout=retrieveColumnLayout,exports.layout=layout,exports.largeLayout=largeLayout},function(module,exports,__webpack_require__){var numberUtil=__webpack_require__(20),formatUtil=__webpack_require__(40),Scale=__webpack_require__(278),helper=__webpack_require__(662),roundNumber=numberUtil.round,IntervalScale=Scale.extend({"type":"interval","_interval":0,"_intervalPrecision":2,"setExtent":function(start,end){var thisExtent=this._extent;isNaN(start)||(thisExtent[0]=parseFloat(start)),isNaN(end)||(thisExtent[1]=parseFloat(end))},"unionExtent":function(other){var extent=this._extent;other[0]<extent[0]&&(extent[0]=other[0]),other[1]>extent[1]&&(extent[1]=other[1]),IntervalScale.prototype.setExtent.call(this,extent[0],extent[1])},"getInterval":function(){return this._interval},"setInterval":function(interval){this._interval=interval,this._niceExtent=this._extent.slice(),this._intervalPrecision=helper.getIntervalPrecision(interval)},"getTicks":function(){return helper.intervalScaleGetTicks(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},"getLabel":function(data,opt){if(null==data)return"";var precision=opt&&opt.precision;return null==precision?precision=numberUtil.getPrecisionSafe(data)||0:"auto"===precision&&(precision=this._intervalPrecision),data=roundNumber(data,precision,!0),formatUtil.addCommas(data)},"niceTicks":function(splitNumber,minInterval,maxInterval){splitNumber=splitNumber||5;var extent=this._extent,span=extent[1]-extent[0];if(isFinite(span)){span<0&&(span=-span,extent.reverse());var result=helper.intervalScaleNiceTicks(extent,splitNumber,minInterval,maxInterval);this._intervalPrecision=result.intervalPrecision,this._interval=result.interval,this._niceExtent=result.niceTickExtent}},"niceExtent":function(opt){var extent=this._extent;if(extent[0]===extent[1])if(0!==extent[0]){var expandSize=extent[0];opt.fixMax?extent[0]-=expandSize/2:(extent[1]+=expandSize/2,extent[0]-=expandSize/2)}else extent[1]=1;var span=extent[1]-extent[0];isFinite(span)||(extent[0]=0,extent[1]=1),this.niceTicks(opt.splitNumber,opt.minInterval,opt.maxInterval);var interval=this._interval;opt.fixMin||(extent[0]=roundNumber(Math.floor(extent[0]/interval)*interval)),opt.fixMax||(extent[1]=roundNumber(Math.ceil(extent[1]/interval)*interval))}});IntervalScale.create=function(){return new IntervalScale};var _default=IntervalScale;module.exports=_default},function(module,exports,__webpack_require__){function Scale(setting){this._setting=setting||{},this._extent=[1/0,-(1/0)],this._interval=0,this.init&&this.init.apply(this,arguments)}var clazzUtil=__webpack_require__(116);Scale.prototype.parse=function(val){return val},Scale.prototype.getSetting=function(name){return this._setting[name]},Scale.prototype.contain=function(val){var extent=this._extent;return val>=extent[0]&&val<=extent[1]},Scale.prototype.normalize=function(val){var extent=this._extent;return extent[1]===extent[0]?.5:(val-extent[0])/(extent[1]-extent[0])},Scale.prototype.scale=function(val){var extent=this._extent;return val*(extent[1]-extent[0])+extent[0]},Scale.prototype.unionExtent=function(other){var extent=this._extent;other[0]<extent[0]&&(extent[0]=other[0]),other[1]>extent[1]&&(extent[1]=other[1])},Scale.prototype.unionExtentFromData=function(data,dim){this.unionExtent(data.getApproximateExtent(dim))},Scale.prototype.getExtent=function(){return this._extent.slice()},Scale.prototype.setExtent=function(start,end){var thisExtent=this._extent;isNaN(start)||(thisExtent[0]=start),isNaN(end)||(thisExtent[1]=end)},Scale.prototype.isBlank=function(){return this._isBlank},Scale.prototype.setBlank=function(isBlank){this._isBlank=isBlank},Scale.prototype.getLabel=null,clazzUtil.enableClassExtend(Scale),clazzUtil.enableClassManagement(Scale,{"registerWhenExtend":!0});var _default=Scale;module.exports=_default},function(module,exports,__webpack_require__){function getUID(type){return[type||"",base++,Math.random().toFixed(5)].join("_")}function enableSubTypeDefaulter(entity){var subTypeDefaulters={};return entity.registerSubTypeDefaulter=function(componentType,defaulter){componentType=parseClassType(componentType),subTypeDefaulters[componentType.main]=defaulter},entity.determineSubType=function(componentType,option){var type=option.type;if(!type){var componentTypeMain=parseClassType(componentType).main;entity.hasSubTypes(componentType)&&subTypeDefaulters[componentTypeMain]&&(type=subTypeDefaulters[componentTypeMain](option))}return type},entity}function enableTopologicalTravel(entity,dependencyGetter){function makeDepndencyGraph(fullNameList){var graph={},noEntryList=[];return zrUtil.each(fullNameList,function(name){var thisItem=createDependencyGraphItem(graph,name),originalDeps=thisItem.originalDeps=dependencyGetter(name),availableDeps=getAvailableDependencies(originalDeps,fullNameList);thisItem.entryCount=availableDeps.length,0===thisItem.entryCount&&noEntryList.push(name),zrUtil.each(availableDeps,function(dependentName){zrUtil.indexOf(thisItem.predecessor,dependentName)<0&&thisItem.predecessor.push(dependentName);var thatItem=createDependencyGraphItem(graph,dependentName);zrUtil.indexOf(thatItem.successor,dependentName)<0&&thatItem.successor.push(name)})}),{"graph":graph,"noEntryList":noEntryList}}function createDependencyGraphItem(graph,name){return graph[name]||(graph[name]={"predecessor":[],"successor":[]}),graph[name]}function getAvailableDependencies(originalDeps,fullNameList){var availableDeps=[];return zrUtil.each(originalDeps,function(dep){zrUtil.indexOf(fullNameList,dep)>=0&&availableDeps.push(dep)}),availableDeps}entity.topologicalTravel=function(targetNameList,fullNameList,callback,context){function removeEdge(succComponentType){graph[succComponentType].entryCount--,0===graph[succComponentType].entryCount&&stack.push(succComponentType)}function removeEdgeAndAdd(succComponentType){targetNameSet[succComponentType]=!0,removeEdge(succComponentType)}if(targetNameList.length){var result=makeDepndencyGraph(fullNameList),graph=result.graph,stack=result.noEntryList,targetNameSet={};for(zrUtil.each(targetNameList,function(name){targetNameSet[name]=!0});stack.length;){var currComponentType=stack.pop(),currVertex=graph[currComponentType],isInTargetNameSet=!!targetNameSet[currComponentType];isInTargetNameSet&&(callback.call(context,currComponentType,currVertex.originalDeps.slice()),delete targetNameSet[currComponentType]),zrUtil.each(currVertex.successor,isInTargetNameSet?removeEdgeAndAdd:removeEdge)}zrUtil.each(targetNameSet,function(){throw new Error("Circle dependency may exists")})}}}var zrUtil=__webpack_require__(4),_clazz=__webpack_require__(116),parseClassType=_clazz.parseClassType,base=0;exports.getUID=getUID,exports.enableSubTypeDefaulter=enableSubTypeDefaulter,exports.enableTopologicalTravel=enableTopologicalTravel},function(module,exports,__webpack_require__){var Group=__webpack_require__(316),componentUtil=__webpack_require__(279),clazzUtil=__webpack_require__(116),Component=function(){this.group=new Group,this.uid=componentUtil.getUID("viewComponent")};Component.prototype={"constructor":Component,"init":function(ecModel,api){},"render":function(componentModel,ecModel,api,payload){},"dispose":function(){}};var componentProto=Component.prototype;componentProto.updateView=componentProto.updateLayout=componentProto.updateVisual=function(seriesModel,ecModel,api,payload){},clazzUtil.enableClassExtend(Component),clazzUtil.enableClassManagement(Component,{"registerWhenExtend":!0});var _default=Component;module.exports=_default},function(module,exports,__webpack_require__){function _default(seriesType){return{"getTargetSeries":function(ecModel){var paletteScope={},seiresModelMap=createHashMap();return ecModel.eachSeriesByType(seriesType,function(seriesModel){seriesModel.__paletteScope=paletteScope,seiresModelMap.set(seriesModel.uid,seriesModel)}),seiresModelMap},"reset":function(seriesModel,ecModel){var dataAll=seriesModel.getRawData(),idxMap={},data=seriesModel.getData();data.each(function(idx){var rawIdx=data.getRawIndex(idx);idxMap[rawIdx]=idx}),dataAll.each(function(rawIdx){var filteredIdx=idxMap[rawIdx],singleDataColor=null!=filteredIdx&&data.getItemVisual(filteredIdx,"color",!0);if(singleDataColor)dataAll.setItemVisual(rawIdx,"color",singleDataColor);else{var itemModel=dataAll.getItemModel(rawIdx),color=itemModel.get("itemStyle.color")||seriesModel.getColorFromPalette(dataAll.getName(rawIdx)||rawIdx+"",seriesModel.__paletteScope,dataAll.count());dataAll.setItemVisual(rawIdx,"color",color),null!=filteredIdx&&data.setItemVisual(filteredIdx,"color",color)}})}}}var _util=__webpack_require__(4),createHashMap=_util.createHashMap;module.exports=_default},function(module,exports,__webpack_require__){function hasKeys(obj){if(obj)for(var name in obj)if(obj.hasOwnProperty(name))return!0}function createVisualMappings(option,stateList,supplementVisualOption){function createMappings(){var Creater=function(){};Creater.prototype.__hidden=Creater.prototype;var obj=new Creater;return obj}var visualMappings={};return each(stateList,function(state){var mappings=visualMappings[state]=createMappings();each(option[state],function(visualData,visualType){if(VisualMapping.isValidType(visualType)){var mappingOption={"type":visualType,"visual":visualData};supplementVisualOption&&supplementVisualOption(mappingOption,state),mappings[visualType]=new VisualMapping(mappingOption),"opacity"===visualType&&(mappingOption=zrUtil.clone(mappingOption),mappingOption.type="colorAlpha",mappings.__hidden.__alphaForOpacity=new VisualMapping(mappingOption))}})}),visualMappings}function replaceVisualOption(thisOption,newOption,keys){var has;zrUtil.each(keys,function(key){newOption.hasOwnProperty(key)&&hasKeys(newOption[key])&&(has=!0)}),has&&zrUtil.each(keys,function(key){newOption.hasOwnProperty(key)&&hasKeys(newOption[key])?thisOption[key]=zrUtil.clone(newOption[key]):delete thisOption[key]})}function applyVisual(stateList,visualMappings,data,getValueState,scope,dimension){function getVisual(key){return data.getItemVisual(dataIndex,key)}function setVisual(key,value){data.setItemVisual(dataIndex,key,value)}function eachItem(valueOrIndex,index){dataIndex=null==dimension?valueOrIndex:index;var rawDataItem=data.getRawDataItem(dataIndex);if(!rawDataItem||rawDataItem.visualMap!==!1)for(var valueState=getValueState.call(scope,valueOrIndex),mappings=visualMappings[valueState],visualTypes=visualTypesMap[valueState],i=0,len=visualTypes.length;i<len;i++){var type=visualTypes[i];mappings[type]&&mappings[type].applyVisual(valueOrIndex,getVisual,setVisual)}}var visualTypesMap={};zrUtil.each(stateList,function(state){var visualTypes=VisualMapping.prepareVisualTypes(visualMappings[state]);visualTypesMap[state]=visualTypes});var dataIndex;null==dimension?data.each(eachItem):data.each([dimension],eachItem)}function incrementalApplyVisual(stateList,visualMappings,getValueState,dim){function progress(params,data){function getVisual(key){return data.getItemVisual(dataIndex,key)}function setVisual(key,value){data.setItemVisual(dataIndex,key,value)}null!=dim&&(dim=data.getDimension(dim));for(var dataIndex;null!=(dataIndex=params.next());){var rawDataItem=data.getRawDataItem(dataIndex);if(rawDataItem&&rawDataItem.visualMap===!1)return;for(var value=null!=dim?data.get(dim,dataIndex,!0):dataIndex,valueState=getValueState(value),mappings=visualMappings[valueState],visualTypes=visualTypesMap[valueState],i=0,len=visualTypes.length;i<len;i++){var type=visualTypes[i];mappings[type]&&mappings[type].applyVisual(value,getVisual,setVisual)}}}var visualTypesMap={};return zrUtil.each(stateList,function(state){var visualTypes=VisualMapping.prepareVisualTypes(visualMappings[state]);visualTypesMap[state]=visualTypes}),{"progress":progress}}var zrUtil=__webpack_require__(4),VisualMapping=__webpack_require__(164),each=zrUtil.each;exports.createVisualMappings=createVisualMappings,exports.replaceVisualOption=replaceVisualOption,exports.applyVisual=applyVisual,exports.incrementalApplyVisual=incrementalApplyVisual},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports){var dpr=1;"undefined"!=typeof window&&(dpr=Math.max(window.devicePixelRatio||1,1));var debugMode=0,devicePixelRatio=dpr;exports.debugMode=debugMode,exports.devicePixelRatio=devicePixelRatio},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),Element=__webpack_require__(912),BoundingRect=__webpack_require__(43),Group=function(opts){opts=opts||{},Element.call(this,opts);for(var key in opts)opts.hasOwnProperty(key)&&(this[key]=opts[key]);this._children=[],this.__storage=null,this.__dirty=!0};Group.prototype={"constructor":Group,"isGroup":!0,"type":"group","silent":!1,"children":function(){return this._children.slice()},"childAt":function(idx){return this._children[idx]},"childOfName":function(name){for(var children=this._children,i=0;i<children.length;i++)if(children[i].name===name)return children[i]},"childCount":function(){return this._children.length},"add":function(child){return child&&child!==this&&child.parent!==this&&(this._children.push(child),this._doAdd(child)),this},"addBefore":function(child,nextSibling){if(child&&child!==this&&child.parent!==this&&nextSibling&&nextSibling.parent===this){var children=this._children,idx=children.indexOf(nextSibling);idx>=0&&(children.splice(idx,0,child),this._doAdd(child))}return this},"_doAdd":function(child){child.parent&&child.parent.remove(child),child.parent=this;var storage=this.__storage,zr=this.__zr;storage&&storage!==child.__storage&&(storage.addToStorage(child),child instanceof Group&&child.addChildrenToStorage(storage)),zr&&zr.refresh()},"remove":function(child){var zr=this.__zr,storage=this.__storage,children=this._children,idx=zrUtil.indexOf(children,child);return idx<0?this:(children.splice(idx,1),child.parent=null,storage&&(storage.delFromStorage(child),child instanceof Group&&child.delChildrenFromStorage(storage)),zr&&zr.refresh(),this)},"removeAll":function(){var child,i,children=this._children,storage=this.__storage;for(i=0;i<children.length;i++)child=children[i],storage&&(storage.delFromStorage(child),child instanceof Group&&child.delChildrenFromStorage(storage)),child.parent=null;return children.length=0,this},"eachChild":function(cb,context){for(var children=this._children,i=0;i<children.length;i++){var child=children[i];cb.call(context,child,i)}return this},"traverse":function(cb,context){for(var i=0;i<this._children.length;i++){var child=this._children[i];cb.call(context,child),"group"===child.type&&child.traverse(cb,context)}return this},"addChildrenToStorage":function(storage){for(var i=0;i<this._children.length;i++){var child=this._children[i];storage.addToStorage(child),child instanceof Group&&child.addChildrenToStorage(storage)}},"delChildrenFromStorage":function(storage){for(var i=0;i<this._children.length;i++){var child=this._children[i];storage.delFromStorage(child),child instanceof Group&&child.delChildrenFromStorage(storage)}},"dirty":function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},"getBoundingRect":function(includeChildren){for(var rect=null,tmpRect=new BoundingRect(0,0,0,0),children=includeChildren||this._children,tmpMat=[],i=0;i<children.length;i++){var child=children[i];if(!child.ignore&&!child.invisible){var childRect=child.getBoundingRect(),transform=child.getLocalTransform(tmpMat);transform?(tmpRect.copy(childRect),tmpRect.applyTransform(transform),rect=rect||tmpRect.clone(),rect.union(tmpRect)):(rect=rect||childRect.clone(),rect.union(childRect))}}return rect||tmpRect}},zrUtil.inherits(Group,Element);var _default=Group;module.exports=_default},function(module,exports){var Gradient=function(colorStops){this.colorStops=colorStops||[]};Gradient.prototype={"constructor":Gradient,"addColorStop":function(offset,color){this.colorStops.push({"offset":offset,"color":color})}};var _default=Gradient;module.exports=_default},function(module,exports,__webpack_require__){function normalizeTextStyle(style){return normalizeStyle(style),each(style.rich,normalizeStyle),style}function normalizeStyle(style){if(style){style.font=textContain.makeFont(style);var textAlign=style.textAlign;"middle"===textAlign&&(textAlign="center"),style.textAlign=null==textAlign||VALID_TEXT_ALIGN[textAlign]?textAlign:"left";var textVerticalAlign=style.textVerticalAlign||style.textBaseline;"center"===textVerticalAlign&&(textVerticalAlign="middle"),style.textVerticalAlign=null==textVerticalAlign||VALID_TEXT_VERTICAL_ALIGN[textVerticalAlign]?textVerticalAlign:"top";var textPadding=style.textPadding;textPadding&&(style.textPadding=normalizeCssArray(style.textPadding))}}function renderText(hostEl,ctx,text,style,rect){style.rich?renderRichText(hostEl,ctx,text,style,rect):renderPlainText(hostEl,ctx,text,style,rect)}function renderPlainText(hostEl,ctx,text,style,rect){var font=setCtx(ctx,"font",style.font||textContain.DEFAULT_FONT),textPadding=style.textPadding,contentBlock=hostEl.__textCotentBlock;contentBlock&&!hostEl.__dirty||(contentBlock=hostEl.__textCotentBlock=textContain.parsePlainText(text,font,textPadding,style.truncate));var outerHeight=contentBlock.outerHeight,textLines=contentBlock.lines,lineHeight=contentBlock.lineHeight,boxPos=getBoxPosition(outerHeight,style,rect),baseX=boxPos.baseX,baseY=boxPos.baseY,textAlign=boxPos.textAlign,textVerticalAlign=boxPos.textVerticalAlign;applyTextRotation(ctx,style,rect,baseX,baseY);var boxY=textContain.adjustTextY(baseY,outerHeight,textVerticalAlign),textX=baseX,textY=boxY,needDrawBg=needDrawBackground(style);if(needDrawBg||textPadding){var textWidth=textContain.getWidth(text,font),outerWidth=textWidth;textPadding&&(outerWidth+=textPadding[1]+textPadding[3]);var boxX=textContain.adjustTextX(baseX,outerWidth,textAlign);needDrawBg&&drawBackground(hostEl,ctx,style,boxX,boxY,outerWidth,outerHeight),textPadding&&(textX=getTextXForPadding(baseX,textAlign,textPadding),textY+=textPadding[0])}setCtx(ctx,"textAlign",textAlign||"left"),setCtx(ctx,"textBaseline","middle"),setCtx(ctx,"shadowBlur",style.textShadowBlur||0),setCtx(ctx,"shadowColor",style.textShadowColor||"transparent"),setCtx(ctx,"shadowOffsetX",style.textShadowOffsetX||0),setCtx(ctx,"shadowOffsetY",style.textShadowOffsetY||0),textY+=lineHeight/2;var textStrokeWidth=style.textStrokeWidth,textStroke=getStroke(style.textStroke,textStrokeWidth),textFill=getFill(style.textFill);textStroke&&(setCtx(ctx,"lineWidth",textStrokeWidth),setCtx(ctx,"strokeStyle",textStroke)),textFill&&setCtx(ctx,"fillStyle",textFill);for(var i=0;i<textLines.length;i++)textStroke&&ctx.strokeText(textLines[i],textX,textY),textFill&&ctx.fillText(textLines[i],textX,textY),textY+=lineHeight}function renderRichText(hostEl,ctx,text,style,rect){var contentBlock=hostEl.__textCotentBlock;contentBlock&&!hostEl.__dirty||(contentBlock=hostEl.__textCotentBlock=textContain.parseRichText(text,style)),drawRichText(hostEl,ctx,contentBlock,style,rect)}function drawRichText(hostEl,ctx,contentBlock,style,rect){var contentWidth=contentBlock.width,outerWidth=contentBlock.outerWidth,outerHeight=contentBlock.outerHeight,textPadding=style.textPadding,boxPos=getBoxPosition(outerHeight,style,rect),baseX=boxPos.baseX,baseY=boxPos.baseY,textAlign=boxPos.textAlign,textVerticalAlign=boxPos.textVerticalAlign;applyTextRotation(ctx,style,rect,baseX,baseY);var boxX=textContain.adjustTextX(baseX,outerWidth,textAlign),boxY=textContain.adjustTextY(baseY,outerHeight,textVerticalAlign),xLeft=boxX,lineTop=boxY;textPadding&&(xLeft+=textPadding[3],lineTop+=textPadding[0]);var xRight=xLeft+contentWidth;needDrawBackground(style)&&drawBackground(hostEl,ctx,style,boxX,boxY,outerWidth,outerHeight);for(var i=0;i<contentBlock.lines.length;i++){for(var token,line=contentBlock.lines[i],tokens=line.tokens,tokenCount=tokens.length,lineHeight=line.lineHeight,usedWidth=line.width,leftIndex=0,lineXLeft=xLeft,lineXRight=xRight,rightIndex=tokenCount-1;leftIndex<tokenCount&&(token=tokens[leftIndex],!token.textAlign||"left"===token.textAlign);)placeToken(hostEl,ctx,token,style,lineHeight,lineTop,lineXLeft,"left"),usedWidth-=token.width,lineXLeft+=token.width,leftIndex++;for(;rightIndex>=0&&(token=tokens[rightIndex],"right"===token.textAlign);)placeToken(hostEl,ctx,token,style,lineHeight,lineTop,lineXRight,"right"),usedWidth-=token.width,lineXRight-=token.width,rightIndex--;for(lineXLeft+=(contentWidth-(lineXLeft-xLeft)-(xRight-lineXRight)-usedWidth)/2;leftIndex<=rightIndex;)token=tokens[leftIndex],placeToken(hostEl,ctx,token,style,lineHeight,lineTop,lineXLeft+token.width/2,"center"),lineXLeft+=token.width,leftIndex++;lineTop+=lineHeight}}function applyTextRotation(ctx,style,rect,x,y){if(rect&&style.textRotation){var origin=style.textOrigin;"center"===origin?(x=rect.width/2+rect.x,y=rect.height/2+rect.y):origin&&(x=origin[0]+rect.x,y=origin[1]+rect.y),ctx.translate(x,y),ctx.rotate(-style.textRotation),ctx.translate(-x,-y)}}function placeToken(hostEl,ctx,token,style,lineHeight,lineTop,x,textAlign){var tokenStyle=style.rich[token.styleName]||{},textVerticalAlign=token.textVerticalAlign,y=lineTop+lineHeight/2;"top"===textVerticalAlign?y=lineTop+token.height/2:"bottom"===textVerticalAlign&&(y=lineTop+lineHeight-token.height/2),!token.isLineHolder&&needDrawBackground(tokenStyle)&&drawBackground(hostEl,ctx,tokenStyle,"right"===textAlign?x-token.width:"center"===textAlign?x-token.width/2:x,y-token.height/2,token.width,token.height);var textPadding=token.textPadding;textPadding&&(x=getTextXForPadding(x,textAlign,textPadding),y-=token.height/2-textPadding[2]-token.textHeight/2),setCtx(ctx,"shadowBlur",retrieve3(tokenStyle.textShadowBlur,style.textShadowBlur,0)),
setCtx(ctx,"shadowColor",tokenStyle.textShadowColor||style.textShadowColor||"transparent"),setCtx(ctx,"shadowOffsetX",retrieve3(tokenStyle.textShadowOffsetX,style.textShadowOffsetX,0)),setCtx(ctx,"shadowOffsetY",retrieve3(tokenStyle.textShadowOffsetY,style.textShadowOffsetY,0)),setCtx(ctx,"textAlign",textAlign),setCtx(ctx,"textBaseline","middle"),setCtx(ctx,"font",token.font||textContain.DEFAULT_FONT);var textStroke=getStroke(tokenStyle.textStroke||style.textStroke,textStrokeWidth),textFill=getFill(tokenStyle.textFill||style.textFill),textStrokeWidth=retrieve2(tokenStyle.textStrokeWidth,style.textStrokeWidth);textStroke&&(setCtx(ctx,"lineWidth",textStrokeWidth),setCtx(ctx,"strokeStyle",textStroke),ctx.strokeText(token.text,x,y)),textFill&&(setCtx(ctx,"fillStyle",textFill),ctx.fillText(token.text,x,y))}function needDrawBackground(style){return style.textBackgroundColor||style.textBorderWidth&&style.textBorderColor}function drawBackground(hostEl,ctx,style,x,y,width,height){var textBackgroundColor=style.textBackgroundColor,textBorderWidth=style.textBorderWidth,textBorderColor=style.textBorderColor,isPlainBg=isString(textBackgroundColor);if(setCtx(ctx,"shadowBlur",style.textBoxShadowBlur||0),setCtx(ctx,"shadowColor",style.textBoxShadowColor||"transparent"),setCtx(ctx,"shadowOffsetX",style.textBoxShadowOffsetX||0),setCtx(ctx,"shadowOffsetY",style.textBoxShadowOffsetY||0),isPlainBg||textBorderWidth&&textBorderColor){ctx.beginPath();var textBorderRadius=style.textBorderRadius;textBorderRadius?roundRectHelper.buildPath(ctx,{"x":x,"y":y,"width":width,"height":height,"r":textBorderRadius}):ctx.rect(x,y,width,height),ctx.closePath()}if(isPlainBg)setCtx(ctx,"fillStyle",textBackgroundColor),ctx.fill();else if(isObject(textBackgroundColor)){var image=textBackgroundColor.image;image=imageHelper.createOrUpdateImage(image,null,hostEl,onBgImageLoaded,textBackgroundColor),image&&imageHelper.isImageReady(image)&&ctx.drawImage(image,x,y,width,height)}textBorderWidth&&textBorderColor&&(setCtx(ctx,"lineWidth",textBorderWidth),setCtx(ctx,"strokeStyle",textBorderColor),ctx.stroke())}function onBgImageLoaded(image,textBackgroundColor){textBackgroundColor.image=image}function getBoxPosition(blockHeiht,style,rect){var baseX=style.x||0,baseY=style.y||0,textAlign=style.textAlign,textVerticalAlign=style.textVerticalAlign;if(rect){var textPosition=style.textPosition;if(textPosition instanceof Array)baseX=rect.x+parsePercent(textPosition[0],rect.width),baseY=rect.y+parsePercent(textPosition[1],rect.height);else{var res=textContain.adjustTextPositionOnRect(textPosition,rect,style.textDistance);baseX=res.x,baseY=res.y,textAlign=textAlign||res.textAlign,textVerticalAlign=textVerticalAlign||res.textVerticalAlign}var textOffset=style.textOffset;textOffset&&(baseX+=textOffset[0],baseY+=textOffset[1])}return{"baseX":baseX,"baseY":baseY,"textAlign":textAlign,"textVerticalAlign":textVerticalAlign}}function setCtx(ctx,prop,value){return ctx[prop]=fixShadow(ctx,prop,value),ctx[prop]}function getStroke(stroke,lineWidth){return null==stroke||lineWidth<=0||"transparent"===stroke||"none"===stroke?null:stroke.image||stroke.colorStops?"#000":stroke}function getFill(fill){return null==fill||"none"===fill?null:fill.image||fill.colorStops?"#000":fill}function parsePercent(value,maxValue){return"string"==typeof value?value.lastIndexOf("%")>=0?parseFloat(value)/100*maxValue:parseFloat(value):value}function getTextXForPadding(x,textAlign,textPadding){return"right"===textAlign?x-textPadding[1]:"center"===textAlign?x+textPadding[3]/2-textPadding[1]/2:x+textPadding[3]}function needDrawText(text,style){return null!=text&&(text||style.textBackgroundColor||style.textBorderWidth&&style.textBorderColor||style.textPadding)}var _util=__webpack_require__(4),retrieve2=_util.retrieve2,retrieve3=_util.retrieve3,each=_util.each,normalizeCssArray=_util.normalizeCssArray,isString=_util.isString,isObject=_util.isObject,textContain=__webpack_require__(108),roundRectHelper=__webpack_require__(928),imageHelper=__webpack_require__(511),fixShadow=__webpack_require__(926),VALID_TEXT_ALIGN={"left":1,"right":1,"center":1},VALID_TEXT_VERTICAL_ALIGN={"top":1,"bottom":1,"middle":1};exports.normalizeTextStyle=normalizeTextStyle,exports.renderText=renderText,exports.getStroke=getStroke,exports.getFill=getFill,exports.needDrawText=needDrawText},function(module,exports,__webpack_require__){function init(dom,opts){var zr=new ZRender(guid(),dom,opts);return instances[zr.id]=zr,zr}function dispose(zr){if(zr)zr.dispose();else{for(var key in instances)instances.hasOwnProperty(key)&&instances[key].dispose();instances={}}return this}function getInstance(id){return instances[id]}function registerPainter(name,Ctor){painterCtors[name]=Ctor}function delInstance(id){delete instances[id]}var guid=__webpack_require__(921),env=__webpack_require__(52),zrUtil=__webpack_require__(4),Handler=__webpack_require__(2317),Storage=__webpack_require__(2320),Painter=__webpack_require__(2319),Animation=__webpack_require__(2321),HandlerProxy=__webpack_require__(2329),useVML=!env.canvasSupported,painterCtors={"canvas":Painter},instances={},version="4.0.4",ZRender=function(id,dom,opts){opts=opts||{},this.dom=dom,this.id=id;var self=this,storage=new Storage,rendererType=opts.renderer;if(useVML){if(!painterCtors.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");rendererType="vml"}else rendererType&&painterCtors[rendererType]||(rendererType="canvas");var painter=new painterCtors[rendererType](dom,storage,opts,id);this.storage=storage,this.painter=painter;var handerProxy=env.node||env.worker?null:new HandlerProxy(painter.getViewportRoot());this.handler=new Handler(storage,painter,handerProxy,painter.root),this.animation=new Animation({"stage":{"update":zrUtil.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var oldDelFromStorage=storage.delFromStorage,oldAddToStorage=storage.addToStorage;storage.delFromStorage=function(el){oldDelFromStorage.call(storage,el),el&&el.removeSelfFromZr(self)},storage.addToStorage=function(el){oldAddToStorage.call(storage,el),el.addSelfToZr(self)}};ZRender.prototype={"constructor":ZRender,"getId":function(){return this.id},"add":function(el){this.storage.addRoot(el),this._needsRefresh=!0},"remove":function(el){this.storage.delRoot(el),this._needsRefresh=!0},"configLayer":function(zLevel,config){this.painter.configLayer&&this.painter.configLayer(zLevel,config),this._needsRefresh=!0},"setBackgroundColor":function(backgroundColor){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(backgroundColor),this._needsRefresh=!0},"refreshImmediately":function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},"refresh":function(){this._needsRefresh=!0},"flush":function(){var triggerRendered;this._needsRefresh&&(triggerRendered=!0,this.refreshImmediately()),this._needsRefreshHover&&(triggerRendered=!0,this.refreshHoverImmediately()),triggerRendered&&this.trigger("rendered")},"addHover":function(el,style){this.painter.addHover&&(this.painter.addHover(el,style),this.refreshHover())},"removeHover":function(el){this.painter.removeHover&&(this.painter.removeHover(el),this.refreshHover())},"clearHover":function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},"refreshHover":function(){this._needsRefreshHover=!0},"refreshHoverImmediately":function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},"resize":function(opts){opts=opts||{},this.painter.resize(opts.width,opts.height),this.handler.resize()},"clearAnimation":function(){this.animation.clear()},"getWidth":function(){return this.painter.getWidth()},"getHeight":function(){return this.painter.getHeight()},"pathToImage":function(e,dpr){return this.painter.pathToImage(e,dpr)},"setCursorStyle":function(cursorStyle){this.handler.setCursorStyle(cursorStyle)},"findHover":function(x,y){return this.handler.findHover(x,y)},"on":function(eventName,eventHandler,context){this.handler.on(eventName,eventHandler,context)},"off":function(eventName,eventHandler){this.handler.off(eventName,eventHandler)},"trigger":function(eventName,event){this.handler.trigger(eventName,event)},"clear":function(){this.storage.delRoot(),this.painter.clear()},"dispose":function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delInstance(this.id)}},exports.version=version,exports.init=init,exports.dispose=dispose,exports.getInstance=getInstance,exports.registerPainter=registerPainter},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){function makeSymbolTypeKey(symbolCategory){return"_"+symbolCategory+"Type"}function createSymbol(name,lineData,idx){var color=lineData.getItemVisual(idx,"color"),symbolType=lineData.getItemVisual(idx,name),symbolSize=lineData.getItemVisual(idx,name+"Size");if(symbolType&&"none"!==symbolType){zrUtil.isArray(symbolSize)||(symbolSize=[symbolSize,symbolSize]);var symbolPath=symbolUtil.createSymbol(symbolType,-symbolSize[0]/2,-symbolSize[1]/2,symbolSize[0],symbolSize[1],color);return symbolPath.name=name,symbolPath}}function createLine(points){var line=new LinePath({"name":"line"});return setLinePoints(line.shape,points),line}function setLinePoints(targetShape,points){var p1=points[0],p2=points[1],cp1=points[2];targetShape.x1=p1[0],targetShape.y1=p1[1],targetShape.x2=p2[0],targetShape.y2=p2[1],targetShape.percent=1,cp1?(targetShape.cpx1=cp1[0],targetShape.cpy1=cp1[1]):(targetShape.cpx1=NaN,targetShape.cpy1=NaN)}function updateSymbolAndLabelBeforeLineUpdate(){var lineGroup=this,symbolFrom=lineGroup.childOfName("fromSymbol"),symbolTo=lineGroup.childOfName("toSymbol"),label=lineGroup.childOfName("label");if(symbolFrom||symbolTo||!label.ignore){for(var invScale=1,parentNode=this.parent;parentNode;)parentNode.scale&&(invScale/=parentNode.scale[0]),parentNode=parentNode.parent;var line=lineGroup.childOfName("line");if(this.__dirty||line.__dirty){var percent=line.shape.percent,fromPos=line.pointAt(0),toPos=line.pointAt(percent),d=vector.sub([],toPos,fromPos);if(vector.normalize(d,d),symbolFrom){symbolFrom.attr("position",fromPos);var tangent=line.tangentAt(0);symbolFrom.attr("rotation",Math.PI/2-Math.atan2(tangent[1],tangent[0])),symbolFrom.attr("scale",[invScale*percent,invScale*percent])}if(symbolTo){symbolTo.attr("position",toPos);var tangent=line.tangentAt(1);symbolTo.attr("rotation",-Math.PI/2-Math.atan2(tangent[1],tangent[0])),symbolTo.attr("scale",[invScale*percent,invScale*percent])}if(!label.ignore){label.attr("position",toPos);var textPosition,textAlign,textVerticalAlign,distance=5*invScale;if("end"===label.__position)textPosition=[d[0]*distance+toPos[0],d[1]*distance+toPos[1]],textAlign=d[0]>.8?"left":d[0]<-.8?"right":"center",textVerticalAlign=d[1]>.8?"top":d[1]<-.8?"bottom":"middle";else if("middle"===label.__position){var halfPercent=percent/2,tangent=line.tangentAt(halfPercent),n=[tangent[1],-tangent[0]],cp=line.pointAt(halfPercent);n[1]>0&&(n[0]=-n[0],n[1]=-n[1]),textPosition=[cp[0]+n[0]*distance,cp[1]+n[1]*distance],textAlign="center",textVerticalAlign="bottom";var rotation=-Math.atan2(tangent[1],tangent[0]);toPos[0]<fromPos[0]&&(rotation=Math.PI+rotation),label.attr("rotation",rotation)}else textPosition=[-d[0]*distance+fromPos[0],-d[1]*distance+fromPos[1]],textAlign=d[0]>.8?"right":d[0]<-.8?"left":"center",textVerticalAlign=d[1]>.8?"bottom":d[1]<-.8?"top":"middle";label.attr({"style":{"textVerticalAlign":label.__verticalAlign||textVerticalAlign,"textAlign":label.__textAlign||textAlign},"position":textPosition,"scale":[invScale,invScale]})}}}}function Line(lineData,idx,seriesScope){graphic.Group.call(this),this._createLine(lineData,idx,seriesScope)}var zrUtil=__webpack_require__(4),vector=__webpack_require__(38),symbolUtil=__webpack_require__(83),LinePath=__webpack_require__(1391),graphic=__webpack_require__(15),_number=__webpack_require__(20),round=_number.round,SYMBOL_CATEGORIES=["fromSymbol","toSymbol"],lineProto=Line.prototype;lineProto.beforeUpdate=updateSymbolAndLabelBeforeLineUpdate,lineProto._createLine=function(lineData,idx,seriesScope){var seriesModel=lineData.hostModel,linePoints=lineData.getItemLayout(idx),line=createLine(linePoints);line.shape.percent=0,graphic.initProps(line,{"shape":{"percent":1}},seriesModel,idx),this.add(line);var label=new graphic.Text({"name":"label"});this.add(label),zrUtil.each(SYMBOL_CATEGORIES,function(symbolCategory){var symbol=createSymbol(symbolCategory,lineData,idx);this.add(symbol),this[makeSymbolTypeKey(symbolCategory)]=lineData.getItemVisual(idx,symbolCategory)},this),this._updateCommonStl(lineData,idx,seriesScope)},lineProto.updateData=function(lineData,idx,seriesScope){var seriesModel=lineData.hostModel,line=this.childOfName("line"),linePoints=lineData.getItemLayout(idx),target={"shape":{}};setLinePoints(target.shape,linePoints),graphic.updateProps(line,target,seriesModel,idx),zrUtil.each(SYMBOL_CATEGORIES,function(symbolCategory){var symbolType=lineData.getItemVisual(idx,symbolCategory),key=makeSymbolTypeKey(symbolCategory);if(this[key]!==symbolType){this.remove(this.childOfName(symbolCategory));var symbol=createSymbol(symbolCategory,lineData,idx);this.add(symbol)}this[key]=symbolType},this),this._updateCommonStl(lineData,idx,seriesScope)},lineProto._updateCommonStl=function(lineData,idx,seriesScope){var seriesModel=lineData.hostModel,line=this.childOfName("line"),lineStyle=seriesScope&&seriesScope.lineStyle,hoverLineStyle=seriesScope&&seriesScope.hoverLineStyle,labelModel=seriesScope&&seriesScope.labelModel,hoverLabelModel=seriesScope&&seriesScope.hoverLabelModel;if(!seriesScope||lineData.hasItemOption){var itemModel=lineData.getItemModel(idx);lineStyle=itemModel.getModel("lineStyle").getLineStyle(),hoverLineStyle=itemModel.getModel("emphasis.lineStyle").getLineStyle(),labelModel=itemModel.getModel("label"),hoverLabelModel=itemModel.getModel("emphasis.label")}var visualColor=lineData.getItemVisual(idx,"color"),visualOpacity=zrUtil.retrieve3(lineData.getItemVisual(idx,"opacity"),lineStyle.opacity,1);line.useStyle(zrUtil.defaults({"strokeNoScale":!0,"fill":"none","stroke":visualColor,"opacity":visualOpacity},lineStyle)),line.hoverStyle=hoverLineStyle,zrUtil.each(SYMBOL_CATEGORIES,function(symbolCategory){var symbol=this.childOfName(symbolCategory);symbol&&(symbol.setColor(visualColor),symbol.setStyle({"opacity":visualOpacity}))},this);var defaultLabelColor,baseText,showLabel=labelModel.getShallow("show"),hoverShowLabel=hoverLabelModel.getShallow("show"),label=this.childOfName("label");if((showLabel||hoverShowLabel)&&(defaultLabelColor=visualColor||"#000",baseText=seriesModel.getFormattedLabel(idx,"normal",lineData.dataType),null==baseText)){var rawVal=seriesModel.getRawValue(idx);baseText=null==rawVal?lineData.getName(idx):isFinite(rawVal)?round(rawVal):rawVal}var normalText=showLabel?baseText:null,emphasisText=hoverShowLabel?zrUtil.retrieve2(seriesModel.getFormattedLabel(idx,"emphasis",lineData.dataType),baseText):null,labelStyle=label.style;null==normalText&&null==emphasisText||(graphic.setTextStyle(label.style,labelModel,{"text":normalText},{"autoColor":defaultLabelColor}),label.__textAlign=labelStyle.textAlign,label.__verticalAlign=labelStyle.textVerticalAlign,label.__position=labelModel.get("position")||"middle"),null!=emphasisText?label.hoverStyle={"text":emphasisText,"textFill":hoverLabelModel.getTextColor(!0),"fontStyle":hoverLabelModel.getShallow("fontStyle"),"fontWeight":hoverLabelModel.getShallow("fontWeight"),"fontSize":hoverLabelModel.getShallow("fontSize"),"fontFamily":hoverLabelModel.getShallow("fontFamily")}:label.hoverStyle={"text":null},label.ignore=!showLabel&&!hoverShowLabel,graphic.setHoverStyle(this)},lineProto.highlight=function(){this.trigger("emphasis")},lineProto.downplay=function(){this.trigger("normal")},lineProto.updateLayout=function(lineData,idx){this.setLinePoints(lineData.getItemLayout(idx))},lineProto.setLinePoints=function(points){var linePath=this.childOfName("line");setLinePoints(linePath.shape,points),linePath.dirty()},zrUtil.inherits(Line,graphic.Group);var _default=Line;module.exports=_default},function(module,exports,__webpack_require__){function LineDraw(ctor){this._ctor=ctor||LineGroup,this.group=new graphic.Group}function doAdd(lineDraw,lineData,idx,seriesScope){var itemLayout=lineData.getItemLayout(idx);if(lineNeedsDraw(itemLayout)){var el=new lineDraw._ctor(lineData,idx,seriesScope);lineData.setItemGraphicEl(idx,el),lineDraw.group.add(el)}}function doUpdate(lineDraw,oldLineData,newLineData,oldIdx,newIdx,seriesScope){var itemEl=oldLineData.getItemGraphicEl(oldIdx);return lineNeedsDraw(newLineData.getItemLayout(newIdx))?(itemEl?itemEl.updateData(newLineData,newIdx,seriesScope):itemEl=new lineDraw._ctor(newLineData,newIdx,seriesScope),newLineData.setItemGraphicEl(newIdx,itemEl),void lineDraw.group.add(itemEl)):void lineDraw.group.remove(itemEl)}function makeSeriesScope(lineData){var hostModel=lineData.hostModel;return{"lineStyle":hostModel.getModel("lineStyle").getLineStyle(),"hoverLineStyle":hostModel.getModel("emphasis.lineStyle").getLineStyle(),"labelModel":hostModel.getModel("label"),"hoverLabelModel":hostModel.getModel("emphasis.label")}}function isPointNaN(pt){return isNaN(pt[0])||isNaN(pt[1])}function lineNeedsDraw(pts){return!isPointNaN(pts[0])&&!isPointNaN(pts[1])}var graphic=__webpack_require__(15),LineGroup=__webpack_require__(376),lineDrawProto=LineDraw.prototype;lineDrawProto.isPersistent=function(){return!0},lineDrawProto.updateData=function(lineData){var lineDraw=this,group=lineDraw.group,oldLineData=lineDraw._lineData;lineDraw._lineData=lineData,oldLineData||group.removeAll();var seriesScope=makeSeriesScope(lineData);lineData.diff(oldLineData).add(function(idx){doAdd(lineDraw,lineData,idx,seriesScope)}).update(function(newIdx,oldIdx){doUpdate(lineDraw,oldLineData,lineData,oldIdx,newIdx,seriesScope)}).remove(function(idx){group.remove(oldLineData.getItemGraphicEl(idx))}).execute()},lineDrawProto.updateLayout=function(){var lineData=this._lineData;lineData&&lineData.eachItemGraphicEl(function(el,idx){el.updateLayout(lineData,idx)},this)},lineDrawProto.incrementalPrepareUpdate=function(lineData){this._seriesScope=makeSeriesScope(lineData),this._lineData=null,this.group.removeAll()},lineDrawProto.incrementalUpdate=function(taskParams,lineData){function updateIncrementalAndHover(el){el.isGroup||(el.incremental=el.useHoverLayer=!0)}for(var idx=taskParams.start;idx<taskParams.end;idx++){var itemLayout=lineData.getItemLayout(idx);if(lineNeedsDraw(itemLayout)){var el=new this._ctor(lineData,idx,this._seriesScope);el.traverse(updateIncrementalAndHover),this.group.add(el),lineData.setItemGraphicEl(idx,el)}}},lineDrawProto.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},lineDrawProto._clearIncremental=function(){var incremental=this._incremental;incremental&&incremental.clearDisplaybles()};var _default=LineDraw;module.exports=_default},function(module,exports,__webpack_require__){function getDefaultLabel(data,dataIndex){var labelDims=data.mapDimension("defaultedLabel",!0),len=labelDims.length;if(1===len)return retrieveRawValue(data,dataIndex,labelDims[0]);if(len){for(var vals=[],i=0;i<labelDims.length;i++){var val=retrieveRawValue(data,dataIndex,labelDims[i]);vals.push(val)}return vals.join(" ")}}var _dataProvider=__webpack_require__(161),retrieveRawValue=_dataProvider.retrieveRawValue;exports.getDefaultLabel=getDefaultLabel},function(module,exports,__webpack_require__){function BaseAxisPointer(){}function updateProps(animationModel,moveAnimation,el,props){propsEqual(inner(el).lastProp,props)||(inner(el).lastProp=props,moveAnimation?graphic.updateProps(el,props,animationModel):(el.stopAnimation(),el.attr(props)))}function propsEqual(lastProps,newProps){if(zrUtil.isObject(lastProps)&&zrUtil.isObject(newProps)){var equals=!0;return zrUtil.each(newProps,function(item,key){equals=equals&&propsEqual(lastProps[key],item)}),!!equals}return lastProps===newProps}function updateLabelShowHide(labelEl,axisPointerModel){labelEl[axisPointerModel.get("label.show")?"show":"hide"]()}function getHandleTransProps(trans){return{"position":trans.position.slice(),"rotation":trans.rotation||0}}function updateMandatoryProps(group,axisPointerModel,silent){var z=axisPointerModel.get("z"),zlevel=axisPointerModel.get("zlevel");group&&group.traverse(function(el){"group"!==el.type&&(null!=z&&(el.z=z),null!=zlevel&&(el.zlevel=zlevel),el.silent=silent)})}var zrUtil=__webpack_require__(4),clazzUtil=__webpack_require__(116),graphic=__webpack_require__(15),axisPointerModelHelper=__webpack_require__(270),eventTool=__webpack_require__(124),throttleUtil=__webpack_require__(163),_model=__webpack_require__(27),makeInner=_model.makeInner,inner=makeInner(),clone=zrUtil.clone,bind=zrUtil.bind;BaseAxisPointer.prototype={"_group":null,"_lastGraphicKey":null,"_handle":null,"_dragging":!1,"_lastValue":null,"_lastStatus":null,"_payloadInfo":null,"animationThreshold":15,"render":function(axisModel,axisPointerModel,api,forceRender){var value=axisPointerModel.get("value"),status=axisPointerModel.get("status");if(this._axisModel=axisModel,this._axisPointerModel=axisPointerModel,this._api=api,forceRender||this._lastValue!==value||this._lastStatus!==status){this._lastValue=value,this._lastStatus=status;var group=this._group,handle=this._handle;if(!status||"hide"===status)return group&&group.hide(),void(handle&&handle.hide());group&&group.show(),handle&&handle.show();var elOption={};this.makeElOption(elOption,value,axisModel,axisPointerModel,api);var graphicKey=elOption.graphicKey;graphicKey!==this._lastGraphicKey&&this.clear(api),this._lastGraphicKey=graphicKey;var moveAnimation=this._moveAnimation=this.determineAnimation(axisModel,axisPointerModel);if(group){var doUpdateProps=zrUtil.curry(updateProps,axisPointerModel,moveAnimation);this.updatePointerEl(group,elOption,doUpdateProps,axisPointerModel),this.updateLabelEl(group,elOption,doUpdateProps,axisPointerModel)}else group=this._group=new graphic.Group,this.createPointerEl(group,elOption,axisModel,axisPointerModel),this.createLabelEl(group,elOption,axisModel,axisPointerModel),api.getZr().add(group);updateMandatoryProps(group,axisPointerModel,!0),this._renderHandle(value)}},"remove":function(api){this.clear(api)},"dispose":function(api){this.clear(api)},"determineAnimation":function(axisModel,axisPointerModel){var animation=axisPointerModel.get("animation"),axis=axisModel.axis,isCategoryAxis="category"===axis.type,useSnap=axisPointerModel.get("snap");if(!useSnap&&!isCategoryAxis)return!1;if("auto"===animation||null==animation){var animationThreshold=this.animationThreshold;if(isCategoryAxis&&axis.getBandWidth()>animationThreshold)return!0;if(useSnap){var seriesDataCount=axisPointerModelHelper.getAxisInfo(axisModel).seriesDataCount,axisExtent=axis.getExtent();return Math.abs(axisExtent[0]-axisExtent[1])/seriesDataCount>animationThreshold}return!1}return animation===!0},"makeElOption":function(elOption,value,axisModel,axisPointerModel,api){},"createPointerEl":function(group,elOption,axisModel,axisPointerModel){var pointerOption=elOption.pointer;if(pointerOption){var pointerEl=inner(group).pointerEl=new graphic[pointerOption.type](clone(elOption.pointer));group.add(pointerEl)}},"createLabelEl":function(group,elOption,axisModel,axisPointerModel){if(elOption.label){var labelEl=inner(group).labelEl=new graphic.Rect(clone(elOption.label));group.add(labelEl),updateLabelShowHide(labelEl,axisPointerModel)}},"updatePointerEl":function(group,elOption,updateProps){var pointerEl=inner(group).pointerEl;pointerEl&&(pointerEl.setStyle(elOption.pointer.style),updateProps(pointerEl,{"shape":elOption.pointer.shape}))},"updateLabelEl":function(group,elOption,updateProps,axisPointerModel){var labelEl=inner(group).labelEl;labelEl&&(labelEl.setStyle(elOption.label.style),updateProps(labelEl,{"shape":elOption.label.shape,"position":elOption.label.position}),updateLabelShowHide(labelEl,axisPointerModel))},"_renderHandle":function(value){if(!this._dragging&&this.updateHandleTransform){var axisPointerModel=this._axisPointerModel,zr=this._api.getZr(),handle=this._handle,handleModel=axisPointerModel.getModel("handle"),status=axisPointerModel.get("status");if(!handleModel.get("show")||!status||"hide"===status)return handle&&zr.remove(handle),void(this._handle=null);var isInit;this._handle||(isInit=!0,handle=this._handle=graphic.createIcon(handleModel.get("icon"),{"cursor":"move","draggable":!0,"onmousemove":function(e){eventTool.stop(e.event)},"onmousedown":bind(this._onHandleDragMove,this,0,0),"drift":bind(this._onHandleDragMove,this),"ondragend":bind(this._onHandleDragEnd,this)}),zr.add(handle)),updateMandatoryProps(handle,axisPointerModel,!1);var includeStyles=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];handle.setStyle(handleModel.getItemStyle(null,includeStyles));var handleSize=handleModel.get("size");zrUtil.isArray(handleSize)||(handleSize=[handleSize,handleSize]),handle.attr("scale",[handleSize[0]/2,handleSize[1]/2]),throttleUtil.createOrUpdate(this,"_doDispatchAxisPointer",handleModel.get("throttle")||0,"fixRate"),this._moveHandleToValue(value,isInit)}},"_moveHandleToValue":function(value,isInit){updateProps(this._axisPointerModel,!isInit&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(value,this._axisModel,this._axisPointerModel)))},"_onHandleDragMove":function(dx,dy){var handle=this._handle;if(handle){this._dragging=!0;var trans=this.updateHandleTransform(getHandleTransProps(handle),[dx,dy],this._axisModel,this._axisPointerModel);this._payloadInfo=trans,handle.stopAnimation(),handle.attr(getHandleTransProps(trans)),inner(handle).lastProp=null,this._doDispatchAxisPointer()}},"_doDispatchAxisPointer":function(){var handle=this._handle;if(handle){var payloadInfo=this._payloadInfo,axisModel=this._axisModel;this._api.dispatchAction({"type":"updateAxisPointer","x":payloadInfo.cursorPoint[0],"y":payloadInfo.cursorPoint[1],"tooltipOption":payloadInfo.tooltipOption,"axesInfo":[{"axisDim":axisModel.axis.dim,"axisIndex":axisModel.componentIndex}]})}},"_onHandleDragEnd":function(moveAnimation){this._dragging=!1;var handle=this._handle;if(handle){var value=this._axisPointerModel.get("value");this._moveHandleToValue(value),this._api.dispatchAction({"type":"hideTip"})}},"getHandleTransform":null,"updateHandleTransform":null,"clear":function(api){this._lastValue=null,this._lastStatus=null;var zr=api.getZr(),group=this._group,handle=this._handle;zr&&group&&(this._lastGraphicKey=null,group&&zr.remove(group),handle&&zr.remove(handle),this._group=null,this._handle=null,this._payloadInfo=null)},"doClear":function(){},"buildLabel":function(xy,wh,xDimIndex){return xDimIndex=xDimIndex||0,{"x":xy[xDimIndex],"y":xy[1-xDimIndex],"width":wh[xDimIndex],"height":wh[1-xDimIndex]}}},BaseAxisPointer.prototype.constructor=BaseAxisPointer,clazzUtil.enableClassExtend(BaseAxisPointer);var _default=BaseAxisPointer;module.exports=_default},function(module,exports,__webpack_require__){function isCoordSupported(coordType){return zrUtil.indexOf(COORDS,coordType)>=0}function createNameEach(names,attrs){names=names.slice();var capitalNames=zrUtil.map(names,formatUtil.capitalFirst);attrs=(attrs||[]).slice();var capitalAttrs=zrUtil.map(attrs,formatUtil.capitalFirst);return function(callback,context){zrUtil.each(names,function(name,index){for(var nameObj={"name":name,"capital":capitalNames[index]},j=0;j<attrs.length;j++)nameObj[attrs[j]]=name+capitalAttrs[j];callback.call(context,nameObj)})}}function createLinkedNodesFinder(forEachNode,forEachEdgeType,edgeIdGetter){function isNodeAbsorded(node,result){return zrUtil.indexOf(result.nodes,node)>=0}function isLinked(node,result){var hasLink=!1;return forEachEdgeType(function(edgeType){zrUtil.each(edgeIdGetter(node,edgeType)||[],function(edgeId){result.records[edgeType.name][edgeId]&&(hasLink=!0)})}),hasLink}function absorb(node,result){result.nodes.push(node),forEachEdgeType(function(edgeType){zrUtil.each(edgeIdGetter(node,edgeType)||[],function(edgeId){result.records[edgeType.name][edgeId]=!0})})}return function(sourceNode){function processSingleNode(node){!isNodeAbsorded(node,result)&&isLinked(node,result)&&(absorb(node,result),existsLink=!0)}var result={"nodes":[],"records":{}};if(forEachEdgeType(function(edgeType){result.records[edgeType.name]={}}),!sourceNode)return result;absorb(sourceNode,result);var existsLink;do existsLink=!1,forEachNode(processSingleNode);while(existsLink);return result}}var zrUtil=__webpack_require__(4),formatUtil=__webpack_require__(40),AXIS_DIMS=["x","y","z","radius","angle","single"],COORDS=["cartesian2d","polar","singleAxis"],eachAxisDim=createNameEach(AXIS_DIMS,["axisIndex","axis","index","id"]);exports.isCoordSupported=isCoordSupported,exports.createNameEach=createNameEach,exports.eachAxisDim=eachAxisDim,exports.createLinkedNodesFinder=createLinkedNodesFinder},function(module,exports,__webpack_require__){function BrushController(zr){Eventful.call(this),this._zr=zr,this.group=new graphic.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+baseUID++,this._handlers={},each(mouseHandlers,function(handler,eventName){this._handlers[eventName]=zrUtil.bind(handler,this)},this)}function doEnableBrush(controller,brushOption){var zr=controller._zr;controller._enableGlobalPan||interactionMutex.take(zr,MUTEX_RESOURCE_KEY,controller._uid),each(controller._handlers,function(handler,eventName){zr.on(eventName,handler)}),controller._brushType=brushOption.brushType,controller._brushOption=zrUtil.merge(zrUtil.clone(DEFAULT_BRUSH_OPT),brushOption,!0)}function doDisableBrush(controller){var zr=controller._zr;interactionMutex.release(zr,MUTEX_RESOURCE_KEY,controller._uid),each(controller._handlers,function(handler,eventName){zr.off(eventName,handler)}),controller._brushType=controller._brushOption=null}function createCover(controller,brushOption){var cover=coverRenderers[brushOption.brushType].createCover(controller,brushOption);return cover.__brushOption=brushOption,updateZ(cover,brushOption),controller.group.add(cover),cover}function endCreating(controller,creatingCover){var coverRenderer=getCoverRenderer(creatingCover);return coverRenderer.endCreating&&(coverRenderer.endCreating(controller,creatingCover),updateZ(creatingCover,creatingCover.__brushOption)),creatingCover}function updateCoverShape(controller,cover){var brushOption=cover.__brushOption;getCoverRenderer(cover).updateCoverShape(controller,cover,brushOption.range,brushOption)}function updateZ(cover,brushOption){var z=brushOption.z;null==z&&(z=COVER_Z),cover.traverse(function(el){el.z=z,el.z2=z})}function updateCoverAfterCreation(controller,cover){getCoverRenderer(cover).updateCommon(controller,cover),updateCoverShape(controller,cover)}function getCoverRenderer(cover){return coverRenderers[cover.__brushOption.brushType]}function getPanelByPoint(controller,e,localCursorPoint){var panels=controller._panels;if(!panels)return!0;var panel,transform=controller._transform;return each(panels,function(pn){pn.isTargetByCursor(e,localCursorPoint,transform)&&(panel=pn)}),panel}function getPanelByCover(controller,cover){var panels=controller._panels;if(!panels)return!0;var panelId=cover.__brushOption.panelId;return null==panelId||panels[panelId]}function clearCovers(controller){var covers=controller._covers,originalLength=covers.length;return each(covers,function(cover){controller.group.remove(cover)},controller),covers.length=0,!!originalLength}function trigger(controller,opt){var areas=map(controller._covers,function(cover){var brushOption=cover.__brushOption,range=zrUtil.clone(brushOption.range);return{"brushType":brushOption.brushType,"panelId":brushOption.panelId,
"range":range}});controller.trigger("brush",areas,{"isEnd":!!opt.isEnd,"removeOnClick":!!opt.removeOnClick})}function shouldShowCover(controller){var track=controller._track;if(!track.length)return!1;var p2=track[track.length-1],p1=track[0],dx=p2[0]-p1[0],dy=p2[1]-p1[1],dist=mathPow(dx*dx+dy*dy,.5);return dist>UNSELECT_THRESHOLD}function getTrackEnds(track){var tail=track.length-1;return tail<0&&(tail=0),[track[0],track[tail]]}function createBaseRectCover(doDrift,controller,brushOption,edgeNames){var cover=new graphic.Group;return cover.add(new graphic.Rect({"name":"main","style":makeStyle(brushOption),"silent":!0,"draggable":!0,"cursor":"move","drift":curry(doDrift,controller,cover,"nswe"),"ondragend":curry(trigger,controller,{"isEnd":!0})})),each(edgeNames,function(name){cover.add(new graphic.Rect({"name":name,"style":{"opacity":0},"draggable":!0,"silent":!0,"invisible":!0,"drift":curry(doDrift,controller,cover,name),"ondragend":curry(trigger,controller,{"isEnd":!0})}))}),cover}function updateBaseRect(controller,cover,localRange,brushOption){var lineWidth=brushOption.brushStyle.lineWidth||0,handleSize=mathMax(lineWidth,MIN_RESIZE_LINE_WIDTH),x=localRange[0][0],y=localRange[1][0],xa=x-lineWidth/2,ya=y-lineWidth/2,x2=localRange[0][1],y2=localRange[1][1],x2a=x2-handleSize+lineWidth/2,y2a=y2-handleSize+lineWidth/2,width=x2-x,height=y2-y,widtha=width+lineWidth,heighta=height+lineWidth;updateRectShape(controller,cover,"main",x,y,width,height),brushOption.transformable&&(updateRectShape(controller,cover,"w",xa,ya,handleSize,heighta),updateRectShape(controller,cover,"e",x2a,ya,handleSize,heighta),updateRectShape(controller,cover,"n",xa,ya,widtha,handleSize),updateRectShape(controller,cover,"s",xa,y2a,widtha,handleSize),updateRectShape(controller,cover,"nw",xa,ya,handleSize,handleSize),updateRectShape(controller,cover,"ne",x2a,ya,handleSize,handleSize),updateRectShape(controller,cover,"sw",xa,y2a,handleSize,handleSize),updateRectShape(controller,cover,"se",x2a,y2a,handleSize,handleSize))}function updateCommon(controller,cover){var brushOption=cover.__brushOption,transformable=brushOption.transformable,mainEl=cover.childAt(0);mainEl.useStyle(makeStyle(brushOption)),mainEl.attr({"silent":!transformable,"cursor":transformable?"move":"default"}),each(["w","e","n","s","se","sw","ne","nw"],function(name){var el=cover.childOfName(name),globalDir=getGlobalDirection(controller,name);el&&el.attr({"silent":!transformable,"invisible":!transformable,"cursor":transformable?CURSOR_MAP[globalDir]+"-resize":null})})}function updateRectShape(controller,cover,name,x,y,w,h){var el=cover.childOfName(name);el&&el.setShape(pointsToRect(clipByPanel(controller,cover,[[x,y],[x+w,y+h]])))}function makeStyle(brushOption){return zrUtil.defaults({"strokeNoScale":!0},brushOption.brushStyle)}function formatRectRange(x,y,x2,y2){var min=[mathMin(x,x2),mathMin(y,y2)],max=[mathMax(x,x2),mathMax(y,y2)];return[[min[0],max[0]],[min[1],max[1]]]}function getTransform(controller){return graphic.getTransform(controller.group)}function getGlobalDirection(controller,localDirection){if(localDirection.length>1){localDirection=localDirection.split("");var globalDir=[getGlobalDirection(controller,localDirection[0]),getGlobalDirection(controller,localDirection[1])];return("e"===globalDir[0]||"w"===globalDir[0])&&globalDir.reverse(),globalDir.join("")}var map={"w":"left","e":"right","n":"top","s":"bottom"},inverseMap={"left":"w","right":"e","top":"n","bottom":"s"},globalDir=graphic.transformDirection(map[localDirection],getTransform(controller));return inverseMap[globalDir]}function driftRect(toRectRange,fromRectRange,controller,cover,name,dx,dy,e){var brushOption=cover.__brushOption,rectRange=toRectRange(brushOption.range),localDelta=toLocalDelta(controller,dx,dy);each(name.split(""),function(namePart){var ind=DIRECTION_MAP[namePart];rectRange[ind[0]][ind[1]]+=localDelta[ind[0]]}),brushOption.range=fromRectRange(formatRectRange(rectRange[0][0],rectRange[1][0],rectRange[0][1],rectRange[1][1])),updateCoverAfterCreation(controller,cover),trigger(controller,{"isEnd":!1})}function driftPolygon(controller,cover,dx,dy,e){var range=cover.__brushOption.range,localDelta=toLocalDelta(controller,dx,dy);each(range,function(point){point[0]+=localDelta[0],point[1]+=localDelta[1]}),updateCoverAfterCreation(controller,cover),trigger(controller,{"isEnd":!1})}function toLocalDelta(controller,dx,dy){var thisGroup=controller.group,localD=thisGroup.transformCoordToLocal(dx,dy),localZero=thisGroup.transformCoordToLocal(0,0);return[localD[0]-localZero[0],localD[1]-localZero[1]]}function clipByPanel(controller,cover,data){var panel=getPanelByCover(controller,cover);return panel&&panel!==!0?panel.clipPath(data,controller._transform):zrUtil.clone(data)}function pointsToRect(points){var xmin=mathMin(points[0][0],points[1][0]),ymin=mathMin(points[0][1],points[1][1]),xmax=mathMax(points[0][0],points[1][0]),ymax=mathMax(points[0][1],points[1][1]);return{"x":xmin,"y":ymin,"width":xmax-xmin,"height":ymax-ymin}}function resetCursor(controller,e,localCursorPoint){if(controller._brushType){var zr=controller._zr,covers=controller._covers,currPanel=getPanelByPoint(controller,e,localCursorPoint);if(!controller._dragging)for(var i=0;i<covers.length;i++){var brushOption=covers[i].__brushOption;if(currPanel&&(currPanel===!0||brushOption.panelId===currPanel.panelId)&&coverRenderers[brushOption.brushType].contain(covers[i],localCursorPoint[0],localCursorPoint[1]))return}currPanel&&zr.setCursorStyle("crosshair")}}function preventDefault(e){var rawE=e.event;rawE.preventDefault&&rawE.preventDefault()}function mainShapeContain(cover,x,y){return cover.childOfName("main").contain(x,y)}function updateCoverByMouse(controller,e,localCursorPoint,isEnd){var eventParams,creatingCover=controller._creatingCover,panel=controller._creatingPanel,thisBrushOption=controller._brushOption;if(controller._track.push(localCursorPoint.slice()),shouldShowCover(controller)||creatingCover){if(panel&&!creatingCover){"single"===thisBrushOption.brushMode&&clearCovers(controller);var brushOption=zrUtil.clone(thisBrushOption);brushOption.brushType=determineBrushType(brushOption.brushType,panel),brushOption.panelId=panel===!0?null:panel.panelId,creatingCover=controller._creatingCover=createCover(controller,brushOption),controller._covers.push(creatingCover)}if(creatingCover){var coverRenderer=coverRenderers[determineBrushType(controller._brushType,panel)],coverBrushOption=creatingCover.__brushOption;coverBrushOption.range=coverRenderer.getCreatingRange(clipByPanel(controller,creatingCover,controller._track)),isEnd&&(endCreating(controller,creatingCover),coverRenderer.updateCommon(controller,creatingCover)),updateCoverShape(controller,creatingCover),eventParams={"isEnd":isEnd}}}else isEnd&&"single"===thisBrushOption.brushMode&&thisBrushOption.removeOnClick&&getPanelByPoint(controller,e,localCursorPoint)&&clearCovers(controller)&&(eventParams={"isEnd":isEnd,"removeOnClick":!0});return eventParams}function determineBrushType(brushType,panel){return"auto"===brushType?panel.defaultBrushType:brushType}function handleDragEnd(e){if(this._dragging){preventDefault(e);var localCursorPoint=this.group.transformCoordToLocal(e.offsetX,e.offsetY),eventParams=updateCoverByMouse(this,e,localCursorPoint,!0);this._dragging=!1,this._track=[],this._creatingCover=null,eventParams&&trigger(this,eventParams)}}function getLineRenderer(xyIndex){return{"createCover":function(controller,brushOption){return createBaseRectCover(curry(driftRect,function(range){var rectRange=[range,[0,100]];return xyIndex&&rectRange.reverse(),rectRange},function(rectRange){return rectRange[xyIndex]}),controller,brushOption,[["w","e"],["n","s"]][xyIndex])},"getCreatingRange":function(localTrack){var ends=getTrackEnds(localTrack),min=mathMin(ends[0][xyIndex],ends[1][xyIndex]),max=mathMax(ends[0][xyIndex],ends[1][xyIndex]);return[min,max]},"updateCoverShape":function(controller,cover,localRange,brushOption){var otherExtent,panel=getPanelByCover(controller,cover);if(panel!==!0&&panel.getLinearBrushOtherExtent)otherExtent=panel.getLinearBrushOtherExtent(xyIndex,controller._transform);else{var zr=controller._zr;otherExtent=[0,[zr.getWidth(),zr.getHeight()][1-xyIndex]]}var rectRange=[localRange,otherExtent];xyIndex&&rectRange.reverse(),updateBaseRect(controller,cover,rectRange,brushOption)},"updateCommon":updateCommon,"contain":mainShapeContain}}var _config=__webpack_require__(30),zrUtil=(_config.__DEV__,__webpack_require__(4)),Eventful=__webpack_require__(176),graphic=__webpack_require__(15),interactionMutex=__webpack_require__(633),DataDiffer=__webpack_require__(160),curry=zrUtil.curry,each=zrUtil.each,map=zrUtil.map,mathMin=Math.min,mathMax=Math.max,mathPow=Math.pow,COVER_Z=1e4,UNSELECT_THRESHOLD=6,MIN_RESIZE_LINE_WIDTH=6,MUTEX_RESOURCE_KEY="globalPan",DIRECTION_MAP={"w":[0,0],"e":[0,1],"n":[1,0],"s":[1,1]},CURSOR_MAP={"w":"ew","e":"ew","n":"ns","s":"ns","ne":"nesw","sw":"nesw","nw":"nwse","se":"nwse"},DEFAULT_BRUSH_OPT={"brushStyle":{"lineWidth":2,"stroke":"rgba(0,0,0,0.3)","fill":"rgba(0,0,0,0.1)"},"transformable":!0,"brushMode":"single","removeOnClick":!1},baseUID=0;BrushController.prototype={"constructor":BrushController,"enableBrush":function(brushOption){return this._brushType&&doDisableBrush(this),brushOption.brushType&&doEnableBrush(this,brushOption),this},"setPanels":function(panelOpts){if(panelOpts&&panelOpts.length){var panels=this._panels={};zrUtil.each(panelOpts,function(panelOpts){panels[panelOpts.panelId]=zrUtil.clone(panelOpts)})}else this._panels=null;return this},"mount":function(opt){opt=opt||{},this._enableGlobalPan=opt.enableGlobalPan;var thisGroup=this.group;return this._zr.add(thisGroup),thisGroup.attr({"position":opt.position||[0,0],"rotation":opt.rotation||0,"scale":opt.scale||[1,1]}),this._transform=thisGroup.getLocalTransform(),this},"eachCover":function(cb,context){each(this._covers,cb,context)},"updateCovers":function(brushOptionList){function getKey(brushOption,index){return(null!=brushOption.id?brushOption.id:tmpIdPrefix+index)+"-"+brushOption.brushType}function oldGetKey(cover,index){return getKey(cover.__brushOption,index)}function addOrUpdate(newIndex,oldIndex){var newBrushOption=brushOptionList[newIndex];if(null!=oldIndex&&oldCovers[oldIndex]===creatingCover)newCovers[newIndex]=oldCovers[oldIndex];else{var cover=newCovers[newIndex]=null!=oldIndex?(oldCovers[oldIndex].__brushOption=newBrushOption,oldCovers[oldIndex]):endCreating(controller,createCover(controller,newBrushOption));updateCoverAfterCreation(controller,cover)}}function remove(oldIndex){oldCovers[oldIndex]!==creatingCover&&controller.group.remove(oldCovers[oldIndex])}brushOptionList=zrUtil.map(brushOptionList,function(brushOption){return zrUtil.merge(zrUtil.clone(DEFAULT_BRUSH_OPT),brushOption,!0)});var tmpIdPrefix="\0-brush-index-",oldCovers=this._covers,newCovers=this._covers=[],controller=this,creatingCover=this._creatingCover;return new DataDiffer(oldCovers,brushOptionList,oldGetKey,getKey).add(addOrUpdate).update(addOrUpdate).remove(remove).execute(),this},"unmount":function(){return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this},"dispose":function(){this.unmount(),this.off()}},zrUtil.mixin(BrushController,Eventful);var mouseHandlers={"mousedown":function(e){if(this._dragging)handleDragEnd.call(this,e);else if(!e.target||!e.target.draggable){preventDefault(e);var localCursorPoint=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null;var panel=this._creatingPanel=getPanelByPoint(this,e,localCursorPoint);panel&&(this._dragging=!0,this._track=[localCursorPoint.slice()])}},"mousemove":function(e){var localCursorPoint=this.group.transformCoordToLocal(e.offsetX,e.offsetY);if(resetCursor(this,e,localCursorPoint),this._dragging){preventDefault(e);var eventParams=updateCoverByMouse(this,e,localCursorPoint,!1);eventParams&&trigger(this,eventParams)}},"mouseup":handleDragEnd},coverRenderers={"lineX":getLineRenderer(0),"lineY":getLineRenderer(1),"rect":{"createCover":function(controller,brushOption){return createBaseRectCover(curry(driftRect,function(range){return range},function(range){return range}),controller,brushOption,["w","e","n","s","se","sw","ne","nw"])},"getCreatingRange":function(localTrack){var ends=getTrackEnds(localTrack);return formatRectRange(ends[1][0],ends[1][1],ends[0][0],ends[0][1])},"updateCoverShape":function(controller,cover,localRange,brushOption){updateBaseRect(controller,cover,localRange,brushOption)},"updateCommon":updateCommon,"contain":mainShapeContain},"polygon":{"createCover":function(controller,brushOption){var cover=new graphic.Group;return cover.add(new graphic.Polyline({"name":"main","style":makeStyle(brushOption),"silent":!0})),cover},"getCreatingRange":function(localTrack){return localTrack},"endCreating":function(controller,cover){cover.remove(cover.childAt(0)),cover.add(new graphic.Polygon({"name":"main","draggable":!0,"drift":curry(driftPolygon,controller,cover),"ondragend":curry(trigger,controller,{"isEnd":!0})}))},"updateCoverShape":function(controller,cover,localRange,brushOption){cover.childAt(0).setShape({"points":clipByPanel(controller,cover,localRange)})},"updateCommon":updateCommon,"contain":mainShapeContain}},_default=BrushController;module.exports=_default},function(module,exports){function onIrrelevantElement(e,api,targetCoordSysModel){var model=api.getComponentByElement(e.topTarget),coordSys=model&&model.coordinateSystem;return model&&model!==targetCoordSysModel&&!IRRELEVANT_EXCLUDES[model.mainType]&&coordSys&&coordSys.model!==targetCoordSysModel}var IRRELEVANT_EXCLUDES={"axisPointer":1,"tooltip":1,"brush":1};exports.onIrrelevantElement=onIrrelevantElement},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),_default={"updateSelectedMap":function(targetList){this._targetList=zrUtil.isArray(targetList)?targetList.slice():[],this._selectTargetMap=zrUtil.reduce(targetList||[],function(targetMap,target){return targetMap.set(target.name,target),targetMap},zrUtil.createHashMap())},"select":function(name,id){var target=null!=id?this._targetList[id]:this._selectTargetMap.get(name),selectedMode=this.get("selectedMode");"single"===selectedMode&&this._selectTargetMap.each(function(target){target.selected=!1}),target&&(target.selected=!0)},"unSelect":function(name,id){var target=null!=id?this._targetList[id]:this._selectTargetMap.get(name);target&&(target.selected=!1)},"toggleSelected":function(name,id){var target=null!=id?this._targetList[id]:this._selectTargetMap.get(name);if(null!=target)return this[target.selected?"unSelect":"select"](name,id),target.selected},"isSelected":function(name,id){var target=null!=id?this._targetList[id]:this._selectTargetMap.get(name);return target&&target.selected}};module.exports=_default},function(module,exports,__webpack_require__){function fillLabel(opt){modelUtil.defaultEmphasis(opt,"label",["show"])}var _config=__webpack_require__(30),echarts=(_config.__DEV__,__webpack_require__(13)),zrUtil=__webpack_require__(4),env=__webpack_require__(52),modelUtil=__webpack_require__(27),formatUtil=__webpack_require__(40),dataFormatMixin=__webpack_require__(390),addCommas=formatUtil.addCommas,encodeHTML=formatUtil.encodeHTML,MarkerModel=echarts.extendComponentModel({"type":"marker","dependencies":["series","grid","polar","geo"],"init":function(option,parentModel,ecModel,extraOpt){this.mergeDefaultAndTheme(option,ecModel),this.mergeOption(option,ecModel,extraOpt.createdBySelf,!0)},"isAnimationEnabled":function(){if(env.node)return!1;var hostSeries=this.__hostSeries;return this.getShallow("animation")&&hostSeries&&hostSeries.isAnimationEnabled()},"mergeOption":function(newOpt,ecModel,createdBySelf,isInit){var MarkerModel=this.constructor,modelPropName=this.mainType+"Model";createdBySelf||ecModel.eachSeries(function(seriesModel){var markerOpt=seriesModel.get(this.mainType,!0),markerModel=seriesModel[modelPropName];return markerOpt&&markerOpt.data?(markerModel?markerModel.mergeOption(markerOpt,ecModel,!0):(isInit&&fillLabel(markerOpt),zrUtil.each(markerOpt.data,function(item){item instanceof Array?(fillLabel(item[0]),fillLabel(item[1])):fillLabel(item)}),markerModel=new MarkerModel(markerOpt,this,ecModel),zrUtil.extend(markerModel,{"mainType":this.mainType,"seriesIndex":seriesModel.seriesIndex,"name":seriesModel.name,"createdBySelf":!0}),markerModel.__hostSeries=seriesModel),void(seriesModel[modelPropName]=markerModel)):void(seriesModel[modelPropName]=null)},this)},"formatTooltip":function(dataIndex){var data=this.getData(),value=this.getRawValue(dataIndex),formattedValue=zrUtil.isArray(value)?zrUtil.map(value,addCommas).join(", "):addCommas(value),name=data.getName(dataIndex),html=encodeHTML(this.name);return(null!=value||name)&&(html+="<br />"),name&&(html+=encodeHTML(name),null!=value&&(html+=" : ")),null!=value&&(html+=encodeHTML(formattedValue)),html},"getData":function(){return this._data},"setData":function(data){this._data=data}});zrUtil.mixin(MarkerModel,dataFormatMixin);var _default=MarkerModel;module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),_default=echarts.extendComponentView({"type":"marker","init":function(){this.markerGroupMap=zrUtil.createHashMap()},"render":function(markerModel,ecModel,api){var markerGroupMap=this.markerGroupMap;markerGroupMap.each(function(item){item.__keep=!1});var markerModelKey=this.type+"Model";ecModel.eachSeries(function(seriesModel){var markerModel=seriesModel[markerModelKey];markerModel&&this.renderSeries(seriesModel,markerModel,ecModel,api)},this),markerGroupMap.each(function(item){!item.__keep&&this.group.remove(item.group)},this)},"renderSeries":function(){}});module.exports=_default},function(module,exports,__webpack_require__){function hasXOrY(item){return!(isNaN(parseFloat(item.x))&&isNaN(parseFloat(item.y)))}function hasXAndY(item){return!isNaN(parseFloat(item.x))&&!isNaN(parseFloat(item.y))}function markerTypeCalculatorWithExtent(mlType,data,otherDataDim,targetDataDim,otherCoordIndex,targetCoordIndex){var coordArr=[],stacked=isDimensionStacked(data,targetDataDim),calcDataDim=stacked?data.getCalculationInfo("stackResultDimension"):targetDataDim,value=numCalculate(data,calcDataDim,mlType),dataIndex=data.indicesOfNearest(calcDataDim,value)[0];coordArr[otherCoordIndex]=data.get(otherDataDim,dataIndex),coordArr[targetCoordIndex]=data.get(targetDataDim,dataIndex);var precision=numberUtil.getPrecision(data.get(targetDataDim,dataIndex));return precision=Math.min(precision,20),precision>=0&&(coordArr[targetCoordIndex]=+coordArr[targetCoordIndex].toFixed(precision)),coordArr}function dataTransform(seriesModel,item){var data=seriesModel.getData(),coordSys=seriesModel.coordinateSystem;if(item&&!hasXAndY(item)&&!zrUtil.isArray(item.coord)&&coordSys){var dims=coordSys.dimensions,axisInfo=getAxisInfo(item,data,coordSys,seriesModel);if(item=zrUtil.clone(item),item.type&&markerTypeCalculator[item.type]&&axisInfo.baseAxis&&axisInfo.valueAxis){var otherCoordIndex=indexOf(dims,axisInfo.baseAxis.dim),targetCoordIndex=indexOf(dims,axisInfo.valueAxis.dim);item.coord=markerTypeCalculator[item.type](data,axisInfo.baseDataDim,axisInfo.valueDataDim,otherCoordIndex,targetCoordIndex),item.value=item.coord[targetCoordIndex]}else{for(var coord=[null!=item.xAxis?item.xAxis:item.radiusAxis,null!=item.yAxis?item.yAxis:item.angleAxis],i=0;i<2;i++)markerTypeCalculator[coord[i]]&&(coord[i]=numCalculate(data,data.mapDimension(dims[i]),coord[i]));item.coord=coord}}return item}function getAxisInfo(item,data,coordSys,seriesModel){var ret={};return null!=item.valueIndex||null!=item.valueDim?(ret.valueDataDim=null!=item.valueIndex?data.getDimension(item.valueIndex):item.valueDim,ret.valueAxis=coordSys.getAxis(dataDimToCoordDim(seriesModel,ret.valueDataDim)),ret.baseAxis=coordSys.getOtherAxis(ret.valueAxis),ret.baseDataDim=data.mapDimension(ret.baseAxis.dim)):(ret.baseAxis=seriesModel.getBaseAxis(),ret.valueAxis=coordSys.getOtherAxis(ret.baseAxis),ret.baseDataDim=data.mapDimension(ret.baseAxis.dim),ret.valueDataDim=data.mapDimension(ret.valueAxis.dim)),ret}function dataDimToCoordDim(seriesModel,dataDim){var data=seriesModel.getData(),dimensions=data.dimensions;dataDim=data.getDimension(dataDim);for(var i=0;i<dimensions.length;i++){var dimItem=data.getDimensionInfo(dimensions[i]);if(dimItem.name===dataDim)return dimItem.coordDim}}function dataFilter(coordSys,item){return!(coordSys&&coordSys.containData&&item.coord&&!hasXOrY(item))||coordSys.containData(item.coord)}function dimValueGetter(item,dimName,dataIndex,dimIndex){return dimIndex<2?item.coord&&item.coord[dimIndex]:item.value}function numCalculate(data,valueDataDim,type){if("average"===type){var sum=0,count=0;return data.each(valueDataDim,function(val,idx){isNaN(val)||(sum+=val,count++)}),sum/count}return"median"===type?data.getMedian(valueDataDim):data.getDataExtent(valueDataDim,!0)["max"===type?1:0]}var zrUtil=__webpack_require__(4),numberUtil=__webpack_require__(20),_dataStackHelper=__webpack_require__(115),isDimensionStacked=_dataStackHelper.isDimensionStacked,indexOf=zrUtil.indexOf,curry=zrUtil.curry,markerTypeCalculator={"min":curry(markerTypeCalculatorWithExtent,"min"),"max":curry(markerTypeCalculatorWithExtent,"max"),"average":curry(markerTypeCalculatorWithExtent,"average")};exports.dataTransform=dataTransform,exports.getAxisInfo=getAxisInfo,exports.dataFilter=dataFilter,exports.dimValueGetter=dimValueGetter,exports.numCalculate=numCalculate},function(module,exports,__webpack_require__){function isAxisUsedInTheGrid(axisModel,gridModel,ecModel){return axisModel.getCoordSysModel()===gridModel}function Grid(gridModel,ecModel,api){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(gridModel,ecModel,api),this.model=gridModel}function fixAxisOnZero(axesMap,otherAxisDim,axis){axis.getAxesOnZeroOf=function(){return otherAxis?[otherAxis]:[]};var otherAxis,otherAxes=axesMap[otherAxisDim],axisModel=axis.model,onZero=axisModel.get("axisLine.onZero"),onZeroAxisIndex=axisModel.get("axisLine.onZeroAxisIndex");if(onZero){if(null!=onZeroAxisIndex)return void(canOnZeroToAxis(otherAxes[onZeroAxisIndex])&&(otherAxis=otherAxes[onZeroAxisIndex]));for(var idx in otherAxes)if(otherAxes.hasOwnProperty(idx)&&canOnZeroToAxis(otherAxes[idx])){otherAxis=otherAxes[idx];break}}}function canOnZeroToAxis(axis){return axis&&"category"!==axis.type&&"time"!==axis.type&&ifAxisCrossZero(axis)}function updateAxisTransform(axis,coordBase){var axisExtent=axis.getExtent(),axisExtentSum=axisExtent[0]+axisExtent[1];axis.toGlobalCoord="x"===axis.dim?function(coord){return coord+coordBase}:function(coord){return axisExtentSum-coord+coordBase},axis.toLocalCoord="x"===axis.dim?function(coord){return coord-coordBase}:function(coord){return axisExtentSum-coord+coordBase}}function findAxesModels(seriesModel,ecModel){return map(axesTypes,function(axisType){var axisModel=seriesModel.getReferringComponents(axisType)[0];return axisModel})}function isCartesian2D(seriesModel){return"cartesian2d"===seriesModel.get("coordinateSystem")}var _config=__webpack_require__(30),_util=(_config.__DEV__,__webpack_require__(4)),isObject=_util.isObject,each=_util.each,map=_util.map,indexOf=_util.indexOf,_layout=(_util.retrieve,__webpack_require__(34)),getLayoutRect=_layout.getLayoutRect,_axisHelper=__webpack_require__(93),createScaleByModel=_axisHelper.createScaleByModel,ifAxisCrossZero=_axisHelper.ifAxisCrossZero,niceScaleExtent=_axisHelper.niceScaleExtent,estimateLabelUnionRect=_axisHelper.estimateLabelUnionRect,Cartesian2D=__webpack_require__(1548),Axis2D=__webpack_require__(1546),CoordinateSystem=__webpack_require__(92),_dataStackHelper=__webpack_require__(115),getStackedDimension=_dataStackHelper.getStackedDimension;__webpack_require__(1549);var gridProto=Grid.prototype;gridProto.type="grid",gridProto.axisPointerEnabled=!0,gridProto.getRect=function(){return this._rect},gridProto.update=function(ecModel,api){var axesMap=this._axesMap;this._updateScale(ecModel,this.model),each(axesMap.x,function(xAxis){niceScaleExtent(xAxis.scale,xAxis.model)}),each(axesMap.y,function(yAxis){niceScaleExtent(yAxis.scale,yAxis.model)}),each(axesMap.x,function(xAxis){fixAxisOnZero(axesMap,"y",xAxis)}),each(axesMap.y,function(yAxis){fixAxisOnZero(axesMap,"x",yAxis)}),this.resize(this.model,api)},gridProto.resize=function(gridModel,api,ignoreContainLabel){function adjustAxes(){each(axesList,function(axis){var isHorizontal=axis.isHorizontal(),extent=isHorizontal?[0,gridRect.width]:[0,gridRect.height],idx=axis.inverse?1:0;axis.setExtent(extent[idx],extent[1-idx]),updateAxisTransform(axis,isHorizontal?gridRect.x:gridRect.y)})}var gridRect=getLayoutRect(gridModel.getBoxLayoutParams(),{"width":api.getWidth(),"height":api.getHeight()});this._rect=gridRect;var axesList=this._axesList;adjustAxes(),!ignoreContainLabel&&gridModel.get("containLabel")&&(each(axesList,function(axis){if(!axis.model.get("axisLabel.inside")){var labelUnionRect=estimateLabelUnionRect(axis);if(labelUnionRect){var dim=axis.isHorizontal()?"height":"width",margin=axis.model.get("axisLabel.margin");gridRect[dim]-=labelUnionRect[dim]+margin,"top"===axis.position?gridRect.y+=labelUnionRect.height+margin:"left"===axis.position&&(gridRect.x+=labelUnionRect.width+margin)}}}),adjustAxes())},gridProto.getAxis=function(axisType,axisIndex){var axesMapOnDim=this._axesMap[axisType];if(null!=axesMapOnDim){if(null==axisIndex)for(var name in axesMapOnDim)if(axesMapOnDim.hasOwnProperty(name))return axesMapOnDim[name];return axesMapOnDim[axisIndex]}},gridProto.getAxes=function(){return this._axesList.slice()},gridProto.getCartesian=function(xAxisIndex,yAxisIndex){if(null!=xAxisIndex&&null!=yAxisIndex){var key="x"+xAxisIndex+"y"+yAxisIndex;return this._coordsMap[key]}isObject(xAxisIndex)&&(yAxisIndex=xAxisIndex.yAxisIndex,xAxisIndex=xAxisIndex.xAxisIndex);for(var i=0,coordList=this._coordsList;i<coordList.length;i++)if(coordList[i].getAxis("x").index===xAxisIndex||coordList[i].getAxis("y").index===yAxisIndex)return coordList[i]},gridProto.getCartesians=function(){return this._coordsList.slice()},gridProto.convertToPixel=function(ecModel,finder,value){var target=this._findConvertTarget(ecModel,finder);return target.cartesian?target.cartesian.dataToPoint(value):target.axis?target.axis.toGlobalCoord(target.axis.dataToCoord(value)):null},gridProto.convertFromPixel=function(ecModel,finder,value){var target=this._findConvertTarget(ecModel,finder);return target.cartesian?target.cartesian.pointToData(value):target.axis?target.axis.coordToData(target.axis.toLocalCoord(value)):null},gridProto._findConvertTarget=function(ecModel,finder){var cartesian,axis,seriesModel=finder.seriesModel,xAxisModel=finder.xAxisModel||seriesModel&&seriesModel.getReferringComponents("xAxis")[0],yAxisModel=finder.yAxisModel||seriesModel&&seriesModel.getReferringComponents("yAxis")[0],gridModel=finder.gridModel,coordsList=this._coordsList;if(seriesModel)cartesian=seriesModel.coordinateSystem,indexOf(coordsList,cartesian)<0&&(cartesian=null);else if(xAxisModel&&yAxisModel)cartesian=this.getCartesian(xAxisModel.componentIndex,yAxisModel.componentIndex);else if(xAxisModel)axis=this.getAxis("x",xAxisModel.componentIndex);else if(yAxisModel)axis=this.getAxis("y",yAxisModel.componentIndex);else if(gridModel){var grid=gridModel.coordinateSystem;grid===this&&(cartesian=this._coordsList[0])}return{"cartesian":cartesian,"axis":axis}},gridProto.containPoint=function(point){var coord=this._coordsList[0];if(coord)return coord.containPoint(point)},gridProto._initCartesian=function(gridModel,ecModel,api){function createAxisCreator(axisType){return function(axisModel,idx){if(isAxisUsedInTheGrid(axisModel,gridModel,ecModel)){var axisPosition=axisModel.get("position");"x"===axisType?"top"!==axisPosition&&"bottom"!==axisPosition&&(axisPosition="bottom",axisPositionUsed[axisPosition]&&(axisPosition="top"===axisPosition?"bottom":"top")):"left"!==axisPosition&&"right"!==axisPosition&&(axisPosition="left",axisPositionUsed[axisPosition]&&(axisPosition="left"===axisPosition?"right":"left")),axisPositionUsed[axisPosition]=!0;var axis=new Axis2D(axisType,createScaleByModel(axisModel),[0,0],axisModel.get("type"),axisPosition),isCategory="category"===axis.type;axis.onBand=isCategory&&axisModel.get("boundaryGap"),axis.inverse=axisModel.get("inverse"),axisModel.axis=axis,axis.model=axisModel,axis.grid=this,axis.index=idx,this._axesList.push(axis),axesMap[axisType][idx]=axis,axesCount[axisType]++}}}var axisPositionUsed={"left":!1,"right":!1,"top":!1,"bottom":!1},axesMap={"x":{},"y":{}},axesCount={"x":0,"y":0};return ecModel.eachComponent("xAxis",createAxisCreator("x"),this),ecModel.eachComponent("yAxis",createAxisCreator("y"),this),axesCount.x&&axesCount.y?(this._axesMap=axesMap,void each(axesMap.x,function(xAxis,xAxisIndex){each(axesMap.y,function(yAxis,yAxisIndex){var key="x"+xAxisIndex+"y"+yAxisIndex,cartesian=new Cartesian2D(key);cartesian.grid=this,cartesian.model=gridModel,this._coordsMap[key]=cartesian,this._coordsList.push(cartesian),cartesian.addAxis(xAxis),cartesian.addAxis(yAxis)},this)},this)):(this._axesMap={},void(this._axesList=[]))},gridProto._updateScale=function(ecModel,gridModel){function unionExtent(data,axis,seriesModel){each(data.mapDimension(axis.dim,!0),function(dim){axis.scale.unionExtentFromData(data,getStackedDimension(data,dim))})}each(this._axesList,function(axis){axis.scale.setExtent(1/0,-(1/0))}),ecModel.eachSeries(function(seriesModel){if(isCartesian2D(seriesModel)){var axesModels=findAxesModels(seriesModel,ecModel),xAxisModel=axesModels[0],yAxisModel=axesModels[1];if(!isAxisUsedInTheGrid(xAxisModel,gridModel,ecModel)||!isAxisUsedInTheGrid(yAxisModel,gridModel,ecModel))return;var cartesian=this.getCartesian(xAxisModel.componentIndex,yAxisModel.componentIndex),data=seriesModel.getData(),xAxis=cartesian.getAxis("x"),yAxis=cartesian.getAxis("y");"list"===data.type&&(unionExtent(data,xAxis,seriesModel),unionExtent(data,yAxis,seriesModel))}},this)},gridProto.getTooltipAxes=function(dim){var baseAxes=[],otherAxes=[];return each(this.getCartesians(),function(cartesian){var baseAxis=null!=dim&&"auto"!==dim?cartesian.getAxis(dim):cartesian.getBaseAxis(),otherAxis=cartesian.getOtherAxis(baseAxis);indexOf(baseAxes,baseAxis)<0&&baseAxes.push(baseAxis),indexOf(otherAxes,otherAxis)<0&&otherAxes.push(otherAxis)}),{"baseAxes":baseAxes,"otherAxes":otherAxes}};var axesTypes=["xAxis","yAxis"];Grid.create=function(ecModel,api){var grids=[];return ecModel.eachComponent("grid",function(gridModel,idx){var grid=new Grid(gridModel,ecModel,api);grid.name="grid_"+idx,grid.resize(gridModel,api,!0),gridModel.coordinateSystem=grid,grids.push(grid)}),ecModel.eachSeries(function(seriesModel){if(isCartesian2D(seriesModel)){var axesModels=findAxesModels(seriesModel,ecModel),xAxisModel=axesModels[0],yAxisModel=axesModels[1],gridModel=xAxisModel.getCoordSysModel(),grid=gridModel.coordinateSystem;seriesModel.coordinateSystem=grid.getCartesian(xAxisModel.componentIndex,yAxisModel.componentIndex)}}),grids},Grid.dimensions=Grid.prototype.dimensions=Cartesian2D.prototype.dimensions,CoordinateSystem.register("cartesian2d",Grid);var _default=Grid;module.exports=_default},function(module,exports,__webpack_require__){function resizePolar(polar,polarModel,api){var center=polarModel.get("center"),width=api.getWidth(),height=api.getHeight();polar.cx=parsePercent(center[0],width),polar.cy=parsePercent(center[1],height);var radiusAxis=polar.getRadiusAxis(),size=Math.min(width,height)/2,radius=parsePercent(polarModel.get("radius"),size);radiusAxis.inverse?radiusAxis.setExtent(radius,0):radiusAxis.setExtent(0,radius)}function updatePolarScale(ecModel,api){var polar=this,angleAxis=polar.getAngleAxis(),radiusAxis=polar.getRadiusAxis();if(angleAxis.scale.setExtent(1/0,-(1/0)),radiusAxis.scale.setExtent(1/0,-(1/0)),ecModel.eachSeries(function(seriesModel){if(seriesModel.coordinateSystem===polar){
var data=seriesModel.getData();zrUtil.each(data.mapDimension("radius",!0),function(dim){radiusAxis.scale.unionExtentFromData(data,getStackedDimension(data,dim))}),zrUtil.each(data.mapDimension("angle",!0),function(dim){angleAxis.scale.unionExtentFromData(data,getStackedDimension(data,dim))})}}),niceScaleExtent(angleAxis.scale,angleAxis.model),niceScaleExtent(radiusAxis.scale,radiusAxis.model),"category"===angleAxis.type&&!angleAxis.onBand){var extent=angleAxis.getExtent(),diff=360/angleAxis.scale.count();angleAxis.inverse?extent[1]+=diff:extent[1]-=diff,angleAxis.setExtent(extent[0],extent[1])}}function setAxis(axis,axisModel){if(axis.type=axisModel.get("type"),axis.scale=createScaleByModel(axisModel),axis.onBand=axisModel.get("boundaryGap")&&"category"===axis.type,axis.inverse=axisModel.get("inverse"),"angleAxis"===axisModel.mainType){axis.inverse^=axisModel.get("clockwise");var startAngle=axisModel.get("startAngle");axis.setExtent(startAngle,startAngle+(axis.inverse?-360:360))}axisModel.axis=axis,axis.model=axisModel}var _config=__webpack_require__(30),zrUtil=(_config.__DEV__,__webpack_require__(4)),Polar=__webpack_require__(1565),_number=__webpack_require__(20),parsePercent=_number.parsePercent,_axisHelper=__webpack_require__(93),createScaleByModel=_axisHelper.createScaleByModel,niceScaleExtent=_axisHelper.niceScaleExtent,CoordinateSystem=__webpack_require__(92),_dataStackHelper=__webpack_require__(115),getStackedDimension=_dataStackHelper.getStackedDimension;__webpack_require__(1566);var polarCreator={"dimensions":Polar.prototype.dimensions,"create":function(ecModel,api){var polarList=[];return ecModel.eachComponent("polar",function(polarModel,idx){var polar=new Polar(idx);polar.update=updatePolarScale;var radiusAxis=polar.getRadiusAxis(),angleAxis=polar.getAngleAxis(),radiusAxisModel=polarModel.findAxisModel("radiusAxis"),angleAxisModel=polarModel.findAxisModel("angleAxis");setAxis(radiusAxis,radiusAxisModel),setAxis(angleAxis,angleAxisModel),resizePolar(polar,polarModel,api),polarList.push(polar),polarModel.coordinateSystem=polar,polar.model=polarModel}),ecModel.eachSeries(function(seriesModel){if("polar"===seriesModel.get("coordinateSystem")){var polarModel=ecModel.queryComponents({"mainType":"polar","index":seriesModel.get("polarIndex"),"id":seriesModel.get("polarId")})[0];seriesModel.coordinateSystem=polarModel.coordinateSystem}}),polarList}};CoordinateSystem.register("polar",polarCreator)},function(module,exports,__webpack_require__){function Tree(hostModel,levelOptions,leavesOption){this.root,this.data,this._nodes=[],this.hostModel=hostModel,this.levelModels=zrUtil.map(levelOptions||[],function(levelDefine){return new Model(levelDefine,hostModel,hostModel.ecModel)}),this.leavesModel=new Model(leavesOption||{},hostModel,hostModel.ecModel)}function addChild(child,node){var children=node.children;child.parentNode!==node&&(children.push(child),child.parentNode=node)}var zrUtil=__webpack_require__(4),Model=__webpack_require__(56),linkList=__webpack_require__(657),List=__webpack_require__(82),createDimensions=__webpack_require__(193),TreeNode=function(name,hostTree){this.name=name||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=hostTree};TreeNode.prototype={"constructor":TreeNode,"isRemoved":function(){return this.dataIndex<0},"eachNode":function(options,cb,context){"function"==typeof options&&(context=cb,cb=options,options=null),options=options||{},zrUtil.isString(options)&&(options={"order":options});var suppressVisitSub,order=options.order||"preorder",children=this[options.attr||"children"];"preorder"===order&&(suppressVisitSub=cb.call(context,this));for(var i=0;!suppressVisitSub&&i<children.length;i++)children[i].eachNode(options,cb,context);"postorder"===order&&cb.call(context,this)},"updateDepthAndHeight":function(depth){var height=0;this.depth=depth;for(var i=0;i<this.children.length;i++){var child=this.children[i];child.updateDepthAndHeight(depth+1),child.height>height&&(height=child.height)}this.height=height+1},"getNodeById":function(id){if(this.getId()===id)return this;for(var i=0,children=this.children,len=children.length;i<len;i++){var res=children[i].getNodeById(id);if(res)return res}},"contains":function(node){if(node===this)return!0;for(var i=0,children=this.children,len=children.length;i<len;i++){var res=children[i].contains(node);if(res)return res}},"getAncestors":function(includeSelf){for(var ancestors=[],node=includeSelf?this:this.parentNode;node;)ancestors.push(node),node=node.parentNode;return ancestors.reverse(),ancestors},"getValue":function(dimension){var data=this.hostTree.data;return data.get(data.getDimension(dimension||"value"),this.dataIndex)},"setLayout":function(layout,merge){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,layout,merge)},"getLayout":function(){return this.hostTree.data.getItemLayout(this.dataIndex)},"getModel":function(path){if(!(this.dataIndex<0)){var leavesModel,hostTree=this.hostTree,itemModel=hostTree.data.getItemModel(this.dataIndex),levelModel=this.getLevelModel();return levelModel||0!==this.children.length&&(0===this.children.length||this.isExpand!==!1)||(leavesModel=this.getLeavesModel()),itemModel.getModel(path,(levelModel||leavesModel||hostTree.hostModel).getModel(path))}},"getLevelModel":function(){return(this.hostTree.levelModels||[])[this.depth]},"getLeavesModel":function(){return this.hostTree.leavesModel},"setVisual":function(key,value){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,key,value)},"getVisual":function(key,ignoreParent){return this.hostTree.data.getItemVisual(this.dataIndex,key,ignoreParent)},"getRawIndex":function(){return this.hostTree.data.getRawIndex(this.dataIndex)},"getId":function(){return this.hostTree.data.getId(this.dataIndex)},"isAncestorOf":function(node){for(var parent=node.parentNode;parent;){if(parent===this)return!0;parent=parent.parentNode}return!1},"isDescendantOf":function(node){return node!==this&&node.isAncestorOf(this)}},Tree.prototype={"constructor":Tree,"type":"tree","eachNode":function(options,cb,context){this.root.eachNode(options,cb,context)},"getNodeByDataIndex":function(dataIndex){var rawIndex=this.data.getRawIndex(dataIndex);return this._nodes[rawIndex]},"getNodeByName":function(name){return this.root.getNodeByName(name)},"update":function(){for(var data=this.data,nodes=this._nodes,i=0,len=nodes.length;i<len;i++)nodes[i].dataIndex=-1;for(var i=0,len=data.count();i<len;i++)nodes[data.getRawIndex(i)].dataIndex=i},"clearLayouts":function(){this.data.clearItemLayouts()}},Tree.createTree=function(dataRoot,hostModel,treeOptions){function buildHierarchy(dataNode,parentNode){var value=dataNode.value;dimMax=Math.max(dimMax,zrUtil.isArray(value)?value.length:1),listData.push(dataNode);var node=new TreeNode(dataNode.name,tree);parentNode?addChild(node,parentNode):tree.root=node,tree._nodes.push(node);var children=dataNode.children;if(children)for(var i=0;i<children.length;i++)buildHierarchy(children[i],node)}var tree=new Tree(hostModel,treeOptions.levels,treeOptions.leaves),listData=[],dimMax=1;buildHierarchy(dataRoot),tree.root.updateDepthAndHeight(0);var dimensionsInfo=createDimensions(listData,{"coordDimensions":["value"],"dimensionsCount":dimMax}),list=new List(dimensionsInfo,hostModel);return list.initData(listData),linkList({"mainData":list,"struct":tree,"structAttr":"tree"}),tree.update(),tree};var _default=Tree;module.exports=_default},function(module,exports,__webpack_require__){var _dataProvider=__webpack_require__(161),retrieveRawValue=_dataProvider.retrieveRawValue,_format=__webpack_require__(40),getTooltipMarker=_format.getTooltipMarker,formatTpl=_format.formatTpl,DIMENSION_LABEL_REG=/\{@(.+?)\}/g,_default={"getDataParams":function(dataIndex,dataType){var data=this.getData(dataType),rawValue=this.getRawValue(dataIndex,dataType),rawDataIndex=data.getRawIndex(dataIndex),name=data.getName(dataIndex),itemOpt=data.getRawDataItem(dataIndex),color=data.getItemVisual(dataIndex,"color");return{"componentType":this.mainType,"componentSubType":this.subType,"seriesType":"series"===this.mainType?this.subType:null,"seriesIndex":this.seriesIndex,"seriesId":this.id,"seriesName":this.name,"name":name,"dataIndex":rawDataIndex,"data":itemOpt,"dataType":dataType,"value":rawValue,"color":color,"marker":getTooltipMarker(color),"$vars":["seriesName","name","value"]}},"getFormattedLabel":function(dataIndex,status,dataType,dimIndex,labelProp){status=status||"normal";var data=this.getData(dataType),itemModel=data.getItemModel(dataIndex),params=this.getDataParams(dataIndex,dataType);null!=dimIndex&&params.value instanceof Array&&(params.value=params.value[dimIndex]);var formatter=itemModel.get("normal"===status?[labelProp||"label","formatter"]:[status,labelProp||"label","formatter"]);if("function"==typeof formatter)return params.status=status,formatter(params);if("string"==typeof formatter){var str=formatTpl(formatter,params);return str.replace(DIMENSION_LABEL_REG,function(origin,dim){var len=dim.length;return"["===dim.charAt(0)&&"]"===dim.charAt(len-1)&&(dim=+dim.slice(1,len-1)),retrieveRawValue(data,dataIndex,dim)})}},"getRawValue":function(idx,dataType){return retrieveRawValue(this.getData(dataType),idx)},"formatTooltip":function(){}};module.exports=_default},function(module,exports,__webpack_require__){function createTask(define){return new Task(define)}function Task(define){define=define||{},this._reset=define.reset,this._plan=define.plan,this._count=define.count,this._onDirty=define.onDirty,this._dirty=!0,this.context}function doProgress(taskIns,progress,start,end,modBy,modDataCount){iterator.reset(start,end,modBy,modDataCount),taskIns._callingProgress=progress,taskIns._callingProgress({"start":start,"end":end,"count":end-start,"next":iterator.next},taskIns.context)}function reset(taskIns,skip){taskIns._dueIndex=taskIns._outputDueEnd=taskIns._dueEnd=0,taskIns._settedOutputEnd=null;var progress,forceFirstProgress;!skip&&taskIns._reset&&(progress=taskIns._reset(taskIns.context),progress&&progress.progress&&(forceFirstProgress=progress.forceFirstProgress,progress=progress.progress),isArray(progress)&&!progress.length&&(progress=null)),taskIns._progress=progress,taskIns._modBy=taskIns._modDataCount=null;var downstream=taskIns._downstream;return downstream&&downstream.dirty(),forceFirstProgress}var _util=__webpack_require__(4),isArray=(_util.assert,_util.isArray),_config=__webpack_require__(30),taskProto=(_config.__DEV__,Task.prototype);taskProto.perform=function(performArgs){function normalizeModBy(val){return!(val>=1)&&(val=1),val}var upTask=this._upstream,skip=performArgs&&performArgs.skip;if(this._dirty&&upTask){var context=this.context;context.data=context.outputData=upTask.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var planResult;this._plan&&!skip&&(planResult=this._plan(this.context));var lastModBy=normalizeModBy(this._modBy),lastModDataCount=this._modDataCount||0,modBy=normalizeModBy(performArgs&&performArgs.modBy),modDataCount=performArgs&&performArgs.modDataCount||0;lastModBy===modBy&&lastModDataCount===modDataCount||(planResult="reset");var forceFirstProgress;(this._dirty||"reset"===planResult)&&(this._dirty=!1,forceFirstProgress=reset(this,skip)),this._modBy=modBy,this._modDataCount=modDataCount;var step=performArgs&&performArgs.step;if(upTask?this._dueEnd=upTask._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var start=this._dueIndex,end=Math.min(null!=step?this._dueIndex+step:1/0,this._dueEnd);if(!skip&&(forceFirstProgress||start<end)){var progress=this._progress;if(isArray(progress))for(var i=0;i<progress.length;i++)doProgress(this,progress[i],start,end,modBy,modDataCount);else doProgress(this,progress,start,end,modBy,modDataCount)}this._dueIndex=end;var outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:end;this._outputDueEnd=outputDueEnd}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var iterator=function(){function sequentialNext(){return current<end?current++:null}function modNext(){var dataIndex=current%winCount*modBy+Math.ceil(current/winCount),result=current>=end?null:dataIndex<modDataCount?dataIndex:current;return current++,result}var end,current,modBy,modDataCount,winCount,it={"reset":function(s,e,sStep,sCount){current=s,end=e,modBy=sStep,modDataCount=sCount,winCount=Math.ceil(modDataCount/modBy),it.next=modBy>1&&modDataCount>0?modNext:sequentialNext}};return it}();taskProto.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},taskProto.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},taskProto.pipe=function(downTask){(this._downstream!==downTask||this._dirty)&&(this._downstream=downTask,downTask._upstream=this,downTask.dirty())},taskProto.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},taskProto.getUpstream=function(){return this._upstream},taskProto.getDownstream=function(){return this._downstream},taskProto.setOutputEnd=function(end){this._outputDueEnd=this._settedOutputEnd=end},exports.createTask=createTask},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){function fromPoints(points,min,max){if(0!==points.length){var i,p=points[0],left=p[0],right=p[0],top=p[1],bottom=p[1];for(i=1;i<points.length;i++)p=points[i],left=mathMin(left,p[0]),right=mathMax(right,p[0]),top=mathMin(top,p[1]),bottom=mathMax(bottom,p[1]);min[0]=left,min[1]=top,max[0]=right,max[1]=bottom}}function fromLine(x0,y0,x1,y1,min,max){min[0]=mathMin(x0,x1),min[1]=mathMin(y0,y1),max[0]=mathMax(x0,x1),max[1]=mathMax(y0,y1)}function fromCubic(x0,y0,x1,y1,x2,y2,x3,y3,min,max){var i,cubicExtrema=curve.cubicExtrema,cubicAt=curve.cubicAt,n=cubicExtrema(x0,x1,x2,x3,xDim);for(min[0]=1/0,min[1]=1/0,max[0]=-(1/0),max[1]=-(1/0),i=0;i<n;i++){var x=cubicAt(x0,x1,x2,x3,xDim[i]);min[0]=mathMin(x,min[0]),max[0]=mathMax(x,max[0])}for(n=cubicExtrema(y0,y1,y2,y3,yDim),i=0;i<n;i++){var y=cubicAt(y0,y1,y2,y3,yDim[i]);min[1]=mathMin(y,min[1]),max[1]=mathMax(y,max[1])}min[0]=mathMin(x0,min[0]),max[0]=mathMax(x0,max[0]),min[0]=mathMin(x3,min[0]),max[0]=mathMax(x3,max[0]),min[1]=mathMin(y0,min[1]),max[1]=mathMax(y0,max[1]),min[1]=mathMin(y3,min[1]),max[1]=mathMax(y3,max[1])}function fromQuadratic(x0,y0,x1,y1,x2,y2,min,max){var quadraticExtremum=curve.quadraticExtremum,quadraticAt=curve.quadraticAt,tx=mathMax(mathMin(quadraticExtremum(x0,x1,x2),1),0),ty=mathMax(mathMin(quadraticExtremum(y0,y1,y2),1),0),x=quadraticAt(x0,x1,x2,tx),y=quadraticAt(y0,y1,y2,ty);min[0]=mathMin(x0,x2,x),min[1]=mathMin(y0,y2,y),max[0]=mathMax(x0,x2,x),max[1]=mathMax(y0,y2,y)}function fromArc(x,y,rx,ry,startAngle,endAngle,anticlockwise,min,max){var vec2Min=vec2.min,vec2Max=vec2.max,diff=Math.abs(startAngle-endAngle);if(diff%PI2<1e-4&&diff>1e-4)return min[0]=x-rx,min[1]=y-ry,max[0]=x+rx,void(max[1]=y+ry);if(start[0]=mathCos(startAngle)*rx+x,start[1]=mathSin(startAngle)*ry+y,end[0]=mathCos(endAngle)*rx+x,end[1]=mathSin(endAngle)*ry+y,vec2Min(min,start,end),vec2Max(max,start,end),startAngle%=PI2,startAngle<0&&(startAngle+=PI2),endAngle%=PI2,endAngle<0&&(endAngle+=PI2),startAngle>endAngle&&!anticlockwise?endAngle+=PI2:startAngle<endAngle&&anticlockwise&&(startAngle+=PI2),anticlockwise){var tmp=endAngle;endAngle=startAngle,startAngle=tmp}for(var angle=0;angle<endAngle;angle+=Math.PI/2)angle>startAngle&&(extremity[0]=mathCos(angle)*rx+x,extremity[1]=mathSin(angle)*ry+y,vec2Min(min,extremity,min),vec2Max(max,extremity,max))}var vec2=__webpack_require__(38),curve=__webpack_require__(140),mathMin=Math.min,mathMax=Math.max,mathSin=Math.sin,mathCos=Math.cos,PI2=2*Math.PI,start=vec2.create(),end=vec2.create(),extremity=vec2.create(),xDim=[],yDim=[];exports.fromPoints=fromPoints,exports.fromLine=fromLine,exports.fromCubic=fromCubic,exports.fromQuadratic=fromQuadratic,exports.fromArc=fromArc},function(module,exports){function minRunLength(n){for(var r=0;n>=DEFAULT_MIN_MERGE;)r|=1&n,n>>=1;return n+r}function makeAscendingRun(array,lo,hi,compare){var runHi=lo+1;if(runHi===hi)return 1;if(compare(array[runHi++],array[lo])<0){for(;runHi<hi&&compare(array[runHi],array[runHi-1])<0;)runHi++;reverseRun(array,lo,runHi)}else for(;runHi<hi&&compare(array[runHi],array[runHi-1])>=0;)runHi++;return runHi-lo}function reverseRun(array,lo,hi){for(hi--;lo<hi;){var t=array[lo];array[lo++]=array[hi],array[hi--]=t}}function binaryInsertionSort(array,lo,hi,start,compare){for(start===lo&&start++;start<hi;start++){for(var mid,pivot=array[start],left=lo,right=start;left<right;)mid=left+right>>>1,compare(pivot,array[mid])<0?right=mid:left=mid+1;var n=start-left;switch(n){case 3:array[left+3]=array[left+2];case 2:array[left+2]=array[left+1];case 1:array[left+1]=array[left];break;default:for(;n>0;)array[left+n]=array[left+n-1],n--}array[left]=pivot}}function gallopLeft(value,array,start,length,hint,compare){var lastOffset=0,maxOffset=0,offset=1;if(compare(value,array[start+hint])>0){for(maxOffset=length-hint;offset<maxOffset&&compare(value,array[start+hint+offset])>0;)lastOffset=offset,offset=(offset<<1)+1,offset<=0&&(offset=maxOffset);offset>maxOffset&&(offset=maxOffset),lastOffset+=hint,offset+=hint}else{for(maxOffset=hint+1;offset<maxOffset&&compare(value,array[start+hint-offset])<=0;)lastOffset=offset,offset=(offset<<1)+1,offset<=0&&(offset=maxOffset);offset>maxOffset&&(offset=maxOffset);var tmp=lastOffset;lastOffset=hint-offset,offset=hint-tmp}for(lastOffset++;lastOffset<offset;){var m=lastOffset+(offset-lastOffset>>>1);compare(value,array[start+m])>0?lastOffset=m+1:offset=m}return offset}function gallopRight(value,array,start,length,hint,compare){var lastOffset=0,maxOffset=0,offset=1;if(compare(value,array[start+hint])<0){for(maxOffset=hint+1;offset<maxOffset&&compare(value,array[start+hint-offset])<0;)lastOffset=offset,offset=(offset<<1)+1,offset<=0&&(offset=maxOffset);offset>maxOffset&&(offset=maxOffset);var tmp=lastOffset;lastOffset=hint-offset,offset=hint-tmp}else{for(maxOffset=length-hint;offset<maxOffset&&compare(value,array[start+hint+offset])>=0;)lastOffset=offset,offset=(offset<<1)+1,offset<=0&&(offset=maxOffset);offset>maxOffset&&(offset=maxOffset),lastOffset+=hint,offset+=hint}for(lastOffset++;lastOffset<offset;){var m=lastOffset+(offset-lastOffset>>>1);compare(value,array[start+m])<0?offset=m:lastOffset=m+1}return offset}function TimSort(array,compare){function pushRun(_runStart,_runLength){runStart[stackSize]=_runStart,runLength[stackSize]=_runLength,stackSize+=1}function mergeRuns(){for(;stackSize>1;){var n=stackSize-2;if(n>=1&&runLength[n-1]<=runLength[n]+runLength[n+1]||n>=2&&runLength[n-2]<=runLength[n]+runLength[n-1])runLength[n-1]<runLength[n+1]&&n--;else if(runLength[n]>runLength[n+1])break;mergeAt(n)}}function forceMergeRuns(){for(;stackSize>1;){var n=stackSize-2;n>0&&runLength[n-1]<runLength[n+1]&&n--,mergeAt(n)}}function mergeAt(i){var start1=runStart[i],length1=runLength[i],start2=runStart[i+1],length2=runLength[i+1];runLength[i]=length1+length2,i===stackSize-3&&(runStart[i+1]=runStart[i+2],runLength[i+1]=runLength[i+2]),stackSize--;var k=gallopRight(array[start2],array,start1,length1,0,compare);start1+=k,length1-=k,0!==length1&&(length2=gallopLeft(array[start1+length1-1],array,start2,length2,length2-1,compare),0!==length2&&(length1<=length2?mergeLow(start1,length1,start2,length2):mergeHigh(start1,length1,start2,length2)))}function mergeLow(start1,length1,start2,length2){var i=0;for(i=0;i<length1;i++)tmp[i]=array[start1+i];var cursor1=0,cursor2=start2,dest=start1;if(array[dest++]=array[cursor2++],0!==--length2){if(1===length1){for(i=0;i<length2;i++)array[dest+i]=array[cursor2+i];return void(array[dest+length2]=tmp[cursor1])}for(var count1,count2,exit,_minGallop=minGallop;;){count1=0,count2=0,exit=!1;do if(compare(array[cursor2],tmp[cursor1])<0){if(array[dest++]=array[cursor2++],count2++,count1=0,0===--length2){exit=!0;break}}else if(array[dest++]=tmp[cursor1++],count1++,count2=0,1===--length1){exit=!0;break}while((count1|count2)<_minGallop);if(exit)break;do{if(count1=gallopRight(array[cursor2],tmp,cursor1,length1,0,compare),0!==count1){for(i=0;i<count1;i++)array[dest+i]=tmp[cursor1+i];if(dest+=count1,cursor1+=count1,length1-=count1,length1<=1){exit=!0;break}}if(array[dest++]=array[cursor2++],0===--length2){exit=!0;break}if(count2=gallopLeft(tmp[cursor1],array,cursor2,length2,0,compare),0!==count2){for(i=0;i<count2;i++)array[dest+i]=array[cursor2+i];if(dest+=count2,cursor2+=count2,length2-=count2,0===length2){exit=!0;break}}if(array[dest++]=tmp[cursor1++],1===--length1){exit=!0;break}_minGallop--}while(count1>=DEFAULT_MIN_GALLOPING||count2>=DEFAULT_MIN_GALLOPING);if(exit)break;_minGallop<0&&(_minGallop=0),_minGallop+=2}if(minGallop=_minGallop,minGallop<1&&(minGallop=1),1===length1){for(i=0;i<length2;i++)array[dest+i]=array[cursor2+i];array[dest+length2]=tmp[cursor1]}else{if(0===length1)throw new Error;for(i=0;i<length1;i++)array[dest+i]=tmp[cursor1+i]}}else for(i=0;i<length1;i++)array[dest+i]=tmp[cursor1+i]}function mergeHigh(start1,length1,start2,length2){var i=0;for(i=0;i<length2;i++)tmp[i]=array[start2+i];var cursor1=start1+length1-1,cursor2=length2-1,dest=start2+length2-1,customCursor=0,customDest=0;if(array[dest--]=array[cursor1--],0!==--length1){if(1===length2){for(dest-=length1,cursor1-=length1,customDest=dest+1,customCursor=cursor1+1,i=length1-1;i>=0;i--)array[customDest+i]=array[customCursor+i];return void(array[dest]=tmp[cursor2])}for(var _minGallop=minGallop;;){var count1=0,count2=0,exit=!1;do if(compare(tmp[cursor2],array[cursor1])<0){if(array[dest--]=array[cursor1--],count1++,count2=0,0===--length1){exit=!0;break}}else if(array[dest--]=tmp[cursor2--],count2++,count1=0,1===--length2){exit=!0;break}while((count1|count2)<_minGallop);if(exit)break;do{if(count1=length1-gallopRight(tmp[cursor2],array,start1,length1,length1-1,compare),0!==count1){for(dest-=count1,cursor1-=count1,length1-=count1,customDest=dest+1,customCursor=cursor1+1,i=count1-1;i>=0;i--)array[customDest+i]=array[customCursor+i];if(0===length1){exit=!0;break}}if(array[dest--]=tmp[cursor2--],1===--length2){exit=!0;break}if(count2=length2-gallopLeft(array[cursor1],tmp,0,length2,length2-1,compare),0!==count2){for(dest-=count2,cursor2-=count2,length2-=count2,customDest=dest+1,customCursor=cursor2+1,i=0;i<count2;i++)array[customDest+i]=tmp[customCursor+i];if(length2<=1){exit=!0;break}}if(array[dest--]=array[cursor1--],0===--length1){exit=!0;break}_minGallop--}while(count1>=DEFAULT_MIN_GALLOPING||count2>=DEFAULT_MIN_GALLOPING);if(exit)break;_minGallop<0&&(_minGallop=0),_minGallop+=2}if(minGallop=_minGallop,minGallop<1&&(minGallop=1),1===length2){for(dest-=length1,cursor1-=length1,customDest=dest+1,customCursor=cursor1+1,i=length1-1;i>=0;i--)array[customDest+i]=array[customCursor+i];array[dest]=tmp[cursor2]}else{if(0===length2)throw new Error;for(customCursor=dest-(length2-1),i=0;i<length2;i++)array[customCursor+i]=tmp[i]}}else for(customCursor=dest-(length2-1),i=0;i<length2;i++)array[customCursor+i]=tmp[i]}var runStart,runLength,minGallop=DEFAULT_MIN_GALLOPING,length=0,tmpStorageLength=DEFAULT_TMP_STORAGE_LENGTH,stackLength=0,stackSize=0;length=array.length,length<2*DEFAULT_TMP_STORAGE_LENGTH&&(tmpStorageLength=length>>>1);var tmp=[];stackLength=length<120?5:length<1542?10:length<119151?19:40,runStart=[],runLength=[],this.mergeRuns=mergeRuns,this.forceMergeRuns=forceMergeRuns,this.pushRun=pushRun}function sort(array,compare,lo,hi){lo||(lo=0),hi||(hi=array.length);var remaining=hi-lo;if(!(remaining<2)){var runLength=0;if(remaining<DEFAULT_MIN_MERGE)return runLength=makeAscendingRun(array,lo,hi,compare),void binaryInsertionSort(array,lo,hi,lo+runLength,compare);var ts=new TimSort(array,compare),minRun=minRunLength(remaining);do{if(runLength=makeAscendingRun(array,lo,hi,compare),runLength<minRun){var force=remaining;force>minRun&&(force=minRun),binaryInsertionSort(array,lo,lo+force,lo+runLength,compare),runLength=force}ts.pushRun(lo,runLength),ts.mergeRuns(),remaining-=runLength,lo+=runLength}while(0!==remaining);ts.forceMergeRuns()}}var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7,DEFAULT_TMP_STORAGE_LENGTH=256;module.exports=sort},function(module,exports,__webpack_require__){function IncrementalDisplayble(opts){Displayble.call(this,opts),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}var _util=__webpack_require__(4),inherits=_util.inherits,Displayble=__webpack_require__(243),BoundingRect=__webpack_require__(43);IncrementalDisplayble.prototype.incremental=!0,IncrementalDisplayble.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},IncrementalDisplayble.prototype.addDisplayable=function(displayable,notPersistent){notPersistent?this._temporaryDisplayables.push(displayable):this._displayables.push(displayable),this.dirty()},IncrementalDisplayble.prototype.addDisplayables=function(displayables,notPersistent){notPersistent=notPersistent||!1;for(var i=0;i<displayables.length;i++)this.addDisplayable(displayables[i],notPersistent)},IncrementalDisplayble.prototype.eachPendingDisplayable=function(cb){for(var i=this._cursor;i<this._displayables.length;i++)cb&&cb(this._displayables[i]);for(var i=0;i<this._temporaryDisplayables.length;i++)cb&&cb(this._temporaryDisplayables[i])},IncrementalDisplayble.prototype.update=function(){this.updateTransform();for(var i=this._cursor;i<this._displayables.length;i++){var displayable=this._displayables[i];displayable.parent=this,displayable.update(),displayable.parent=null}for(var i=0;i<this._temporaryDisplayables.length;i++){var displayable=this._temporaryDisplayables[i];displayable.parent=this,displayable.update(),displayable.parent=null}},IncrementalDisplayble.prototype.brush=function(ctx,prevEl){for(var i=this._cursor;i<this._displayables.length;i++){var displayable=this._displayables[i];displayable.beforeBrush&&displayable.beforeBrush(ctx),displayable.brush(ctx,i===this._cursor?null:this._displayables[i-1]),displayable.afterBrush&&displayable.afterBrush(ctx)}this._cursor=i;for(var i=0;i<this._temporaryDisplayables.length;i++){var displayable=this._temporaryDisplayables[i];displayable.beforeBrush&&displayable.beforeBrush(ctx),displayable.brush(ctx,0===i?null:this._temporaryDisplayables[i-1]),displayable.afterBrush&&displayable.afterBrush(ctx)}this._temporaryDisplayables=[],this.notClear=!0};var m=[];IncrementalDisplayble.prototype.getBoundingRect=function(){if(!this._rect){for(var rect=new BoundingRect(1/0,1/0,-(1/0),-(1/0)),i=0;i<this._displayables.length;i++){var displayable=this._displayables[i],childRect=displayable.getBoundingRect().clone();displayable.needLocalTransform()&&childRect.applyTransform(displayable.getLocalTransform(m)),rect.union(childRect)}this._rect=rect}return this._rect},IncrementalDisplayble.prototype.contain=function(x,y){var localPos=this.transformCoordToLocal(x,y),rect=this.getBoundingRect();if(rect.contain(localPos[0],localPos[1]))for(var i=0;i<this._displayables.length;i++){var displayable=this._displayables[i];if(displayable.contain(x,y))return!0}return!1},inherits(IncrementalDisplayble,Displayble);var _default=IncrementalDisplayble;module.exports=_default},function(module,exports,__webpack_require__){function findExistImage(newImageOrSrc){if("string"==typeof newImageOrSrc){var cachedImgObj=globalImageCache.get(newImageOrSrc);return cachedImgObj&&cachedImgObj.image}return newImageOrSrc}function createOrUpdateImage(newImageOrSrc,image,hostEl,cb,cbPayload){if(newImageOrSrc){if("string"==typeof newImageOrSrc){if(image&&image.__zrImageSrc===newImageOrSrc||!hostEl)return image;var cachedImgObj=globalImageCache.get(newImageOrSrc),pendingWrap={"hostEl":hostEl,"cb":cb,"cbPayload":cbPayload};return cachedImgObj?(image=cachedImgObj.image,!isImageReady(image)&&cachedImgObj.pending.push(pendingWrap)):(!image&&(image=new Image),image.onload=imageOnLoad,globalImageCache.put(newImageOrSrc,image.__cachedImgObj={"image":image,"pending":[pendingWrap]}),image.src=image.__zrImageSrc=newImageOrSrc),image}return newImageOrSrc}return image}function imageOnLoad(){var cachedImgObj=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var i=0;i<cachedImgObj.pending.length;i++){var pendingWrap=cachedImgObj.pending[i],cb=pendingWrap.cb;cb&&cb(this,pendingWrap.cbPayload),pendingWrap.hostEl.dirty()}cachedImgObj.pending.length=0}function isImageReady(image){return image&&image.width&&image.height}var LRU=__webpack_require__(920),globalImageCache=new LRU(50);exports.findExistImage=findExistImage,exports.createOrUpdateImage=createOrUpdateImage,exports.isImageReady=isImageReady},function(module,exports,__webpack_require__){function isNotAroundZero(val){return val>EPSILON||val<-EPSILON}var matrix=__webpack_require__(70),vector=__webpack_require__(38),mIdentity=matrix.identity,EPSILON=5e-5,Transformable=function(opts){opts=opts||{},opts.position||(this.position=[0,0]),null==opts.rotation&&(this.rotation=0),opts.scale||(this.scale=[1,1]),this.origin=this.origin||null},transformableProto=Transformable.prototype;transformableProto.transform=null,transformableProto.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.position[0])||isNotAroundZero(this.position[1])||isNotAroundZero(this.scale[0]-1)||isNotAroundZero(this.scale[1]-1)},transformableProto.updateTransform=function(){var parent=this.parent,parentHasTransform=parent&&parent.transform,needLocalTransform=this.needLocalTransform(),m=this.transform;return needLocalTransform||parentHasTransform?(m=m||matrix.create(),needLocalTransform?this.getLocalTransform(m):mIdentity(m),parentHasTransform&&(needLocalTransform?matrix.mul(m,parent.transform,m):matrix.copy(m,parent.transform)),this.transform=m,this.invTransform=this.invTransform||matrix.create(),void matrix.invert(this.invTransform,m)):void(m&&mIdentity(m))},transformableProto.getLocalTransform=function(m){return Transformable.getLocalTransform(this,m)},transformableProto.setTransform=function(ctx){var m=this.transform,dpr=ctx.dpr||1;m?ctx.setTransform(dpr*m[0],dpr*m[1],dpr*m[2],dpr*m[3],dpr*m[4],dpr*m[5]):ctx.setTransform(dpr,0,0,dpr,0,0)},transformableProto.restoreTransform=function(ctx){var dpr=ctx.dpr||1;ctx.setTransform(dpr,0,0,dpr,0,0)};var tmpTransform=[];transformableProto.decomposeTransform=function(){if(this.transform){var parent=this.parent,m=this.transform;parent&&parent.transform&&(matrix.mul(tmpTransform,parent.invTransform,m),m=tmpTransform);var sx=m[0]*m[0]+m[1]*m[1],sy=m[2]*m[2]+m[3]*m[3],position=this.position,scale=this.scale;isNotAroundZero(sx-1)&&(sx=Math.sqrt(sx)),isNotAroundZero(sy-1)&&(sy=Math.sqrt(sy)),m[0]<0&&(sx=-sx),m[3]<0&&(sy=-sy),position[0]=m[4],position[1]=m[5],scale[0]=sx,scale[1]=sy,this.rotation=Math.atan2(-m[1]/sy,m[0]/sx)}},transformableProto.getGlobalScale=function(){var m=this.transform;if(!m)return[1,1];var sx=Math.sqrt(m[0]*m[0]+m[1]*m[1]),sy=Math.sqrt(m[2]*m[2]+m[3]*m[3]);return m[0]<0&&(sx=-sx),m[3]<0&&(sy=-sy),[sx,sy]},transformableProto.transformCoordToLocal=function(x,y){var v2=[x,y],invTransform=this.invTransform;return invTransform&&vector.applyTransform(v2,v2,invTransform),v2},transformableProto.transformCoordToGlobal=function(x,y){var v2=[x,y],transform=this.transform;return transform&&vector.applyTransform(v2,v2,transform),v2},Transformable.getLocalTransform=function(target,m){m=m||[],mIdentity(m);var origin=target.origin,scale=target.scale||[1,1],rotation=target.rotation||0,position=target.position||[0,0];return origin&&(m[4]-=origin[0],m[5]-=origin[1]),matrix.scale(m,m,scale),rotation&&matrix.rotate(m,m,rotation),origin&&(m[4]+=origin[0],m[5]+=origin[1]),m[4]+=position[0],m[5]+=position[1],m};var _default=Transformable;module.exports=_default;
},function(module,exports){function createElement(name){return document.createElementNS(svgURI,name)}var svgURI="http://www.w3.org/2000/svg";exports.createElement=createElement},function(module,exports,__webpack_require__){function round4(val){return mathRound(1e4*val)/1e4}function isAroundZero(val){return val<EPSILON&&val>-EPSILON}function pathHasFill(style,isText){var fill=isText?style.textFill:style.fill;return null!=fill&&fill!==NONE}function pathHasStroke(style,isText){var stroke=isText?style.textStroke:style.stroke;return null!=stroke&&stroke!==NONE}function setTransform(svgEl,m){m&&attr(svgEl,"transform","matrix("+arrayJoin.call(m,",")+")")}function attr(el,key,val){(!val||"linear"!==val.type&&"radial"!==val.type)&&("string"==typeof val&&val.indexOf("NaN")>-1&&console.log(val),el.setAttribute(key,val))}function attrXLink(el,key,val){el.setAttributeNS("http://www.w3.org/1999/xlink",key,val)}function bindStyle(svgEl,style,isText){if(pathHasFill(style,isText)){var fill=isText?style.textFill:style.fill;fill="transparent"===fill?NONE:fill,"none"!==svgEl.getAttribute("clip-path")&&fill===NONE&&(fill="rgba(0, 0, 0, 0.002)"),attr(svgEl,"fill",fill),attr(svgEl,"fill-opacity",style.opacity)}else attr(svgEl,"fill",NONE);if(pathHasStroke(style,isText)){var stroke=isText?style.textStroke:style.stroke;stroke="transparent"===stroke?NONE:stroke,attr(svgEl,"stroke",stroke);var strokeWidth=isText?style.textStrokeWidth:style.lineWidth,strokeScale=!isText&&style.strokeNoScale?style.host.getLineScale():1;attr(svgEl,"stroke-width",strokeWidth/strokeScale),attr(svgEl,"paint-order",isText?"stroke":"fill"),attr(svgEl,"stroke-opacity",style.opacity);var lineDash=style.lineDash;lineDash?(attr(svgEl,"stroke-dasharray",style.lineDash.join(",")),attr(svgEl,"stroke-dashoffset",mathRound(style.lineDashOffset||0))):attr(svgEl,"stroke-dasharray",""),style.lineCap&&attr(svgEl,"stroke-linecap",style.lineCap),style.lineJoin&&attr(svgEl,"stroke-linejoin",style.lineJoin),style.miterLimit&&attr(svgEl,"stroke-miterlimit",style.miterLimit)}else attr(svgEl,"stroke",NONE)}function pathDataToString(path){for(var str=[],data=path.data,dataLength=path.len(),i=0;i<dataLength;){var cmd=data[i++],cmdStr="",nData=0;switch(cmd){case CMD.M:cmdStr="M",nData=2;break;case CMD.L:cmdStr="L",nData=2;break;case CMD.Q:cmdStr="Q",nData=4;break;case CMD.C:cmdStr="C",nData=6;break;case CMD.A:var cx=data[i++],cy=data[i++],rx=data[i++],ry=data[i++],theta=data[i++],dTheta=data[i++],psi=data[i++],clockwise=data[i++],dThetaPositive=Math.abs(dTheta),isCircle=isAroundZero(dThetaPositive-PI2)&&!isAroundZero(dThetaPositive),large=!1;large=dThetaPositive>=PI2||!isAroundZero(dThetaPositive)&&(dTheta>-PI&&dTheta<0||dTheta>PI)==!!clockwise;var x0=round4(cx+rx*mathCos(theta)),y0=round4(cy+ry*mathSin(theta));isCircle&&(dTheta=clockwise?PI2-1e-4:-PI2+1e-4,large=!0,9===i&&str.push("M",x0,y0));var x=round4(cx+rx*mathCos(theta+dTheta)),y=round4(cy+ry*mathSin(theta+dTheta));str.push("A",round4(rx),round4(ry),mathRound(psi*degree),+large,+clockwise,x,y);break;case CMD.Z:cmdStr="Z";break;case CMD.R:var x=round4(data[i++]),y=round4(data[i++]),w=round4(data[i++]),h=round4(data[i++]);str.push("M",x,y,"L",x+w,y,"L",x+w,y+h,"L",x,y+h,"L",x,y)}cmdStr&&str.push(cmdStr);for(var j=0;j<nData;j++)str.push(round4(data[i++]))}return str.join(" ")}function getVerticalAlignForSvg(verticalAlign){return"middle"===verticalAlign?"middle":"bottom"===verticalAlign?"baseline":"hanging"}var _core=__webpack_require__(513),createElement=_core.createElement,PathProxy=__webpack_require__(200),BoundingRect=__webpack_require__(43),matrix=__webpack_require__(70),textContain=__webpack_require__(108),textHelper=__webpack_require__(318),Text=__webpack_require__(245),CMD=PathProxy.CMD,arrayJoin=Array.prototype.join,NONE="none",mathRound=Math.round,mathSin=Math.sin,mathCos=Math.cos,PI=Math.PI,PI2=2*Math.PI,degree=180/PI,EPSILON=1e-4,svgPath={};svgPath.brush=function(el){var style=el.style,svgEl=el.__svgEl;svgEl||(svgEl=createElement("path"),el.__svgEl=svgEl),el.path||el.createPathProxy();var path=el.path;if(el.__dirtyPath){path.beginPath(),el.buildPath(path,el.shape),el.__dirtyPath=!1;var pathStr=pathDataToString(path);pathStr.indexOf("NaN")<0&&attr(svgEl,"d",pathStr)}bindStyle(svgEl,style),setTransform(svgEl,el.transform),null!=style.text&&svgTextDrawRectText(el,el.getBoundingRect())};var svgImage={};svgImage.brush=function(el){var style=el.style,image=style.image;if(image instanceof HTMLImageElement){var src=image.src;image=src}if(image){var x=style.x||0,y=style.y||0,dw=style.width,dh=style.height,svgEl=el.__svgEl;svgEl||(svgEl=createElement("image"),el.__svgEl=svgEl),image!==el.__imageSrc&&(attrXLink(svgEl,"href",image),el.__imageSrc=image),attr(svgEl,"width",dw),attr(svgEl,"height",dh),attr(svgEl,"x",x),attr(svgEl,"y",y),setTransform(svgEl,el.transform),null!=style.text&&svgTextDrawRectText(el,el.getBoundingRect())}};var svgText={},tmpRect=new BoundingRect,svgTextDrawRectText=function(el,rect,textRect){var style=el.style;el.__dirty&&textHelper.normalizeTextStyle(style,!0);var text=style.text;if(null!=text){text+="";var textSvgEl=el.__textSvgEl;textSvgEl||(textSvgEl=createElement("text"),el.__textSvgEl=textSvgEl);var x,y,textPosition=style.textPosition,distance=style.textDistance,align=style.textAlign||"left";"number"==typeof style.fontSize&&(style.fontSize+="px");var font=style.font||[style.fontStyle||"",style.fontWeight||"",style.fontSize||"",style.fontFamily||""].join(" ")||textContain.DEFAULT_FONT,verticalAlign=getVerticalAlignForSvg(style.textVerticalAlign);textRect=textContain.getBoundingRect(text,font,align,verticalAlign);var lineHeight=textRect.lineHeight;if(textPosition instanceof Array)x=rect.x+textPosition[0],y=rect.y+textPosition[1];else{var newPos=textContain.adjustTextPositionOnRect(textPosition,rect,distance);x=newPos.x,y=newPos.y,verticalAlign=getVerticalAlignForSvg(newPos.textVerticalAlign),align=newPos.textAlign}attr(textSvgEl,"alignment-baseline",verticalAlign),font&&(textSvgEl.style.font=font);var textPadding=style.textPadding;if(attr(textSvgEl,"x",x),attr(textSvgEl,"y",y),bindStyle(textSvgEl,style,!0),el instanceof Text||el.style.transformText)setTransform(textSvgEl,el.transform);else{if(el.transform)tmpRect.copy(rect),tmpRect.applyTransform(el.transform),rect=tmpRect;else{var pos=el.transformCoordToGlobal(rect.x,rect.y);rect.x=pos[0],rect.y=pos[1]}var origin=style.textOrigin;"center"===origin?(x=textRect.width/2+x,y=textRect.height/2+y):origin&&(x=origin[0]+x,y=origin[1]+y);var rotate=-style.textRotation||0,transform=matrix.create();matrix.rotate(transform,el.transform,rotate),setTransform(textSvgEl,transform)}var textLines=text.split("\n"),nTextLines=textLines.length,textAnchor=align;"left"===textAnchor?(textAnchor="start",textPadding&&(x+=textPadding[3])):"right"===textAnchor?(textAnchor="end",textPadding&&(x-=textPadding[1])):"center"===textAnchor&&(textAnchor="middle",textPadding&&(x+=(textPadding[3]-textPadding[1])/2));var dy=0;if("baseline"===verticalAlign?(dy=-textRect.height+lineHeight,textPadding&&(dy-=textPadding[2])):"middle"===verticalAlign?(dy=(-textRect.height+lineHeight)/2,textPadding&&(y+=(textPadding[0]-textPadding[2])/2)):textPadding&&(dy+=textPadding[0]),el.__text!==text||el.__textFont!==font){var tspanList=el.__tspanList||[];el.__tspanList=tspanList;for(var i=0;i<nTextLines;i++){var tspan=tspanList[i];tspan?tspan.innerHTML="":(tspan=tspanList[i]=createElement("tspan"),textSvgEl.appendChild(tspan),attr(tspan,"alignment-baseline",verticalAlign),attr(tspan,"text-anchor",textAnchor)),attr(tspan,"x",x),attr(tspan,"y",y+i*lineHeight+dy),tspan.appendChild(document.createTextNode(textLines[i]))}for(;i<tspanList.length;i++)textSvgEl.removeChild(tspanList[i]);tspanList.length=nTextLines,el.__text=text,el.__textFont=font}else if(el.__tspanList.length)for(var len=el.__tspanList.length,i=0;i<len;++i){var tspan=el.__tspanList[i];tspan&&(attr(tspan,"x",x),attr(tspan,"y",y+i*lineHeight+dy))}}};svgText.drawRectText=svgTextDrawRectText,svgText.brush=function(el){var style=el.style;null!=style.text&&(style.textPosition=[0,0],svgTextDrawRectText(el,{"x":style.x||0,"y":style.y||0,"width":0,"height":0},el.getBoundingRect()))},exports.path=svgPath,exports.image=svgImage,exports.text=svgText},function(module,exports,__webpack_require__){function Definable(zrId,svgRoot,tagNames,markLabel,domName){this._zrId=zrId,this._svgRoot=svgRoot,this._tagNames="string"==typeof tagNames?[tagNames]:tagNames,this._markLabel=markLabel,this._domName=domName||"_dom",this.nextId=0}var _core=__webpack_require__(513),createElement=_core.createElement,zrUtil=__webpack_require__(4),Path=__webpack_require__(50),ZImage=__webpack_require__(244),ZText=__webpack_require__(245),_graphic=__webpack_require__(514),svgPath=_graphic.path,svgImage=_graphic.image,svgText=_graphic.text,MARK_UNUSED="0",MARK_USED="1";Definable.prototype.createElement=createElement,Definable.prototype.getDefs=function(isForceCreating){var svgRoot=this._svgRoot,defs=this._svgRoot.getElementsByTagName("defs");return 0===defs.length?isForceCreating?(defs=svgRoot.insertBefore(this.createElement("defs"),svgRoot.firstChild),defs.contains||(defs.contains=function(el){var children=defs.children;if(!children)return!1;for(var i=children.length-1;i>=0;--i)if(children[i]===el)return!0;return!1}),defs):null:defs[0]},Definable.prototype.update=function(element,onUpdate){if(element){var defs=this.getDefs(!1);if(element[this._domName]&&defs.contains(element[this._domName]))"function"==typeof onUpdate&&onUpdate(element);else{var dom=this.add(element);dom&&(element[this._domName]=dom)}}},Definable.prototype.addDom=function(dom){var defs=this.getDefs(!0);defs.appendChild(dom)},Definable.prototype.removeDom=function(element){var defs=this.getDefs(!1);defs&&element[this._domName]&&(defs.removeChild(element[this._domName]),element[this._domName]=null)},Definable.prototype.getDoms=function(){var defs=this.getDefs(!1);if(!defs)return[];var doms=[];return zrUtil.each(this._tagNames,function(tagName){var tags=defs.getElementsByTagName(tagName);doms=doms.concat([].slice.call(tags))}),doms},Definable.prototype.markAllUnused=function(){var doms=this.getDoms(),that=this;zrUtil.each(doms,function(dom){dom[that._markLabel]=MARK_UNUSED})},Definable.prototype.markUsed=function(dom){dom&&(dom[this._markLabel]=MARK_USED)},Definable.prototype.removeUnused=function(){var defs=this.getDefs(!1);if(defs){var doms=this.getDoms(),that=this;zrUtil.each(doms,function(dom){dom[that._markLabel]!==MARK_USED&&defs.removeChild(dom)})}},Definable.prototype.getSvgProxy=function(displayable){return displayable instanceof Path?svgPath:displayable instanceof ZImage?svgImage:displayable instanceof ZText?svgText:svgPath},Definable.prototype.getTextSvgElement=function(displayable){return displayable.__textSvgEl},Definable.prototype.getSvgElement=function(displayable){return displayable.__svgEl};var _default=Definable;module.exports=_default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){function ExtensionAPI(chartInstance){zrUtil.each(echartsAPIList,function(name){this[name]=zrUtil.bind(chartInstance[name],chartInstance)},this)}var zrUtil=__webpack_require__(4),echartsAPIList=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],_default=ExtensionAPI;module.exports=_default},function(module,exports,__webpack_require__){function _default(seriesType,actionInfos){zrUtil.each(actionInfos,function(actionInfo){actionInfo.update="updateView",echarts.registerAction(actionInfo,function(payload,ecModel){var selected={};return ecModel.eachComponent({"mainType":"series","subType":seriesType,"query":payload},function(seriesModel){seriesModel[actionInfo.method]&&seriesModel[actionInfo.method](payload.name,payload.dataIndex);var data=seriesModel.getData();data.each(function(idx){var name=data.getName(idx);selected[name]=seriesModel.isSelected(name)||!1})}),{"name":payload.name,"selected":selected}})})}var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4);module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),_roamHelper=__webpack_require__(609),updateCenterAndZoom=_roamHelper.updateCenterAndZoom;echarts.registerAction({"type":"geoRoam","event":"geoRoam","update":"updateTransform"},function(payload,ecModel){var componentType=payload.componentType||"series";ecModel.eachComponent({"mainType":componentType,"query":payload},function(componentModel){var geo=componentModel.coordinateSystem;if("geo"===geo.type){var res=updateCenterAndZoom(geo,payload,componentModel.get("scaleLimit"));componentModel.setCenter&&componentModel.setCenter(res.center),componentModel.setZoom&&componentModel.setZoom(res.zoom),"series"===componentType&&zrUtil.each(componentModel.seriesGroup,function(seriesModel){seriesModel.setCenter(res.center),seriesModel.setZoom(res.zoom)})}})})},function(module,exports){function updateCenterAndZoom(view,payload,zoomLimit){var previousZoom=view.getZoom(),center=view.getCenter(),zoom=payload.zoom,point=view.dataToPoint(center);if(null!=payload.dx&&null!=payload.dy){point[0]-=payload.dx,point[1]-=payload.dy;var center=view.pointToData(point);view.setCenter(center)}if(null!=zoom){if(zoomLimit){var zoomMin=zoomLimit.min||0,zoomMax=zoomLimit.max||1/0;zoom=Math.max(Math.min(previousZoom*zoom,zoomMax),zoomMin)/previousZoom}view.scale[0]*=zoom,view.scale[1]*=zoom;var position=view.position,fixX=(payload.originX-position[0])*(zoom-1),fixY=(payload.originY-position[1])*(zoom-1);position[0]-=fixX,position[1]-=fixY,view.updateTransform();var center=view.pointToData(point);view.setCenter(center),view.setZoom(zoom*previousZoom)}return{"center":view.getCenter(),"zoom":view.getZoom()}}exports.updateCenterAndZoom=updateCenterAndZoom},function(module,exports,__webpack_require__){var SeriesModel=__webpack_require__(57),createListFromArray=__webpack_require__(114),_default=SeriesModel.extend({"type":"series.__base_bar__","getInitialData":function(option,ecModel){return createListFromArray(this.getSource(),this)},"getMarkerPosition":function(value){var coordSys=this.coordinateSystem;if(coordSys){var pt=coordSys.dataToPoint(coordSys.clampData(value)),data=this.getData(),offset=data.getLayout("offset"),size=data.getLayout("size"),offsetIndex=coordSys.getBaseAxis().isHorizontal()?0:1;return pt[offsetIndex]+=offset+size/2,pt}return[NaN,NaN]},"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"cartesian2d","legendHoverLink":!0,"barMinHeight":0,"barMinAngle":0,"large":!1,"largeThreshold":400,"progressive":5e3,"progressiveChunkMode":"mod","itemStyle":{},"emphasis":{}}});module.exports=_default},function(module,exports,__webpack_require__){function setLabel(normalStyle,hoverStyle,itemModel,color,seriesModel,dataIndex,labelPositionOutside){var labelModel=itemModel.getModel("label"),hoverLabelModel=itemModel.getModel("emphasis.label");graphic.setLabelStyle(normalStyle,hoverStyle,labelModel,hoverLabelModel,{"labelFetcher":seriesModel,"labelDataIndex":dataIndex,"defaultText":getDefaultLabel(seriesModel.getData(),dataIndex),"isRectText":!0,"autoColor":color}),fixPosition(normalStyle),fixPosition(hoverStyle)}function fixPosition(style,labelPositionOutside){"outside"===style.textPosition&&(style.textPosition=labelPositionOutside)}var graphic=__webpack_require__(15),_labelHelper=__webpack_require__(378),getDefaultLabel=_labelHelper.getDefaultLabel;exports.setLabel=setLabel},function(module,exports,__webpack_require__){function circularLayout(seriesModel){var coordSys=seriesModel.coordinateSystem;if(!coordSys||"view"===coordSys.type){var rect=coordSys.getBoundingRect(),nodeData=seriesModel.getData(),graph=nodeData.graph,angle=0,sum=nodeData.getSum("value"),unitAngle=2*Math.PI/(sum||nodeData.count()),cx=rect.width/2+rect.x,cy=rect.height/2+rect.y,r=Math.min(rect.width,rect.height)/2;graph.eachNode(function(node){var value=node.getValue("value");angle+=unitAngle*(sum?value:1)/2,node.setLayout([r*Math.cos(angle)+cx,r*Math.sin(angle)+cy]),angle+=unitAngle*(sum?value:1)/2}),nodeData.setLayout({"cx":cx,"cy":cy}),graph.eachEdge(function(edge){var cp1,curveness=edge.getModel().get("lineStyle.curveness")||0,p1=vec2.clone(edge.node1.getLayout()),p2=vec2.clone(edge.node2.getLayout()),x12=(p1[0]+p2[0])/2,y12=(p1[1]+p2[1])/2;+curveness&&(curveness*=3,cp1=[cx*curveness+x12*(1-curveness),cy*curveness+y12*(1-curveness)]),edge.setLayout([p1,p2,cp1])})}}var vec2=__webpack_require__(38);exports.circularLayout=circularLayout},function(module,exports,__webpack_require__){function simpleLayout(seriesModel){var coordSys=seriesModel.coordinateSystem;if(!coordSys||"view"===coordSys.type){var graph=seriesModel.getGraph();graph.eachNode(function(node){var model=node.getModel();node.setLayout([+model.get("x"),+model.get("y")])}),simpleLayoutEdge(graph)}}function simpleLayoutEdge(graph){graph.eachEdge(function(edge){var curveness=edge.getModel().get("lineStyle.curveness")||0,p1=vec2.clone(edge.node1.getLayout()),p2=vec2.clone(edge.node2.getLayout()),points=[p1,p2];+curveness&&points.push([(p1[0]+p2[0])/2-(p1[1]-p2[1])*curveness,(p1[1]+p2[1])/2-(p2[0]-p1[0])*curveness]),edge.setLayout(points)})}var vec2=__webpack_require__(38);exports.simpleLayout=simpleLayout,exports.simpleLayoutEdge=simpleLayoutEdge},function(module,exports,__webpack_require__){function EffectLine(lineData,idx,seriesScope){graphic.Group.call(this),this.add(this.createLine(lineData,idx,seriesScope)),this._updateEffectSymbol(lineData,idx)}var graphic=__webpack_require__(15),Line=__webpack_require__(376),zrUtil=__webpack_require__(4),_symbol=__webpack_require__(83),createSymbol=_symbol.createSymbol,vec2=__webpack_require__(38),curveUtil=__webpack_require__(140),effectLineProto=EffectLine.prototype;effectLineProto.createLine=function(lineData,idx,seriesScope){return new Line(lineData,idx,seriesScope)},effectLineProto._updateEffectSymbol=function(lineData,idx){var itemModel=lineData.getItemModel(idx),effectModel=itemModel.getModel("effect"),size=effectModel.get("symbolSize"),symbolType=effectModel.get("symbol");zrUtil.isArray(size)||(size=[size,size]);var color=effectModel.get("color")||lineData.getItemVisual(idx,"color"),symbol=this.childAt(1);this._symbolType!==symbolType&&(this.remove(symbol),symbol=createSymbol(symbolType,-.5,-.5,1,1,color),symbol.z2=100,symbol.culling=!0,this.add(symbol)),symbol&&(symbol.setStyle("shadowColor",color),symbol.setStyle(effectModel.getItemStyle(["color"])),symbol.attr("scale",size),symbol.setColor(color),symbol.attr("scale",size),this._symbolType=symbolType,this._updateEffectAnimation(lineData,effectModel,idx))},effectLineProto._updateEffectAnimation=function(lineData,effectModel,idx){var symbol=this.childAt(1);if(symbol){var self=this,points=lineData.getItemLayout(idx),period=1e3*effectModel.get("period"),loop=effectModel.get("loop"),constantSpeed=effectModel.get("constantSpeed"),delayExpr=zrUtil.retrieve(effectModel.get("delay"),function(idx){return idx/lineData.count()*period/3}),isDelayFunc="function"==typeof delayExpr;if(symbol.ignore=!0,this.updateAnimationPoints(symbol,points),constantSpeed>0&&(period=this.getLineLength(symbol)/constantSpeed*1e3),period!==this._period||loop!==this._loop){symbol.stopAnimation();var delay=delayExpr;isDelayFunc&&(delay=delayExpr(idx)),symbol.__t>0&&(delay=-period*symbol.__t),symbol.__t=0;var animator=symbol.animate("",loop).when(period,{"__t":1}).delay(delay).during(function(){self.updateSymbolPosition(symbol)});loop||animator.done(function(){self.remove(symbol)}),animator.start()}this._period=period,this._loop=loop}},effectLineProto.getLineLength=function(symbol){return vec2.dist(symbol.__p1,symbol.__cp1)+vec2.dist(symbol.__cp1,symbol.__p2)},effectLineProto.updateAnimationPoints=function(symbol,points){symbol.__p1=points[0],symbol.__p2=points[1],symbol.__cp1=points[2]||[(points[0][0]+points[1][0])/2,(points[0][1]+points[1][1])/2]},effectLineProto.updateData=function(lineData,idx,seriesScope){this.childAt(0).updateData(lineData,idx,seriesScope),this._updateEffectSymbol(lineData,idx)},effectLineProto.updateSymbolPosition=function(symbol){var p1=symbol.__p1,p2=symbol.__p2,cp1=symbol.__cp1,t=symbol.__t,pos=symbol.position,quadraticAt=curveUtil.quadraticAt,quadraticDerivativeAt=curveUtil.quadraticDerivativeAt;pos[0]=quadraticAt(p1[0],cp1[0],p2[0],t),pos[1]=quadraticAt(p1[1],cp1[1],p2[1],t);var tx=quadraticDerivativeAt(p1[0],cp1[0],p2[0],t),ty=quadraticDerivativeAt(p1[1],cp1[1],p2[1],t);symbol.rotation=-Math.atan2(ty,tx)-Math.PI/2,symbol.ignore=!1},effectLineProto.updateLayout=function(lineData,idx){this.childAt(0).updateLayout(lineData,idx);var effectModel=lineData.getItemModel(idx).getModel("effect");this._updateEffectAnimation(lineData,effectModel,idx)},zrUtil.inherits(EffectLine,graphic.Group);var _default=EffectLine;module.exports=_default},function(module,exports,__webpack_require__){function Polyline(lineData,idx,seriesScope){graphic.Group.call(this),this._createPolyline(lineData,idx,seriesScope)}var graphic=__webpack_require__(15),zrUtil=__webpack_require__(4),polylineProto=Polyline.prototype;polylineProto._createPolyline=function(lineData,idx,seriesScope){var points=lineData.getItemLayout(idx),line=new graphic.Polyline({"shape":{"points":points}});this.add(line),this._updateCommonStl(lineData,idx,seriesScope)},polylineProto.updateData=function(lineData,idx,seriesScope){var seriesModel=lineData.hostModel,line=this.childAt(0),target={"shape":{"points":lineData.getItemLayout(idx)}};graphic.updateProps(line,target,seriesModel,idx),this._updateCommonStl(lineData,idx,seriesScope)},polylineProto._updateCommonStl=function(lineData,idx,seriesScope){var line=this.childAt(0),itemModel=lineData.getItemModel(idx),visualColor=lineData.getItemVisual(idx,"color"),lineStyle=seriesScope&&seriesScope.lineStyle,hoverLineStyle=seriesScope&&seriesScope.hoverLineStyle;seriesScope&&!lineData.hasItemOption||(lineStyle=itemModel.getModel("lineStyle").getLineStyle(),hoverLineStyle=itemModel.getModel("emphasis.lineStyle").getLineStyle()),line.useStyle(zrUtil.defaults({"strokeNoScale":!0,"fill":"none","stroke":visualColor},lineStyle)),line.hoverStyle=hoverLineStyle,graphic.setHoverStyle(this)},polylineProto.updateLayout=function(lineData,idx){var polyline=this.childAt(0);polyline.setShape("points",lineData.getItemLayout(idx))},zrUtil.inherits(Polyline,graphic.Group);var _default=Polyline;module.exports=_default},function(module,exports,__webpack_require__){function _default(nodes,edges,seriesModel,directed,beforeLink){for(var graph=new Graph(directed),i=0;i<nodes.length;i++)graph.addNode(zrUtil.retrieve(nodes[i].id,nodes[i].name,i),i);for(var linkNameList=[],validEdges=[],linkCount=0,i=0;i<edges.length;i++){var link=edges[i],source=link.source,target=link.target;graph.addEdge(source,target,linkCount)&&(validEdges.push(link),linkNameList.push(zrUtil.retrieve(link.id,source+" > "+target)),linkCount++)}var nodeData,coordSys=seriesModel.get("coordinateSystem");if("cartesian2d"===coordSys||"polar"===coordSys)nodeData=createListFromArray(nodes,seriesModel);else{var coordSysCtor=CoordinateSystem.get(coordSys),coordDimensions=coordSysCtor&&"view"!==coordSysCtor.type?coordSysCtor.dimensions||[]:[];zrUtil.indexOf(coordDimensions,"value")<0&&coordDimensions.concat(["value"]);var dimensionNames=createDimensions(nodes,{"coordDimensions":coordDimensions});nodeData=new List(dimensionNames,seriesModel),nodeData.initData(nodes)}var edgeData=new List(["value"],seriesModel);return edgeData.initData(validEdges,linkNameList),beforeLink&&beforeLink(nodeData,edgeData),linkList({"mainData":nodeData,"struct":graph,"structAttr":"graph","datas":{"node":nodeData,"edge":edgeData},"datasAttr":{"node":"data","edge":"edgeData"}}),graph.update(),graph}var zrUtil=__webpack_require__(4),List=__webpack_require__(82),Graph=__webpack_require__(1577),linkList=__webpack_require__(657),createDimensions=__webpack_require__(193),CoordinateSystem=__webpack_require__(92),createListFromArray=__webpack_require__(114);module.exports=_default},function(module,exports,__webpack_require__){var createListSimply=__webpack_require__(190),zrUtil=__webpack_require__(4),_dimensionHelper=__webpack_require__(221),getDimensionTypeByAxis=_dimensionHelper.getDimensionTypeByAxis,seriesModelMixin={"_baseAxisDim":null,"getInitialData":function(option,ecModel){var ordinalMeta,addOrdinal,xAxisModel=ecModel.getComponent("xAxis",this.get("xAxisIndex")),yAxisModel=ecModel.getComponent("yAxis",this.get("yAxisIndex")),xAxisType=xAxisModel.get("type"),yAxisType=yAxisModel.get("type");"category"===xAxisType?(option.layout="horizontal",ordinalMeta=xAxisModel.getOrdinalMeta(),addOrdinal=!0):"category"===yAxisType?(option.layout="vertical",ordinalMeta=yAxisModel.getOrdinalMeta(),addOrdinal=!0):option.layout=option.layout||"horizontal";var coordDims=["x","y"],baseAxisDimIndex="horizontal"===option.layout?0:1,baseAxisDim=this._baseAxisDim=coordDims[baseAxisDimIndex],otherAxisDim=coordDims[1-baseAxisDimIndex],axisModels=[xAxisModel,yAxisModel],baseAxisType=axisModels[baseAxisDimIndex].get("type"),otherAxisType=axisModels[1-baseAxisDimIndex].get("type"),data=option.data;if(data&&addOrdinal){var newOptionData=[];zrUtil.each(data,function(item,index){var newItem;item.value&&zrUtil.isArray(item.value)?(newItem=item.value.slice(),item.value.unshift(index)):zrUtil.isArray(item)?(newItem=item.slice(),item.unshift(index)):newItem=item,newOptionData.push(newItem)}),option.data=newOptionData}var defaultValueDimensions=this.defaultValueDimensions;return createListSimply(this,{"coordDimensions":[{"name":baseAxisDim,"type":getDimensionTypeByAxis(baseAxisType),"ordinalMeta":ordinalMeta,"otherDims":{"tooltip":!1,"itemName":0},"dimsDef":["base"]},{"name":otherAxisDim,"type":getDimensionTypeByAxis(otherAxisType),"dimsDef":defaultValueDimensions.slice()}],"dimensionsCount":defaultValueDimensions.length+1})},"getBaseAxis":function(){var dim=this._baseAxisDim;return this.ecModel.getComponent(dim+"Axis",this.get(dim+"AxisIndex")).axis}};exports.seriesModelMixin=seriesModelMixin},function(module,exports,__webpack_require__){function prepareDataCoordInfo(coordSys,data,valueOrigin){var stacked,baseAxis=coordSys.getBaseAxis(),valueAxis=coordSys.getOtherAxis(baseAxis),valueStart=getValueStart(valueAxis,valueOrigin),baseAxisDim=baseAxis.dim,valueAxisDim=valueAxis.dim,valueDim=data.mapDimension(valueAxisDim),baseDim=data.mapDimension(baseAxisDim),baseDataOffset="x"===valueAxisDim||"radius"===valueAxisDim?1:0,dims=map(coordSys.dimensions,function(coordDim){return data.mapDimension(coordDim)}),stackResultDim=data.getCalculationInfo("stackResultDimension");return(stacked|=isDimensionStacked(data,dims[0]))&&(dims[0]=stackResultDim),(stacked|=isDimensionStacked(data,dims[1]))&&(dims[1]=stackResultDim),{"dataDimsForPoint":dims,"valueStart":valueStart,"valueAxisDim":valueAxisDim,"baseAxisDim":baseAxisDim,"stacked":!!stacked,"valueDim":valueDim,"baseDim":baseDim,"baseDataOffset":baseDataOffset,"stackedOverDimension":data.getCalculationInfo("stackedOverDimension")}}function getValueStart(valueAxis,valueOrigin){var valueStart=0,extent=valueAxis.scale.getExtent();return"start"===valueOrigin?valueStart=extent[0]:"end"===valueOrigin?valueStart=extent[1]:extent[0]>0?valueStart=extent[0]:extent[1]<0&&(valueStart=extent[1]),valueStart}function getStackedOnPoint(dataCoordInfo,coordSys,data,idx){var value=NaN;dataCoordInfo.stacked&&(value=data.get(data.getCalculationInfo("stackedOverDimension"),idx)),isNaN(value)&&(value=dataCoordInfo.valueStart);var baseDataOffset=dataCoordInfo.baseDataOffset,stackedData=[];return stackedData[baseDataOffset]=data.get(dataCoordInfo.baseDim,idx),stackedData[1-baseDataOffset]=value,coordSys.dataToPoint(stackedData)}var _dataStackHelper=__webpack_require__(115),isDimensionStacked=_dataStackHelper.isDimensionStacked,_util=__webpack_require__(4),map=_util.map;exports.prepareDataCoordInfo=prepareDataCoordInfo,exports.getStackedOnPoint=getStackedOnPoint},function(module,exports,__webpack_require__){function isPointNull(p){return isNaN(p[0])||isNaN(p[1])}function drawSegment(ctx,points,start,segLen,allLen,dir,smoothMin,smoothMax,smooth,smoothMonotone,connectNulls){return"none"!==smoothMonotone&&smoothMonotone?drawMono.apply(this,arguments):drawNonMono.apply(this,arguments)}function drawMono(ctx,points,start,segLen,allLen,dir,smoothMin,smoothMax,smooth,smoothMonotone,connectNulls){for(var prevIdx=0,idx=start,k=0;k<segLen;k++){var p=points[idx];if(idx>=allLen||idx<0)break;if(isPointNull(p)){if(connectNulls){idx+=dir;continue}break}if(idx===start)ctx[dir>0?"moveTo":"lineTo"](p[0],p[1]);else if(smooth>0){var prevP=points[prevIdx],dim="y"===smoothMonotone?1:0,ctrlLen=(p[dim]-prevP[dim])*smooth;v2Copy(cp0,prevP),cp0[dim]=prevP[dim]+ctrlLen,v2Copy(cp1,p),cp1[dim]=p[dim]-ctrlLen,ctx.bezierCurveTo(cp0[0],cp0[1],cp1[0],cp1[1],p[0],p[1])}else ctx.lineTo(p[0],p[1]);prevIdx=idx,idx+=dir}return k}function drawNonMono(ctx,points,start,segLen,allLen,dir,smoothMin,smoothMax,smooth,smoothMonotone,connectNulls){for(var prevIdx=0,idx=start,k=0;k<segLen;k++){var p=points[idx];if(idx>=allLen||idx<0)break;if(isPointNull(p)){if(connectNulls){idx+=dir;continue}break}if(idx===start)ctx[dir>0?"moveTo":"lineTo"](p[0],p[1]),v2Copy(cp0,p);else if(smooth>0){var nextIdx=idx+dir,nextP=points[nextIdx];if(connectNulls)for(;nextP&&isPointNull(points[nextIdx]);)nextIdx+=dir,nextP=points[nextIdx];var ratioNextSeg=.5,prevP=points[prevIdx],nextP=points[nextIdx];if(!nextP||isPointNull(nextP))v2Copy(cp1,p);else{isPointNull(nextP)&&!connectNulls&&(nextP=p),vec2.sub(v,nextP,prevP);var lenPrevSeg,lenNextSeg;if("x"===smoothMonotone||"y"===smoothMonotone){var dim="x"===smoothMonotone?0:1;lenPrevSeg=Math.abs(p[dim]-prevP[dim]),lenNextSeg=Math.abs(p[dim]-nextP[dim])}else lenPrevSeg=vec2.dist(p,prevP),lenNextSeg=vec2.dist(p,nextP);ratioNextSeg=lenNextSeg/(lenNextSeg+lenPrevSeg),scaleAndAdd(cp1,p,v,-smooth*(1-ratioNextSeg))}vec2Min(cp0,cp0,smoothMax),vec2Max(cp0,cp0,smoothMin),vec2Min(cp1,cp1,smoothMax),vec2Max(cp1,cp1,smoothMin),ctx.bezierCurveTo(cp0[0],cp0[1],cp1[0],cp1[1],p[0],p[1]),scaleAndAdd(cp0,p,v,smooth*ratioNextSeg)}else ctx.lineTo(p[0],p[1]);prevIdx=idx,idx+=dir}return k}function getBoundingBox(points,smoothConstraint){var ptMin=[1/0,1/0],ptMax=[-(1/0),-(1/0)];if(smoothConstraint)for(var i=0;i<points.length;i++){var pt=points[i];pt[0]<ptMin[0]&&(ptMin[0]=pt[0]),pt[1]<ptMin[1]&&(ptMin[1]=pt[1]),pt[0]>ptMax[0]&&(ptMax[0]=pt[0]),pt[1]>ptMax[1]&&(ptMax[1]=pt[1])}return{"min":smoothConstraint?ptMin:ptMax,"max":smoothConstraint?ptMax:ptMin}}var Path=__webpack_require__(50),vec2=__webpack_require__(38),fixClipWithShadow=__webpack_require__(925),vec2Min=vec2.min,vec2Max=vec2.max,scaleAndAdd=vec2.scaleAndAdd,v2Copy=vec2.copy,v=[],cp0=[],cp1=[],Polyline=Path.extend({"type":"ec-polyline","shape":{"points":[],"smooth":0,"smoothConstraint":!0,"smoothMonotone":null,"connectNulls":!1},"style":{"fill":null,"stroke":"#000"},"brush":fixClipWithShadow(Path.prototype.brush),"buildPath":function(ctx,shape){var points=shape.points,i=0,len=points.length,result=getBoundingBox(points,shape.smoothConstraint);if(shape.connectNulls){for(;len>0&&isPointNull(points[len-1]);len--);for(;i<len&&isPointNull(points[i]);i++);}for(;i<len;)i+=drawSegment(ctx,points,i,len,len,1,result.min,result.max,shape.smooth,shape.smoothMonotone,shape.connectNulls)+1}}),Polygon=Path.extend({"type":"ec-polygon","shape":{"points":[],"stackedOnPoints":[],"smooth":0,"stackedOnSmooth":0,"smoothConstraint":!0,"smoothMonotone":null,"connectNulls":!1},"brush":fixClipWithShadow(Path.prototype.brush),"buildPath":function(ctx,shape){var points=shape.points,stackedOnPoints=shape.stackedOnPoints,i=0,len=points.length,smoothMonotone=shape.smoothMonotone,bbox=getBoundingBox(points,shape.smoothConstraint),stackedOnBBox=getBoundingBox(stackedOnPoints,shape.smoothConstraint);
if(shape.connectNulls){for(;len>0&&isPointNull(points[len-1]);len--);for(;i<len&&isPointNull(points[i]);i++);}for(;i<len;){var k=drawSegment(ctx,points,i,len,len,1,bbox.min,bbox.max,shape.smooth,smoothMonotone,shape.connectNulls);drawSegment(ctx,stackedOnPoints,i+k-1,k,len,-1,stackedOnBBox.min,stackedOnBBox.max,shape.stackedOnSmooth,smoothMonotone,shape.connectNulls),i+=k+1,ctx.closePath()}}});exports.Polyline=Polyline,exports.Polygon=Polygon},function(module,exports,__webpack_require__){var createRenderPlanner=__webpack_require__(191),_default={"seriesType":"lines","plan":createRenderPlanner(),"reset":function(seriesModel){function progress(params,lineData){var lineCoords=[];if(isLarge){var points,segCount=params.end-params.start;if(isPolyline){for(var totalCoordsCount=0,i=params.start;i<params.end;i++)totalCoordsCount+=seriesModel.getLineCoordsCount(i);points=new Float32Array(segCount+2*totalCoordsCount)}else points=new Float32Array(4*segCount);for(var offset=0,pt=[],i=params.start;i<params.end;i++){var len=seriesModel.getLineCoords(i,lineCoords);isPolyline&&(points[offset++]=len);for(var k=0;k<len;k++)pt=coordSys.dataToPoint(lineCoords[k],!1,pt),points[offset++]=pt[0],points[offset++]=pt[1]}lineData.setLayout("linesPoints",points)}else for(var i=params.start;i<params.end;i++){var itemModel=lineData.getItemModel(i),len=seriesModel.getLineCoords(i,lineCoords),pts=[];if(isPolyline)for(var j=0;j<len;j++)pts.push(coordSys.dataToPoint(lineCoords[j]));else{pts[0]=coordSys.dataToPoint(lineCoords[0]),pts[1]=coordSys.dataToPoint(lineCoords[1]);var curveness=itemModel.get("lineStyle.curveness");+curveness&&(pts[2]=[(pts[0][0]+pts[1][0])/2-(pts[0][1]-pts[1][1])*curveness,(pts[0][1]+pts[1][1])/2-(pts[1][0]-pts[0][0])*curveness])}lineData.setItemLayout(i,pts)}}var coordSys=seriesModel.coordinateSystem,isPolyline=seriesModel.get("polyline"),isLarge=seriesModel.pipelineContext.large;return{"progress":progress}}};module.exports=_default},function(module,exports,__webpack_require__){function init(root){root.hierNode={"defaultAncestor":null,"ancestor":root,"prelim":0,"modifier":0,"change":0,"shift":0,"i":0,"thread":null};for(var node,children,nodes=[root];node=nodes.pop();)if(children=node.children,node.isExpand&&children.length)for(var n=children.length,i=n-1;i>=0;i--){var child=children[i];child.hierNode={"defaultAncestor":null,"ancestor":child,"prelim":0,"modifier":0,"change":0,"shift":0,"i":i,"thread":null},nodes.push(child)}}function firstWalk(node,separation){var children=node.isExpand?node.children:[],siblings=node.parentNode.children,subtreeW=node.hierNode.i?siblings[node.hierNode.i-1]:null;if(children.length){executeShifts(node);var midPoint=(children[0].hierNode.prelim+children[children.length-1].hierNode.prelim)/2;subtreeW?(node.hierNode.prelim=subtreeW.hierNode.prelim+separation(node,subtreeW),node.hierNode.modifier=node.hierNode.prelim-midPoint):node.hierNode.prelim=midPoint}else subtreeW&&(node.hierNode.prelim=subtreeW.hierNode.prelim+separation(node,subtreeW));node.parentNode.hierNode.defaultAncestor=apportion(node,subtreeW,node.parentNode.hierNode.defaultAncestor||siblings[0],separation)}function secondWalk(node){var nodeX=node.hierNode.prelim+node.parentNode.hierNode.modifier;node.setLayout({"x":nodeX},!0),node.hierNode.modifier+=node.parentNode.hierNode.modifier}function separation(cb){return arguments.length?cb:defaultSeparation}function radialCoordinate(x,y){var radialCoor={};return x-=Math.PI/2,radialCoor.x=y*Math.cos(x),radialCoor.y=y*Math.sin(x),radialCoor}function getViewRect(seriesModel,api){return layout.getLayoutRect(seriesModel.getBoxLayoutParams(),{"width":api.getWidth(),"height":api.getHeight()})}function executeShifts(node){for(var children=node.children,n=children.length,shift=0,change=0;--n>=0;){var child=children[n];child.hierNode.prelim+=shift,child.hierNode.modifier+=shift,change+=child.hierNode.change,shift+=child.hierNode.shift+change}}function apportion(subtreeV,subtreeW,ancestor,separation){if(subtreeW){for(var nodeOutRight=subtreeV,nodeInRight=subtreeV,nodeOutLeft=nodeInRight.parentNode.children[0],nodeInLeft=subtreeW,sumOutRight=nodeOutRight.hierNode.modifier,sumInRight=nodeInRight.hierNode.modifier,sumOutLeft=nodeOutLeft.hierNode.modifier,sumInLeft=nodeInLeft.hierNode.modifier;nodeInLeft=nextRight(nodeInLeft),nodeInRight=nextLeft(nodeInRight),nodeInLeft&&nodeInRight;){nodeOutRight=nextRight(nodeOutRight),nodeOutLeft=nextLeft(nodeOutLeft),nodeOutRight.hierNode.ancestor=subtreeV;var shift=nodeInLeft.hierNode.prelim+sumInLeft-nodeInRight.hierNode.prelim-sumInRight+separation(nodeInLeft,nodeInRight);shift>0&&(moveSubtree(nextAncestor(nodeInLeft,subtreeV,ancestor),subtreeV,shift),sumInRight+=shift,sumOutRight+=shift),sumInLeft+=nodeInLeft.hierNode.modifier,sumInRight+=nodeInRight.hierNode.modifier,sumOutRight+=nodeOutRight.hierNode.modifier,sumOutLeft+=nodeOutLeft.hierNode.modifier}nodeInLeft&&!nextRight(nodeOutRight)&&(nodeOutRight.hierNode.thread=nodeInLeft,nodeOutRight.hierNode.modifier+=sumInLeft-sumOutRight),nodeInRight&&!nextLeft(nodeOutLeft)&&(nodeOutLeft.hierNode.thread=nodeInRight,nodeOutLeft.hierNode.modifier+=sumInRight-sumOutLeft,ancestor=subtreeV)}return ancestor}function nextRight(node){var children=node.children;return children.length&&node.isExpand?children[children.length-1]:node.hierNode.thread}function nextLeft(node){var children=node.children;return children.length&&node.isExpand?children[0]:node.hierNode.thread}function nextAncestor(nodeInLeft,node,ancestor){return nodeInLeft.hierNode.ancestor.parentNode===node.parentNode?nodeInLeft.hierNode.ancestor:ancestor}function moveSubtree(wl,wr,shift){var change=shift/(wr.hierNode.i-wl.hierNode.i);wr.hierNode.change-=change,wr.hierNode.shift+=shift,wr.hierNode.modifier+=shift,wr.hierNode.prelim+=shift,wl.hierNode.change+=change}function defaultSeparation(node1,node2){return node1.parentNode===node2.parentNode?1:2}var layout=__webpack_require__(34);exports.init=init,exports.firstWalk=firstWalk,exports.secondWalk=secondWalk,exports.separation=separation,exports.radialCoordinate=radialCoordinate,exports.getViewRect=getViewRect},function(module,exports,__webpack_require__){function getCartesian(grid,axis){var opt={};return opt[axis.dim+"AxisIndex"]=axis.index,grid.getCartesian(opt)}function getAxisDimIndex(axis){return"x"===axis.dim?0:1}var graphic=__webpack_require__(15),BaseAxisPointer=__webpack_require__(379),viewHelper=__webpack_require__(271),cartesianAxisHelper=__webpack_require__(650),AxisView=__webpack_require__(159),CartesianAxisPointer=BaseAxisPointer.extend({"makeElOption":function(elOption,value,axisModel,axisPointerModel,api){var axis=axisModel.axis,grid=axis.grid,axisPointerType=axisPointerModel.get("type"),otherExtent=getCartesian(grid,axis).getOtherAxis(axis).getGlobalExtent(),pixelValue=axis.toGlobalCoord(axis.dataToCoord(value,!0));if(axisPointerType&&"none"!==axisPointerType){var elStyle=viewHelper.buildElStyle(axisPointerModel),pointerOption=pointerShapeBuilder[axisPointerType](axis,pixelValue,otherExtent,elStyle);pointerOption.style=elStyle,elOption.graphicKey=pointerOption.type,elOption.pointer=pointerOption}var layoutInfo=cartesianAxisHelper.layout(grid.model,axisModel);viewHelper.buildCartesianSingleLabelElOption(value,elOption,layoutInfo,axisModel,axisPointerModel,api)},"getHandleTransform":function(value,axisModel,axisPointerModel){var layoutInfo=cartesianAxisHelper.layout(axisModel.axis.grid.model,axisModel,{"labelInside":!1});return layoutInfo.labelMargin=axisPointerModel.get("handle.margin"),{"position":viewHelper.getTransformedPosition(axisModel.axis,value,layoutInfo),"rotation":layoutInfo.rotation+(layoutInfo.labelDirection<0?Math.PI:0)}},"updateHandleTransform":function(transform,delta,axisModel,axisPointerModel){var axis=axisModel.axis,grid=axis.grid,axisExtent=axis.getGlobalExtent(!0),otherExtent=getCartesian(grid,axis).getOtherAxis(axis).getGlobalExtent(),dimIndex="x"===axis.dim?0:1,currPosition=transform.position;currPosition[dimIndex]+=delta[dimIndex],currPosition[dimIndex]=Math.min(axisExtent[1],currPosition[dimIndex]),currPosition[dimIndex]=Math.max(axisExtent[0],currPosition[dimIndex]);var cursorOtherValue=(otherExtent[1]+otherExtent[0])/2,cursorPoint=[cursorOtherValue,cursorOtherValue];cursorPoint[dimIndex]=currPosition[dimIndex];var tooltipOptions=[{"verticalAlign":"middle"},{"align":"center"}];return{"position":currPosition,"rotation":transform.rotation,"cursorPoint":cursorPoint,"tooltipOption":tooltipOptions[dimIndex]}}}),pointerShapeBuilder={"line":function(axis,pixelValue,otherExtent,elStyle){var targetShape=viewHelper.makeLineShape([pixelValue,otherExtent[0]],[pixelValue,otherExtent[1]],getAxisDimIndex(axis));return graphic.subPixelOptimizeLine({"shape":targetShape,"style":elStyle}),{"type":"Line","shape":targetShape}},"shadow":function(axis,pixelValue,otherExtent,elStyle){var bandWidth=Math.max(1,axis.getBandWidth()),span=otherExtent[1]-otherExtent[0];return{"type":"Rect","shape":viewHelper.makeRectShape([pixelValue-bandWidth/2,otherExtent[0]],[bandWidth,span],getAxisDimIndex(axis))}}};AxisView.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer);var _default=CartesianAxisPointer;module.exports=_default},function(module,exports,__webpack_require__){function _default(finder,ecModel){var seriesModel,point=[],seriesIndex=finder.seriesIndex;if(null==seriesIndex||!(seriesModel=ecModel.getSeriesByIndex(seriesIndex)))return{"point":[]};var data=seriesModel.getData(),dataIndex=modelUtil.queryDataIndex(data,finder);if(null==dataIndex||dataIndex<0||zrUtil.isArray(dataIndex))return{"point":[]};var el=data.getItemGraphicEl(dataIndex),coordSys=seriesModel.coordinateSystem;if(seriesModel.getTooltipPosition)point=seriesModel.getTooltipPosition(dataIndex)||[];else if(coordSys&&coordSys.dataToPoint)point=coordSys.dataToPoint(data.getValues(zrUtil.map(coordSys.dimensions,function(dim){return data.mapDimension(dim)}),dataIndex,!0))||[];else if(el){var rect=el.getBoundingRect().clone();rect.applyTransform(el.transform),point=[rect.x+rect.width/2,rect.y+rect.height/2]}return{"point":point,"el":el}}var zrUtil=__webpack_require__(4),modelUtil=__webpack_require__(27);module.exports=_default},function(module,exports,__webpack_require__){function register(key,api,handler){if(!env.node){var zr=api.getZr();inner(zr).records||(inner(zr).records={}),initGlobalListeners(zr,api);var record=inner(zr).records[key]||(inner(zr).records[key]={});record.handler=handler}}function initGlobalListeners(zr,api){function useHandler(eventType,cb){zr.on(eventType,function(e){var dis=makeDispatchAction(api);each(inner(zr).records,function(record){record&&cb(record,e,dis.dispatchAction)}),dispatchTooltipFinally(dis.pendings,api)})}inner(zr).initialized||(inner(zr).initialized=!0,useHandler("click",zrUtil.curry(doEnter,"click")),useHandler("mousemove",zrUtil.curry(doEnter,"mousemove")),useHandler("globalout",onLeave))}function dispatchTooltipFinally(pendings,api){var actuallyPayload,showLen=pendings.showTip.length,hideLen=pendings.hideTip.length;showLen?actuallyPayload=pendings.showTip[showLen-1]:hideLen&&(actuallyPayload=pendings.hideTip[hideLen-1]),actuallyPayload&&(actuallyPayload.dispatchAction=null,api.dispatchAction(actuallyPayload))}function onLeave(record,e,dispatchAction){record.handler("leave",null,dispatchAction)}function doEnter(currTrigger,record,e,dispatchAction){record.handler(currTrigger,e,dispatchAction)}function makeDispatchAction(api){var pendings={"showTip":[],"hideTip":[]},dispatchAction=function(payload){var pendingList=pendings[payload.type];pendingList?pendingList.push(payload):(payload.dispatchAction=dispatchAction,api.dispatchAction(payload))};return{"dispatchAction":dispatchAction,"pendings":pendings}}function unregister(key,api){if(!env.node){var zr=api.getZr(),record=(inner(zr).records||{})[key];record&&(inner(zr).records[key]=null)}}var zrUtil=__webpack_require__(4),env=__webpack_require__(52),_model=__webpack_require__(27),makeInner=_model.makeInner,inner=makeInner(),each=zrUtil.each;exports.register=register,exports.unregister=unregister},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),helper=__webpack_require__(380);echarts.registerAction("dataZoom",function(payload,ecModel){var linkedNodesFinder=helper.createLinkedNodesFinder(zrUtil.bind(ecModel.eachComponent,ecModel,"dataZoom"),helper.eachAxisDim,function(model,dimNames){return model.get(dimNames.axisIndex)}),effectedModels=[];ecModel.eachComponent({"mainType":"dataZoom","query":payload},function(model,index){effectedModels.push.apply(effectedModels,linkedNodesFinder(model).nodes)}),zrUtil.each(effectedModels,function(dataZoomModel,index){dataZoomModel.setRawRange({"start":payload.start,"end":payload.end,"startValue":payload.startValue,"endValue":payload.endValue})})})},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),_util=__webpack_require__(4),createHashMap=_util.createHashMap,each=_util.each;echarts.registerProcessor({"getTargetSeries":function(ecModel){var seriesModelMap=createHashMap();return ecModel.eachComponent("dataZoom",function(dataZoomModel){dataZoomModel.eachTargetAxis(function(dimNames,axisIndex,dataZoomModel){var axisProxy=dataZoomModel.getAxisProxy(dimNames.name,axisIndex);each(axisProxy.getTargetSeriesModels(),function(seriesModel){seriesModelMap.set(seriesModel.uid,seriesModel)})})}),seriesModelMap},"modifyOutputEnd":!0,"overallReset":function(ecModel,api){ecModel.eachComponent("dataZoom",function(dataZoomModel){dataZoomModel.eachTargetAxis(function(dimNames,axisIndex,dataZoomModel){dataZoomModel.getAxisProxy(dimNames.name,axisIndex).reset(dataZoomModel,api)}),dataZoomModel.eachTargetAxis(function(dimNames,axisIndex,dataZoomModel){dataZoomModel.getAxisProxy(dimNames.name,axisIndex).filterData(dataZoomModel,api)})}),ecModel.eachComponent("dataZoom",function(dataZoomModel){var axisProxy=dataZoomModel.findRepresentativeAxisProxy(),percentRange=axisProxy.getDataPercentWindow(),valueRange=axisProxy.getDataValueWindow();dataZoomModel.setRawRange({"start":percentRange[0],"end":percentRange[1],"startValue":valueRange[0],"endValue":valueRange[1]},!0)})}})},function(module,exports,__webpack_require__){function push(ecModel,newSnapshot){var store=giveStore(ecModel);each(newSnapshot,function(batchItem,dataZoomId){for(var i=store.length-1;i>=0;i--){var snapshot=store[i];if(snapshot[dataZoomId])break}if(i<0){var dataZoomModel=ecModel.queryComponents({"mainType":"dataZoom","subType":"select","id":dataZoomId})[0];if(dataZoomModel){var percentRange=dataZoomModel.getPercentRange();store[0][dataZoomId]={"dataZoomId":dataZoomId,"start":percentRange[0],"end":percentRange[1]}}}}),store.push(newSnapshot)}function pop(ecModel){var store=giveStore(ecModel),head=store[store.length-1];store.length>1&&store.pop();var snapshot={};return each(head,function(batchItem,dataZoomId){for(var i=store.length-1;i>=0;i--){var batchItem=store[i][dataZoomId];if(batchItem){snapshot[dataZoomId]=batchItem;break}}}),snapshot}function clear(ecModel){ecModel[ATTR]=null}function count(ecModel){return giveStore(ecModel).length}function giveStore(ecModel){var store=ecModel[ATTR];return store||(store=ecModel[ATTR]=[{}]),store}var zrUtil=__webpack_require__(4),each=zrUtil.each,ATTR="\0_ec_hist_store";exports.push=push,exports.pop=pop,exports.clear=clear,exports.count=count},function(module,exports,__webpack_require__){var Component=__webpack_require__(51);Component.registerSubTypeDefaulter("dataZoom",function(){return"slider"})},function(module,exports,__webpack_require__){var ComponentModel=__webpack_require__(51),ComponentView=__webpack_require__(280),_sourceHelper=__webpack_require__(275),detectSourceFormat=_sourceHelper.detectSourceFormat,_sourceType=__webpack_require__(222),SERIES_LAYOUT_BY_COLUMN=_sourceType.SERIES_LAYOUT_BY_COLUMN;ComponentModel.extend({"type":"dataset","defaultOption":{"seriesLayoutBy":SERIES_LAYOUT_BY_COLUMN,"sourceHeader":null,"dimensions":null,"source":null},"optionUpdated":function(){detectSourceFormat(this)}}),ComponentView.extend({"type":"dataset"})},function(module,exports,__webpack_require__){function BrushTargetManager(option,ecModel,opt){var targetInfoList=this._targetInfoList=[],info={},foundCpts=parseFinder(ecModel,option);each(targetInfoBuilders,function(builder,type){(!opt||!opt.include||indexOf(opt.include,type)>=0)&&builder(foundCpts,targetInfoList,info)})}function formatMinMax(minMax){return minMax[0]>minMax[1]&&minMax.reverse(),minMax}function parseFinder(ecModel,option){return modelUtil.parseFinder(ecModel,option,{"includeMainTypes":INCLUDE_FINDER_MAIN_TYPES})}function axisConvert(axisNameIndex,to,coordSys,rangeOrCoordRange){var axis=coordSys.getAxis(["x","y"][axisNameIndex]),values=formatMinMax(zrUtil.map([0,1],function(i){return to?axis.coordToData(axis.toLocalCoord(rangeOrCoordRange[i])):axis.toGlobalCoord(axis.dataToCoord(rangeOrCoordRange[i]))})),xyMinMax=[];return xyMinMax[axisNameIndex]=values,xyMinMax[1-axisNameIndex]=[NaN,NaN],{"values":values,"xyMinMax":xyMinMax}}function axisDiffProcessor(axisNameIndex,values,refer,scales){return[values[0]-scales[axisNameIndex]*refer[0],values[1]-scales[axisNameIndex]*refer[1]]}function getScales(xyMinMaxCurr,xyMinMaxOrigin){var sizeCurr=getSize(xyMinMaxCurr),sizeOrigin=getSize(xyMinMaxOrigin),scales=[sizeCurr[0]/sizeOrigin[0],sizeCurr[1]/sizeOrigin[1]];return isNaN(scales[0])&&(scales[0]=1),isNaN(scales[1])&&(scales[1]=1),scales}function getSize(xyMinMax){return xyMinMax?[xyMinMax[0][1]-xyMinMax[0][0],xyMinMax[1][1]-xyMinMax[1][0]]:[NaN,NaN]}var _config=__webpack_require__(30),zrUtil=(_config.__DEV__,__webpack_require__(4)),graphic=__webpack_require__(15),modelUtil=__webpack_require__(27),brushHelper=__webpack_require__(632),each=zrUtil.each,indexOf=zrUtil.indexOf,curry=zrUtil.curry,COORD_CONVERTS=["dataToPoint","pointToData"],INCLUDE_FINDER_MAIN_TYPES=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],proto=BrushTargetManager.prototype;proto.setOutputRanges=function(areas,ecModel){this.matchOutputRanges(areas,ecModel,function(area,coordRange,coordSys){if((area.coordRanges||(area.coordRanges=[])).push(coordRange),!area.coordRange){area.coordRange=coordRange;var result=coordConvert[area.brushType](0,coordSys,coordRange);area.__rangeOffset={"offset":diffProcessor[area.brushType](result.values,area.range,[1,1]),"xyMinMax":result.xyMinMax}}})},proto.matchOutputRanges=function(areas,ecModel,cb){each(areas,function(area){var targetInfo=this.findTargetInfo(area,ecModel);targetInfo&&targetInfo!==!0&&zrUtil.each(targetInfo.coordSyses,function(coordSys){var result=coordConvert[area.brushType](1,coordSys,area.range);cb(area,result.values,coordSys,ecModel)})},this)},proto.setInputRanges=function(areas,ecModel){each(areas,function(area){var targetInfo=this.findTargetInfo(area,ecModel);if(area.range=area.range||[],targetInfo&&targetInfo!==!0){area.panelId=targetInfo.panelId;var result=coordConvert[area.brushType](0,targetInfo.coordSys,area.coordRange),rangeOffset=area.__rangeOffset;area.range=rangeOffset?diffProcessor[area.brushType](result.values,rangeOffset.offset,getScales(result.xyMinMax,rangeOffset.xyMinMax)):result.values}},this)},proto.makePanelOpts=function(api,getDefaultBrushType){return zrUtil.map(this._targetInfoList,function(targetInfo){var rect=targetInfo.getPanelRect();return{"panelId":targetInfo.panelId,"defaultBrushType":getDefaultBrushType&&getDefaultBrushType(targetInfo),"clipPath":brushHelper.makeRectPanelClipPath(rect),"isTargetByCursor":brushHelper.makeRectIsTargetByCursor(rect,api,targetInfo.coordSysModel),"getLinearBrushOtherExtent":brushHelper.makeLinearBrushOtherExtent(rect)}})},proto.controlSeries=function(area,seriesModel,ecModel){var targetInfo=this.findTargetInfo(area,ecModel);return targetInfo===!0||targetInfo&&indexOf(targetInfo.coordSyses,seriesModel.coordinateSystem)>=0},proto.findTargetInfo=function(area,ecModel){for(var targetInfoList=this._targetInfoList,foundCpts=parseFinder(ecModel,area),i=0;i<targetInfoList.length;i++){var targetInfo=targetInfoList[i],areaPanelId=area.panelId;if(areaPanelId){if(targetInfo.panelId===areaPanelId)return targetInfo}else for(var i=0;i<targetInfoMatchers.length;i++)if(targetInfoMatchers[i](foundCpts,targetInfo))return targetInfo}return!0};var targetInfoBuilders={"grid":function(foundCpts,targetInfoList){var xAxisModels=foundCpts.xAxisModels,yAxisModels=foundCpts.yAxisModels,gridModels=foundCpts.gridModels,gridModelMap=zrUtil.createHashMap(),xAxesHas={},yAxesHas={};(xAxisModels||yAxisModels||gridModels)&&(each(xAxisModels,function(axisModel){var gridModel=axisModel.axis.grid.model;gridModelMap.set(gridModel.id,gridModel),xAxesHas[gridModel.id]=!0}),each(yAxisModels,function(axisModel){var gridModel=axisModel.axis.grid.model;gridModelMap.set(gridModel.id,gridModel),yAxesHas[gridModel.id]=!0}),each(gridModels,function(gridModel){gridModelMap.set(gridModel.id,gridModel),xAxesHas[gridModel.id]=!0,yAxesHas[gridModel.id]=!0}),gridModelMap.each(function(gridModel){var grid=gridModel.coordinateSystem,cartesians=[];each(grid.getCartesians(),function(cartesian,index){(indexOf(xAxisModels,cartesian.getAxis("x").model)>=0||indexOf(yAxisModels,cartesian.getAxis("y").model)>=0)&&cartesians.push(cartesian)}),targetInfoList.push({"panelId":"grid--"+gridModel.id,"gridModel":gridModel,"coordSysModel":gridModel,"coordSys":cartesians[0],"coordSyses":cartesians,"getPanelRect":panelRectBuilder.grid,"xAxisDeclared":xAxesHas[gridModel.id],"yAxisDeclared":yAxesHas[gridModel.id]})}))},"geo":function(foundCpts,targetInfoList){each(foundCpts.geoModels,function(geoModel){var coordSys=geoModel.coordinateSystem;targetInfoList.push({"panelId":"geo--"+geoModel.id,"geoModel":geoModel,"coordSysModel":geoModel,"coordSys":coordSys,"coordSyses":[coordSys],"getPanelRect":panelRectBuilder.geo})})}},targetInfoMatchers=[function(foundCpts,targetInfo){var xAxisModel=foundCpts.xAxisModel,yAxisModel=foundCpts.yAxisModel,gridModel=foundCpts.gridModel;return!gridModel&&xAxisModel&&(gridModel=xAxisModel.axis.grid.model),!gridModel&&yAxisModel&&(gridModel=yAxisModel.axis.grid.model),gridModel&&gridModel===targetInfo.gridModel},function(foundCpts,targetInfo){var geoModel=foundCpts.geoModel;return geoModel&&geoModel===targetInfo.geoModel}],panelRectBuilder={"grid":function(){return this.coordSys.grid.getRect().clone()},"geo":function(){var coordSys=this.coordSys,rect=coordSys.getBoundingRect().clone();return rect.applyTransform(graphic.getTransform(coordSys)),rect}},coordConvert={"lineX":curry(axisConvert,0),"lineY":curry(axisConvert,1),"rect":function(to,coordSys,rangeOrCoordRange){var xminymin=coordSys[COORD_CONVERTS[to]]([rangeOrCoordRange[0][0],rangeOrCoordRange[1][0]]),xmaxymax=coordSys[COORD_CONVERTS[to]]([rangeOrCoordRange[0][1],rangeOrCoordRange[1][1]]),values=[formatMinMax([xminymin[0],xmaxymax[0]]),formatMinMax([xminymin[1],xmaxymax[1]])];return{"values":values,"xyMinMax":values}},"polygon":function(to,coordSys,rangeOrCoordRange){var xyMinMax=[[1/0,-(1/0)],[1/0,-(1/0)]],values=zrUtil.map(rangeOrCoordRange,function(item){var p=coordSys[COORD_CONVERTS[to]](item);return xyMinMax[0][0]=Math.min(xyMinMax[0][0],p[0]),xyMinMax[1][0]=Math.min(xyMinMax[1][0],p[1]),xyMinMax[0][1]=Math.max(xyMinMax[0][1],p[0]),xyMinMax[1][1]=Math.max(xyMinMax[1][1],p[1]),p});return{"values":values,"xyMinMax":xyMinMax}}},diffProcessor={"lineX":curry(axisDiffProcessor,0),"lineY":curry(axisDiffProcessor,1),"rect":function(values,refer,scales){return[[values[0][0]-scales[0]*refer[0][0],values[0][1]-scales[0]*refer[0][1]],[values[1][0]-scales[1]*refer[1][0],values[1][1]-scales[1]*refer[1][1]]]},"polygon":function(values,refer,scales){return zrUtil.map(values,function(item,idx){return[item[0]-scales[0]*refer[idx][0],item[1]-scales[1]*refer[idx][1]]})}},_default=BrushTargetManager;module.exports=_default},function(module,exports,__webpack_require__){function getFixedItemStyle(model,scale){var itemStyle=model.getItemStyle(),areaColor=model.get("areaColor");return null!=areaColor&&(itemStyle.fill=areaColor),itemStyle}function updateMapSelectHandler(mapDraw,mapOrGeoModel,group,api,fromView){group.off("click"),group.off("mousedown"),mapOrGeoModel.get("selectedMode")&&(group.on("mousedown",function(){mapDraw._mouseDownFlag=!0}),group.on("click",function(e){if(mapDraw._mouseDownFlag){mapDraw._mouseDownFlag=!1;for(var el=e.target;!el.__regions;)el=el.parent;if(el){var action={"type":("geo"===mapOrGeoModel.mainType?"geo":"map")+"ToggleSelect","batch":zrUtil.map(el.__regions,function(region){return{"name":region.name,"from":fromView.uid}})};action[mapOrGeoModel.mainType+"Id"]=mapOrGeoModel.id,api.dispatchAction(action),updateMapSelected(mapOrGeoModel,group)}}}))}function updateMapSelected(mapOrGeoModel,group){group.eachChild(function(otherRegionEl){zrUtil.each(otherRegionEl.__regions,function(region){otherRegionEl.trigger(mapOrGeoModel.isSelected(region.name)?"emphasis":"normal")})})}function MapDraw(api,updateGroup){var group=new graphic.Group;this._controller=new RoamController(api.getZr()),this._controllerHost={"target":updateGroup?group:null},this.group=group,this._updateGroup=updateGroup,this._mouseDownFlag}var zrUtil=__webpack_require__(4),RoamController=__webpack_require__(272),roamHelper=__webpack_require__(635),_cursorHelper=__webpack_require__(382),onIrrelevantElement=_cursorHelper.onIrrelevantElement,graphic=__webpack_require__(15);MapDraw.prototype={"constructor":MapDraw,"draw":function(mapOrGeoModel,ecModel,api,fromView,payload){var isGeo="geo"===mapOrGeoModel.mainType,data=mapOrGeoModel.getData&&mapOrGeoModel.getData();isGeo&&ecModel.eachComponent({"mainType":"series","subType":"map"},function(mapSeries){data||mapSeries.getHostGeoModel()!==mapOrGeoModel||(data=mapSeries.getData())});var geo=mapOrGeoModel.coordinateSystem,group=this.group,scale=geo.scale,groupNewProp={"position":geo.position,"scale":scale};!group.childAt(0)||payload?group.attr(groupNewProp):graphic.updateProps(group,groupNewProp,mapOrGeoModel),group.removeAll();var itemStyleAccessPath=["itemStyle"],hoverItemStyleAccessPath=["emphasis","itemStyle"],labelAccessPath=["label"],hoverLabelAccessPath=["emphasis","label"],nameMap=zrUtil.createHashMap();zrUtil.each(geo.regions,function(region){var regionGroup=nameMap.get(region.name)||nameMap.set(region.name,new graphic.Group),compoundPath=new graphic.CompoundPath({"shape":{"paths":[]}});regionGroup.add(compoundPath);var dataIdx,regionModel=mapOrGeoModel.getRegionModel(region.name)||mapOrGeoModel,itemStyleModel=regionModel.getModel(itemStyleAccessPath),hoverItemStyleModel=regionModel.getModel(hoverItemStyleAccessPath),itemStyle=getFixedItemStyle(itemStyleModel,scale),hoverItemStyle=getFixedItemStyle(hoverItemStyleModel,scale),labelModel=regionModel.getModel(labelAccessPath),hoverLabelModel=regionModel.getModel(hoverLabelAccessPath);if(data){dataIdx=data.indexOfName(region.name);var visualColor=data.getItemVisual(dataIdx,"color",!0);visualColor&&(itemStyle.fill=visualColor)}zrUtil.each(region.geometries,function(geometry){if("polygon"===geometry.type){compoundPath.shape.paths.push(new graphic.Polygon({"shape":{"points":geometry.exterior}}));for(var i=0;i<(geometry.interiors?geometry.interiors.length:0);i++)compoundPath.shape.paths.push(new graphic.Polygon({"shape":{"points":geometry.interiors[i]}}))}}),compoundPath.setStyle(itemStyle),compoundPath.style.strokeNoScale=!0,compoundPath.culling=!0;var showLabel=labelModel.get("show"),hoverShowLabel=hoverLabelModel.get("show"),isDataNaN=data&&isNaN(data.get(data.mapDimension("value"),dataIdx)),itemLayout=data&&data.getItemLayout(dataIdx);if(isGeo||isDataNaN&&(showLabel||hoverShowLabel)||itemLayout&&itemLayout.showLabel){var labelFetcher,query=isGeo?region.name:dataIdx;(!data||dataIdx>=0)&&(labelFetcher=mapOrGeoModel);var textEl=new graphic.Text({"position":region.center.slice(),"scale":[1/scale[0],1/scale[1]],"z2":10,"silent":!0});graphic.setLabelStyle(textEl.style,textEl.hoverStyle={},labelModel,hoverLabelModel,{"labelFetcher":labelFetcher,"labelDataIndex":query,"defaultText":region.name,"useInsideStyle":!1},{"textAlign":"center","textVerticalAlign":"middle"}),regionGroup.add(textEl)}if(data)data.setItemGraphicEl(dataIdx,regionGroup);else{var regionModel=mapOrGeoModel.getRegionModel(region.name);compoundPath.eventData={"componentType":"geo","geoIndex":mapOrGeoModel.componentIndex,"name":region.name,"region":regionModel&&regionModel.option||{}}}var groupRegions=regionGroup.__regions||(regionGroup.__regions=[]);groupRegions.push(region),graphic.setHoverStyle(regionGroup,hoverItemStyle,{"hoverSilentOnTouch":!!mapOrGeoModel.get("selectedMode")}),group.add(regionGroup)}),this._updateController(mapOrGeoModel,ecModel,api),updateMapSelectHandler(this,mapOrGeoModel,group,api,fromView),updateMapSelected(mapOrGeoModel,group)},"remove":function(){this.group.removeAll(),this._controller.dispose(),this._controllerHost={}},"_updateController":function(mapOrGeoModel,ecModel,api){function makeActionBase(){var action={"type":"geoRoam","componentType":mainType};return action[mainType+"Id"]=mapOrGeoModel.id,action}var geo=mapOrGeoModel.coordinateSystem,controller=this._controller,controllerHost=this._controllerHost;controllerHost.zoomLimit=mapOrGeoModel.get("scaleLimit"),controllerHost.zoom=geo.getZoom(),controller.enable(mapOrGeoModel.get("roam")||!1);var mainType=mapOrGeoModel.mainType;controller.off("pan").on("pan",function(dx,dy){this._mouseDownFlag=!1,roamHelper.updateViewOnPan(controllerHost,dx,dy),api.dispatchAction(zrUtil.extend(makeActionBase(),{"dx":dx,"dy":dy}))},this),controller.off("zoom").on("zoom",function(zoom,mouseX,mouseY){if(this._mouseDownFlag=!1,roamHelper.updateViewOnZoom(controllerHost,zoom,mouseX,mouseY),api.dispatchAction(zrUtil.extend(makeActionBase(),{"zoom":zoom,"originX":mouseX,"originY":mouseY})),this._updateGroup){var group=this.group,scale=group.scale;group.traverse(function(el){"text"===el.type&&el.attr("scale",[1/scale[0],1/scale[1]])})}},this),controller.setPointerChecker(function(e,x,y){return geo.getViewRectAfterRoam().contain(x,y)&&!onIrrelevantElement(e,api,mapOrGeoModel)})}};var _default=MapDraw;module.exports=_default},function(module,exports,__webpack_require__){function makeRectPanelClipPath(rect){return rect=normalizeRect(rect),function(localPoints,transform){return graphicUtil.clipPointsByRect(localPoints,rect)}}function makeLinearBrushOtherExtent(rect,specifiedXYIndex){return rect=normalizeRect(rect),function(xyIndex){var idx=null!=specifiedXYIndex?specifiedXYIndex:xyIndex,brushWidth=idx?rect.width:rect.height,base=idx?rect.x:rect.y;return[base,base+(brushWidth||0)]}}function makeRectIsTargetByCursor(rect,api,targetModel){return rect=normalizeRect(rect),function(e,localCursorPoint,transform){return rect.contain(localCursorPoint[0],localCursorPoint[1])&&!onIrrelevantElement(e,api,targetModel)}}function normalizeRect(rect){return BoundingRect.create(rect)}var BoundingRect=__webpack_require__(43),_cursorHelper=__webpack_require__(382),onIrrelevantElement=_cursorHelper.onIrrelevantElement,graphicUtil=__webpack_require__(15);exports.makeRectPanelClipPath=makeRectPanelClipPath,exports.makeLinearBrushOtherExtent=makeLinearBrushOtherExtent,exports.makeRectIsTargetByCursor=makeRectIsTargetByCursor},function(module,exports,__webpack_require__){function take(zr,resourceKey,userKey){var store=getStore(zr);store[resourceKey]=userKey}function release(zr,resourceKey,userKey){var store=getStore(zr),uKey=store[resourceKey];uKey===userKey&&(store[resourceKey]=null)}function isTaken(zr,resourceKey){return!!getStore(zr)[resourceKey]}function getStore(zr){return zr[ATTR]||(zr[ATTR]={})}var echarts=__webpack_require__(13),ATTR="\0_ec_interaction_mutex";echarts.registerAction({"type":"takeGlobalCursor","event":"globalCursorTaken","update":"update"},function(){}),exports.take=take,exports.release=release,exports.isTaken=isTaken},function(module,exports,__webpack_require__){function layout(group,componentModel,api){
var boxLayoutParams=componentModel.getBoxLayoutParams(),padding=componentModel.get("padding"),viewportSize={"width":api.getWidth(),"height":api.getHeight()},rect=getLayoutRect(boxLayoutParams,viewportSize,padding);layoutBox(componentModel.get("orient"),group,componentModel.get("itemGap"),rect.width,rect.height),positionElement(group,boxLayoutParams,viewportSize,padding)}function makeBackground(rect,componentModel){var padding=formatUtil.normalizeCssArray(componentModel.get("padding")),style=componentModel.getItemStyle(["color","opacity"]);style.fill=componentModel.get("backgroundColor");var rect=new graphic.Rect({"shape":{"x":rect.x-padding[3],"y":rect.y-padding[0],"width":rect.width+padding[1]+padding[3],"height":rect.height+padding[0]+padding[2],"r":componentModel.get("borderRadius")},"style":style,"silent":!0,"z2":-1});return rect}var _layout=__webpack_require__(34),getLayoutRect=_layout.getLayoutRect,layoutBox=_layout.box,positionElement=_layout.positionElement,formatUtil=__webpack_require__(40),graphic=__webpack_require__(15);exports.layout=layout,exports.makeBackground=makeBackground},function(module,exports){function updateViewOnPan(controllerHost,dx,dy){var target=controllerHost.target,pos=target.position;pos[0]+=dx,pos[1]+=dy,target.dirty()}function updateViewOnZoom(controllerHost,zoomDelta,zoomX,zoomY){var target=controllerHost.target,zoomLimit=controllerHost.zoomLimit,pos=target.position,scale=target.scale,newZoom=controllerHost.zoom=controllerHost.zoom||1;if(newZoom*=zoomDelta,zoomLimit){var zoomMin=zoomLimit.min||0,zoomMax=zoomLimit.max||1/0;newZoom=Math.max(Math.min(zoomMax,newZoom),zoomMin)}var zoomScale=newZoom/controllerHost.zoom;controllerHost.zoom=newZoom,pos[0]-=(zoomX-pos[0])*(zoomScale-1),pos[1]-=(zoomY-pos[1])*(zoomScale-1),scale[0]*=zoomScale,scale[1]*=zoomScale,target.dirty()}exports.updateViewOnPan=updateViewOnPan,exports.updateViewOnZoom=updateViewOnZoom},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),Model=__webpack_require__(56),_model=__webpack_require__(27),isNameSpecified=_model.isNameSpecified,LegendModel=echarts.extendComponentModel({"type":"legend.plain","dependencies":["series"],"layoutMode":{"type":"box","ignoreSize":!0},"init":function(option,parentModel,ecModel){this.mergeDefaultAndTheme(option,ecModel),option.selected=option.selected||{}},"mergeOption":function(option){LegendModel.superCall(this,"mergeOption",option)},"optionUpdated":function(){this._updateData(this.ecModel);var legendData=this._data;if(legendData[0]&&"single"===this.get("selectedMode")){for(var hasSelected=!1,i=0;i<legendData.length;i++){var name=legendData[i].get("name");if(this.isSelected(name)){this.select(name),hasSelected=!0;break}}!hasSelected&&this.select(legendData[0].get("name"))}},"_updateData":function(ecModel){var potentialData=[],availableNames=[];ecModel.eachRawSeries(function(seriesModel){var seriesName=seriesModel.name;availableNames.push(seriesName);var isPotential;if(seriesModel.legendDataProvider){var data=seriesModel.legendDataProvider(),names=data.mapArray(data.getName);ecModel.isSeriesFiltered(seriesModel)||(availableNames=availableNames.concat(names)),names.length?potentialData=potentialData.concat(names):isPotential=!0}else isPotential=!0;isPotential&&isNameSpecified(seriesModel)&&potentialData.push(seriesModel.name)}),this._availableNames=availableNames;var rawData=this.get("data")||potentialData,legendData=zrUtil.map(rawData,function(dataItem){return"string"!=typeof dataItem&&"number"!=typeof dataItem||(dataItem={"name":dataItem}),new Model(dataItem,this,this.ecModel)},this);this._data=legendData},"getData":function(){return this._data},"select":function(name){var selected=this.option.selected,selectedMode=this.get("selectedMode");if("single"===selectedMode){var data=this._data;zrUtil.each(data,function(dataItem){selected[dataItem.get("name")]=!1})}selected[name]=!0},"unSelect":function(name){"single"!==this.get("selectedMode")&&(this.option.selected[name]=!1)},"toggleSelected":function(name){var selected=this.option.selected;selected.hasOwnProperty(name)||(selected[name]=!0),this[selected[name]?"unSelect":"select"](name)},"isSelected":function(name){var selected=this.option.selected;return!(selected.hasOwnProperty(name)&&!selected[name])&&zrUtil.indexOf(this._availableNames,name)>=0},"defaultOption":{"zlevel":0,"z":4,"show":!0,"orient":"horizontal","left":"center","top":0,"align":"auto","backgroundColor":"rgba(0,0,0,0)","borderColor":"#ccc","borderRadius":0,"borderWidth":0,"padding":5,"itemGap":10,"itemWidth":25,"itemHeight":14,"inactiveColor":"#ccc","textStyle":{"color":"#333"},"selectedMode":!0,"tooltip":{"show":!1}}}),_default=LegendModel;module.exports=_default},function(module,exports,__webpack_require__){function dispatchSelectAction(name,api){api.dispatchAction({"type":"legendToggleSelect","name":name})}function dispatchHighlightAction(seriesModel,dataName,api,excludeSeriesId){var el=api.getZr().storage.getDisplayList()[0];el&&el.useHoverLayer||api.dispatchAction({"type":"highlight","seriesName":seriesModel.name,"name":dataName,"excludeSeriesId":excludeSeriesId})}function dispatchDownplayAction(seriesModel,dataName,api,excludeSeriesId){var el=api.getZr().storage.getDisplayList()[0];el&&el.useHoverLayer||api.dispatchAction({"type":"downplay","seriesName":seriesModel.name,"name":dataName,"excludeSeriesId":excludeSeriesId})}var _config=__webpack_require__(30),echarts=(_config.__DEV__,__webpack_require__(13)),zrUtil=__webpack_require__(4),_symbol=__webpack_require__(83),createSymbol=_symbol.createSymbol,graphic=__webpack_require__(15),_listComponent=__webpack_require__(634),makeBackground=_listComponent.makeBackground,layoutUtil=__webpack_require__(34),curry=zrUtil.curry,each=zrUtil.each,Group=graphic.Group,_default=echarts.extendComponentView({"type":"legend.plain","newlineDisabled":!1,"init":function(){this.group.add(this._contentGroup=new Group),this._backgroundEl},"getContentGroup":function(){return this._contentGroup},"render":function(legendModel,ecModel,api){if(this.resetInner(),legendModel.get("show",!0)){var itemAlign=legendModel.get("align");itemAlign&&"auto"!==itemAlign||(itemAlign="right"===legendModel.get("left")&&"vertical"===legendModel.get("orient")?"right":"left"),this.renderInner(itemAlign,legendModel,ecModel,api);var positionInfo=legendModel.getBoxLayoutParams(),viewportSize={"width":api.getWidth(),"height":api.getHeight()},padding=legendModel.get("padding"),maxSize=layoutUtil.getLayoutRect(positionInfo,viewportSize,padding),mainRect=this.layoutInner(legendModel,itemAlign,maxSize),layoutRect=layoutUtil.getLayoutRect(zrUtil.defaults({"width":mainRect.width,"height":mainRect.height},positionInfo),viewportSize,padding);this.group.attr("position",[layoutRect.x-mainRect.x,layoutRect.y-mainRect.y]),this.group.add(this._backgroundEl=makeBackground(mainRect,legendModel))}},"resetInner":function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},"renderInner":function(itemAlign,legendModel,ecModel,api){var contentGroup=this.getContentGroup(),legendDrawnMap=zrUtil.createHashMap(),selectMode=legendModel.get("selectedMode"),excludeSeriesId=[];ecModel.eachRawSeries(function(seriesModel){!seriesModel.get("legendHoverLink")&&excludeSeriesId.push(seriesModel.id)}),each(legendModel.getData(),function(itemModel,dataIndex){var name=itemModel.get("name");if(!this.newlineDisabled&&(""===name||"\n"===name))return void contentGroup.add(new Group({"newline":!0}));var seriesModel=ecModel.getSeriesByName(name)[0];if(!legendDrawnMap.get(name))if(seriesModel){var data=seriesModel.getData(),color=data.getVisual("color");"function"==typeof color&&(color=color(seriesModel.getDataParams(0)));var legendSymbolType=data.getVisual("legendSymbol")||"roundRect",symbolType=data.getVisual("symbol"),itemGroup=this._createItem(name,dataIndex,itemModel,legendModel,legendSymbolType,symbolType,itemAlign,color,selectMode);itemGroup.on("click",curry(dispatchSelectAction,name,api)).on("mouseover",curry(dispatchHighlightAction,seriesModel,null,api,excludeSeriesId)).on("mouseout",curry(dispatchDownplayAction,seriesModel,null,api,excludeSeriesId)),legendDrawnMap.set(name,!0)}else ecModel.eachRawSeries(function(seriesModel){if(!legendDrawnMap.get(name)&&seriesModel.legendDataProvider){var data=seriesModel.legendDataProvider(),idx=data.indexOfName(name);if(idx<0)return;var color=data.getItemVisual(idx,"color"),legendSymbolType="roundRect",itemGroup=this._createItem(name,dataIndex,itemModel,legendModel,legendSymbolType,null,itemAlign,color,selectMode);itemGroup.on("click",curry(dispatchSelectAction,name,api)).on("mouseover",curry(dispatchHighlightAction,seriesModel,name,api,excludeSeriesId)).on("mouseout",curry(dispatchDownplayAction,seriesModel,name,api,excludeSeriesId)),legendDrawnMap.set(name,!0)}},this)},this)},"_createItem":function(name,dataIndex,itemModel,legendModel,legendSymbolType,symbolType,itemAlign,color,selectMode){var itemWidth=legendModel.get("itemWidth"),itemHeight=legendModel.get("itemHeight"),inactiveColor=legendModel.get("inactiveColor"),symbolKeepAspect=legendModel.get("symbolKeepAspect"),isSelected=legendModel.isSelected(name),itemGroup=new Group,textStyleModel=itemModel.getModel("textStyle"),itemIcon=itemModel.get("icon"),tooltipModel=itemModel.getModel("tooltip"),legendGlobalTooltipModel=tooltipModel.parentModel;if(legendSymbolType=itemIcon||legendSymbolType,itemGroup.add(createSymbol(legendSymbolType,0,0,itemWidth,itemHeight,isSelected?color:inactiveColor,null==symbolKeepAspect||symbolKeepAspect)),!itemIcon&&symbolType&&(symbolType!==legendSymbolType||"none"==symbolType)){var size=.8*itemHeight;"none"===symbolType&&(symbolType="circle"),itemGroup.add(createSymbol(symbolType,(itemWidth-size)/2,(itemHeight-size)/2,size,size,isSelected?color:inactiveColor,null==symbolKeepAspect||symbolKeepAspect))}var textX="left"===itemAlign?itemWidth+5:-5,textAlign=itemAlign,formatter=legendModel.get("formatter"),content=name;"string"==typeof formatter&&formatter?content=formatter.replace("{name}",null!=name?name:""):"function"==typeof formatter&&(content=formatter(name)),itemGroup.add(new graphic.Text({"style":graphic.setTextStyle({},textStyleModel,{"text":content,"x":textX,"y":itemHeight/2,"textFill":isSelected?textStyleModel.getTextColor():inactiveColor,"textAlign":textAlign,"textVerticalAlign":"middle"})}));var hitRect=new graphic.Rect({"shape":itemGroup.getBoundingRect(),"invisible":!0,"tooltip":tooltipModel.get("show")?zrUtil.extend({"content":name,"formatter":legendGlobalTooltipModel.get("formatter",!0)||function(){return name},"formatterParams":{"componentType":"legend","legendIndex":legendModel.componentIndex,"name":name,"$vars":["name"]}},tooltipModel.option):null});return itemGroup.add(hitRect),itemGroup.eachChild(function(child){child.silent=!0}),hitRect.silent=!selectMode,this.getContentGroup().add(itemGroup),graphic.setHoverStyle(itemGroup),itemGroup.__legendDataIndex=dataIndex,itemGroup},"layoutInner":function(legendModel,itemAlign,maxSize){var contentGroup=this.getContentGroup();layoutUtil.box(legendModel.get("orient"),contentGroup,legendModel.get("itemGap"),maxSize.width,maxSize.height);var contentRect=contentGroup.getBoundingRect();return contentGroup.attr("position",[-contentRect.x,-contentRect.y]),this.group.getBoundingRect()}});module.exports=_default},function(module,exports,__webpack_require__){function checkTrigger(view,triggerOn){var model=view._model;return model.get("axisExpandable")&&model.get("axisExpandTriggerOn")===triggerOn}var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),throttleUtil=__webpack_require__(163),parallelPreprocessor=__webpack_require__(1562);__webpack_require__(653),__webpack_require__(1561),__webpack_require__(1507);var CLICK_THRESHOLD=5;echarts.extendComponentView({"type":"parallel","render":function(parallelModel,ecModel,api){this._model=parallelModel,this._api=api,this._handlers||(this._handlers={},zrUtil.each(handlers,function(handler,eventName){api.getZr().on(eventName,this._handlers[eventName]=zrUtil.bind(handler,this))},this)),throttleUtil.createOrUpdate(this,"_throttledDispatchExpand",parallelModel.get("axisExpandRate"),"fixRate")},"dispose":function(ecModel,api){zrUtil.each(this._handlers,function(handler,eventName){api.getZr().off(eventName,handler)}),this._handlers=null},"_throttledDispatchExpand":function(opt){this._dispatchExpand(opt)},"_dispatchExpand":function(opt){opt&&this._api.dispatchAction(zrUtil.extend({"type":"parallelAxisExpand"},opt))}});var handlers={"mousedown":function(e){checkTrigger(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},"mouseup":function(e){var mouseDownPoint=this._mouseDownPoint;if(checkTrigger(this,"click")&&mouseDownPoint){var point=[e.offsetX,e.offsetY],dist=Math.pow(mouseDownPoint[0]-point[0],2)+Math.pow(mouseDownPoint[1]-point[1],2);if(dist>CLICK_THRESHOLD)return;var result=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==result.behavior&&this._dispatchExpand({"axisExpandWindow":result.axisExpandWindow})}this._mouseDownPoint=null},"mousemove":function(e){if(!this._mouseDownPoint&&checkTrigger(this,"mousemove")){var model=this._model,result=model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),behavior=result.behavior;"jump"===behavior&&this._throttledDispatchExpand.debounceNextCall(model.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===behavior?null:{"axisExpandWindow":result.axisExpandWindow,"animation":"jump"===behavior&&null})}}};echarts.registerPreprocessor(parallelPreprocessor)},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(1576),__webpack_require__(1466),__webpack_require__(1572),__webpack_require__(215),__webpack_require__(1460),echarts.extendComponentView({"type":"single"})},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),env=__webpack_require__(52),visualDefault=__webpack_require__(664),VisualMapping=__webpack_require__(164),visualSolution=__webpack_require__(282),modelUtil=__webpack_require__(27),numberUtil=__webpack_require__(20),mapVisual=VisualMapping.mapVisual,eachVisual=VisualMapping.eachVisual,isArray=zrUtil.isArray,each=zrUtil.each,asc=numberUtil.asc,linearMap=numberUtil.linearMap,noop=zrUtil.noop,VisualMapModel=echarts.extendComponentModel({"type":"visualMap","dependencies":["series"],"stateList":["inRange","outOfRange"],"replacableOptionKeys":["inRange","outOfRange","target","controller","color"],"dataBound":[-(1/0),1/0],"layoutMode":{"type":"box","ignoreSize":!0},"defaultOption":{"show":!0,"zlevel":0,"z":4,"seriesIndex":"all","min":0,"max":200,"dimension":null,"inRange":null,"outOfRange":null,"left":0,"right":null,"top":null,"bottom":0,"itemWidth":null,"itemHeight":null,"inverse":!1,"orient":"vertical","backgroundColor":"rgba(0,0,0,0)","borderColor":"#ccc","contentColor":"#5793f3","inactiveColor":"#aaa","borderWidth":0,"padding":5,"textGap":10,"precision":0,"color":null,"formatter":null,"text":null,"textStyle":{"color":"#333"}},"init":function(option,parentModel,ecModel){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(option,ecModel)},"optionUpdated":function(newOption,isInit){var thisOption=this.option;env.canvasSupported||(thisOption.realtime=!1),!isInit&&visualSolution.replaceVisualOption(thisOption,newOption,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},"resetVisual":function(supplementVisualOption){var stateList=this.stateList;supplementVisualOption=zrUtil.bind(supplementVisualOption,this),this.controllerVisuals=visualSolution.createVisualMappings(this.option.controller,stateList,supplementVisualOption),this.targetVisuals=visualSolution.createVisualMappings(this.option.target,stateList,supplementVisualOption)},"getTargetSeriesIndices":function(){var optionSeriesIndex=this.option.seriesIndex,seriesIndices=[];return null==optionSeriesIndex||"all"===optionSeriesIndex?this.ecModel.eachSeries(function(seriesModel,index){seriesIndices.push(index)}):seriesIndices=modelUtil.normalizeToArray(optionSeriesIndex),seriesIndices},"eachTargetSeries":function(callback,context){zrUtil.each(this.getTargetSeriesIndices(),function(seriesIndex){callback.call(context,this.ecModel.getSeriesByIndex(seriesIndex))},this)},"isTargetSeries":function(seriesModel){var is=!1;return this.eachTargetSeries(function(model){model===seriesModel&&(is=!0)}),is},"formatValueText":function(value,isCategory,edgeSymbols){function toFixed(val){return val===dataBound[0]?"min":val===dataBound[1]?"max":(+val).toFixed(Math.min(precision,20))}var isMinMax,textValue,option=this.option,precision=option.precision,dataBound=this.dataBound,formatter=option.formatter;return edgeSymbols=edgeSymbols||["<",">"],zrUtil.isArray(value)&&(value=value.slice(),isMinMax=!0),textValue=isCategory?value:isMinMax?[toFixed(value[0]),toFixed(value[1])]:toFixed(value),zrUtil.isString(formatter)?formatter.replace("{value}",isMinMax?textValue[0]:textValue).replace("{value2}",isMinMax?textValue[1]:textValue):zrUtil.isFunction(formatter)?isMinMax?formatter(value[0],value[1]):formatter(value):isMinMax?value[0]===dataBound[0]?edgeSymbols[0]+" "+textValue[1]:value[1]===dataBound[1]?edgeSymbols[1]+" "+textValue[0]:textValue[0]+" - "+textValue[1]:textValue},"resetExtent":function(){var thisOption=this.option,extent=asc([thisOption.min,thisOption.max]);this._dataExtent=extent},"getDataDimension":function(list){var optDim=this.option.dimension,listDimensions=list.dimensions;if(null!=optDim||listDimensions.length){if(null!=optDim)return list.getDimension(optDim);for(var dimNames=list.dimensions,i=dimNames.length-1;i>=0;i--){var dimName=dimNames[i],dimInfo=list.getDimensionInfo(dimName);if(!dimInfo.isCalculationCoord)return dimName}}},"getExtent":function(){return this._dataExtent.slice()},"completeVisualOption":function(){function completeSingle(base){isArray(thisOption.color)&&!base.inRange&&(base.inRange={"color":thisOption.color.slice().reverse()}),base.inRange=base.inRange||{"color":ecModel.get("gradientColor")},each(this.stateList,function(state){var visualType=base[state];if(zrUtil.isString(visualType)){var defa=visualDefault.get(visualType,"active",isCategory);defa?(base[state]={},base[state][visualType]=defa):delete base[state]}},this)}function completeInactive(base,stateExist,stateAbsent){var optExist=base[stateExist],optAbsent=base[stateAbsent];optExist&&!optAbsent&&(optAbsent=base[stateAbsent]={},each(optExist,function(visualData,visualType){if(VisualMapping.isValidType(visualType)){var defa=visualDefault.get(visualType,"inactive",isCategory);null!=defa&&(optAbsent[visualType]=defa,"color"!==visualType||optAbsent.hasOwnProperty("opacity")||optAbsent.hasOwnProperty("colorAlpha")||(optAbsent.opacity=[0,0]))}}))}function completeController(controller){var symbolExists=(controller.inRange||{}).symbol||(controller.outOfRange||{}).symbol,symbolSizeExists=(controller.inRange||{}).symbolSize||(controller.outOfRange||{}).symbolSize,inactiveColor=this.get("inactiveColor");each(this.stateList,function(state){var itemSize=this.itemSize,visuals=controller[state];visuals||(visuals=controller[state]={"color":isCategory?inactiveColor:[inactiveColor]}),null==visuals.symbol&&(visuals.symbol=symbolExists&&zrUtil.clone(symbolExists)||(isCategory?"roundRect":["roundRect"])),null==visuals.symbolSize&&(visuals.symbolSize=symbolSizeExists&&zrUtil.clone(symbolSizeExists)||(isCategory?itemSize[0]:[itemSize[0],itemSize[0]])),visuals.symbol=mapVisual(visuals.symbol,function(symbol){return"none"===symbol||"square"===symbol?"roundRect":symbol});var symbolSize=visuals.symbolSize;if(null!=symbolSize){var max=-(1/0);eachVisual(symbolSize,function(value){value>max&&(max=value)}),visuals.symbolSize=mapVisual(symbolSize,function(value){return linearMap(value,[0,max],[0,itemSize[0]],!0)})}},this)}var ecModel=this.ecModel,thisOption=this.option,base={"inRange":thisOption.inRange,"outOfRange":thisOption.outOfRange},target=thisOption.target||(thisOption.target={}),controller=thisOption.controller||(thisOption.controller={});zrUtil.merge(target,base),zrUtil.merge(controller,base);var isCategory=this.isCategory();completeSingle.call(this,target),completeSingle.call(this,controller),completeInactive.call(this,target,"inRange","outOfRange"),completeController.call(this,controller)},"resetItemSize":function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},"isCategory":function(){return!!this.option.categories},"setSelected":noop,"getValueState":noop,"getVisualMeta":noop}),_default=VisualMapModel;module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),graphic=__webpack_require__(15),formatUtil=__webpack_require__(40),layout=__webpack_require__(34),VisualMapping=__webpack_require__(164),_default=echarts.extendComponentView({"type":"visualMap","autoPositionValues":{"left":1,"right":1,"top":1,"bottom":1},"init":function(ecModel,api){this.ecModel=ecModel,this.api=api,this.visualMapModel},"render":function(visualMapModel,ecModel,api,payload){return this.visualMapModel=visualMapModel,visualMapModel.get("show")===!1?void this.group.removeAll():void this.doRender.apply(this,arguments)},"renderBackground":function(group){var visualMapModel=this.visualMapModel,padding=formatUtil.normalizeCssArray(visualMapModel.get("padding")||0),rect=group.getBoundingRect();group.add(new graphic.Rect({"z2":-1,"silent":!0,"shape":{"x":rect.x-padding[3],"y":rect.y-padding[0],"width":rect.width+padding[3]+padding[1],"height":rect.height+padding[0]+padding[2]},"style":{"fill":visualMapModel.get("backgroundColor"),"stroke":visualMapModel.get("borderColor"),"lineWidth":visualMapModel.get("borderWidth")}}))},"getControllerVisual":function(targetValue,visualCluster,opts){function getter(key){return visualObj[key]}function setter(key,value){visualObj[key]=value}opts=opts||{};var forceState=opts.forceState,visualMapModel=this.visualMapModel,visualObj={};if("symbol"===visualCluster&&(visualObj.symbol=visualMapModel.get("itemSymbol")),"color"===visualCluster){var defaultColor=visualMapModel.get("contentColor");visualObj.color=defaultColor}var mappings=visualMapModel.controllerVisuals[forceState||visualMapModel.getValueState(targetValue)],visualTypes=VisualMapping.prepareVisualTypes(mappings);return zrUtil.each(visualTypes,function(type){var visualMapping=mappings[type];opts.convertOpacityToAlpha&&"opacity"===type&&(type="colorAlpha",visualMapping=mappings.__alphaForOpacity),VisualMapping.dependsOn(type,visualCluster)&&visualMapping&&visualMapping.applyVisual(targetValue,getter,setter)}),visualObj[visualCluster]},"positionGroup":function(group){var model=this.visualMapModel,api=this.api;layout.positionElement(group,model.getBoxLayoutParams(),{"width":api.getWidth(),"height":api.getHeight()})},"doRender":zrUtil.noop});module.exports=_default},function(module,exports,__webpack_require__){function getItemAlign(visualMapModel,api,itemSize){var modelOption=visualMapModel.option,itemAlign=modelOption.align;if(null!=itemAlign&&"auto"!==itemAlign)return itemAlign;for(var ecSize={"width":api.getWidth(),"height":api.getHeight()},realIndex="horizontal"===modelOption.orient?1:0,paramsSet=[["left","right","width"],["top","bottom","height"]],reals=paramsSet[realIndex],fakeValue=[0,null,10],layoutInput={},i=0;i<3;i++)layoutInput[paramsSet[1-realIndex][i]]=fakeValue[i],layoutInput[reals[i]]=2===i?itemSize[0]:modelOption[reals[i]];var rParam=[["x","width",3],["y","height",0]][realIndex],rect=getLayoutRect(layoutInput,ecSize,modelOption.padding);return reals[(rect.margin[rParam[2]]||0)+rect[rParam[0]]+.5*rect[rParam[1]]<.5*ecSize[rParam[1]]?0:1]}function convertDataIndex(batch){return zrUtil.each(batch||[],function(batchItem){null!=batch.dataIndex&&(batch.dataIndexInside=batch.dataIndex,batch.dataIndex=null)}),batch}var zrUtil=__webpack_require__(4),_layout=__webpack_require__(34),getLayoutRect=_layout.getLayoutRect;exports.getItemAlign=getItemAlign,exports.convertDataIndex=convertDataIndex},function(module,exports,__webpack_require__){function _default(option){var visualMap=option&&option.visualMap;zrUtil.isArray(visualMap)||(visualMap=visualMap?[visualMap]:[]),each(visualMap,function(opt){if(opt){has(opt,"splitList")&&!has(opt,"pieces")&&(opt.pieces=opt.splitList,delete opt.splitList);var pieces=opt.pieces;pieces&&zrUtil.isArray(pieces)&&each(pieces,function(piece){zrUtil.isObject(piece)&&(has(piece,"start")&&!has(piece,"min")&&(piece.min=piece.start),has(piece,"end")&&!has(piece,"max")&&(piece.max=piece.end))})}})}function has(obj,name){return obj&&obj.hasOwnProperty&&obj.hasOwnProperty(name)}var zrUtil=__webpack_require__(4),each=zrUtil.each;module.exports=_default},function(module,exports,__webpack_require__){var Component=__webpack_require__(51);Component.registerSubTypeDefaulter("visualMap",function(option){return option.categories||(option.pieces?option.pieces.length>0:option.splitNumber>0)&&!option.calculable?"piecewise":"continuous"})},function(module,exports,__webpack_require__){function getColorVisual(seriesModel,visualMapModel,value,valueState){function getVisual(key){return resultVisual[key]}function setVisual(key,value){resultVisual[key]=value}for(var mappings=visualMapModel.targetVisuals[valueState],visualTypes=VisualMapping.prepareVisualTypes(mappings),resultVisual={"color":seriesModel.getData().getVisual("color")},i=0,len=visualTypes.length;i<len;i++){var type=visualTypes[i],mapping=mappings["opacity"===type?"__alphaForOpacity":type];mapping&&mapping.applyVisual(value,getVisual,setVisual)}return resultVisual.color}var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),visualSolution=__webpack_require__(282),VisualMapping=__webpack_require__(164),VISUAL_PRIORITY=echarts.PRIORITY.VISUAL.COMPONENT;echarts.registerVisual(VISUAL_PRIORITY,{"createOnAllSeries":!0,"reset":function(seriesModel,ecModel){var resetDefines=[];return ecModel.eachComponent("visualMap",function(visualMapModel){var pipelineContext=seriesModel.pipelineContext;!visualMapModel.isTargetSeries(seriesModel)||pipelineContext&&pipelineContext.large||resetDefines.push(visualSolution.incrementalApplyVisual(visualMapModel.stateList,visualMapModel.targetVisuals,zrUtil.bind(visualMapModel.getValueState,visualMapModel),visualMapModel.getDataDimension(seriesModel.getData())))}),resetDefines}}),echarts.registerVisual(VISUAL_PRIORITY,{"createOnAllSeries":!0,"reset":function(seriesModel,ecModel){var data=seriesModel.getData(),visualMetaList=[];ecModel.eachComponent("visualMap",function(visualMapModel){if(visualMapModel.isTargetSeries(seriesModel)){var visualMeta=visualMapModel.getVisualMeta(zrUtil.bind(getColorVisual,null,seriesModel,visualMapModel))||{"stops":[],"outerColors":[]},concreteDim=visualMapModel.getDataDimension(data),dimInfo=data.getDimensionInfo(concreteDim);null!=dimInfo&&(visualMeta.dimension=dimInfo.index,visualMetaList.push(visualMeta))}}),seriesModel.getData().setVisual("visualMeta",visualMetaList)}})},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),actionInfo={"type":"selectDataRange","event":"dataRangeSelected","update":"update"};echarts.registerAction(actionInfo,function(payload,ecModel){ecModel.eachComponent({"mainType":"visualMap","query":payload},function(model){model.setSelected(payload.selected)})})},function(module,exports,__webpack_require__){function TransformDummy(){Transformable.call(this)}function View(name){this.name=name,this.zoomLimit,Transformable.call(this),this._roamTransformable=new TransformDummy,this._rawTransformable=new TransformDummy,this._center,this._zoom}function doConvert(methodName,ecModel,finder,value){var seriesModel=finder.seriesModel,coordSys=seriesModel?seriesModel.coordinateSystem:null;return coordSys===this?coordSys[methodName](value):null}var zrUtil=__webpack_require__(4),vector=__webpack_require__(38),matrix=__webpack_require__(70),BoundingRect=__webpack_require__(43),Transformable=__webpack_require__(512),v2ApplyTransform=vector.applyTransform;zrUtil.mixin(TransformDummy,Transformable),View.prototype={"constructor":View,"type":"view","dimensions":["x","y"],"setBoundingRect":function(x,y,width,height){return this._rect=new BoundingRect(x,y,width,height),this._rect},"getBoundingRect":function(){return this._rect},"setViewRect":function(x,y,width,height){this.transformTo(x,y,width,height),this._viewRect=new BoundingRect(x,y,width,height)},"transformTo":function(x,y,width,height){var rect=this.getBoundingRect(),rawTransform=this._rawTransformable;rawTransform.transform=rect.calculateTransform(new BoundingRect(x,y,width,height)),rawTransform.decomposeTransform(),this._updateTransform()},"setCenter":function(centerCoord){centerCoord&&(this._center=centerCoord,this._updateCenterAndZoom())},"setZoom":function(zoom){zoom=zoom||1;var zoomLimit=this.zoomLimit;zoomLimit&&(null!=zoomLimit.max&&(zoom=Math.min(zoomLimit.max,zoom)),null!=zoomLimit.min&&(zoom=Math.max(zoomLimit.min,zoom))),this._zoom=zoom,this._updateCenterAndZoom()},"getDefaultCenter":function(){var rawRect=this.getBoundingRect(),cx=rawRect.x+rawRect.width/2,cy=rawRect.y+rawRect.height/2;return[cx,cy]},"getCenter":function(){return this._center||this.getDefaultCenter()},"getZoom":function(){return this._zoom||1},"getRoamTransform":function(){return this._roamTransformable.getLocalTransform()},"_updateCenterAndZoom":function(){var rawTransformMatrix=this._rawTransformable.getLocalTransform(),roamTransform=this._roamTransformable,defaultCenter=this.getDefaultCenter(),center=this.getCenter(),zoom=this.getZoom();center=vector.applyTransform([],center,rawTransformMatrix),defaultCenter=vector.applyTransform([],defaultCenter,rawTransformMatrix),roamTransform.origin=center,roamTransform.position=[defaultCenter[0]-center[0],defaultCenter[1]-center[1]],roamTransform.scale=[zoom,zoom],this._updateTransform()},"_updateTransform":function(){var roamTransformable=this._roamTransformable,rawTransformable=this._rawTransformable;rawTransformable.parent=roamTransformable,roamTransformable.updateTransform(),rawTransformable.updateTransform(),matrix.copy(this.transform||(this.transform=[]),rawTransformable.transform||matrix.create()),this._rawTransform=rawTransformable.getLocalTransform(),this.invTransform=this.invTransform||[],matrix.invert(this.invTransform,this.transform),this.decomposeTransform()},"getViewRect":function(){return this._viewRect},"getViewRectAfterRoam":function(){var rect=this.getBoundingRect().clone();return rect.applyTransform(this.transform),rect},"dataToPoint":function(data,noRoam,out){var transform=noRoam?this._rawTransform:this.transform;return out=out||[],transform?v2ApplyTransform(out,data,transform):vector.copy(out,data)},"pointToData":function(point){var invTransform=this.invTransform;return invTransform?v2ApplyTransform([],point,invTransform):[point[0],point[1]]},"convertToPixel":zrUtil.curry(doConvert,"dataToPoint"),"convertFromPixel":zrUtil.curry(doConvert,"pointToData"),"containPoint":function(point){return this.getViewRectAfterRoam().contain(point[0],point[1])}},zrUtil.mixin(View,Transformable);var _default=View;module.exports=_default},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),defaultOption={"show":!0,"zlevel":0,"z":0,"inverse":!1,"name":"","nameLocation":"end","nameRotate":null,"nameTruncate":{"maxWidth":null,"ellipsis":"...","placeholder":"."},"nameTextStyle":{},"nameGap":15,"silent":!1,"triggerEvent":!1,"tooltip":{"show":!1},"axisPointer":{},"axisLine":{"show":!0,"onZero":!0,"onZeroAxisIndex":null,"lineStyle":{"color":"#333","width":1,"type":"solid"},"symbol":["none","none"],"symbolSize":[10,15]},"axisTick":{"show":!0,"inside":!1,"length":5,"lineStyle":{"width":1
}},"axisLabel":{"show":!0,"inside":!1,"rotate":0,"showMinLabel":null,"showMaxLabel":null,"margin":8,"fontSize":12},"splitLine":{"show":!0,"lineStyle":{"color":["#ccc"],"width":1,"type":"solid"}},"splitArea":{"show":!1,"areaStyle":{"color":["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},axisDefault={};axisDefault.categoryAxis=zrUtil.merge({"boundaryGap":!0,"deduplication":null,"splitLine":{"show":!1},"axisTick":{"alignWithLabel":!1,"interval":"auto"},"axisLabel":{"interval":"auto"}},defaultOption),axisDefault.valueAxis=zrUtil.merge({"boundaryGap":[0,0],"splitNumber":5},defaultOption),axisDefault.timeAxis=zrUtil.defaults({"scale":!0,"min":"dataMin","max":"dataMax"},axisDefault.valueAxis),axisDefault.logAxis=zrUtil.defaults({"scale":!0,"logBase":10},axisDefault.valueAxis);var _default=axisDefault;module.exports=_default},function(module,exports,__webpack_require__){function getAxisType(axisDim,option){return option.type||(option.data?"category":"value")}var zrUtil=__webpack_require__(4),ComponentModel=__webpack_require__(51),axisModelCreator=__webpack_require__(273),axisModelCommonMixin=__webpack_require__(192),AxisModel=ComponentModel.extend({"type":"cartesian2dAxis","axis":null,"init":function(){AxisModel.superApply(this,"init",arguments),this.resetRange()},"mergeOption":function(){AxisModel.superApply(this,"mergeOption",arguments),this.resetRange()},"restoreData":function(){AxisModel.superApply(this,"restoreData",arguments),this.resetRange()},"getCoordSysModel":function(){return this.ecModel.queryComponents({"mainType":"grid","index":this.option.gridIndex,"id":this.option.gridId})[0]}});zrUtil.merge(AxisModel.prototype,axisModelCommonMixin);var extraOption={"offset":0};axisModelCreator("x",AxisModel,getAxisType,extraOption),axisModelCreator("y",AxisModel,getAxisType,extraOption);var _default=AxisModel;module.exports=_default},function(module,exports,__webpack_require__){function layout(gridModel,axisModel,opt){opt=opt||{};var grid=gridModel.coordinateSystem,axis=axisModel.axis,layout={},otherAxisOnZeroOf=axis.getAxesOnZeroOf()[0],rawAxisPosition=axis.position,axisPosition=otherAxisOnZeroOf?"onZero":rawAxisPosition,axisDim=axis.dim,rect=grid.getRect(),rectBound=[rect.x,rect.x+rect.width,rect.y,rect.y+rect.height],idx={"left":0,"right":1,"top":0,"bottom":1,"onZero":2},axisOffset=axisModel.get("offset")||0,posBound="x"===axisDim?[rectBound[2]-axisOffset,rectBound[3]+axisOffset]:[rectBound[0]-axisOffset,rectBound[1]+axisOffset];if(otherAxisOnZeroOf){var onZeroCoord=otherAxisOnZeroOf.toGlobalCoord(otherAxisOnZeroOf.dataToCoord(0));posBound[idx["onZero"]]=Math.max(Math.min(onZeroCoord,posBound[1]),posBound[0])}layout.position=["y"===axisDim?posBound[idx[axisPosition]]:rectBound[0],"x"===axisDim?posBound[idx[axisPosition]]:rectBound[3]],layout.rotation=Math.PI/2*("x"===axisDim?0:1);var dirMap={"top":-1,"bottom":1,"left":-1,"right":1};layout.labelDirection=layout.tickDirection=layout.nameDirection=dirMap[rawAxisPosition],layout.labelOffset=otherAxisOnZeroOf?posBound[idx[rawAxisPosition]]-posBound[idx["onZero"]]:0,axisModel.get("axisTick.inside")&&(layout.tickDirection=-layout.tickDirection),zrUtil.retrieve(opt.labelInside,axisModel.get("axisLabel.inside"))&&(layout.labelDirection=-layout.labelDirection);var labelRotate=axisModel.get("axisLabel.rotate");return layout.labelRotate="top"===axisPosition?-labelRotate:labelRotate,layout.z2=1,layout}var zrUtil=__webpack_require__(4);exports.layout=layout},function(module,exports,__webpack_require__){function Region(name,geometries,cp){if(this.name=name,this.geometries=geometries,cp)cp=[cp[0],cp[1]];else{var rect=this.getBoundingRect();cp=[rect.x+rect.width/2,rect.y+rect.height/2]}this.center=cp}var BoundingRect=__webpack_require__(43),bbox=__webpack_require__(508),vec2=__webpack_require__(38),polygonContain=__webpack_require__(916);Region.prototype={"constructor":Region,"properties":null,"getBoundingRect":function(){var rect=this._rect;if(rect)return rect;for(var MAX_NUMBER=Number.MAX_VALUE,min=[MAX_NUMBER,MAX_NUMBER],max=[-MAX_NUMBER,-MAX_NUMBER],min2=[],max2=[],geometries=this.geometries,i=0;i<geometries.length;i++)if("polygon"===geometries[i].type){var exterior=geometries[i].exterior;bbox.fromPoints(exterior,min2,max2),vec2.min(min,min,min2),vec2.max(max,max,max2)}return 0===i&&(min[0]=min[1]=max[0]=max[1]=0),this._rect=new BoundingRect(min[0],min[1],max[0]-min[0],max[1]-min[1])},"contain":function(coord){var rect=this.getBoundingRect(),geometries=this.geometries;if(!rect.contain(coord[0],coord[1]))return!1;loopGeo:for(var i=0,len=geometries.length;i<len;i++)if("polygon"===geometries[i].type){var exterior=geometries[i].exterior,interiors=geometries[i].interiors;if(polygonContain.contain(exterior,coord[0],coord[1])){for(var k=0;k<(interiors?interiors.length:0);k++)if(polygonContain.contain(interiors[k]))continue loopGeo;return!0}}return!1},"transformTo":function(x,y,width,height){var rect=this.getBoundingRect(),aspect=rect.width/rect.height;width?height||(height=width/aspect):width=aspect*height;for(var target=new BoundingRect(x,y,width,height),transform=rect.calculateTransform(target),geometries=this.geometries,i=0;i<geometries.length;i++)if("polygon"===geometries[i].type){for(var exterior=geometries[i].exterior,interiors=geometries[i].interiors,p=0;p<exterior.length;p++)vec2.applyTransform(exterior[p],exterior[p],transform);for(var h=0;h<(interiors?interiors.length:0);h++)for(var p=0;p<interiors[h].length;p++)vec2.applyTransform(interiors[h][p],interiors[h][p],transform)}rect=this._rect,rect.copy(target),this.center=[rect.x+rect.width/2,rect.y+rect.height/2]}};var _default=Region;module.exports=_default},function(module,exports,__webpack_require__){function decode(json){if(!json.UTF8Encoding)return json;var encodeScale=json.UTF8Scale;null==encodeScale&&(encodeScale=1024);for(var features=json.features,f=0;f<features.length;f++)for(var feature=features[f],geometry=feature.geometry,coordinates=geometry.coordinates,encodeOffsets=geometry.encodeOffsets,c=0;c<coordinates.length;c++){var coordinate=coordinates[c];if("Polygon"===geometry.type)coordinates[c]=decodePolygon(coordinate,encodeOffsets[c],encodeScale);else if("MultiPolygon"===geometry.type)for(var c2=0;c2<coordinate.length;c2++){var polygon=coordinate[c2];coordinate[c2]=decodePolygon(polygon,encodeOffsets[c][c2],encodeScale)}}return json.UTF8Encoding=!1,json}function decodePolygon(coordinate,encodeOffsets,encodeScale){for(var result=[],prevX=encodeOffsets[0],prevY=encodeOffsets[1],i=0;i<coordinate.length;i+=2){var x=coordinate.charCodeAt(i)-64,y=coordinate.charCodeAt(i+1)-64;x=x>>1^-(1&x),y=y>>1^-(1&y),x+=prevX,y+=prevY,prevX=x,prevY=y,result.push([x/encodeScale,y/encodeScale])}return result}function _default(geoJson){return decode(geoJson),zrUtil.map(zrUtil.filter(geoJson.features,function(featureObj){return featureObj.geometry&&featureObj.properties&&featureObj.geometry.coordinates.length>0}),function(featureObj){var properties=featureObj.properties,geo=featureObj.geometry,coordinates=geo.coordinates,geometries=[];"Polygon"===geo.type&&geometries.push({"type":"polygon","exterior":coordinates[0],"interiors":coordinates.slice(1)}),"MultiPolygon"===geo.type&&zrUtil.each(coordinates,function(item){item[0]&&geometries.push({"type":"polygon","exterior":item[0],"interiors":item.slice(1)})});var region=new Region(properties.name,geometries,properties.cp);return region.properties=properties,region})}var zrUtil=__webpack_require__(4),Region=__webpack_require__(651);module.exports=_default},function(module,exports,__webpack_require__){function create(ecModel,api){var coordSysList=[];return ecModel.eachComponent("parallel",function(parallelModel,idx){var coordSys=new Parallel(parallelModel,ecModel,api);coordSys.name="parallel_"+idx,coordSys.resize(parallelModel,api),parallelModel.coordinateSystem=coordSys,coordSys.model=parallelModel,coordSysList.push(coordSys)}),ecModel.eachSeries(function(seriesModel){if("parallel"===seriesModel.get("coordinateSystem")){var parallelModel=ecModel.queryComponents({"mainType":"parallel","index":seriesModel.get("parallelIndex"),"id":seriesModel.get("parallelId")})[0];seriesModel.coordinateSystem=parallelModel.coordinateSystem}}),coordSysList}var Parallel=__webpack_require__(1559),CoordinateSystem=__webpack_require__(92);CoordinateSystem.register("parallel",{"create":create})},function(module,exports,__webpack_require__){function layout(axisModel,opt){opt=opt||{};var single=axisModel.coordinateSystem,axis=axisModel.axis,layout={},axisPosition=axis.position,orient=axis.orient,rect=single.getRect(),rectBound=[rect.x,rect.x+rect.width,rect.y,rect.y+rect.height],positionMap={"horizontal":{"top":rectBound[2],"bottom":rectBound[3]},"vertical":{"left":rectBound[0],"right":rectBound[1]}};layout.position=["vertical"===orient?positionMap.vertical[axisPosition]:rectBound[0],"horizontal"===orient?positionMap.horizontal[axisPosition]:rectBound[3]];var r={"horizontal":0,"vertical":1};layout.rotation=Math.PI/2*r[orient];var directionMap={"top":-1,"bottom":1,"right":1,"left":-1};layout.labelDirection=layout.tickDirection=layout.nameDirection=directionMap[axisPosition],axisModel.get("axisTick.inside")&&(layout.tickDirection=-layout.tickDirection),zrUtil.retrieve(opt.labelInside,axisModel.get("axisLabel.inside"))&&(layout.labelDirection=-layout.labelDirection);var labelRotation=opt.rotate;return null==labelRotation&&(labelRotation=axisModel.get("axisLabel.rotate")),layout.labelRotation="top"===axisPosition?-labelRotation:labelRotation,layout.z2=1,layout}var zrUtil=__webpack_require__(4);exports.layout=layout},function(module,exports,__webpack_require__){function OrdinalMeta(opt){this.categories=opt.categories||[],this._needCollect=opt.needCollect,this._deduplication=opt.deduplication,this._map}function getOrCreateMap(ordinalMeta){return ordinalMeta._map||(ordinalMeta._map=createHashMap(ordinalMeta.categories))}function getName(obj){return isObject(obj)&&null!=obj.value?obj.value:obj+""}var _util=__webpack_require__(4),createHashMap=_util.createHashMap,isObject=_util.isObject,map=_util.map;OrdinalMeta.createByAxisModel=function(axisModel){var option=axisModel.option,data=option.data,categories=data&&map(data,getName);return new OrdinalMeta({"categories":categories,"needCollect":!categories,"deduplication":option.dedplication!==!1})};var proto=OrdinalMeta.prototype;proto.getOrdinal=function(category){return getOrCreateMap(this).get(category)},proto.parseAndCollect=function(category){var index,needCollect=this._needCollect;if("string"!=typeof category&&!needCollect)return category;if(needCollect&&!this._deduplication)return index=this.categories.length,this.categories[index]=category,index;var map=getOrCreateMap(this);return index=map.get(category),null==index&&(needCollect?(index=this.categories.length,this.categories[index]=category,map.set(category,index)):index=NaN),index};var _default=OrdinalMeta;module.exports=_default},function(module,exports,__webpack_require__){function completeDimensions(sysDims,source,opt){function applyDim(resultItem,coordDim,coordDimIndex){null!=OTHER_DIMENSIONS.get(coordDim)?resultItem.otherDims[coordDim]=coordDimIndex:(resultItem.coordDim=coordDim,resultItem.coordDimIndex=coordDimIndex,coordDimNameMap.set(coordDim,!0))}Source.isInstance(source)||(source=Source.seriesDataToSource(source)),opt=opt||{},sysDims=(sysDims||[]).slice();for(var dimsDef=(opt.dimsDef||[]).slice(),encodeDef=createHashMap(opt.encodeDef),dataDimNameMap=createHashMap(),coordDimNameMap=createHashMap(),result=[],dimCount=getDimCount(source,sysDims,dimsDef,opt.dimCount),i=0;i<dimCount;i++){var dimDefItem=dimsDef[i]=extend({},isObject(dimsDef[i])?dimsDef[i]:{"name":dimsDef[i]}),userDimName=dimDefItem.name,resultItem=result[i]={"otherDims":{}};null!=userDimName&&null==dataDimNameMap.get(userDimName)&&(resultItem.name=resultItem.displayName=userDimName,dataDimNameMap.set(userDimName,i)),null!=dimDefItem.type&&(resultItem.type=dimDefItem.type),null!=dimDefItem.displayName&&(resultItem.displayName=dimDefItem.displayName)}encodeDef.each(function(dataDims,coordDim){dataDims=normalizeToArray(dataDims).slice();var validDataDims=encodeDef.set(coordDim,[]);each(dataDims,function(resultDimIdx,idx){isString(resultDimIdx)&&(resultDimIdx=dataDimNameMap.get(resultDimIdx)),null!=resultDimIdx&&resultDimIdx<dimCount&&(validDataDims[idx]=resultDimIdx,applyDim(result[resultDimIdx],coordDim,idx))})});var availDimIdx=0;each(sysDims,function(sysDimItem,sysDimIndex){var coordDim,sysDimItem,sysDimItemDimsDef,sysDimItemOtherDims;if(isString(sysDimItem))coordDim=sysDimItem,sysDimItem={};else{coordDim=sysDimItem.name;var ordinalMeta=sysDimItem.ordinalMeta;sysDimItem.ordinalMeta=null,sysDimItem=clone(sysDimItem),sysDimItem.ordinalMeta=ordinalMeta,sysDimItemDimsDef=sysDimItem.dimsDef,sysDimItemOtherDims=sysDimItem.otherDims,sysDimItem.name=sysDimItem.coordDim=sysDimItem.coordDimIndex=sysDimItem.dimsDef=sysDimItem.otherDims=null}var dataDims=normalizeToArray(encodeDef.get(coordDim));if(!dataDims.length)for(var i=0;i<(sysDimItemDimsDef&&sysDimItemDimsDef.length||1);i++){for(;availDimIdx<result.length&&null!=result[availDimIdx].coordDim;)availDimIdx++;availDimIdx<result.length&&dataDims.push(availDimIdx++)}each(dataDims,function(resultDimIdx,coordDimIndex){var resultItem=result[resultDimIdx];if(applyDim(defaults(resultItem,sysDimItem),coordDim,coordDimIndex),null==resultItem.name&&sysDimItemDimsDef){var sysDimItemDimsDefItem=sysDimItemDimsDef[coordDimIndex];!isObject(sysDimItemDimsDefItem)&&(sysDimItemDimsDefItem={"name":sysDimItemDimsDefItem}),resultItem.name=resultItem.displayName=sysDimItemDimsDefItem.name,resultItem.defaultTooltip=sysDimItemDimsDefItem.defaultTooltip}sysDimItemOtherDims&&defaults(resultItem.otherDims,sysDimItemOtherDims)})});var generateCoord=opt.generateCoord,generateCoordCount=opt.generateCoordCount,fromZero=null!=generateCoordCount;generateCoordCount=generateCoord?generateCoordCount||1:0;for(var extra=generateCoord||"value",resultDimIdx=0;resultDimIdx<dimCount;resultDimIdx++){var resultItem=result[resultDimIdx]=result[resultDimIdx]||{},coordDim=resultItem.coordDim;null==coordDim&&(resultItem.coordDim=genName(extra,coordDimNameMap,fromZero),resultItem.coordDimIndex=0,(!generateCoord||generateCoordCount<=0)&&(resultItem.isExtraCoord=!0),generateCoordCount--),null==resultItem.name&&(resultItem.name=genName(resultItem.coordDim,dataDimNameMap)),null==resultItem.type&&guessOrdinal(source,resultDimIdx,resultItem.name)&&(resultItem.type="ordinal")}return result}function getDimCount(source,sysDims,dimsDef,optDimCount){var dimCount=Math.max(source.dimensionsDetectCount||1,sysDims.length,dimsDef.length,optDimCount||0);return each(sysDims,function(sysDimItem){var sysDimItemDimsDef=sysDimItem.dimsDef;sysDimItemDimsDef&&(dimCount=Math.max(dimCount,sysDimItemDimsDef.length))}),dimCount}function genName(name,map,fromZero){if(fromZero||null!=map.get(name)){for(var i=0;null!=map.get(name+i);)i++;name+=i}return map.set(name,!0),name}var _util=__webpack_require__(4),createHashMap=_util.createHashMap,each=_util.each,isString=_util.isString,defaults=_util.defaults,extend=_util.extend,isObject=_util.isObject,clone=_util.clone,_model=__webpack_require__(27),normalizeToArray=_model.normalizeToArray,_sourceHelper=__webpack_require__(275),guessOrdinal=_sourceHelper.guessOrdinal,Source=__webpack_require__(220),_dimensionHelper=__webpack_require__(221),OTHER_DIMENSIONS=_dimensionHelper.OTHER_DIMENSIONS,_default=completeDimensions;module.exports=_default},function(module,exports,__webpack_require__){function linkList(opt){var mainData=opt.mainData,datas=opt.datas;datas||(datas={"main":mainData},opt.datasAttr={"main":"data"}),opt.datas=opt.mainData=null,linkAll(mainData,datas,opt),each(datas,function(data){each(mainData.TRANSFERABLE_METHODS,function(methodName){data.wrapMethod(methodName,zrUtil.curry(transferInjection,opt))})}),mainData.wrapMethod("cloneShallow",zrUtil.curry(cloneShallowInjection,opt)),each(mainData.CHANGABLE_METHODS,function(methodName){mainData.wrapMethod(methodName,zrUtil.curry(changeInjection,opt))}),zrUtil.assert(datas[mainData.dataType]===mainData)}function transferInjection(opt,res){if(isMainData(this)){var datas=zrUtil.extend({},this[DATAS]);datas[this.dataType]=res,linkAll(res,datas,opt)}else linkSingle(res,this.dataType,this[MAIN_DATA],opt);return res}function changeInjection(opt,res){return opt.struct&&opt.struct.update(this),res}function cloneShallowInjection(opt,res){return each(res[DATAS],function(data,dataType){data!==res&&linkSingle(data.cloneShallow(),dataType,res,opt)}),res}function getLinkedData(dataType){var mainData=this[MAIN_DATA];return null==dataType||null==mainData?mainData:mainData[DATAS][dataType]}function isMainData(data){return data[MAIN_DATA]===data}function linkAll(mainData,datas,opt){mainData[DATAS]={},each(datas,function(data,dataType){linkSingle(data,dataType,mainData,opt)})}function linkSingle(data,dataType,mainData,opt){mainData[DATAS][dataType]=data,data[MAIN_DATA]=mainData,data.dataType=dataType,opt.struct&&(data[opt.structAttr]=opt.struct,opt.struct[opt.datasAttr[dataType]]=data),data.getLinkedData=getLinkedData}var zrUtil=__webpack_require__(4),each=zrUtil.each,DATAS="\0__link_datas",MAIN_DATA="\0__link_mainData",_default=linkList;module.exports=_default},function(module,exports,__webpack_require__){var zrender=__webpack_require__(319);exports.zrender=zrender;var matrix=__webpack_require__(70);exports.matrix=matrix;var vector=__webpack_require__(38);exports.vector=vector;var zrUtil=__webpack_require__(4),colorTool=__webpack_require__(125);exports.color=colorTool;var graphic=__webpack_require__(15);exports.graphic=graphic;var numberUtil=__webpack_require__(20);exports.number=numberUtil;var formatUtil=__webpack_require__(40);exports.format=formatUtil;var _throttle=__webpack_require__(163);_throttle.throttle;exports.throttle=_throttle.throttle;var ecHelper=__webpack_require__(1578);exports.helper=ecHelper;var parseGeoJSON=__webpack_require__(652);exports.parseGeoJSON=parseGeoJSON;var _List=__webpack_require__(82);exports.List=_List;var _Model=__webpack_require__(56);exports.Model=_Model;var _Axis=__webpack_require__(132);exports.Axis=_Axis;var _env=__webpack_require__(52);exports.env=_env;var parseGeoJson=parseGeoJSON,ecUtil={};zrUtil.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(name){ecUtil[name]=zrUtil[name]}),exports.parseGeoJson=parseGeoJson,exports.util=ecUtil},function(module,exports,__webpack_require__){function isNotTargetSeries(seriesModel,payload){if(payload){var index=payload.seiresIndex,id=payload.seriesId,name=payload.seriesName;return null!=index&&seriesModel.componentIndex!==index||null!=id&&seriesModel.id!==id||null!=name&&seriesModel.name!==name}}function mergeTheme(option,theme){var notMergeColorLayer=option.color&&!option.colorLayer;each(theme,function(themeItem,name){"colorLayer"===name&&notMergeColorLayer||ComponentModel.hasClass(name)||("object"==typeof themeItem?option[name]=option[name]?merge(option[name],themeItem,!1):clone(themeItem):null==option[name]&&(option[name]=themeItem))})}function initBase(baseOption){baseOption=baseOption,this.option={},this.option[OPTION_INNER_KEY]=1,this._componentsMap=createHashMap({"series":[]}),this._seriesIndices,this._seriesIndicesMap,mergeTheme(baseOption,this._theme.option),merge(baseOption,globalDefault,!1),this.mergeOption(baseOption)}function getComponentsByTypes(componentsMap,types){isArray(types)||(types=types?[types]:[]);var ret={};return each(types,function(type){ret[type]=(componentsMap.get(type)||[]).slice()}),ret}function determineSubType(mainType,newCptOption,existComponent){var subType=newCptOption.type?newCptOption.type:existComponent?existComponent.subType:ComponentModel.determineSubType(mainType,newCptOption);return subType}function createSeriesIndices(ecModel,seriesModels){ecModel._seriesIndicesMap=createHashMap(ecModel._seriesIndices=map(seriesModels,function(series){return series.componentIndex})||[])}function filterBySubType(components,condition){return condition.hasOwnProperty("subType")?filter(components,function(cpt){return cpt.subType===condition.subType}):components}function assertSeriesInitialized(ecModel){}var _config=__webpack_require__(30),_util=(_config.__DEV__,__webpack_require__(4)),each=_util.each,filter=_util.filter,map=_util.map,isArray=_util.isArray,indexOf=_util.indexOf,isObject=_util.isObject,isString=_util.isString,createHashMap=_util.createHashMap,assert=_util.assert,clone=_util.clone,merge=_util.merge,extend=_util.extend,mixin=_util.mixin,modelUtil=__webpack_require__(27),Model=__webpack_require__(56),ComponentModel=__webpack_require__(51),globalDefault=__webpack_require__(1582),colorPaletteMixin=__webpack_require__(660),_sourceHelper=__webpack_require__(275),resetSourceDefaulter=_sourceHelper.resetSourceDefaulter,OPTION_INNER_KEY="\0_ec_inner",GlobalModel=Model.extend({"init":function(option,parentModel,theme,optionManager){theme=theme||{},this.option=null,this._theme=new Model(theme),this._optionManager=optionManager},"setOption":function(option,optionPreprocessorFuncs){assert(!(OPTION_INNER_KEY in option),"please use chart.getOption()"),this._optionManager.setOption(option,optionPreprocessorFuncs),this.resetOption(null)},"resetOption":function(type){var optionChanged=!1,optionManager=this._optionManager;if(!type||"recreate"===type){var baseOption=optionManager.mountOption("recreate"===type);this.option&&"recreate"!==type?(this.restoreData(),this.mergeOption(baseOption)):initBase.call(this,baseOption),optionChanged=!0}if("timeline"!==type&&"media"!==type||this.restoreData(),!type||"recreate"===type||"timeline"===type){var timelineOption=optionManager.getTimelineOption(this);timelineOption&&(this.mergeOption(timelineOption),optionChanged=!0)}if(!type||"recreate"===type||"media"===type){var mediaOptions=optionManager.getMediaOption(this,this._api);mediaOptions.length&&each(mediaOptions,function(mediaOption){this.mergeOption(mediaOption,optionChanged=!0)},this)}return optionChanged},"mergeOption":function(newOption){function visitComponent(mainType,dependencies){var newCptOptionList=modelUtil.normalizeToArray(newOption[mainType]),mapResult=modelUtil.mappingToExists(componentsMap.get(mainType),newCptOptionList);modelUtil.makeIdAndName(mapResult),each(mapResult,function(item,index){var opt=item.option;isObject(opt)&&(item.keyInfo.mainType=mainType,item.keyInfo.subType=determineSubType(mainType,opt,item.exist))});var dependentModels=getComponentsByTypes(componentsMap,dependencies);option[mainType]=[],componentsMap.set(mainType,[]),each(mapResult,function(resultItem,index){var componentModel=resultItem.exist,newCptOption=resultItem.option;if(assert(isObject(newCptOption)||componentModel,"Empty component definition"),newCptOption){var ComponentModelClass=ComponentModel.getClass(mainType,resultItem.keyInfo.subType,!0);if(componentModel&&componentModel instanceof ComponentModelClass)componentModel.name=resultItem.keyInfo.name,componentModel.mergeOption(newCptOption,this),componentModel.optionUpdated(newCptOption,!1);else{var extraOpt=extend({"dependentModels":dependentModels,"componentIndex":index},resultItem.keyInfo);componentModel=new ComponentModelClass(newCptOption,this,this,extraOpt),extend(componentModel,extraOpt),componentModel.init(newCptOption,this,this,extraOpt),componentModel.optionUpdated(null,!0)}}else componentModel.mergeOption({},this),componentModel.optionUpdated({},!1);componentsMap.get(mainType)[index]=componentModel,option[mainType][index]=componentModel.option},this),"series"===mainType&&createSeriesIndices(this,componentsMap.get("series"))}var option=this.option,componentsMap=this._componentsMap,newCptTypes=[];resetSourceDefaulter(this),each(newOption,function(componentOption,mainType){null!=componentOption&&(ComponentModel.hasClass(mainType)?mainType&&newCptTypes.push(mainType):option[mainType]=null==option[mainType]?clone(componentOption):merge(option[mainType],componentOption,!0))}),ComponentModel.topologicalTravel(newCptTypes,ComponentModel.getAllClassMainTypes(),visitComponent,this),this._seriesIndicesMap=createHashMap(this._seriesIndices=this._seriesIndices||[])},"getOption":function(){var option=clone(this.option);return each(option,function(opts,mainType){if(ComponentModel.hasClass(mainType)){for(var opts=modelUtil.normalizeToArray(opts),i=opts.length-1;i>=0;i--)modelUtil.isIdInner(opts[i])&&opts.splice(i,1);option[mainType]=opts}}),delete option[OPTION_INNER_KEY],option},"getTheme":function(){return this._theme},"getComponent":function(mainType,idx){var list=this._componentsMap.get(mainType);if(list)return list[idx||0]},"queryComponents":function(condition){var mainType=condition.mainType;if(!mainType)return[];var index=condition.index,id=condition.id,name=condition.name,cpts=this._componentsMap.get(mainType);if(!cpts||!cpts.length)return[];var result;if(null!=index)isArray(index)||(index=[index]),result=filter(map(index,function(idx){return cpts[idx]}),function(val){return!!val});else if(null!=id){var isIdArray=isArray(id);result=filter(cpts,function(cpt){return isIdArray&&indexOf(id,cpt.id)>=0||!isIdArray&&cpt.id===id})}else if(null!=name){var isNameArray=isArray(name);result=filter(cpts,function(cpt){return isNameArray&&indexOf(name,cpt.name)>=0||!isNameArray&&cpt.name===name})}else result=cpts.slice();return filterBySubType(result,condition)},"findComponents":function(condition){function getQueryCond(q){var indexAttr=mainType+"Index",idAttr=mainType+"Id",nameAttr=mainType+"Name";return!q||null==q[indexAttr]&&null==q[idAttr]&&null==q[nameAttr]?null:{"mainType":mainType,"index":q[indexAttr],"id":q[idAttr],"name":q[nameAttr]}}function doFilter(res){return condition.filter?filter(res,condition.filter):res}var query=condition.query,mainType=condition.mainType,queryCond=getQueryCond(query),result=queryCond?this.queryComponents(queryCond):this._componentsMap.get(mainType);return doFilter(filterBySubType(result,condition))},"eachComponent":function(mainType,cb,context){var componentsMap=this._componentsMap;if("function"==typeof mainType)context=cb,cb=mainType,componentsMap.each(function(components,componentType){each(components,function(component,index){cb.call(context,componentType,component,index)})});else if(isString(mainType))each(componentsMap.get(mainType),cb,context);else if(isObject(mainType)){var queryResult=this.findComponents(mainType);each(queryResult,cb,context)}},"getSeriesByName":function(name){var series=this._componentsMap.get("series");return filter(series,function(oneSeries){return oneSeries.name===name})},"getSeriesByIndex":function(seriesIndex){return this._componentsMap.get("series")[seriesIndex]},"getSeriesByType":function(subType){var series=this._componentsMap.get("series");return filter(series,function(oneSeries){return oneSeries.subType===subType})},"getSeries":function(){return this._componentsMap.get("series").slice()},"getSeriesCount":function(){return this._componentsMap.get("series").length},"eachSeries":function(cb,context){assertSeriesInitialized(this),each(this._seriesIndices,function(rawSeriesIndex){var series=this._componentsMap.get("series")[rawSeriesIndex];cb.call(context,series,rawSeriesIndex)},this)},"eachRawSeries":function(cb,context){each(this._componentsMap.get("series"),cb,context)},"eachSeriesByType":function(subType,cb,context){assertSeriesInitialized(this),each(this._seriesIndices,function(rawSeriesIndex){var series=this._componentsMap.get("series")[rawSeriesIndex];series.subType===subType&&cb.call(context,series,rawSeriesIndex)},this)},"eachRawSeriesByType":function(subType,cb,context){return each(this.getSeriesByType(subType),cb,context)},"isSeriesFiltered":function(seriesModel){return assertSeriesInitialized(this),null==this._seriesIndicesMap.get(seriesModel.componentIndex)},"getCurrentSeriesIndices":function(){return(this._seriesIndices||[]).slice()},"filterSeries":function(cb,context){assertSeriesInitialized(this);var filteredSeries=filter(this._componentsMap.get("series"),cb,context);createSeriesIndices(this,filteredSeries)},"restoreData":function(payload){var componentsMap=this._componentsMap;createSeriesIndices(this,componentsMap.get("series"));var componentTypes=[];componentsMap.each(function(components,componentType){componentTypes.push(componentType)}),ComponentModel.topologicalTravel(componentTypes,ComponentModel.getAllClassMainTypes(),function(componentType,dependencies){each(componentsMap.get(componentType),function(component){("series"!==componentType||!isNotTargetSeries(component,payload))&&component.restoreData()})})}});mixin(GlobalModel,colorPaletteMixin);var _default=GlobalModel;module.exports=_default},function(module,exports,__webpack_require__){function getNearestColorPalette(colors,requestColorNum){for(var paletteNum=colors.length,i=0;i<paletteNum;i++)if(colors[i].length>requestColorNum)return colors[i];return colors[paletteNum-1]}var _model=__webpack_require__(27),makeInner=_model.makeInner,normalizeToArray=_model.normalizeToArray,inner=makeInner(),_default={"clearColorPalette":function(){inner(this).colorIdx=0,inner(this).colorNameMap={}},"getColorFromPalette":function(name,scope,requestColorNum){scope=scope||this;var scopeFields=inner(scope),colorIdx=scopeFields.colorIdx||0,colorNameMap=scopeFields.colorNameMap=scopeFields.colorNameMap||{};if(colorNameMap.hasOwnProperty(name))return colorNameMap[name];var defaultColorPalette=normalizeToArray(this.get("color",!0)),layeredColorPalette=this.get("colorLayer",!0),colorPalette=null!=requestColorNum&&layeredColorPalette?getNearestColorPalette(layeredColorPalette,requestColorNum):defaultColorPalette;if(colorPalette=colorPalette||defaultColorPalette,colorPalette&&colorPalette.length){var color=colorPalette[colorIdx];return name&&(colorNameMap[name]=color),scopeFields.colorIdx=(colorIdx+1)%colorPalette.length,color}}};module.exports=_default},function(module,exports,__webpack_require__){function getCoordSysDefineBySeries(seriesModel){var coordSysName=seriesModel.get("coordinateSystem"),result={"coordSysName":coordSysName,"coordSysDims":[],"axisMap":createHashMap(),"categoryAxisMap":createHashMap()},fetch=fetchers[coordSysName];if(fetch)return fetch(seriesModel,result,result.axisMap,result.categoryAxisMap),result}function isCategory(axisModel){return"category"===axisModel.get("type")}var _config=__webpack_require__(30),_util=(_config.__DEV__,__webpack_require__(4)),createHashMap=_util.createHashMap,each=(_util.retrieve,_util.each),fetchers={"cartesian2d":function(seriesModel,result,axisMap,categoryAxisMap){var xAxisModel=seriesModel.getReferringComponents("xAxis")[0],yAxisModel=seriesModel.getReferringComponents("yAxis")[0];result.coordSysDims=["x","y"],axisMap.set("x",xAxisModel),axisMap.set("y",yAxisModel),isCategory(xAxisModel)&&(categoryAxisMap.set("x",xAxisModel),result.firstCategoryDimIndex=0),isCategory(yAxisModel)&&(categoryAxisMap.set("y",yAxisModel),result.firstCategoryDimIndex=1)},"singleAxis":function(seriesModel,result,axisMap,categoryAxisMap){var singleAxisModel=seriesModel.getReferringComponents("singleAxis")[0];result.coordSysDims=["single"],axisMap.set("single",singleAxisModel),isCategory(singleAxisModel)&&(categoryAxisMap.set("single",singleAxisModel),result.firstCategoryDimIndex=0)},"polar":function(seriesModel,result,axisMap,categoryAxisMap){var polarModel=seriesModel.getReferringComponents("polar")[0],radiusAxisModel=polarModel.findAxisModel("radiusAxis"),angleAxisModel=polarModel.findAxisModel("angleAxis");result.coordSysDims=["radius","angle"],axisMap.set("radius",radiusAxisModel),axisMap.set("angle",angleAxisModel),isCategory(radiusAxisModel)&&(categoryAxisMap.set("radius",radiusAxisModel),result.firstCategoryDimIndex=0),isCategory(angleAxisModel)&&(categoryAxisMap.set("angle",angleAxisModel),result.firstCategoryDimIndex=1)},"geo":function(seriesModel,result,axisMap,categoryAxisMap){result.coordSysDims=["lng","lat"];
},"parallel":function(seriesModel,result,axisMap,categoryAxisMap){var ecModel=seriesModel.ecModel,parallelModel=ecModel.getComponent("parallel",seriesModel.get("parallelIndex")),coordSysDims=result.coordSysDims=parallelModel.dimensions.slice();each(parallelModel.parallelAxisIndex,function(axisIndex,index){var axisModel=ecModel.getComponent("parallelAxis",axisIndex),axisDim=coordSysDims[index];axisMap.set(axisDim,axisModel),isCategory(axisModel)&&null==result.firstCategoryDimIndex&&(categoryAxisMap.set(axisDim,axisModel),result.firstCategoryDimIndex=index)})}};exports.getCoordSysDefineBySeries=getCoordSysDefineBySeries},function(module,exports,__webpack_require__){function intervalScaleNiceTicks(extent,splitNumber,minInterval,maxInterval){var result={},span=extent[1]-extent[0],interval=result.interval=numberUtil.nice(span/splitNumber,!0);null!=minInterval&&interval<minInterval&&(interval=result.interval=minInterval),null!=maxInterval&&interval>maxInterval&&(interval=result.interval=maxInterval);var precision=result.intervalPrecision=getIntervalPrecision(interval),niceTickExtent=result.niceTickExtent=[roundNumber(Math.ceil(extent[0]/interval)*interval,precision),roundNumber(Math.floor(extent[1]/interval)*interval,precision)];return fixExtent(niceTickExtent,extent),result}function getIntervalPrecision(interval){return numberUtil.getPrecisionSafe(interval)+2}function clamp(niceTickExtent,idx,extent){niceTickExtent[idx]=Math.max(Math.min(niceTickExtent[idx],extent[1]),extent[0])}function fixExtent(niceTickExtent,extent){!isFinite(niceTickExtent[0])&&(niceTickExtent[0]=extent[0]),!isFinite(niceTickExtent[1])&&(niceTickExtent[1]=extent[1]),clamp(niceTickExtent,0,extent),clamp(niceTickExtent,1,extent),niceTickExtent[0]>niceTickExtent[1]&&(niceTickExtent[0]=niceTickExtent[1])}function intervalScaleGetTicks(interval,extent,niceTickExtent,intervalPrecision){var ticks=[];if(!interval)return ticks;var safeLimit=1e4;extent[0]<niceTickExtent[0]&&ticks.push(extent[0]);for(var tick=niceTickExtent[0];tick<=niceTickExtent[1]&&(ticks.push(tick),tick=roundNumber(tick+interval,intervalPrecision),tick!==ticks[ticks.length-1]);)if(ticks.length>safeLimit)return[];return extent[1]>(ticks.length?ticks[ticks.length-1]:niceTickExtent[1])&&ticks.push(extent[1]),ticks}var numberUtil=__webpack_require__(20),roundNumber=numberUtil.round;exports.intervalScaleNiceTicks=intervalScaleNiceTicks,exports.getIntervalPrecision=getIntervalPrecision,exports.fixExtent=fixExtent,exports.intervalScaleGetTicks=intervalScaleGetTicks},function(module,exports,__webpack_require__){function nest(){function map(array,depth){if(depth>=keysFunction.length)return array;for(var i=-1,n=array.length,keyFunction=keysFunction[depth++],mapObject={},valuesByKey={};++i<n;){var keyValue=keyFunction(array[i]),values=valuesByKey[keyValue];values?values.push(array[i]):valuesByKey[keyValue]=[array[i]]}return zrUtil.each(valuesByKey,function(value,key){mapObject[key]=map(value,depth)}),mapObject}function entriesMap(mapObject,depth){if(depth>=keysFunction.length)return mapObject;var array=[],sortKeyFunction=sortKeysFunction[depth++];return zrUtil.each(mapObject,function(value,key){array.push({"key":key,"values":entriesMap(value,depth)})}),sortKeyFunction?array.sort(function(a,b){return sortKeyFunction(a.key,b.key)}):array}var keysFunction=[],sortKeysFunction=[];return{"key":function(d){return keysFunction.push(d),this},"sortKeys":function(order){return sortKeysFunction[keysFunction.length-1]=order,this},"entries":function(array){return entriesMap(map(array,0),0)}}}var zrUtil=__webpack_require__(4);module.exports=nest},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),visualDefault={"get":function(visualType,key,isCategory){var value=zrUtil.clone((defaultOption[visualType]||{})[key]);return isCategory&&zrUtil.isArray(value)?value[value.length-1]:value}},defaultOption={"color":{"active":["#006edd","#e0ffff"],"inactive":["rgba(0,0,0,0)"]},"colorHue":{"active":[0,360],"inactive":[0,0]},"colorSaturation":{"active":[.3,1],"inactive":[0,0]},"colorLightness":{"active":[.9,.5],"inactive":[0,0]},"colorAlpha":{"active":[.3,1],"inactive":[0,0]},"opacity":{"active":[.3,1],"inactive":[0,0]},"symbol":{"active":["circle","roundRect","diamond"],"inactive":["none"]},"symbolSize":{"active":[10,50],"inactive":[0,0]}},_default=visualDefault;module.exports=_default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){var guid=__webpack_require__(921),Eventful=__webpack_require__(176),Transformable=__webpack_require__(512),Animatable=__webpack_require__(2343),zrUtil=__webpack_require__(4),Element=function(opts){Transformable.call(this,opts),Eventful.call(this,opts),Animatable.call(this,opts),this.id=opts.id||guid()};Element.prototype={"type":"element","name":"","__zr":null,"ignore":!1,"clipPath":null,"isGroup":!1,"drift":function(dx,dy){switch(this.draggable){case"horizontal":dy=0;break;case"vertical":dx=0}var m=this.transform;m||(m=this.transform=[1,0,0,1,0,0]),m[4]+=dx,m[5]+=dy,this.decomposeTransform(),this.dirty(!1)},"beforeUpdate":function(){},"afterUpdate":function(){},"update":function(){this.updateTransform()},"traverse":function(cb,context){},"attrKV":function(key,value){if("position"===key||"scale"===key||"origin"===key){if(value){var target=this[key];target||(target=this[key]=[]),target[0]=value[0],target[1]=value[1]}}else this[key]=value},"hide":function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},"show":function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},"attr":function(key,value){if("string"==typeof key)this.attrKV(key,value);else if(zrUtil.isObject(key))for(var name in key)key.hasOwnProperty(name)&&this.attrKV(name,key[name]);return this.dirty(!1),this},"setClipPath":function(clipPath){var zr=this.__zr;zr&&clipPath.addSelfToZr(zr),this.clipPath&&this.clipPath!==clipPath&&this.removeClipPath(),this.clipPath=clipPath,clipPath.__zr=zr,clipPath.__clipTarget=this,this.dirty(!1)},"removeClipPath":function(){var clipPath=this.clipPath;clipPath&&(clipPath.__zr&&clipPath.removeSelfFromZr(clipPath.__zr),clipPath.__zr=null,clipPath.__clipTarget=null,this.clipPath=null,this.dirty(!1))},"addSelfToZr":function(zr){this.__zr=zr;var animators=this.animators;if(animators)for(var i=0;i<animators.length;i++)zr.animation.addAnimator(animators[i]);this.clipPath&&this.clipPath.addSelfToZr(zr)},"removeSelfFromZr":function(zr){this.__zr=null;var animators=this.animators;if(animators)for(var i=0;i<animators.length;i++)zr.animation.removeAnimator(animators[i]);this.clipPath&&this.clipPath.removeSelfFromZr(zr)}},zrUtil.mixin(Element,Animatable),zrUtil.mixin(Element,Transformable),zrUtil.mixin(Element,Eventful);var _default=Element;module.exports=_default},function(module,exports,__webpack_require__){function defaultGetter(target,key){return target[key]}function defaultSetter(target,key,value){target[key]=value}function interpolateNumber(p0,p1,percent){return(p1-p0)*percent+p0}function interpolateString(p0,p1,percent){return percent>.5?p1:p0}function interpolateArray(p0,p1,percent,out,arrDim){var len=p0.length;if(1==arrDim)for(var i=0;i<len;i++)out[i]=interpolateNumber(p0[i],p1[i],percent);else for(var len2=len&&p0[0].length,i=0;i<len;i++)for(var j=0;j<len2;j++)out[i][j]=interpolateNumber(p0[i][j],p1[i][j],percent)}function fillArr(arr0,arr1,arrDim){var arr0Len=arr0.length,arr1Len=arr1.length;if(arr0Len!==arr1Len){var isPreviousLarger=arr0Len>arr1Len;if(isPreviousLarger)arr0.length=arr1Len;else for(var i=arr0Len;i<arr1Len;i++)arr0.push(1===arrDim?arr1[i]:arraySlice.call(arr1[i]))}for(var len2=arr0[0]&&arr0[0].length,i=0;i<arr0.length;i++)if(1===arrDim)isNaN(arr0[i])&&(arr0[i]=arr1[i]);else for(var j=0;j<len2;j++)isNaN(arr0[i][j])&&(arr0[i][j]=arr1[i][j])}function isArraySame(arr0,arr1,arrDim){if(arr0===arr1)return!0;var len=arr0.length;if(len!==arr1.length)return!1;if(1===arrDim){for(var i=0;i<len;i++)if(arr0[i]!==arr1[i])return!1}else for(var len2=arr0[0].length,i=0;i<len;i++)for(var j=0;j<len2;j++)if(arr0[i][j]!==arr1[i][j])return!1;return!0}function catmullRomInterpolateArray(p0,p1,p2,p3,t,t2,t3,out,arrDim){var len=p0.length;if(1==arrDim)for(var i=0;i<len;i++)out[i]=catmullRomInterpolate(p0[i],p1[i],p2[i],p3[i],t,t2,t3);else for(var len2=p0[0].length,i=0;i<len;i++)for(var j=0;j<len2;j++)out[i][j]=catmullRomInterpolate(p0[i][j],p1[i][j],p2[i][j],p3[i][j],t,t2,t3)}function catmullRomInterpolate(p0,p1,p2,p3,t,t2,t3){var v0=.5*(p2-p0),v1=.5*(p3-p1);return(2*(p1-p2)+v0+v1)*t3+(-3*(p1-p2)-2*v0-v1)*t2+v0*t+p1}function cloneValue(value){if(isArrayLike(value)){var len=value.length;if(isArrayLike(value[0])){for(var ret=[],i=0;i<len;i++)ret.push(arraySlice.call(value[i]));return ret}return arraySlice.call(value)}return value}function rgba2String(rgba){return rgba[0]=Math.floor(rgba[0]),rgba[1]=Math.floor(rgba[1]),rgba[2]=Math.floor(rgba[2]),"rgba("+rgba.join(",")+")"}function getArrayDim(keyframes){var lastValue=keyframes[keyframes.length-1].value;return isArrayLike(lastValue&&lastValue[0])?2:1}function createTrackClip(animator,easing,oneTrackDone,keyframes,propName,forceAnimate){var getter=animator._getter,setter=animator._setter,useSpline="spline"===easing,trackLen=keyframes.length;if(trackLen){var trackMaxTime,firstVal=keyframes[0].value,isValueArray=isArrayLike(firstVal),isValueColor=!1,isValueString=!1,arrDim=isValueArray?getArrayDim(keyframes):0;keyframes.sort(function(a,b){return a.time-b.time}),trackMaxTime=keyframes[trackLen-1].time;for(var kfPercents=[],kfValues=[],prevValue=keyframes[0].value,isAllValueEqual=!0,i=0;i<trackLen;i++){kfPercents.push(keyframes[i].time/trackMaxTime);var value=keyframes[i].value;if(isValueArray&&isArraySame(value,prevValue,arrDim)||!isValueArray&&value===prevValue||(isAllValueEqual=!1),prevValue=value,"string"==typeof value){var colorArray=color.parse(value);colorArray?(value=colorArray,isValueColor=!0):isValueString=!0}kfValues.push(value)}if(forceAnimate||!isAllValueEqual){for(var lastValue=kfValues[trackLen-1],i=0;i<trackLen-1;i++)isValueArray?fillArr(kfValues[i],lastValue,arrDim):!isNaN(kfValues[i])||isNaN(lastValue)||isValueString||isValueColor||(kfValues[i]=lastValue);isValueArray&&fillArr(getter(animator._target,propName),lastValue,arrDim);var start,w,p0,p1,p2,p3,lastFrame=0,lastFramePercent=0;if(isValueColor)var rgba=[0,0,0,0];var onframe=function(target,percent){var frame;if(percent<0)frame=0;else if(percent<lastFramePercent){for(start=Math.min(lastFrame+1,trackLen-1),frame=start;frame>=0&&!(kfPercents[frame]<=percent);frame--);frame=Math.min(frame,trackLen-2)}else{for(frame=lastFrame;frame<trackLen&&!(kfPercents[frame]>percent);frame++);frame=Math.min(frame-1,trackLen-2)}lastFrame=frame,lastFramePercent=percent;var range=kfPercents[frame+1]-kfPercents[frame];if(0!==range)if(w=(percent-kfPercents[frame])/range,useSpline)if(p1=kfValues[frame],p0=kfValues[0===frame?frame:frame-1],p2=kfValues[frame>trackLen-2?trackLen-1:frame+1],p3=kfValues[frame>trackLen-3?trackLen-1:frame+2],isValueArray)catmullRomInterpolateArray(p0,p1,p2,p3,w,w*w,w*w*w,getter(target,propName),arrDim);else{var value;if(isValueColor)value=catmullRomInterpolateArray(p0,p1,p2,p3,w,w*w,w*w*w,rgba,1),value=rgba2String(rgba);else{if(isValueString)return interpolateString(p1,p2,w);value=catmullRomInterpolate(p0,p1,p2,p3,w,w*w,w*w*w)}setter(target,propName,value)}else if(isValueArray)interpolateArray(kfValues[frame],kfValues[frame+1],w,getter(target,propName),arrDim);else{var value;if(isValueColor)interpolateArray(kfValues[frame],kfValues[frame+1],w,rgba,1),value=rgba2String(rgba);else{if(isValueString)return interpolateString(kfValues[frame],kfValues[frame+1],w);value=interpolateNumber(kfValues[frame],kfValues[frame+1],w)}setter(target,propName,value)}},clip=new Clip({"target":animator._target,"life":trackMaxTime,"loop":animator._loop,"delay":animator._delay,"onframe":onframe,"ondestroy":oneTrackDone});return easing&&"spline"!==easing&&(clip.easing=easing),clip}}}var Clip=__webpack_require__(2322),color=__webpack_require__(125),_util=__webpack_require__(4),isArrayLike=_util.isArrayLike,arraySlice=Array.prototype.slice,Animator=function(target,loop,getter,setter){this._tracks={},this._target=target,this._loop=loop||!1,this._getter=getter||defaultGetter,this._setter=setter||defaultSetter,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};Animator.prototype={"when":function(time,props){var tracks=this._tracks;for(var propName in props)if(props.hasOwnProperty(propName)){if(!tracks[propName]){tracks[propName]=[];var value=this._getter(this._target,propName);if(null==value)continue;0!==time&&tracks[propName].push({"time":0,"value":cloneValue(value)})}tracks[propName].push({"time":time,"value":props[propName]})}return this},"during":function(callback){return this._onframeList.push(callback),this},"pause":function(){for(var i=0;i<this._clipList.length;i++)this._clipList[i].pause();this._paused=!0},"resume":function(){for(var i=0;i<this._clipList.length;i++)this._clipList[i].resume();this._paused=!1},"isPaused":function(){return!!this._paused},"_doneCallback":function(){this._tracks={},this._clipList.length=0;for(var doneList=this._doneList,len=doneList.length,i=0;i<len;i++)doneList[i].call(this)},"start":function(easing,forceAnimate){var lastClip,self=this,clipCount=0,oneTrackDone=function(){clipCount--,clipCount||self._doneCallback()};for(var propName in this._tracks)if(this._tracks.hasOwnProperty(propName)){var clip=createTrackClip(this,easing,oneTrackDone,this._tracks[propName],propName,forceAnimate);clip&&(this._clipList.push(clip),clipCount++,this.animation&&this.animation.addClip(clip),lastClip=clip)}if(lastClip){var oldOnFrame=lastClip.onframe;lastClip.onframe=function(target,percent){oldOnFrame(target,percent);for(var i=0;i<self._onframeList.length;i++)self._onframeList[i](target,percent)}}return clipCount||this._doneCallback(),this},"stop":function(forwardToLast){for(var clipList=this._clipList,animation=this.animation,i=0;i<clipList.length;i++){var clip=clipList[i];forwardToLast&&clip.onframe(this._target,1),animation&&animation.removeClip(clip)}clipList.length=0},"delay":function(time){return this._delay=time,this},"done":function(cb){return cb&&this._doneList.push(cb),this},"getClips":function(){return this._clipList}};var _default=Animator;module.exports=_default},function(module,exports){var _default="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(func){setTimeout(func,16)};module.exports=_default},function(module,exports){function containStroke(x0,y0,x1,y1,lineWidth,x,y){if(0===lineWidth)return!1;var _l=lineWidth,_a=0,_b=x0;if(y>y0+_l&&y>y1+_l||y<y0-_l&&y<y1-_l||x>x0+_l&&x>x1+_l||x<x0-_l&&x<x1-_l)return!1;if(x0===x1)return Math.abs(x-x0)<=_l/2;_a=(y0-y1)/(x0-x1),_b=(x0*y1-x1*y0)/(x0-x1);var tmp=_a*x-y+_b,_s=tmp*tmp/(_a*_a+1);return _s<=_l/2*_l/2}exports.containStroke=containStroke},function(module,exports,__webpack_require__){function isAroundEqual(a,b){return Math.abs(a-b)<EPSILON}function contain(points,x,y){var w=0,p=points[0];if(!p)return!1;for(var i=1;i<points.length;i++){var p2=points[i];w+=windingLine(p[0],p[1],p2[0],p2[1],x,y),p=p2}var p0=points[0];return isAroundEqual(p[0],p0[0])&&isAroundEqual(p[1],p0[1])||(w+=windingLine(p[0],p[1],p0[0],p0[1],x,y)),0!==w}var windingLine=__webpack_require__(919),EPSILON=1e-8;exports.contain=contain},function(module,exports,__webpack_require__){function containStroke(x0,y0,x1,y1,x2,y2,lineWidth,x,y){if(0===lineWidth)return!1;var _l=lineWidth;if(y>y0+_l&&y>y1+_l&&y>y2+_l||y<y0-_l&&y<y1-_l&&y<y2-_l||x>x0+_l&&x>x1+_l&&x>x2+_l||x<x0-_l&&x<x1-_l&&x<x2-_l)return!1;var d=quadraticProjectPoint(x0,y0,x1,y1,x2,y2,x,y,null);return d<=_l/2}var _curve=__webpack_require__(140),quadraticProjectPoint=_curve.quadraticProjectPoint;exports.containStroke=containStroke},function(module,exports){function normalizeRadian(angle){return angle%=PI2,angle<0&&(angle+=PI2),angle}var PI2=2*Math.PI;exports.normalizeRadian=normalizeRadian},function(module,exports){function windingLine(x0,y0,x1,y1,x,y){if(y>y0&&y>y1||y<y0&&y<y1)return 0;if(y1===y0)return 0;var dir=y1<y0?1:-1,t=(y-y0)/(y1-y0);1!==t&&0!==t||(dir=y1<y0?.5:-.5);var x_=t*(x1-x0)+x0;return x_===x?1/0:x_>x?dir:0}module.exports=windingLine},function(module,exports){var LinkedList=function(){this.head=null,this.tail=null,this._len=0},linkedListProto=LinkedList.prototype;linkedListProto.insert=function(val){var entry=new Entry(val);return this.insertEntry(entry),entry},linkedListProto.insertEntry=function(entry){this.head?(this.tail.next=entry,entry.prev=this.tail,entry.next=null,this.tail=entry):this.head=this.tail=entry,this._len++},linkedListProto.remove=function(entry){var prev=entry.prev,next=entry.next;prev?prev.next=next:this.head=next,next?next.prev=prev:this.tail=prev,entry.next=entry.prev=null,this._len--},linkedListProto.len=function(){return this._len},linkedListProto.clear=function(){this.head=this.tail=null,this._len=0};var Entry=function(val){this.value=val,this.next,this.prev},LRU=function(maxSize){this._list=new LinkedList,this._map={},this._maxSize=maxSize||10,this._lastRemovedEntry=null},LRUProto=LRU.prototype;LRUProto.put=function(key,value){var list=this._list,map=this._map,removed=null;if(null==map[key]){var len=list.len(),entry=this._lastRemovedEntry;if(len>=this._maxSize&&len>0){var leastUsedEntry=list.head;list.remove(leastUsedEntry),delete map[leastUsedEntry.key],removed=leastUsedEntry.value,this._lastRemovedEntry=leastUsedEntry}entry?entry.value=value:entry=new Entry(value),entry.key=key,list.insertEntry(entry),map[key]=entry}return removed},LRUProto.get=function(key){var entry=this._map[key],list=this._list;if(null!=entry)return entry!==list.tail&&(list.remove(entry),list.insertEntry(entry)),entry.value},LRUProto.clear=function(){this._list.clear(),this._map={}};var _default=LRU;module.exports=_default},function(module,exports){function _default(){return idStart++}var idStart=2311;module.exports=_default},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),Gradient=__webpack_require__(317),LinearGradient=function(x,y,x2,y2,colorStops,globalCoord){this.x=null==x?0:x,this.y=null==y?0:y,this.x2=null==x2?1:x2,this.y2=null==y2?0:y2,this.type="linear",this.global=globalCoord||!1,Gradient.call(this,colorStops)};LinearGradient.prototype={"constructor":LinearGradient},zrUtil.inherits(LinearGradient,Gradient);var _default=LinearGradient;module.exports=_default},function(module,exports){var Pattern=function(image,repeat){this.image=image,this.repeat=repeat,this.type="pattern"};Pattern.prototype.getCanvasPattern=function(ctx){return ctx.createPattern(this.image,this.repeat||"repeat")};var _default=Pattern;module.exports=_default},function(module,exports,__webpack_require__){function createLinearGradient(ctx,obj,rect){var x=null==obj.x?0:obj.x,x2=null==obj.x2?1:obj.x2,y=null==obj.y?0:obj.y,y2=null==obj.y2?0:obj.y2;obj.global||(x=x*rect.width+rect.x,x2=x2*rect.width+rect.x,y=y*rect.height+rect.y,y2=y2*rect.height+rect.y),x=isNaN(x)?0:x,x2=isNaN(x2)?1:x2,y=isNaN(y)?0:y,y2=isNaN(y2)?0:y2;var canvasGradient=ctx.createLinearGradient(x,y,x2,y2);return canvasGradient}function createRadialGradient(ctx,obj,rect){var width=rect.width,height=rect.height,min=Math.min(width,height),x=null==obj.x?.5:obj.x,y=null==obj.y?.5:obj.y,r=null==obj.r?.5:obj.r;obj.global||(x=x*width+rect.x,y=y*height+rect.y,r*=min);var canvasGradient=ctx.createRadialGradient(x,y,0,x,y,r);return canvasGradient}var fixShadow=__webpack_require__(926),STYLE_COMMON_PROPS=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],Style=function(opts,host){this.extendFrom(opts,!1),this.host=host};Style.prototype={"constructor":Style,"host":null,"fill":"#000","stroke":null,"opacity":1,"lineDash":null,"lineDashOffset":0,"shadowBlur":0,"shadowOffsetX":0,"shadowOffsetY":0,"lineWidth":1,"strokeNoScale":!1,"text":null,"font":null,"textFont":null,"fontStyle":null,"fontWeight":null,"fontSize":null,"fontFamily":null,"textTag":null,"textFill":"#000","textStroke":null,"textWidth":null,"textHeight":null,"textStrokeWidth":0,"textLineHeight":null,"textPosition":"inside","textRect":null,"textOffset":null,"textAlign":null,"textVerticalAlign":null,"textDistance":5,"textShadowColor":"transparent","textShadowBlur":0,"textShadowOffsetX":0,"textShadowOffsetY":0,"textBoxShadowColor":"transparent","textBoxShadowBlur":0,"textBoxShadowOffsetX":0,"textBoxShadowOffsetY":0,"transformText":!1,"textRotation":0,"textOrigin":null,"textBackgroundColor":null,"textBorderColor":null,"textBorderWidth":0,"textBorderRadius":0,"textPadding":null,"rich":null,"truncate":null,"blend":null,"bind":function(ctx,el,prevEl){for(var style=this,prevStyle=prevEl&&prevEl.style,firstDraw=!prevStyle,i=0;i<STYLE_COMMON_PROPS.length;i++){var prop=STYLE_COMMON_PROPS[i],styleName=prop[0];(firstDraw||style[styleName]!==prevStyle[styleName])&&(ctx[styleName]=fixShadow(ctx,styleName,style[styleName]||prop[1]))}if((firstDraw||style.fill!==prevStyle.fill)&&(ctx.fillStyle=style.fill),(firstDraw||style.stroke!==prevStyle.stroke)&&(ctx.strokeStyle=style.stroke),(firstDraw||style.opacity!==prevStyle.opacity)&&(ctx.globalAlpha=null==style.opacity?1:style.opacity),(firstDraw||style.blend!==prevStyle.blend)&&(ctx.globalCompositeOperation=style.blend||"source-over"),this.hasStroke()){var lineWidth=style.lineWidth;ctx.lineWidth=lineWidth/(this.strokeNoScale&&el&&el.getLineScale?el.getLineScale():1)}},"hasFill":function(){var fill=this.fill;return null!=fill&&"none"!==fill},"hasStroke":function(){var stroke=this.stroke;return null!=stroke&&"none"!==stroke&&this.lineWidth>0},"extendFrom":function(otherStyle,overwrite){if(otherStyle)for(var name in otherStyle)!otherStyle.hasOwnProperty(name)||overwrite!==!0&&(overwrite===!1?this.hasOwnProperty(name):null==otherStyle[name])||(this[name]=otherStyle[name])},"set":function(obj,value){"string"==typeof obj?this[obj]=value:this.extendFrom(obj,!0)},"clone":function(){var newStyle=new this.constructor;return newStyle.extendFrom(this,!0),newStyle},"getGradient":function(ctx,obj,rect){for(var method="radial"===obj.type?createRadialGradient:createLinearGradient,canvasGradient=method(ctx,obj,rect),colorStops=obj.colorStops,i=0;i<colorStops.length;i++)canvasGradient.addColorStop(colorStops[i].offset,colorStops[i].color);return canvasGradient}};for(var styleProto=Style.prototype,i=0;i<STYLE_COMMON_PROPS.length;i++){var prop=STYLE_COMMON_PROPS[i];prop[0]in styleProto||(styleProto[prop[0]]=prop[1])}Style.getGradient=styleProto.getGradient;var _default=Style;module.exports=_default},function(module,exports,__webpack_require__){function _default(orignalBrush){return env.browser.ie&&env.browser.version>=11?function(){var modified,clipPaths=this.__clipPaths,style=this.style;if(clipPaths)for(var i=0;i<clipPaths.length;i++){var clipPath=clipPaths[i],shape=clipPath&&clipPath.shape,type=clipPath&&clipPath.type;if(shape&&("sector"===type&&shape.startAngle===shape.endAngle||"rect"===type&&(!shape.width||!shape.height))){for(var j=0;j<shadowTemp.length;j++)shadowTemp[j][2]=style[shadowTemp[j][0]],style[shadowTemp[j][0]]=shadowTemp[j][1];modified=!0;break}}if(orignalBrush.apply(this,arguments),modified)for(var j=0;j<shadowTemp.length;j++)style[shadowTemp[j][0]]=shadowTemp[j][2]}:orignalBrush}var env=__webpack_require__(52),shadowTemp=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];module.exports=_default},function(module,exports){function _default(ctx,propName,value){return SHADOW_PROPS.hasOwnProperty(propName)?value*=ctx.dpr:value}var SHADOW_PROPS={"shadowBlur":1,"shadowOffsetX":1,"shadowOffsetY":1,"textShadowBlur":1,"textShadowOffsetX":1,"textShadowOffsetY":1,"textBoxShadowBlur":1,"textBoxShadowOffsetX":1,"textBoxShadowOffsetY":1};module.exports=_default},function(module,exports,__webpack_require__){function buildPath(ctx,shape,closePath){var points=shape.points,smooth=shape.smooth;if(points&&points.length>=2){if(smooth&&"spline"!==smooth){var controlPoints=smoothBezier(points,smooth,closePath,shape.smoothConstraint);ctx.moveTo(points[0][0],points[0][1]);for(var len=points.length,i=0;i<(closePath?len:len-1);i++){var cp1=controlPoints[2*i],cp2=controlPoints[2*i+1],p=points[(i+1)%len];ctx.bezierCurveTo(cp1[0],cp1[1],cp2[0],cp2[1],p[0],p[1])}}else{"spline"===smooth&&(points=smoothSpline(points,closePath)),ctx.moveTo(points[0][0],points[0][1]);for(var i=1,l=points.length;i<l;i++)ctx.lineTo(points[i][0],points[i][1])}closePath&&ctx.closePath()}}var smoothSpline=__webpack_require__(2333),smoothBezier=__webpack_require__(2332);exports.buildPath=buildPath},function(module,exports){function buildPath(ctx,shape){var r1,r2,r3,r4,x=shape.x,y=shape.y,width=shape.width,height=shape.height,r=shape.r;width<0&&(x+=width,width=-width),height<0&&(y+=height,height=-height),"number"==typeof r?r1=r2=r3=r4=r:r instanceof Array?1===r.length?r1=r2=r3=r4=r[0]:2===r.length?(r1=r3=r[0],r2=r4=r[1]):3===r.length?(r1=r[0],r2=r4=r[1],r3=r[2]):(r1=r[0],r2=r[1],r3=r[2],r4=r[3]):r1=r2=r3=r4=0;var total;r1+r2>width&&(total=r1+r2,r1*=width/total,r2*=width/total),r3+r4>width&&(total=r3+r4,r3*=width/total,r4*=width/total),r2+r3>height&&(total=r2+r3,r2*=height/total,r3*=height/total),r1+r4>height&&(total=r1+r4,r1*=height/total,r4*=height/total),ctx.moveTo(x+r1,y),ctx.lineTo(x+width-r2,y),0!==r2&&ctx.arc(x+width-r2,y+r2,r2,-Math.PI/2,0),ctx.lineTo(x+width,y+height-r3),0!==r3&&ctx.arc(x+width-r3,y+height-r3,r3,0,Math.PI/2),ctx.lineTo(x+r4,y+height),0!==r4&&ctx.arc(x+r4,y+height-r4,r4,Math.PI/2,Math.PI),ctx.lineTo(x,y+r1),0!==r1&&ctx.arc(x+r1,y+r1,r1,Math.PI,1.5*Math.PI)}exports.buildPath=buildPath},function(module,exports,__webpack_require__){var textHelper=__webpack_require__(318),BoundingRect=__webpack_require__(43),tmpRect=new BoundingRect,RectText=function(){};RectText.prototype={"constructor":RectText,"drawRectText":function(ctx,rect){var style=this.style;rect=style.textRect||rect,this.__dirty&&textHelper.normalizeTextStyle(style,!0);var text=style.text;if(null!=text&&(text+=""),textHelper.needDrawText(text,style)){ctx.save();var transform=this.transform;style.transformText?this.setTransform(ctx):transform&&(tmpRect.copy(rect),tmpRect.applyTransform(transform),rect=tmpRect),textHelper.renderText(this,ctx,text,style,rect),ctx.restore()}}};var _default=RectText;module.exports=_default},function(module,exports,__webpack_require__){function createNode(tagName){return doCreateNode(tagName)}function initVML(){if(!vmlInited&&doc){vmlInited=!0;var styleSheets=doc.styleSheets;styleSheets.length<31?doc.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):styleSheets[0].addRule(".zrvml","behavior:url(#default#VML)")}}var doCreateNode,env=__webpack_require__(52),urn="urn:schemas-microsoft-com:vml",win="undefined"==typeof window?null:window,vmlInited=!1,doc=win&&win.document;if(doc&&!env.canvasSupported)try{!doc.namespaces.zrvml&&doc.namespaces.add("zrvml",urn),doCreateNode=function(tagName){return doc.createElement("<zrvml:"+tagName+' class="zrvml">')}}catch(e){doCreateNode=function(tagName){return doc.createElement("<"+tagName+' xmlns="'+urn+'" class="zrvml">')}}exports.doc=doc,exports.createNode=createNode,exports.initVML=initVML},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{"constructor":{"value":subClass,"enumerable":!1,"writable":!0,"configurable":!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{"value":!0}),exports["default"]=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(23),_propTypes2=_interopRequireDefault(_propTypes),_elementResizeEvent=__webpack_require__(1601),_elementResizeEvent2=_interopRequireDefault(_elementResizeEvent),isEqual=function isEqual(a,b){return JSON.stringify(a)===JSON.stringify(b)},EchartsReactCore=function(_Component){function EchartsReactCore(props){_classCallCheck(this,EchartsReactCore);var _this=_possibleConstructorReturn(this,(EchartsReactCore.__proto__||Object.getPrototypeOf(EchartsReactCore)).call(this,props));return _this.getEchartsInstance=function(){return _this.echartsLib.getInstanceByDom(_this.echartsElement)||_this.echartsLib.init(_this.echartsElement,_this.props.theme,_this.props.opts)},_this.dispose=function(){if(_this.echartsElement){try{_elementResizeEvent2["default"].unbind(_this.echartsElement)}catch(_){}_this.echartsLib.dispose(_this.echartsElement)}},_this.rerender=function(){var _this$props=_this.props,onEvents=_this$props.onEvents,onChartReady=_this$props.onChartReady,echartObj=_this.renderEchartDom();_this.bindEvents(echartObj,onEvents||{});try{echartObj.resize()}catch(_){}"function"==typeof onChartReady&&_this.props.onChartReady(echartObj),_this.echartsElement&&(0,_elementResizeEvent2["default"])(_this.echartsElement,function(){echartObj.resize()})},_this.bindEvents=function(instance,events){var _bindEvent=function _bindEvent(eventName,func){"string"==typeof eventName&&"function"==typeof func&&instance.on(eventName,function(param){func(param,instance)})};for(var eventName in events)Object.prototype.hasOwnProperty.call(events,eventName)&&_bindEvent(eventName,events[eventName])},_this.renderEchartDom=function(){var echartObj=_this.getEchartsInstance();return echartObj.setOption(_this.props.option,_this.props.notMerge||!1,_this.props.lazyUpdate||!1),_this.props.showLoading?echartObj.showLoading(_this.props.loadingOption||null):echartObj.hideLoading(),echartObj},_this.echartsLib=_this.props.echarts,_this.echartsElement=null,_this}return _inherits(EchartsReactCore,_Component),_createClass(EchartsReactCore,[{"key":"componentDidMount","value":function componentDidMount(){
this.rerender()}},{"key":"componentDidUpdate","value":function componentDidUpdate(prevProps){var echartObj=this.renderEchartDom();if(prevProps.theme!==this.props.theme||!isEqual(prevProps.opts,this.props.opts)||!isEqual(Object.keys(prevProps.onEvents||{}).sort(),Object.keys(this.props.onEvents||{}).sort()))return this.dispose(),void this.rerender();if(!isEqual(prevProps.style,this.props.style)||!isEqual(prevProps.className,this.props.className))try{echartObj.resize()}catch(_){}}},{"key":"componentWillUnmount","value":function componentWillUnmount(){this.dispose()}},{"key":"render","value":function render(){var _this2=this,_props=this.props,_props$style=_props.style,style=void 0===_props$style?{}:_props$style,className=_props.className,newStyle=_extends({"height":300},style);return _react2["default"].createElement("div",{"ref":function ref(e){_this2.echartsElement=e},"style":newStyle,"className":"echarts-for-react "+className})}}]),EchartsReactCore}(_react.Component);exports["default"]=EchartsReactCore,EchartsReactCore.propTypes={"option":_propTypes2["default"].object.isRequired,"echarts":_propTypes2["default"].object,"notMerge":_propTypes2["default"].bool,"lazyUpdate":_propTypes2["default"].bool,"style":_propTypes2["default"].object,"className":_propTypes2["default"].string,"theme":_propTypes2["default"].string,"onChartReady":_propTypes2["default"].func,"showLoading":_propTypes2["default"].bool,"loadingOption":_propTypes2["default"].object,"onEvents":_propTypes2["default"].object,"opts":_propTypes2["default"].shape({"devicePixelRatio":_propTypes2["default"].number,"renderer":_propTypes2["default"].oneOf(["canvas","svg"]),"width":_propTypes2["default"].oneOfType([_propTypes2["default"].number,_propTypes2["default"].oneOf([null,void 0,"auto"])]),"height":_propTypes2["default"].oneOfType([_propTypes2["default"].number,_propTypes2["default"].oneOf([null,void 0,"auto"])])})},EchartsReactCore.defaultProps={"echarts":{},"notMerge":!1,"lazyUpdate":!1,"style":{},"className":"","theme":null,"onChartReady":function onChartReady(){},"showLoading":!1,"loadingOption":null,"onEvents":{},"opts":{}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{"constructor":{"value":subClass,"enumerable":!1,"writable":!0,"configurable":!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{"value":!0}),exports["default"]=void 0;var _echarts=__webpack_require__(1340),_echarts2=_interopRequireDefault(_echarts),_core=__webpack_require__(1338),_core2=_interopRequireDefault(_core),EchartsReact=function(_EchartsReactCore){function EchartsReact(props){_classCallCheck(this,EchartsReact);var _this=_possibleConstructorReturn(this,(EchartsReact.__proto__||Object.getPrototypeOf(EchartsReact)).call(this,props));return _this.echartsLib=_echarts2["default"],_this}return _inherits(EchartsReact,_EchartsReactCore),EchartsReact}(_core2["default"]);exports["default"]=EchartsReact},function(module,exports,__webpack_require__){var _echarts=__webpack_require__(13);!function(){for(var key in _echarts){if(null==_echarts||!_echarts.hasOwnProperty(key)||"default"===key||"__esModule"===key)return;exports[key]=_echarts[key]}}();var _export=__webpack_require__(658);!function(){for(var key in _export){if(null==_export||!_export.hasOwnProperty(key)||"default"===key||"__esModule"===key)return;exports[key]=_export[key]}}(),__webpack_require__(629),__webpack_require__(1392),__webpack_require__(1341),__webpack_require__(1412),__webpack_require__(1428),__webpack_require__(1417),__webpack_require__(1400),__webpack_require__(1442),__webpack_require__(1448),__webpack_require__(1370),__webpack_require__(1366),__webpack_require__(1362),__webpack_require__(1407),__webpack_require__(1422),__webpack_require__(1347),__webpack_require__(1352),__webpack_require__(1359),__webpack_require__(1396),__webpack_require__(1383),__webpack_require__(1411),__webpack_require__(1437),__webpack_require__(1431),__webpack_require__(1358),__webpack_require__(1489),__webpack_require__(1490),__webpack_require__(1492),__webpack_require__(1531),__webpack_require__(215),__webpack_require__(1508),__webpack_require__(1487),__webpack_require__(638),__webpack_require__(639),__webpack_require__(1468),__webpack_require__(1475),__webpack_require__(1521),__webpack_require__(1477),__webpack_require__(1535),__webpack_require__(1500),__webpack_require__(1499),__webpack_require__(1498),__webpack_require__(1512),__webpack_require__(1522),__webpack_require__(2354),__webpack_require__(2349)},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),_barGrid=__webpack_require__(276),layout=_barGrid.layout,largeLayout=_barGrid.largeLayout;__webpack_require__(387),__webpack_require__(1342),__webpack_require__(1343),__webpack_require__(218),echarts.registerLayout(zrUtil.curry(layout,"bar")),echarts.registerLayout(largeLayout),echarts.registerVisual({"seriesType":"bar","reset":function(seriesModel){seriesModel.getData().setVisual("legendSymbol","roundRect")}})},function(module,exports,__webpack_require__){var BaseBarSeries=__webpack_require__(610),_default=BaseBarSeries.extend({"type":"series.bar","dependencies":["grid","polar"],"brushSelector":"rect","getProgressive":function(){return!!this.get("large")&&this.get("progressive")},"getProgressiveThreshold":function(){var progressiveThreshold=this.get("progressiveThreshold"),largeThreshold=this.get("largeThreshold");return largeThreshold>progressiveThreshold&&(progressiveThreshold=largeThreshold),progressiveThreshold}});module.exports=_default},function(module,exports,__webpack_require__){function removeRect(dataIndex,animationModel,el){el.style.text=null,graphic.updateProps(el,{"shape":{"width":0}},animationModel,dataIndex,function(){el.parent&&el.parent.remove(el)})}function removeSector(dataIndex,animationModel,el){el.style.text=null,graphic.updateProps(el,{"shape":{"r":el.shape.r0}},animationModel,dataIndex,function(){el.parent&&el.parent.remove(el)})}function updateStyle(el,data,dataIndex,itemModel,layout,seriesModel,isHorizontal,isPolar){var color=data.getItemVisual(dataIndex,"color"),opacity=data.getItemVisual(dataIndex,"opacity"),itemStyleModel=itemModel.getModel("itemStyle"),hoverStyle=itemModel.getModel("emphasis.itemStyle").getBarItemStyle();isPolar||el.setShape("r",itemStyleModel.get("barBorderRadius")||0),el.useStyle(zrUtil.defaults({"fill":color,"opacity":opacity},itemStyleModel.getBarItemStyle()));var cursorStyle=itemModel.getShallow("cursor");cursorStyle&&el.attr("cursor",cursorStyle);var labelPositionOutside=isHorizontal?layout.height>0?"bottom":"top":layout.width>0?"left":"right";isPolar||setLabel(el.style,hoverStyle,itemModel,color,seriesModel,dataIndex,labelPositionOutside),graphic.setHoverStyle(el,hoverStyle)}function getLineWidth(itemModel,rawLayout){var lineWidth=itemModel.get(BAR_BORDER_WIDTH_QUERY)||0;return Math.min(lineWidth,Math.abs(rawLayout.width),Math.abs(rawLayout.height))}function createLarge(seriesModel,group,incremental){var data=seriesModel.getData(),startPoint=[],valueIdx=data.getLayout("valueAxisHorizontal")?1:0;startPoint[1-valueIdx]=data.getLayout("valueAxisStart");var el=new LargePath({"shape":{"points":data.getLayout("largePoints")},"incremental":!!incremental,"__startPoint":startPoint,"__valueIdx":valueIdx});group.add(el),setLargeStyle(el,seriesModel,data)}function setLargeStyle(el,seriesModel,data){var borderColor=data.getVisual("borderColor")||data.getVisual("color"),itemStyle=seriesModel.getModel("itemStyle").getItemStyle(["color","borderColor"]);el.useStyle(itemStyle),el.style.fill=null,el.style.stroke=borderColor,el.style.lineWidth=data.getLayout("barWidth")}var _config=__webpack_require__(30),echarts=(_config.__DEV__,__webpack_require__(13)),zrUtil=__webpack_require__(4),graphic=__webpack_require__(15),_helper=__webpack_require__(611),setLabel=_helper.setLabel,Model=__webpack_require__(56),barItemStyle=__webpack_require__(1346),Path=__webpack_require__(50),BAR_BORDER_WIDTH_QUERY=["itemStyle","barBorderWidth"];zrUtil.extend(Model.prototype,barItemStyle);var _default=echarts.extendChartView({"type":"bar","render":function(seriesModel,ecModel,api){this._updateDrawMode(seriesModel);var coordinateSystemType=seriesModel.get("coordinateSystem");return"cartesian2d"!==coordinateSystemType&&"polar"!==coordinateSystemType||(this._isLargeDraw?this._renderLarge(seriesModel,ecModel,api):this._renderNormal(seriesModel,ecModel,api)),this.group},"incrementalPrepareRender":function(seriesModel,ecModel,api){this._clear(),this._updateDrawMode(seriesModel)},"incrementalRender":function(params,seriesModel,ecModel,api){this._incrementalRenderLarge(params,seriesModel)},"_updateDrawMode":function(seriesModel){var isLargeDraw=seriesModel.pipelineContext.large;(null==this._isLargeDraw||isLargeDraw^this._isLargeDraw)&&(this._isLargeDraw=isLargeDraw,this._clear())},"_renderNormal":function(seriesModel,ecModel,api){var isHorizontalOrRadial,group=this.group,data=seriesModel.getData(),oldData=this._data,coord=seriesModel.coordinateSystem,baseAxis=coord.getBaseAxis();"cartesian2d"===coord.type?isHorizontalOrRadial=baseAxis.isHorizontal():"polar"===coord.type&&(isHorizontalOrRadial="angle"===baseAxis.dim);var animationModel=seriesModel.isAnimationEnabled()?seriesModel:null;data.diff(oldData).add(function(dataIndex){if(data.hasValue(dataIndex)){var itemModel=data.getItemModel(dataIndex),layout=getLayout[coord.type](data,dataIndex,itemModel),el=elementCreator[coord.type](data,dataIndex,itemModel,layout,isHorizontalOrRadial,animationModel);data.setItemGraphicEl(dataIndex,el),group.add(el),updateStyle(el,data,dataIndex,itemModel,layout,seriesModel,isHorizontalOrRadial,"polar"===coord.type)}}).update(function(newIndex,oldIndex){var el=oldData.getItemGraphicEl(oldIndex);if(!data.hasValue(newIndex))return void group.remove(el);var itemModel=data.getItemModel(newIndex),layout=getLayout[coord.type](data,newIndex,itemModel);el?graphic.updateProps(el,{"shape":layout},animationModel,newIndex):el=elementCreator[coord.type](data,newIndex,itemModel,layout,isHorizontalOrRadial,animationModel,!0),data.setItemGraphicEl(newIndex,el),group.add(el),updateStyle(el,data,newIndex,itemModel,layout,seriesModel,isHorizontalOrRadial,"polar"===coord.type)}).remove(function(dataIndex){var el=oldData.getItemGraphicEl(dataIndex);"cartesian2d"===coord.type?el&&removeRect(dataIndex,animationModel,el):el&&removeSector(dataIndex,animationModel,el)}).execute(),this._data=data},"_renderLarge":function(seriesModel,ecModel,api){this._clear(),createLarge(seriesModel,this.group)},"_incrementalRenderLarge":function(params,seriesModel){createLarge(seriesModel,this.group,!0)},"dispose":zrUtil.noop,"remove":function(ecModel){this._clear(ecModel)},"_clear":function(ecModel){var group=this.group,data=this._data;ecModel&&ecModel.get("animation")&&data&&!this._isLargeDraw?data.eachItemGraphicEl(function(el){"sector"===el.type?removeSector(el.dataIndex,ecModel,el):removeRect(el.dataIndex,ecModel,el)}):group.removeAll(),this._data=null}}),elementCreator={"cartesian2d":function(data,dataIndex,itemModel,layout,isHorizontal,animationModel,isUpdate){var rect=new graphic.Rect({"shape":zrUtil.extend({},layout)});if(animationModel){var rectShape=rect.shape,animateProperty=isHorizontal?"height":"width",animateTarget={};rectShape[animateProperty]=0,animateTarget[animateProperty]=layout[animateProperty],graphic[isUpdate?"updateProps":"initProps"](rect,{"shape":animateTarget},animationModel,dataIndex)}return rect},"polar":function(data,dataIndex,itemModel,layout,isRadial,animationModel,isUpdate){var clockwise=layout.startAngle<layout.endAngle,sector=new graphic.Sector({"shape":zrUtil.defaults({"clockwise":clockwise},layout)});if(animationModel){var sectorShape=sector.shape,animateProperty=isRadial?"r":"endAngle",animateTarget={};sectorShape[animateProperty]=isRadial?0:layout.startAngle,animateTarget[animateProperty]=layout[animateProperty],graphic[isUpdate?"updateProps":"initProps"](sector,{"shape":animateTarget},animationModel,dataIndex)}return sector}},getLayout={"cartesian2d":function(data,dataIndex,itemModel){var layout=data.getItemLayout(dataIndex),fixedLineWidth=getLineWidth(itemModel,layout),signX=layout.width>0?1:-1,signY=layout.height>0?1:-1;return{"x":layout.x+signX*fixedLineWidth/2,"y":layout.y+signY*fixedLineWidth/2,"width":layout.width-signX*fixedLineWidth,"height":layout.height-signY*fixedLineWidth}},"polar":function(data,dataIndex,itemModel){var layout=data.getItemLayout(dataIndex);return{"cx":layout.cx,"cy":layout.cy,"r0":layout.r0,"r":layout.r,"startAngle":layout.startAngle,"endAngle":layout.endAngle}}},LargePath=Path.extend({"type":"largeBar","shape":{"points":[]},"buildPath":function(ctx,shape){for(var points=shape.points,startPoint=this.__startPoint,valueIdx=this.__valueIdx,i=0;i<points.length;i+=2)startPoint[this.__valueIdx]=points[i+valueIdx],ctx.moveTo(startPoint[0],startPoint[1]),ctx.lineTo(points[i],points[i+1])}});module.exports=_default},function(module,exports,__webpack_require__){var BaseBarSeries=__webpack_require__(610),PictorialBarSeries=BaseBarSeries.extend({"type":"series.pictorialBar","dependencies":["grid"],"defaultOption":{"symbol":"circle","symbolSize":null,"symbolRotate":null,"symbolPosition":null,"symbolOffset":null,"symbolMargin":null,"symbolRepeat":!1,"symbolRepeatDirection":"end","symbolClip":!1,"symbolBoundingData":null,"symbolPatternSize":400,"barGap":"-100%","progressive":0,"hoverAnimation":!1},"getInitialData":function(option){return option.stack=null,PictorialBarSeries.superApply(this,"getInitialData",arguments)}}),_default=PictorialBarSeries;module.exports=_default},function(module,exports,__webpack_require__){function getSymbolMeta(data,dataIndex,itemModel,opt){var layout=data.getItemLayout(dataIndex),symbolRepeat=itemModel.get("symbolRepeat"),symbolClip=itemModel.get("symbolClip"),symbolPosition=itemModel.get("symbolPosition")||"start",symbolRotate=itemModel.get("symbolRotate"),rotation=(symbolRotate||0)*Math.PI/180||0,symbolPatternSize=itemModel.get("symbolPatternSize")||2,isAnimationEnabled=itemModel.isAnimationEnabled(),symbolMeta={"dataIndex":dataIndex,"layout":layout,"itemModel":itemModel,"symbolType":data.getItemVisual(dataIndex,"symbol")||"circle","color":data.getItemVisual(dataIndex,"color"),"symbolClip":symbolClip,"symbolRepeat":symbolRepeat,"symbolRepeatDirection":itemModel.get("symbolRepeatDirection"),"symbolPatternSize":symbolPatternSize,"rotation":rotation,"animationModel":isAnimationEnabled?itemModel:null,"hoverAnimation":isAnimationEnabled&&itemModel.get("hoverAnimation"),"z2":itemModel.getShallow("z",!0)||0};prepareBarLength(itemModel,symbolRepeat,layout,opt,symbolMeta),prepareSymbolSize(data,dataIndex,layout,symbolRepeat,symbolClip,symbolMeta.boundingLength,symbolMeta.pxSign,symbolPatternSize,opt,symbolMeta),prepareLineWidth(itemModel,symbolMeta.symbolScale,rotation,opt,symbolMeta);var symbolSize=symbolMeta.symbolSize,symbolOffset=itemModel.get("symbolOffset");return zrUtil.isArray(symbolOffset)&&(symbolOffset=[parsePercent(symbolOffset[0],symbolSize[0]),parsePercent(symbolOffset[1],symbolSize[1])]),prepareLayoutInfo(itemModel,symbolSize,layout,symbolRepeat,symbolClip,symbolOffset,symbolPosition,symbolMeta.valueLineWidth,symbolMeta.boundingLength,symbolMeta.repeatCutLength,opt,symbolMeta),symbolMeta}function prepareBarLength(itemModel,symbolRepeat,layout,opt,output){var boundingLength,valueDim=opt.valueDim,symbolBoundingData=itemModel.get("symbolBoundingData"),valueAxis=opt.coordSys.getOtherAxis(opt.coordSys.getBaseAxis()),zeroPx=valueAxis.toGlobalCoord(valueAxis.dataToCoord(0)),pxSignIdx=1-+(layout[valueDim.wh]<=0);if(zrUtil.isArray(symbolBoundingData)){var symbolBoundingExtent=[convertToCoordOnAxis(valueAxis,symbolBoundingData[0])-zeroPx,convertToCoordOnAxis(valueAxis,symbolBoundingData[1])-zeroPx];symbolBoundingExtent[1]<symbolBoundingExtent[0]&&symbolBoundingExtent.reverse(),boundingLength=symbolBoundingExtent[pxSignIdx]}else boundingLength=null!=symbolBoundingData?convertToCoordOnAxis(valueAxis,symbolBoundingData)-zeroPx:symbolRepeat?opt.coordSysExtent[valueDim.index][pxSignIdx]-zeroPx:layout[valueDim.wh];output.boundingLength=boundingLength,symbolRepeat&&(output.repeatCutLength=layout[valueDim.wh]),output.pxSign=boundingLength>0?1:boundingLength<0?-1:0}function convertToCoordOnAxis(axis,value){return axis.toGlobalCoord(axis.dataToCoord(axis.scale.parse(value)))}function prepareSymbolSize(data,dataIndex,layout,symbolRepeat,symbolClip,boundingLength,pxSign,symbolPatternSize,opt,output){var valueDim=opt.valueDim,categoryDim=opt.categoryDim,categorySize=Math.abs(layout[categoryDim.wh]),symbolSize=data.getItemVisual(dataIndex,"symbolSize");zrUtil.isArray(symbolSize)?symbolSize=symbolSize.slice():(null==symbolSize&&(symbolSize="100%"),symbolSize=[symbolSize,symbolSize]),symbolSize[categoryDim.index]=parsePercent(symbolSize[categoryDim.index],categorySize),symbolSize[valueDim.index]=parsePercent(symbolSize[valueDim.index],symbolRepeat?categorySize:Math.abs(boundingLength)),output.symbolSize=symbolSize;var symbolScale=output.symbolScale=[symbolSize[0]/symbolPatternSize,symbolSize[1]/symbolPatternSize];symbolScale[valueDim.index]*=(opt.isHorizontal?-1:1)*pxSign}function prepareLineWidth(itemModel,symbolScale,rotation,opt,output){var valueLineWidth=itemModel.get(BAR_BORDER_WIDTH_QUERY)||0;valueLineWidth&&(pathForLineWidth.attr({"scale":symbolScale.slice(),"rotation":rotation}),pathForLineWidth.updateTransform(),valueLineWidth/=pathForLineWidth.getLineScale(),valueLineWidth*=symbolScale[opt.valueDim.index]),output.valueLineWidth=valueLineWidth}function prepareLayoutInfo(itemModel,symbolSize,layout,symbolRepeat,symbolClip,symbolOffset,symbolPosition,valueLineWidth,boundingLength,repeatCutLength,opt,output){var categoryDim=opt.categoryDim,valueDim=opt.valueDim,pxSign=output.pxSign,unitLength=Math.max(symbolSize[valueDim.index]+valueLineWidth,0),pathLen=unitLength;if(symbolRepeat){var absBoundingLength=Math.abs(boundingLength),symbolMargin=zrUtil.retrieve(itemModel.get("symbolMargin"),"15%")+"",hasEndGap=!1;symbolMargin.lastIndexOf("!")===symbolMargin.length-1&&(hasEndGap=!0,symbolMargin=symbolMargin.slice(0,symbolMargin.length-1)),symbolMargin=parsePercent(symbolMargin,symbolSize[valueDim.index]);var uLenWithMargin=Math.max(unitLength+2*symbolMargin,0),endFix=hasEndGap?0:2*symbolMargin,repeatSpecified=isNumeric(symbolRepeat),repeatTimes=repeatSpecified?symbolRepeat:toIntTimes((absBoundingLength+endFix)/uLenWithMargin),mDiff=absBoundingLength-repeatTimes*unitLength;symbolMargin=mDiff/2/(hasEndGap?repeatTimes:repeatTimes-1),uLenWithMargin=unitLength+2*symbolMargin,endFix=hasEndGap?0:2*symbolMargin,repeatSpecified||"fixed"===symbolRepeat||(repeatTimes=repeatCutLength?toIntTimes((Math.abs(repeatCutLength)+endFix)/uLenWithMargin):0),pathLen=repeatTimes*uLenWithMargin-endFix,output.repeatTimes=repeatTimes,output.symbolMargin=symbolMargin}var sizeFix=pxSign*(pathLen/2),pathPosition=output.pathPosition=[];pathPosition[categoryDim.index]=layout[categoryDim.wh]/2,pathPosition[valueDim.index]="start"===symbolPosition?sizeFix:"end"===symbolPosition?boundingLength-sizeFix:boundingLength/2,symbolOffset&&(pathPosition[0]+=symbolOffset[0],pathPosition[1]+=symbolOffset[1]);var bundlePosition=output.bundlePosition=[];bundlePosition[categoryDim.index]=layout[categoryDim.xy],bundlePosition[valueDim.index]=layout[valueDim.xy];var barRectShape=output.barRectShape=zrUtil.extend({},layout);barRectShape[valueDim.wh]=pxSign*Math.max(Math.abs(layout[valueDim.wh]),Math.abs(pathPosition[valueDim.index]+sizeFix)),barRectShape[categoryDim.wh]=layout[categoryDim.wh];var clipShape=output.clipShape={};clipShape[categoryDim.xy]=-layout[categoryDim.xy],clipShape[categoryDim.wh]=opt.ecSize[categoryDim.wh],clipShape[valueDim.xy]=0,clipShape[valueDim.wh]=layout[valueDim.wh]}function createPath(symbolMeta){var symbolPatternSize=symbolMeta.symbolPatternSize,path=createSymbol(symbolMeta.symbolType,-symbolPatternSize/2,-symbolPatternSize/2,symbolPatternSize,symbolPatternSize,symbolMeta.color);return path.attr({"culling":!0}),"image"!==path.type&&path.setStyle({"strokeNoScale":!0}),path}function createOrUpdateRepeatSymbols(bar,opt,symbolMeta,isUpdate){function makeTarget(index){var position=pathPosition.slice(),pxSign=symbolMeta.pxSign,i=index;return("start"===symbolMeta.symbolRepeatDirection?pxSign>0:pxSign<0)&&(i=repeatTimes-1-index),position[valueDim.index]=unit*(i-repeatTimes/2+.5)+pathPosition[valueDim.index],{"position":position,"scale":symbolMeta.symbolScale.slice(),"rotation":symbolMeta.rotation}}function onMouseOver(){eachPath(bar,function(path){path.trigger("emphasis")})}function onMouseOut(){eachPath(bar,function(path){path.trigger("normal")})}var bundle=bar.__pictorialBundle,symbolSize=symbolMeta.symbolSize,valueLineWidth=symbolMeta.valueLineWidth,pathPosition=symbolMeta.pathPosition,valueDim=opt.valueDim,repeatTimes=symbolMeta.repeatTimes||0,index=0,unit=symbolSize[opt.valueDim.index]+valueLineWidth+2*symbolMeta.symbolMargin;for(eachPath(bar,function(path){path.__pictorialAnimationIndex=index,path.__pictorialRepeatTimes=repeatTimes,index<repeatTimes?updateAttr(path,null,makeTarget(index),symbolMeta,isUpdate):updateAttr(path,null,{"scale":[0,0]},symbolMeta,isUpdate,function(){bundle.remove(path)}),updateHoverAnimation(path,symbolMeta),index++});index<repeatTimes;index++){var path=createPath(symbolMeta);path.__pictorialAnimationIndex=index,path.__pictorialRepeatTimes=repeatTimes,bundle.add(path);var target=makeTarget(index);updateAttr(path,{"position":target.position,"scale":[0,0]},{"scale":target.scale,"rotation":target.rotation},symbolMeta,isUpdate),path.on("mouseover",onMouseOver).on("mouseout",onMouseOut),updateHoverAnimation(path,symbolMeta)}}function createOrUpdateSingleSymbol(bar,opt,symbolMeta,isUpdate){function onMouseOver(){this.trigger("emphasis")}function onMouseOut(){this.trigger("normal")}var bundle=bar.__pictorialBundle,mainPath=bar.__pictorialMainPath;mainPath?updateAttr(mainPath,null,{"position":symbolMeta.pathPosition.slice(),"scale":symbolMeta.symbolScale.slice(),"rotation":symbolMeta.rotation},symbolMeta,isUpdate):(mainPath=bar.__pictorialMainPath=createPath(symbolMeta),bundle.add(mainPath),updateAttr(mainPath,{"position":symbolMeta.pathPosition.slice(),"scale":[0,0],"rotation":symbolMeta.rotation},{"scale":symbolMeta.symbolScale.slice()},symbolMeta,isUpdate),mainPath.on("mouseover",onMouseOver).on("mouseout",onMouseOut)),updateHoverAnimation(mainPath,symbolMeta)}function createOrUpdateBarRect(bar,symbolMeta,isUpdate){var rectShape=zrUtil.extend({},symbolMeta.barRectShape),barRect=bar.__pictorialBarRect;barRect?updateAttr(barRect,null,{"shape":rectShape},symbolMeta,isUpdate):(barRect=bar.__pictorialBarRect=new graphic.Rect({"z2":2,"shape":rectShape,"silent":!0,"style":{"stroke":"transparent","fill":"transparent","lineWidth":0}}),bar.add(barRect))}function createOrUpdateClip(bar,opt,symbolMeta,isUpdate){if(symbolMeta.symbolClip){var clipPath=bar.__pictorialClipPath,clipShape=zrUtil.extend({},symbolMeta.clipShape),valueDim=opt.valueDim,animationModel=symbolMeta.animationModel,dataIndex=symbolMeta.dataIndex;if(clipPath)graphic.updateProps(clipPath,{"shape":clipShape},animationModel,dataIndex);else{clipShape[valueDim.wh]=0,clipPath=new graphic.Rect({"shape":clipShape}),bar.__pictorialBundle.setClipPath(clipPath),bar.__pictorialClipPath=clipPath;var target={};target[valueDim.wh]=symbolMeta.clipShape[valueDim.wh],graphic[isUpdate?"updateProps":"initProps"](clipPath,{"shape":target},animationModel,dataIndex)}}}function getItemModel(data,dataIndex){var itemModel=data.getItemModel(dataIndex);return itemModel.getAnimationDelayParams=getAnimationDelayParams,itemModel.isAnimationEnabled=isAnimationEnabled,itemModel}function getAnimationDelayParams(path){return{"index":path.__pictorialAnimationIndex,"count":path.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function updateHoverAnimation(path,symbolMeta){path.off("emphasis").off("normal");var scale=symbolMeta.symbolScale.slice();symbolMeta.hoverAnimation&&path.on("emphasis",function(){this.animateTo({"scale":[1.1*scale[0],1.1*scale[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({"scale":scale.slice()},400,"elasticOut")})}function createBar(data,opt,symbolMeta,isUpdate){var bar=new graphic.Group,bundle=new graphic.Group;return bar.add(bundle),bar.__pictorialBundle=bundle,bundle.attr("position",symbolMeta.bundlePosition.slice()),symbolMeta.symbolRepeat?createOrUpdateRepeatSymbols(bar,opt,symbolMeta):createOrUpdateSingleSymbol(bar,opt,symbolMeta),createOrUpdateBarRect(bar,symbolMeta,isUpdate),createOrUpdateClip(bar,opt,symbolMeta,isUpdate),bar.__pictorialShapeStr=getShapeStr(data,symbolMeta),bar.__pictorialSymbolMeta=symbolMeta,bar}function updateBar(bar,opt,symbolMeta){var animationModel=symbolMeta.animationModel,dataIndex=symbolMeta.dataIndex,bundle=bar.__pictorialBundle;graphic.updateProps(bundle,{"position":symbolMeta.bundlePosition.slice()},animationModel,dataIndex),symbolMeta.symbolRepeat?createOrUpdateRepeatSymbols(bar,opt,symbolMeta,!0):createOrUpdateSingleSymbol(bar,opt,symbolMeta,!0),createOrUpdateBarRect(bar,symbolMeta,!0),createOrUpdateClip(bar,opt,symbolMeta,!0)}function removeBar(data,dataIndex,animationModel,bar){var labelRect=bar.__pictorialBarRect;labelRect&&(labelRect.style.text=null);var pathes=[];eachPath(bar,function(path){pathes.push(path)}),bar.__pictorialMainPath&&pathes.push(bar.__pictorialMainPath),bar.__pictorialClipPath&&(animationModel=null),zrUtil.each(pathes,function(path){graphic.updateProps(path,{"scale":[0,0]},animationModel,dataIndex,function(){bar.parent&&bar.parent.remove(bar)})}),data.setItemGraphicEl(dataIndex,null)}function getShapeStr(data,symbolMeta){return[data.getItemVisual(symbolMeta.dataIndex,"symbol")||"none",!!symbolMeta.symbolRepeat,!!symbolMeta.symbolClip].join(":")}function eachPath(bar,cb,context){zrUtil.each(bar.__pictorialBundle.children(),function(el){el!==bar.__pictorialBarRect&&cb.call(context,el)})}function updateAttr(el,immediateAttrs,animationAttrs,symbolMeta,isUpdate,cb){immediateAttrs&&el.attr(immediateAttrs),symbolMeta.symbolClip&&!isUpdate?animationAttrs&&el.attr(animationAttrs):animationAttrs&&graphic[isUpdate?"updateProps":"initProps"](el,animationAttrs,symbolMeta.animationModel,symbolMeta.dataIndex,cb)}function updateCommon(bar,opt,symbolMeta){var color=symbolMeta.color,dataIndex=symbolMeta.dataIndex,itemModel=symbolMeta.itemModel,normalStyle=itemModel.getModel("itemStyle").getItemStyle(["color"]),hoverStyle=itemModel.getModel("emphasis.itemStyle").getItemStyle(),cursorStyle=itemModel.getShallow("cursor");eachPath(bar,function(path){path.setColor(color),path.setStyle(zrUtil.defaults({"fill":color,"opacity":symbolMeta.opacity},normalStyle)),graphic.setHoverStyle(path,hoverStyle),cursorStyle&&(path.cursor=cursorStyle),path.z2=symbolMeta.z2});var barRectHoverStyle={},barPositionOutside=opt.valueDim.posDesc[+(symbolMeta.boundingLength>0)],barRect=bar.__pictorialBarRect;setLabel(barRect.style,barRectHoverStyle,itemModel,color,opt.seriesModel,dataIndex,barPositionOutside),graphic.setHoverStyle(barRect,barRectHoverStyle)}function toIntTimes(times){var roundedTimes=Math.round(times);return Math.abs(times-roundedTimes)<1e-4?roundedTimes:Math.ceil(times)}var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),graphic=__webpack_require__(15),_symbol=__webpack_require__(83),createSymbol=_symbol.createSymbol,_number=__webpack_require__(20),parsePercent=_number.parsePercent,isNumeric=_number.isNumeric,_helper=__webpack_require__(611),setLabel=_helper.setLabel,BAR_BORDER_WIDTH_QUERY=["itemStyle","borderWidth"],LAYOUT_ATTRS=[{"xy":"x","wh":"width","index":0,"posDesc":["left","right"]},{"xy":"y","wh":"height","index":1,"posDesc":["top","bottom"]}],pathForLineWidth=new graphic.Circle,BarView=echarts.extendChartView({"type":"pictorialBar","render":function(seriesModel,ecModel,api){var group=this.group,data=seriesModel.getData(),oldData=this._data,cartesian=seriesModel.coordinateSystem,baseAxis=cartesian.getBaseAxis(),isHorizontal=!!baseAxis.isHorizontal(),coordSysRect=cartesian.grid.getRect(),opt={"ecSize":{"width":api.getWidth(),"height":api.getHeight()},"seriesModel":seriesModel,"coordSys":cartesian,"coordSysExtent":[[coordSysRect.x,coordSysRect.x+coordSysRect.width],[coordSysRect.y,coordSysRect.y+coordSysRect.height]],"isHorizontal":isHorizontal,"valueDim":LAYOUT_ATTRS[+isHorizontal],"categoryDim":LAYOUT_ATTRS[1-isHorizontal]};return data.diff(oldData).add(function(dataIndex){if(data.hasValue(dataIndex)){var itemModel=getItemModel(data,dataIndex),symbolMeta=getSymbolMeta(data,dataIndex,itemModel,opt),bar=createBar(data,opt,symbolMeta);data.setItemGraphicEl(dataIndex,bar),group.add(bar),updateCommon(bar,opt,symbolMeta)}}).update(function(newIndex,oldIndex){var bar=oldData.getItemGraphicEl(oldIndex);if(!data.hasValue(newIndex))return void group.remove(bar);var itemModel=getItemModel(data,newIndex),symbolMeta=getSymbolMeta(data,newIndex,itemModel,opt),pictorialShapeStr=getShapeStr(data,symbolMeta);bar&&pictorialShapeStr!==bar.__pictorialShapeStr&&(group.remove(bar),data.setItemGraphicEl(newIndex,null),bar=null),bar?updateBar(bar,opt,symbolMeta):bar=createBar(data,opt,symbolMeta,!0),data.setItemGraphicEl(newIndex,bar),bar.__pictorialSymbolMeta=symbolMeta,group.add(bar),updateCommon(bar,opt,symbolMeta)}).remove(function(dataIndex){var bar=oldData.getItemGraphicEl(dataIndex);bar&&removeBar(oldData,dataIndex,bar.__pictorialSymbolMeta.animationModel,bar)}).execute(),this._data=data,this.group},"dispose":zrUtil.noop,"remove":function(ecModel,api){var group=this.group,data=this._data;ecModel.get("animation")?data&&data.eachItemGraphicEl(function(bar){removeBar(data,bar.dataIndex,ecModel,bar)}):group.removeAll()}}),_default=BarView;module.exports=_default},function(module,exports,__webpack_require__){var makeStyleMapper=__webpack_require__(194),getBarItemStyle=makeStyleMapper([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),_default={"getBarItemStyle":function(excludes){var style=getBarItemStyle(this,excludes);if(this.getBorderLineDash){var lineDash=this.getBorderLineDash();lineDash&&(style.lineDash=lineDash)}return style}};module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(1348),__webpack_require__(1349);var boxplotVisual=__webpack_require__(1351),boxplotLayout=__webpack_require__(1350);echarts.registerVisual(boxplotVisual),echarts.registerLayout(boxplotLayout)},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),SeriesModel=__webpack_require__(57),_whiskerBoxCommon=__webpack_require__(617),seriesModelMixin=_whiskerBoxCommon.seriesModelMixin,BoxplotSeries=SeriesModel.extend({"type":"series.boxplot","dependencies":["xAxis","yAxis","grid"],"defaultValueDimensions":[{"name":"min","defaultTooltip":!0},{"name":"Q1","defaultTooltip":!0},{"name":"median","defaultTooltip":!0
},{"name":"Q3","defaultTooltip":!0},{"name":"max","defaultTooltip":!0}],"dimensions":null,"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"cartesian2d","legendHoverLink":!0,"hoverAnimation":!0,"layout":null,"boxWidth":[7,50],"itemStyle":{"color":"#fff","borderWidth":1},"emphasis":{"itemStyle":{"borderWidth":2,"shadowBlur":5,"shadowOffsetX":2,"shadowOffsetY":2,"shadowColor":"rgba(0,0,0,0.4)"}},"animationEasing":"elasticOut","animationDuration":800}});zrUtil.mixin(BoxplotSeries,seriesModelMixin,!0);var _default=BoxplotSeries;module.exports=_default},function(module,exports,__webpack_require__){function createNormalBox(itemLayout,data,dataIndex,constDim,isInit){var ends=itemLayout.ends,el=new BoxPath({"shape":{"points":isInit?transInit(ends,constDim,itemLayout):ends}});return updateNormalBoxData(itemLayout,el,data,dataIndex,isInit),el}function updateNormalBoxData(itemLayout,el,data,dataIndex,isInit){var seriesModel=data.hostModel,updateMethod=graphic[isInit?"initProps":"updateProps"];updateMethod(el,{"shape":{"points":itemLayout.ends}},seriesModel,dataIndex);var itemModel=data.getItemModel(dataIndex),normalItemStyleModel=itemModel.getModel(NORMAL_ITEM_STYLE_PATH),borderColor=data.getItemVisual(dataIndex,"color"),itemStyle=normalItemStyleModel.getItemStyle(["borderColor"]);itemStyle.stroke=borderColor,itemStyle.strokeNoScale=!0,el.useStyle(itemStyle),el.z2=100;var hoverStyle=itemModel.getModel(EMPHASIS_ITEM_STYLE_PATH).getItemStyle();graphic.setHoverStyle(el,hoverStyle)}function transInit(points,dim,itemLayout){return zrUtil.map(points,function(point){return point=point.slice(),point[dim]=itemLayout.initBaseline,point})}var zrUtil=__webpack_require__(4),ChartView=__webpack_require__(117),graphic=__webpack_require__(15),Path=__webpack_require__(50),NORMAL_ITEM_STYLE_PATH=["itemStyle"],EMPHASIS_ITEM_STYLE_PATH=["emphasis","itemStyle"],BoxplotView=ChartView.extend({"type":"boxplot","render":function(seriesModel,ecModel,api){var data=seriesModel.getData(),group=this.group,oldData=this._data;this._data||group.removeAll();var constDim="horizontal"===seriesModel.get("layout")?1:0;data.diff(oldData).add(function(newIdx){if(data.hasValue(newIdx)){var itemLayout=data.getItemLayout(newIdx),symbolEl=createNormalBox(itemLayout,data,newIdx,constDim,!0);data.setItemGraphicEl(newIdx,symbolEl),group.add(symbolEl)}}).update(function(newIdx,oldIdx){var symbolEl=oldData.getItemGraphicEl(oldIdx);if(!data.hasValue(newIdx))return void group.remove(symbolEl);var itemLayout=data.getItemLayout(newIdx);symbolEl?updateNormalBoxData(itemLayout,symbolEl,data,newIdx):symbolEl=createNormalBox(itemLayout,data,newIdx,constDim),group.add(symbolEl),data.setItemGraphicEl(newIdx,symbolEl)}).remove(function(oldIdx){var el=oldData.getItemGraphicEl(oldIdx);el&&group.remove(el)}).execute(),this._data=data},"remove":function(ecModel){var group=this.group,data=this._data;this._data=null,data&&data.eachItemGraphicEl(function(el){el&&group.remove(el)})},"dispose":zrUtil.noop}),BoxPath=Path.extend({"type":"boxplotBoxPath","shape":{},"buildPath":function(ctx,shape){var ends=shape.points,i=0;for(ctx.moveTo(ends[i][0],ends[i][1]),i++;i<4;i++)ctx.lineTo(ends[i][0],ends[i][1]);for(ctx.closePath();i<ends.length;i++)ctx.moveTo(ends[i][0],ends[i][1]),i++,ctx.lineTo(ends[i][0],ends[i][1])}}),_default=BoxplotView;module.exports=_default},function(module,exports,__webpack_require__){function _default(ecModel){var groupResult=groupSeriesByAxis(ecModel);each(groupResult,function(groupItem){var seriesModels=groupItem.seriesModels;seriesModels.length&&(calculateBase(groupItem),each(seriesModels,function(seriesModel,idx){layoutSingleSeries(seriesModel,groupItem.boxOffsetList[idx],groupItem.boxWidthList[idx])}))})}function groupSeriesByAxis(ecModel){var result=[],axisList=[];return ecModel.eachSeriesByType("boxplot",function(seriesModel){var baseAxis=seriesModel.getBaseAxis(),idx=zrUtil.indexOf(axisList,baseAxis);idx<0&&(idx=axisList.length,axisList[idx]=baseAxis,result[idx]={"axis":baseAxis,"seriesModels":[]}),result[idx].seriesModels.push(seriesModel)}),result}function calculateBase(groupItem){var extent,bandWidth,baseAxis=groupItem.axis,seriesModels=groupItem.seriesModels,seriesCount=seriesModels.length,boxWidthList=groupItem.boxWidthList=[],boxOffsetList=groupItem.boxOffsetList=[],boundList=[];if("category"===baseAxis.type)bandWidth=baseAxis.getBandWidth();else{var maxDataCount=0;each(seriesModels,function(seriesModel){maxDataCount=Math.max(maxDataCount,seriesModel.getData().count())}),extent=baseAxis.getExtent(),Math.abs(extent[1]-extent[0])/maxDataCount}each(seriesModels,function(seriesModel){var boxWidthBound=seriesModel.get("boxWidth");zrUtil.isArray(boxWidthBound)||(boxWidthBound=[boxWidthBound,boxWidthBound]),boundList.push([parsePercent(boxWidthBound[0],bandWidth)||0,parsePercent(boxWidthBound[1],bandWidth)||0])});var availableWidth=.8*bandWidth-2,boxGap=availableWidth/seriesCount*.3,boxWidth=(availableWidth-boxGap*(seriesCount-1))/seriesCount,base=boxWidth/2-availableWidth/2;each(seriesModels,function(seriesModel,idx){boxOffsetList.push(base),base+=boxGap+boxWidth,boxWidthList.push(Math.min(Math.max(boxWidth,boundList[idx][0]),boundList[idx][1]))})}function layoutSingleSeries(seriesModel,offset,boxWidth){function getPoint(axisDimVal,dimIdx,dataIndex){var val=data.get(dimIdx,dataIndex),p=[];p[cDimIdx]=axisDimVal,p[vDimIdx]=val;var point;return isNaN(axisDimVal)||isNaN(val)?point=[NaN,NaN]:(point=coordSys.dataToPoint(p),point[cDimIdx]+=offset),point}function addBodyEnd(ends,point,start){var point1=point.slice(),point2=point.slice();point1[cDimIdx]+=halfWidth,point2[cDimIdx]-=halfWidth,start?ends.push(point1,point2):ends.push(point2,point1)}function layEndLine(ends,endCenter){var from=endCenter.slice(),to=endCenter.slice();from[cDimIdx]-=halfWidth,to[cDimIdx]+=halfWidth,ends.push(from,to)}var coordSys=seriesModel.coordinateSystem,data=seriesModel.getData(),halfWidth=boxWidth/2,cDimIdx="horizontal"===seriesModel.get("layout")?0:1,vDimIdx=1-cDimIdx,coordDims=["x","y"],cDim=data.mapDimension(coordDims[cDimIdx]),vDims=data.mapDimension(coordDims[vDimIdx],!0);if(!(null==cDim||vDims.length<5))for(var dataIndex=0;dataIndex<data.count();dataIndex++){var axisDimVal=data.get(cDim,dataIndex),median=getPoint(axisDimVal,vDims[2],dataIndex),end1=getPoint(axisDimVal,vDims[0],dataIndex),end2=getPoint(axisDimVal,vDims[1],dataIndex),end4=getPoint(axisDimVal,vDims[3],dataIndex),end5=getPoint(axisDimVal,vDims[4],dataIndex),ends=[];addBodyEnd(ends,end2,0),addBodyEnd(ends,end4,1),ends.push(end1,end2,end5,end4),layEndLine(ends,end1),layEndLine(ends,end5),layEndLine(ends,median),data.setItemLayout(dataIndex,{"initBaseline":median[vDimIdx],"ends":ends})}}var zrUtil=__webpack_require__(4),_number=__webpack_require__(20),parsePercent=_number.parsePercent,each=zrUtil.each;module.exports=_default},function(module,exports){function _default(ecModel,api){var globalColors=ecModel.get("color");ecModel.eachRawSeriesByType("boxplot",function(seriesModel){var defaulColor=globalColors[seriesModel.seriesIndex%globalColors.length],data=seriesModel.getData();data.setVisual({"legendSymbol":"roundRect","color":seriesModel.get(borderColorQuery)||defaulColor}),ecModel.isSeriesFiltered(seriesModel)||data.each(function(idx){var itemModel=data.getItemModel(idx);data.setItemVisual(idx,{"color":itemModel.get(borderColorQuery,!0)})})})}var borderColorQuery=["itemStyle","borderColor"];module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(1353),__webpack_require__(1354);var preprocessor=__webpack_require__(1357),candlestickVisual=__webpack_require__(1356),candlestickLayout=__webpack_require__(1355);echarts.registerPreprocessor(preprocessor),echarts.registerVisual(candlestickVisual),echarts.registerLayout(candlestickLayout)},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),SeriesModel=__webpack_require__(57),_whiskerBoxCommon=__webpack_require__(617),seriesModelMixin=_whiskerBoxCommon.seriesModelMixin,CandlestickSeries=SeriesModel.extend({"type":"series.candlestick","dependencies":["xAxis","yAxis","grid"],"defaultValueDimensions":[{"name":"open","defaultTooltip":!0},{"name":"close","defaultTooltip":!0},{"name":"lowest","defaultTooltip":!0},{"name":"highest","defaultTooltip":!0}],"dimensions":null,"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"cartesian2d","legendHoverLink":!0,"hoverAnimation":!0,"layout":null,"itemStyle":{"color":"#c23531","color0":"#314656","borderWidth":1,"borderColor":"#c23531","borderColor0":"#314656"},"emphasis":{"itemStyle":{"borderWidth":2}},"barMaxWidth":null,"barMinWidth":null,"barWidth":null,"large":!0,"largeThreshold":600,"progressive":5e3,"progressiveThreshold":1e4,"progressiveChunkMode":"mod","animationUpdate":!1,"animationEasing":"linear","animationDuration":300},"getShadowDim":function(){return"open"},"brushSelector":function(dataIndex,data,selectors){var itemLayout=data.getItemLayout(dataIndex);return itemLayout&&selectors.rect(itemLayout.brushRect)}});zrUtil.mixin(CandlestickSeries,seriesModelMixin,!0);var _default=CandlestickSeries;module.exports=_default},function(module,exports,__webpack_require__){function createNormalBox(itemLayout,dataIndex,isInit){var ends=itemLayout.ends;return new NormalBoxPath({"shape":{"points":isInit?transInit(ends,itemLayout):ends},"z2":100})}function setBoxCommon(el,data,dataIndex,isSimpleBox){var itemModel=data.getItemModel(dataIndex),normalItemStyleModel=itemModel.getModel(NORMAL_ITEM_STYLE_PATH),color=data.getItemVisual(dataIndex,"color"),borderColor=data.getItemVisual(dataIndex,"borderColor")||color,itemStyle=normalItemStyleModel.getItemStyle(SKIP_PROPS);el.useStyle(itemStyle),el.style.strokeNoScale=!0,el.style.fill=color,el.style.stroke=borderColor,el.__simpleBox=isSimpleBox;var hoverStyle=itemModel.getModel(EMPHASIS_ITEM_STYLE_PATH).getItemStyle();graphic.setHoverStyle(el,hoverStyle)}function transInit(points,itemLayout){return zrUtil.map(points,function(point){return point=point.slice(),point[1]=itemLayout.initBaseline,point})}function createLarge(seriesModel,group,incremental){var data=seriesModel.getData(),largePoints=data.getLayout("largePoints"),elP=new LargeBoxPath({"shape":{"points":largePoints},"__sign":1});group.add(elP);var elN=new LargeBoxPath({"shape":{"points":largePoints},"__sign":-1});group.add(elN),setLargeStyle(1,elP,seriesModel,data),setLargeStyle(-1,elN,seriesModel,data),incremental&&(elP.incremental=!0,elN.incremental=!0)}function setLargeStyle(sign,el,seriesModel,data){var suffix=sign>0?"P":"N",borderColor=data.getVisual("borderColor"+suffix)||data.getVisual("color"+suffix),itemStyle=seriesModel.getModel(NORMAL_ITEM_STYLE_PATH).getItemStyle(SKIP_PROPS);el.useStyle(itemStyle),el.style.fill=null,el.style.stroke=borderColor}var zrUtil=__webpack_require__(4),ChartView=__webpack_require__(117),graphic=__webpack_require__(15),Path=__webpack_require__(50),NORMAL_ITEM_STYLE_PATH=["itemStyle"],EMPHASIS_ITEM_STYLE_PATH=["emphasis","itemStyle"],SKIP_PROPS=["color","color0","borderColor","borderColor0"],CandlestickView=ChartView.extend({"type":"candlestick","render":function(seriesModel,ecModel,api){this._updateDrawMode(seriesModel),this._isLargeDraw?this._renderLarge(seriesModel):this._renderNormal(seriesModel)},"incrementalPrepareRender":function(seriesModel,ecModel,api){this._clear(),this._updateDrawMode(seriesModel)},"incrementalRender":function(params,seriesModel,ecModel,api){this._isLargeDraw?this._incrementalRenderLarge(params,seriesModel):this._incrementalRenderNormal(params,seriesModel)},"_updateDrawMode":function(seriesModel){var isLargeDraw=seriesModel.pipelineContext.large;(null==this._isLargeDraw||isLargeDraw^this._isLargeDraw)&&(this._isLargeDraw=isLargeDraw,this._clear())},"_renderNormal":function(seriesModel){var data=seriesModel.getData(),oldData=this._data,group=this.group,isSimpleBox=data.getLayout("isSimpleBox");this._data||group.removeAll(),data.diff(oldData).add(function(newIdx){if(data.hasValue(newIdx)){var el,itemLayout=data.getItemLayout(newIdx);el=createNormalBox(itemLayout,newIdx,!0),graphic.initProps(el,{"shape":{"points":itemLayout.ends}},seriesModel,newIdx),setBoxCommon(el,data,newIdx,isSimpleBox),group.add(el),data.setItemGraphicEl(newIdx,el)}}).update(function(newIdx,oldIdx){var el=oldData.getItemGraphicEl(oldIdx);if(!data.hasValue(newIdx))return void group.remove(el);var itemLayout=data.getItemLayout(newIdx);el?graphic.updateProps(el,{"shape":{"points":itemLayout.ends}},seriesModel,newIdx):el=createNormalBox(itemLayout,newIdx),setBoxCommon(el,data,newIdx,isSimpleBox),group.add(el),data.setItemGraphicEl(newIdx,el)}).remove(function(oldIdx){var el=oldData.getItemGraphicEl(oldIdx);el&&group.remove(el)}).execute(),this._data=data},"_renderLarge":function(seriesModel){this._clear(),createLarge(seriesModel,this.group)},"_incrementalRenderNormal":function(params,seriesModel){for(var dataIndex,data=seriesModel.getData(),isSimpleBox=data.getLayout("isSimpleBox");null!=(dataIndex=params.next());){var el,itemLayout=data.getItemLayout(dataIndex);el=createNormalBox(itemLayout,dataIndex),setBoxCommon(el,data,dataIndex,isSimpleBox),el.incremental=!0,this.group.add(el)}},"_incrementalRenderLarge":function(params,seriesModel){createLarge(seriesModel,this.group,!0)},"remove":function(ecModel){this._clear()},"_clear":function(){this.group.removeAll(),this._data=null},"dispose":zrUtil.noop}),NormalBoxPath=Path.extend({"type":"normalCandlestickBox","shape":{},"buildPath":function(ctx,shape){var ends=shape.points;this.__simpleBox?(ctx.moveTo(ends[4][0],ends[4][1]),ctx.lineTo(ends[6][0],ends[6][1])):(ctx.moveTo(ends[0][0],ends[0][1]),ctx.lineTo(ends[1][0],ends[1][1]),ctx.lineTo(ends[2][0],ends[2][1]),ctx.lineTo(ends[3][0],ends[3][1]),ctx.closePath(),ctx.moveTo(ends[4][0],ends[4][1]),ctx.lineTo(ends[5][0],ends[5][1]),ctx.moveTo(ends[6][0],ends[6][1]),ctx.lineTo(ends[7][0],ends[7][1]))}}),LargeBoxPath=Path.extend({"type":"largeCandlestickBox","shape":{},"buildPath":function(ctx,shape){for(var points=shape.points,i=0;i<points.length;)if(this.__sign===points[i++]){var x=points[i++];ctx.moveTo(x,points[i++]),ctx.lineTo(x,points[i++])}else i+=3}}),_default=CandlestickView;module.exports=_default},function(module,exports,__webpack_require__){function getSign(data,dataIndex,openVal,closeVal,closeDim){var sign;return sign=openVal>closeVal?-1:openVal<closeVal?1:dataIndex>0?data.get(closeDim,dataIndex-1)<=closeVal?1:-1:1}function calculateCandleWidth(seriesModel,data){var extent,baseAxis=seriesModel.getBaseAxis(),bandWidth="category"===baseAxis.type?baseAxis.getBandWidth():(extent=baseAxis.getExtent(),Math.abs(extent[1]-extent[0])/data.count()),barMaxWidth=parsePercent(retrieve2(seriesModel.get("barMaxWidth"),bandWidth),bandWidth),barMinWidth=parsePercent(retrieve2(seriesModel.get("barMinWidth"),1),bandWidth),barWidth=seriesModel.get("barWidth");return null!=barWidth?parsePercent(barWidth,bandWidth):Math.max(Math.min(bandWidth/2,barMaxWidth),barMinWidth)}var _graphic=__webpack_require__(15),subPixelOptimize=_graphic.subPixelOptimize,createRenderPlanner=__webpack_require__(191),_number=__webpack_require__(20),parsePercent=_number.parsePercent,_util=__webpack_require__(4),retrieve2=_util.retrieve2,LargeArr="undefined"!=typeof Float32Array?Float32Array:Array,_default={"seriesType":"candlestick","plan":createRenderPlanner(),"reset":function(seriesModel){function normalProgress(params,data){function getPoint(val,axisDimVal){var p=[];return p[cDimIdx]=axisDimVal,p[vDimIdx]=val,isNaN(axisDimVal)||isNaN(val)?[NaN,NaN]:coordSys.dataToPoint(p)}function addBodyEnd(ends,point,start){var point1=point.slice(),point2=point.slice();point1[cDimIdx]=subPixelOptimize(point1[cDimIdx]+candleWidth/2,1,!1),point2[cDimIdx]=subPixelOptimize(point2[cDimIdx]-candleWidth/2,1,!0),start?ends.push(point1,point2):ends.push(point2,point1)}function makeBrushRect(lowestVal,highestVal,axisDimVal){var pmin=getPoint(lowestVal,axisDimVal),pmax=getPoint(highestVal,axisDimVal);return pmin[cDimIdx]-=candleWidth/2,pmax[cDimIdx]-=candleWidth/2,{"x":pmin[0],"y":pmin[1],"width":vDimIdx?candleWidth:pmax[0]-pmin[0],"height":vDimIdx?pmax[1]-pmin[1]:candleWidth}}function subPixelOptimizePoint(point){return point[cDimIdx]=subPixelOptimize(point[cDimIdx],1),point}for(var dataIndex;null!=(dataIndex=params.next());){var axisDimVal=data.get(cDim,dataIndex),openVal=data.get(openDim,dataIndex),closeVal=data.get(closeDim,dataIndex),lowestVal=data.get(lowestDim,dataIndex),highestVal=data.get(highestDim,dataIndex),ocLow=Math.min(openVal,closeVal),ocHigh=Math.max(openVal,closeVal),ocLowPoint=getPoint(ocLow,axisDimVal),ocHighPoint=getPoint(ocHigh,axisDimVal),lowestPoint=getPoint(lowestVal,axisDimVal),highestPoint=getPoint(highestVal,axisDimVal),ends=[];addBodyEnd(ends,ocHighPoint,0),addBodyEnd(ends,ocLowPoint,1),ends.push(subPixelOptimizePoint(highestPoint),subPixelOptimizePoint(ocHighPoint),subPixelOptimizePoint(lowestPoint),subPixelOptimizePoint(ocLowPoint)),data.setItemLayout(dataIndex,{"sign":getSign(data,dataIndex,openVal,closeVal,closeDim),"initBaseline":openVal>closeVal?ocHighPoint[vDimIdx]:ocLowPoint[vDimIdx],"ends":ends,"brushRect":makeBrushRect(lowestVal,highestVal,axisDimVal)})}}function largeProgress(params,data){for(var point,dataIndex,points=new LargeArr(5*params.count),offset=0,tmpIn=[],tmpOut=[];null!=(dataIndex=params.next());){var axisDimVal=data.get(cDim,dataIndex),openVal=data.get(openDim,dataIndex),closeVal=data.get(closeDim,dataIndex),lowestVal=data.get(lowestDim,dataIndex),highestVal=data.get(highestDim,dataIndex);isNaN(axisDimVal)||isNaN(lowestVal)||isNaN(highestVal)?(points[offset++]=NaN,offset+=4):(points[offset++]=getSign(data,dataIndex,openVal,closeVal,closeDim),tmpIn[cDimIdx]=axisDimVal,tmpIn[vDimIdx]=lowestVal,point=coordSys.dataToPoint(tmpIn,null,tmpOut),points[offset++]=point?point[0]:NaN,points[offset++]=point?point[1]:NaN,tmpIn[vDimIdx]=highestVal,point=coordSys.dataToPoint(tmpIn,null,tmpOut),points[offset++]=point?point[1]:NaN)}data.setLayout("largePoints",points)}var coordSys=seriesModel.coordinateSystem,data=seriesModel.getData(),candleWidth=calculateCandleWidth(seriesModel,data),cDimIdx=0,vDimIdx=1,coordDims=["x","y"],cDim=data.mapDimension(coordDims[cDimIdx]),vDims=data.mapDimension(coordDims[vDimIdx],!0),openDim=vDims[0],closeDim=vDims[1],lowestDim=vDims[2],highestDim=vDims[3];if(data.setLayout({"candleWidth":candleWidth,"isSimpleBox":candleWidth<=1.3}),!(null==cDim||vDims.length<4))return{"progress":seriesModel.pipelineContext.large?largeProgress:normalProgress}}};module.exports=_default},function(module,exports,__webpack_require__){var createRenderPlanner=__webpack_require__(191),positiveBorderColorQuery=["itemStyle","borderColor"],negativeBorderColorQuery=["itemStyle","borderColor0"],positiveColorQuery=["itemStyle","color"],negativeColorQuery=["itemStyle","color0"],_default={"seriesType":"candlestick","plan":createRenderPlanner(),"performRawSeries":!0,"reset":function(seriesModel,ecModel){function progress(params,data){for(var dataIndex;null!=(dataIndex=params.next());){var itemModel=data.getItemModel(dataIndex),sign=data.getItemLayout(dataIndex).sign;data.setItemVisual(dataIndex,{"color":getColor(sign,itemModel),"borderColor":getBorderColor(sign,itemModel)})}}function getColor(sign,model){return model.get(sign>0?positiveColorQuery:negativeColorQuery)}function getBorderColor(sign,model){return model.get(sign>0?positiveBorderColorQuery:negativeBorderColorQuery)}var data=seriesModel.getData(),isLargeRender=seriesModel.pipelineContext.large;if(data.setVisual({"legendSymbol":"roundRect","colorP":getColor(1,seriesModel),"colorN":getColor(-1,seriesModel),"borderColorP":getBorderColor(1,seriesModel),"borderColorN":getBorderColor(-1,seriesModel)}),!ecModel.isSeriesFiltered(seriesModel))return!isLargeRender&&{"progress":progress}}};module.exports=_default},function(module,exports,__webpack_require__){function _default(option){option&&zrUtil.isArray(option.series)&&zrUtil.each(option.series,function(seriesItem){zrUtil.isObject(seriesItem)&&"k"===seriesItem.type&&(seriesItem.type="candlestick")})}var zrUtil=__webpack_require__(4);module.exports=_default},function(module,exports,__webpack_require__){function createEl(elOption){var el,graphicType=elOption.type;if("path"===graphicType){var shape=elOption.shape;el=graphicUtil.makePath(shape.pathData,null,{"x":shape.x||0,"y":shape.y||0,"width":shape.width||0,"height":shape.height||0},"center"),el.__customPathData=elOption.pathData}else if("image"===graphicType)el=new graphicUtil.Image({}),el.__customImagePath=elOption.style.image;else if("text"===graphicType)el=new graphicUtil.Text({}),el.__customText=elOption.style.text;else{var Clz=graphicUtil[graphicType.charAt(0).toUpperCase()+graphicType.slice(1)];el=new Clz}return el.__customGraphicType=graphicType,el.name=elOption.name,el}function updateEl(el,dataIndex,elOption,animatableModel,data,isInit){var targetProps={},elOptionStyle=elOption.style||{};if(elOption.shape&&(targetProps.shape=zrUtil.clone(elOption.shape)),elOption.position&&(targetProps.position=elOption.position.slice()),elOption.scale&&(targetProps.scale=elOption.scale.slice()),elOption.origin&&(targetProps.origin=elOption.origin.slice()),elOption.rotation&&(targetProps.rotation=elOption.rotation),"image"===el.type&&elOption.style){var targetStyle=targetProps.style={};zrUtil.each(["x","y","width","height"],function(prop){prepareStyleTransition(prop,targetStyle,elOptionStyle,el.style,isInit)})}if("text"===el.type&&elOption.style){var targetStyle=targetProps.style={};zrUtil.each(["x","y"],function(prop){prepareStyleTransition(prop,targetStyle,elOptionStyle,el.style,isInit)}),!elOptionStyle.hasOwnProperty("textFill")&&elOptionStyle.fill&&(elOptionStyle.textFill=elOptionStyle.fill),!elOptionStyle.hasOwnProperty("textStroke")&&elOptionStyle.stroke&&(elOptionStyle.textStroke=elOptionStyle.stroke)}if("group"!==el.type&&(el.useStyle(elOptionStyle),isInit)){el.style.opacity=0;var targetOpacity=elOptionStyle.opacity;null==targetOpacity&&(targetOpacity=1),graphicUtil.initProps(el,{"style":{"opacity":targetOpacity}},animatableModel,dataIndex)}isInit?el.attr(targetProps):graphicUtil.updateProps(el,targetProps,animatableModel,dataIndex),el.attr({"z2":elOption.z2||0,"silent":elOption.silent}),elOption.styleEmphasis!==!1&&graphicUtil.setHoverStyle(el,elOption.styleEmphasis)}function prepareStyleTransition(prop,targetStyle,elOptionStyle,oldElStyle,isInit){null==elOptionStyle[prop]||isInit||(targetStyle[prop]=elOptionStyle[prop],elOptionStyle[prop]=oldElStyle[prop])}function makeRenderItem(customSeries,data,ecModel,api){function updateCache(dataIndexInside){null==dataIndexInside&&(dataIndexInside=currDataIndexInside),currDirty&&(currItemModel=data.getItemModel(dataIndexInside),currLabelNormalModel=currItemModel.getModel(LABEL_NORMAL),currLabelEmphasisModel=currItemModel.getModel(LABEL_EMPHASIS),currVisualColor=data.getItemVisual(dataIndexInside,"color"),currDirty=!1)}function value(dim,dataIndexInside){return null==dataIndexInside&&(dataIndexInside=currDataIndexInside),data.get(data.getDimension(dim||0),dataIndexInside)}function style(extra,dataIndexInside){null==dataIndexInside&&(dataIndexInside=currDataIndexInside),updateCache(dataIndexInside);var itemStyle=currItemModel.getModel(ITEM_STYLE_NORMAL_PATH).getItemStyle();null!=currVisualColor&&(itemStyle.fill=currVisualColor);var opacity=data.getItemVisual(dataIndexInside,"opacity");return null!=opacity&&(itemStyle.opacity=opacity),graphicUtil.setTextStyle(itemStyle,currLabelNormalModel,null,{"autoColor":currVisualColor,"isRectText":!0}),itemStyle.text=currLabelNormalModel.getShallow("show")?zrUtil.retrieve2(customSeries.getFormattedLabel(dataIndexInside,"normal"),getDefaultLabel(data,dataIndexInside)):null,extra&&zrUtil.extend(itemStyle,extra),itemStyle}function styleEmphasis(extra,dataIndexInside){null==dataIndexInside&&(dataIndexInside=currDataIndexInside),updateCache(dataIndexInside);var itemStyle=currItemModel.getModel(ITEM_STYLE_EMPHASIS_PATH).getItemStyle();return graphicUtil.setTextStyle(itemStyle,currLabelEmphasisModel,null,{"isRectText":!0},!0),itemStyle.text=currLabelEmphasisModel.getShallow("show")?zrUtil.retrieve3(customSeries.getFormattedLabel(dataIndexInside,"emphasis"),customSeries.getFormattedLabel(dataIndexInside,"normal"),getDefaultLabel(data,dataIndexInside)):null,extra&&zrUtil.extend(itemStyle,extra),itemStyle}function visual(visualType,dataIndexInside){return null==dataIndexInside&&(dataIndexInside=currDataIndexInside),data.getItemVisual(dataIndexInside,visualType)}function barLayout(opt){if(coordSys.getBaseAxis){var baseAxis=coordSys.getBaseAxis();return getLayoutOnAxis(zrUtil.defaults({"axis":baseAxis},opt),api)}}function currentSeriesIndices(){return ecModel.getCurrentSeriesIndices()}function font(opt){return graphicUtil.getFont(opt,ecModel)}var renderItem=customSeries.get("renderItem"),coordSys=customSeries.coordinateSystem,prepareResult={};coordSys&&(prepareResult=coordSys.prepareCustoms?coordSys.prepareCustoms():prepareCustoms[coordSys.type](coordSys));var currDataIndexInside,currItemModel,currLabelNormalModel,currLabelEmphasisModel,currVisualColor,userAPI=zrUtil.defaults({"getWidth":api.getWidth,"getHeight":api.getHeight,"getZr":api.getZr,"getDevicePixelRatio":api.getDevicePixelRatio,"value":value,"style":style,"styleEmphasis":styleEmphasis,"visual":visual,"barLayout":barLayout,"currentSeriesIndices":currentSeriesIndices,"font":font},prepareResult.api||{}),userParams={"context":{},"seriesId":customSeries.id,"seriesName":customSeries.name,"seriesIndex":customSeries.seriesIndex,"coordSys":prepareResult.coordSys,"dataInsideLength":data.count(),"encode":wrapEncodeDef(customSeries.getData())},currDirty=!0;return function(dataIndexInside){return currDataIndexInside=dataIndexInside,currDirty=!0,renderItem&&renderItem(zrUtil.defaults({"dataIndexInside":dataIndexInside,"dataIndex":data.getRawIndex(dataIndexInside)},userParams),userAPI)||{}}}function wrapEncodeDef(data){var encodeDef={};return zrUtil.each(data.dimensions,function(dimName,dataDimIndex){var dimInfo=data.getDimensionInfo(dimName);if(!dimInfo.isExtraCoord){var coordDim=dimInfo.coordDim,dataDims=encodeDef[coordDim]=encodeDef[coordDim]||[];dataDims[dimInfo.coordDimIndex]=dataDimIndex}}),encodeDef}function createOrUpdate(el,dataIndex,elOption,animatableModel,group,data){return el=doCreateOrUpdate(el,dataIndex,elOption,animatableModel,group,data),el&&data.setItemGraphicEl(dataIndex,el),el}function doCreateOrUpdate(el,dataIndex,elOption,animatableModel,group,data){var elOptionType=elOption.type;if(!el||elOptionType===el.__customGraphicType||"path"===elOptionType&&elOption.pathData===el.__customPathData||"image"===elOptionType&&elOption.style.image===el.__customImagePath||"text"===elOptionType&&elOption.style.text===el.__customText||(group.remove(el),el=null),null!=elOptionType){var isInit=!el;if(!el&&(el=createEl(elOption)),updateEl(el,dataIndex,elOption,animatableModel,data,isInit),"group"===elOptionType){var oldChildren=el.children()||[],newChildren=elOption.children||[];if(elOption.diffChildrenByName)diffGroupChildren({"oldChildren":oldChildren,"newChildren":newChildren,"dataIndex":dataIndex,"animatableModel":animatableModel,"group":el,"data":data});else{for(var index=0;index<newChildren.length;index++)doCreateOrUpdate(el.childAt(index),dataIndex,newChildren[index],animatableModel,el,data);for(;index<oldChildren.length;index++)oldChildren[index]&&el.remove(oldChildren[index])}}return group.add(el),el}}function diffGroupChildren(context){new DataDiffer(context.oldChildren,context.newChildren,getKey,getKey,context).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey(item,idx){var name=item&&item.name;return null!=name?name:GROUP_DIFF_PREFIX+idx}function processAddUpdate(newIndex,oldIndex){var context=this.context,childOption=null!=newIndex?context.newChildren[newIndex]:null,child=null!=oldIndex?context.oldChildren[oldIndex]:null;doCreateOrUpdate(child,context.dataIndex,childOption,context.animatableModel,context.group,context.data)}function processRemove(oldIndex){var context=this.context,child=context.oldChildren[oldIndex];child&&context.group.remove(child)}var _config=__webpack_require__(30),echarts=(_config.__DEV__,__webpack_require__(13)),zrUtil=__webpack_require__(4),graphicUtil=__webpack_require__(15),_labelHelper=__webpack_require__(378),getDefaultLabel=_labelHelper.getDefaultLabel,createListFromArray=__webpack_require__(114),_barGrid=__webpack_require__(276),getLayoutOnAxis=_barGrid.getLayoutOnAxis,DataDiffer=__webpack_require__(160),prepareCartesian2d=__webpack_require__(1550),prepareGeo=__webpack_require__(1557),prepareSingleAxis=__webpack_require__(1575),preparePolar=__webpack_require__(1568),prepareCalendar=__webpack_require__(1545),ITEM_STYLE_NORMAL_PATH=["itemStyle"],ITEM_STYLE_EMPHASIS_PATH=["emphasis","itemStyle"],LABEL_NORMAL=["label"],LABEL_EMPHASIS=["emphasis","label"],GROUP_DIFF_PREFIX="e\0\0",prepareCustoms={"cartesian2d":prepareCartesian2d,"geo":prepareGeo,"singleAxis":prepareSingleAxis,"polar":preparePolar,"calendar":prepareCalendar};echarts.extendSeriesModel({"type":"series.custom","dependencies":["grid","polar","geo","singleAxis","calendar"],"defaultOption":{"coordinateSystem":"cartesian2d","zlevel":0,"z":2,"legendHoverLink":!0},"getInitialData":function(option,ecModel){return createListFromArray(this.getSource(),this)}}),echarts.extendChartView({"type":"custom","_data":null,"render":function(customSeries,ecModel,api){var oldData=this._data,data=customSeries.getData(),group=this.group,renderItem=makeRenderItem(customSeries,data,ecModel,api);this.group.removeAll(),data.diff(oldData).add(function(newIdx){createOrUpdate(null,newIdx,renderItem(newIdx),customSeries,group,data)}).update(function(newIdx,oldIdx){var el=oldData.getItemGraphicEl(oldIdx);createOrUpdate(el,newIdx,renderItem(newIdx),customSeries,group,data)}).remove(function(oldIdx){var el=oldData.getItemGraphicEl(oldIdx);el&&group.remove(el)}).execute(),this._data=data},"incrementalPrepareRender":function(customSeries,ecModel,api){this.group.removeAll(),this._data=null},"incrementalRender":function(params,customSeries,ecModel,api){function setIncrementalAndHoverLayer(el){el.isGroup||(el.incremental=!0,el.useHoverLayer=!0)}for(var data=customSeries.getData(),renderItem=makeRenderItem(customSeries,data,ecModel,api),idx=params.start;idx<params.end;idx++){var el=createOrUpdate(null,idx,renderItem(idx),customSeries,this.group,data);el.traverse(setIncrementalAndHoverLayer)}},"dispose":zrUtil.noop})},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(1360),__webpack_require__(1361);var visualSymbol=__webpack_require__(165),layoutPoints=__webpack_require__(223);echarts.registerVisual(visualSymbol("effectScatter","circle")),echarts.registerLayout(layoutPoints("effectScatter"))},function(module,exports,__webpack_require__){var createListFromArray=__webpack_require__(114),SeriesModel=__webpack_require__(57),_default=SeriesModel.extend({"type":"series.effectScatter","dependencies":["grid","polar"],"getInitialData":function(option,ecModel){return createListFromArray(this.getSource(),this)},"brushSelector":"point","defaultOption":{"coordinateSystem":"cartesian2d","zlevel":0,"z":2,"legendHoverLink":!0,"effectType":"ripple","progressive":0,"showEffectOn":"render","rippleEffect":{"period":4,"scale":2.5,"brushType":"fill"},"symbolSize":10}});module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),SymbolDraw=__webpack_require__(214),EffectSymbol=__webpack_require__(1388),matrix=__webpack_require__(70),pointsLayout=__webpack_require__(223),_default=echarts.extendChartView({"type":"effectScatter","init":function(){this._symbolDraw=new SymbolDraw(EffectSymbol)},"render":function(seriesModel,ecModel,api){var data=seriesModel.getData(),effectSymbolDraw=this._symbolDraw;
effectSymbolDraw.updateData(data),this.group.add(effectSymbolDraw.group)},"updateTransform":function(seriesModel,ecModel,api){var data=seriesModel.getData();this.group.dirty();var res=pointsLayout().reset(seriesModel);res.progress&&res.progress({"start":0,"end":data.count()},data),this._symbolDraw.updateLayout(data)},"_updateGroupTransform":function(seriesModel){var coordSys=seriesModel.coordinateSystem;coordSys&&coordSys.getRoamTransform&&(this.group.transform=matrix.clone(coordSys.getRoamTransform()),this.group.decomposeTransform())},"remove":function(ecModel,api){this._symbolDraw&&this._symbolDraw.remove(api)},"dispose":function(){}});module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(1363),__webpack_require__(1364);var dataColor=__webpack_require__(281),funnelLayout=__webpack_require__(1365),dataFilter=__webpack_require__(224);echarts.registerVisual(dataColor("funnel")),echarts.registerLayout(funnelLayout),echarts.registerProcessor(dataFilter("funnel"))},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),createListSimply=__webpack_require__(190),_model=__webpack_require__(27),defaultEmphasis=_model.defaultEmphasis,FunnelSeries=echarts.extendSeriesModel({"type":"series.funnel","init":function(option){FunnelSeries.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(option)},"getInitialData":function(option,ecModel){return createListSimply(this,["value"])},"_defaultLabelLine":function(option){defaultEmphasis(option,"labelLine",["show"]);var labelLineNormalOpt=option.labelLine,labelLineEmphasisOpt=option.emphasis.labelLine;labelLineNormalOpt.show=labelLineNormalOpt.show&&option.label.show,labelLineEmphasisOpt.show=labelLineEmphasisOpt.show&&option.emphasis.label.show},"getDataParams":function(dataIndex){var data=this.getData(),params=FunnelSeries.superCall(this,"getDataParams",dataIndex),valueDim=data.mapDimension("value"),sum=data.getSum(valueDim);return params.percent=sum?+(data.get(valueDim,dataIndex)/sum*100).toFixed(2):0,params.$vars.push("percent"),params},"defaultOption":{"zlevel":0,"z":2,"legendHoverLink":!0,"left":80,"top":60,"right":80,"bottom":60,"minSize":"0%","maxSize":"100%","sort":"descending","gap":0,"funnelAlign":"center","label":{"show":!0,"position":"outer"},"labelLine":{"show":!0,"length":20,"lineStyle":{"width":1,"type":"solid"}},"itemStyle":{"borderColor":"#fff","borderWidth":1},"emphasis":{"label":{"show":!0}}}}),_default=FunnelSeries;module.exports=_default},function(module,exports,__webpack_require__){function FunnelPiece(data,idx){function onEmphasis(){labelLine.ignore=labelLine.hoverIgnore,text.ignore=text.hoverIgnore}function onNormal(){labelLine.ignore=labelLine.normalIgnore,text.ignore=text.normalIgnore}graphic.Group.call(this);var polygon=new graphic.Polygon,labelLine=new graphic.Polyline,text=new graphic.Text;this.add(polygon),this.add(labelLine),this.add(text),this.updateData(data,idx,!0),this.on("emphasis",onEmphasis).on("normal",onNormal).on("mouseover",onEmphasis).on("mouseout",onNormal)}var graphic=__webpack_require__(15),zrUtil=__webpack_require__(4),ChartView=__webpack_require__(117),funnelPieceProto=FunnelPiece.prototype,opacityAccessPath=["itemStyle","opacity"];funnelPieceProto.updateData=function(data,idx,firstCreate){var polygon=this.childAt(0),seriesModel=data.hostModel,itemModel=data.getItemModel(idx),layout=data.getItemLayout(idx),opacity=data.getItemModel(idx).get(opacityAccessPath);opacity=null==opacity?1:opacity,polygon.useStyle({}),firstCreate?(polygon.setShape({"points":layout.points}),polygon.setStyle({"opacity":0}),graphic.initProps(polygon,{"style":{"opacity":opacity}},seriesModel,idx)):graphic.updateProps(polygon,{"style":{"opacity":opacity},"shape":{"points":layout.points}},seriesModel,idx);var itemStyleModel=itemModel.getModel("itemStyle"),visualColor=data.getItemVisual(idx,"color");polygon.setStyle(zrUtil.defaults({"lineJoin":"round","fill":visualColor},itemStyleModel.getItemStyle(["opacity"]))),polygon.hoverStyle=itemStyleModel.getModel("emphasis").getItemStyle(),this._updateLabel(data,idx),graphic.setHoverStyle(this)},funnelPieceProto._updateLabel=function(data,idx){var labelLine=this.childAt(1),labelText=this.childAt(2),seriesModel=data.hostModel,itemModel=data.getItemModel(idx),layout=data.getItemLayout(idx),labelLayout=layout.label,visualColor=data.getItemVisual(idx,"color");graphic.updateProps(labelLine,{"shape":{"points":labelLayout.linePoints||labelLayout.linePoints}},seriesModel,idx),graphic.updateProps(labelText,{"style":{"x":labelLayout.x,"y":labelLayout.y}},seriesModel,idx),labelText.attr({"rotation":labelLayout.rotation,"origin":[labelLayout.x,labelLayout.y],"z2":10});var labelModel=itemModel.getModel("label"),labelHoverModel=itemModel.getModel("emphasis.label"),labelLineModel=itemModel.getModel("labelLine"),labelLineHoverModel=itemModel.getModel("emphasis.labelLine"),visualColor=data.getItemVisual(idx,"color");graphic.setLabelStyle(labelText.style,labelText.hoverStyle={},labelModel,labelHoverModel,{"labelFetcher":data.hostModel,"labelDataIndex":idx,"defaultText":data.getName(idx),"autoColor":visualColor,"useInsideStyle":!!labelLayout.inside},{"textAlign":labelLayout.textAlign,"textVerticalAlign":labelLayout.verticalAlign}),labelText.ignore=labelText.normalIgnore=!labelModel.get("show"),labelText.hoverIgnore=!labelHoverModel.get("show"),labelLine.ignore=labelLine.normalIgnore=!labelLineModel.get("show"),labelLine.hoverIgnore=!labelLineHoverModel.get("show"),labelLine.setStyle({"stroke":visualColor}),labelLine.setStyle(labelLineModel.getModel("lineStyle").getLineStyle()),labelLine.hoverStyle=labelLineHoverModel.getModel("lineStyle").getLineStyle()},zrUtil.inherits(FunnelPiece,graphic.Group);var FunnelView=ChartView.extend({"type":"funnel","render":function(seriesModel,ecModel,api){var data=seriesModel.getData(),oldData=this._data,group=this.group;data.diff(oldData).add(function(idx){var funnelPiece=new FunnelPiece(data,idx);data.setItemGraphicEl(idx,funnelPiece),group.add(funnelPiece)}).update(function(newIdx,oldIdx){var piePiece=oldData.getItemGraphicEl(oldIdx);piePiece.updateData(data,newIdx),group.add(piePiece),data.setItemGraphicEl(newIdx,piePiece)}).remove(function(idx){var piePiece=oldData.getItemGraphicEl(idx);group.remove(piePiece)}).execute(),this._data=data},"remove":function(){this.group.removeAll(),this._data=null},"dispose":function(){}}),_default=FunnelView;module.exports=_default},function(module,exports,__webpack_require__){function getViewRect(seriesModel,api){return layout.getLayoutRect(seriesModel.getBoxLayoutParams(),{"width":api.getWidth(),"height":api.getHeight()})}function getSortedIndices(data,sort){for(var valueDim=data.mapDimension("value"),valueArr=data.mapArray(valueDim,function(val){return val}),indices=[],isAscending="ascending"===sort,i=0,len=data.count();i<len;i++)indices[i]=i;return"function"==typeof sort?indices.sort(sort):"none"!==sort&&indices.sort(function(a,b){return isAscending?valueArr[a]-valueArr[b]:valueArr[b]-valueArr[a]}),indices}function labelLayout(data){data.each(function(idx){var textAlign,textX,textY,linePoints,itemModel=data.getItemModel(idx),labelModel=itemModel.getModel("label"),labelPosition=labelModel.get("position"),labelLineModel=itemModel.getModel("labelLine"),layout=data.getItemLayout(idx),points=layout.points,isLabelInside="inner"===labelPosition||"inside"===labelPosition||"center"===labelPosition;if(isLabelInside)textX=(points[0][0]+points[1][0]+points[2][0]+points[3][0])/4,textY=(points[0][1]+points[1][1]+points[2][1]+points[3][1])/4,textAlign="center",linePoints=[[textX,textY],[textX,textY]];else{var x1,y1,x2,labelLineLen=labelLineModel.get("length");"left"===labelPosition?(x1=(points[3][0]+points[0][0])/2,y1=(points[3][1]+points[0][1])/2,x2=x1-labelLineLen,textX=x2-5,textAlign="right"):(x1=(points[1][0]+points[2][0])/2,y1=(points[1][1]+points[2][1])/2,x2=x1+labelLineLen,textX=x2+5,textAlign="left");var y2=y1;linePoints=[[x1,y1],[x2,y2]],textY=y2}layout.label={"linePoints":linePoints,"x":textX,"y":textY,"verticalAlign":"middle","textAlign":textAlign,"inside":isLabelInside}})}function _default(ecModel,api,payload){ecModel.eachSeriesByType("funnel",function(seriesModel){var data=seriesModel.getData(),valueDim=data.mapDimension("value"),sort=seriesModel.get("sort"),viewRect=getViewRect(seriesModel,api),indices=getSortedIndices(data,sort),sizeExtent=[parsePercent(seriesModel.get("minSize"),viewRect.width),parsePercent(seriesModel.get("maxSize"),viewRect.width)],dataExtent=data.getDataExtent(valueDim),min=seriesModel.get("min"),max=seriesModel.get("max");null==min&&(min=Math.min(dataExtent[0],0)),null==max&&(max=dataExtent[1]);var funnelAlign=seriesModel.get("funnelAlign"),gap=seriesModel.get("gap"),itemHeight=(viewRect.height-gap*(data.count()-1))/data.count(),y=viewRect.y,getLinePoints=function(idx,offY){var x0,val=data.get(valueDim,idx)||0,itemWidth=linearMap(val,[min,max],sizeExtent,!0);switch(funnelAlign){case"left":x0=viewRect.x;break;case"center":x0=viewRect.x+(viewRect.width-itemWidth)/2;break;case"right":x0=viewRect.x+viewRect.width-itemWidth}return[[x0,offY],[x0+itemWidth,offY]]};"ascending"===sort&&(itemHeight=-itemHeight,gap=-gap,y+=viewRect.height,indices=indices.reverse());for(var i=0;i<indices.length;i++){var idx=indices[i],nextIdx=indices[i+1],itemModel=data.getItemModel(idx),height=itemModel.get("itemStyle.height");null==height?height=itemHeight:(height=parsePercent(height,viewRect.height),"ascending"===sort&&(height=-height));var start=getLinePoints(idx,y),end=getLinePoints(nextIdx,y+height);y+=height+gap,data.setItemLayout(idx,{"points":start.concat(end.slice().reverse())})}labelLayout(data)})}var layout=__webpack_require__(34),_number=__webpack_require__(20),parsePercent=_number.parsePercent,linearMap=_number.linearMap;module.exports=_default},function(module,exports,__webpack_require__){__webpack_require__(1367),__webpack_require__(1368)},function(module,exports,__webpack_require__){var createListSimply=__webpack_require__(190),SeriesModel=__webpack_require__(57),zrUtil=__webpack_require__(4),GaugeSeries=SeriesModel.extend({"type":"series.gauge","getInitialData":function(option,ecModel){var dataOpt=option.data||[];return zrUtil.isArray(dataOpt)||(dataOpt=[dataOpt]),option.data=dataOpt,createListSimply(this,["value"])},"defaultOption":{"zlevel":0,"z":2,"center":["50%","50%"],"legendHoverLink":!0,"radius":"75%","startAngle":225,"endAngle":-45,"clockwise":!0,"min":0,"max":100,"splitNumber":10,"axisLine":{"show":!0,"lineStyle":{"color":[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],"width":30}},"splitLine":{"show":!0,"length":30,"lineStyle":{"color":"#eee","width":2,"type":"solid"}},"axisTick":{"show":!0,"splitNumber":5,"length":8,"lineStyle":{"color":"#eee","width":1,"type":"solid"}},"axisLabel":{"show":!0,"distance":5,"color":"auto"},"pointer":{"show":!0,"length":"80%","width":8},"itemStyle":{"color":"auto"},"title":{"show":!0,"offsetCenter":[0,"-40%"],"color":"#333","fontSize":15},"detail":{"show":!0,"backgroundColor":"rgba(0,0,0,0)","borderWidth":0,"borderColor":"#ccc","width":100,"height":null,"padding":[5,10],"offsetCenter":[0,"40%"],"color":"auto","fontSize":30}}}),_default=GaugeSeries;module.exports=_default},function(module,exports,__webpack_require__){function parsePosition(seriesModel,api){var center=seriesModel.get("center"),width=api.getWidth(),height=api.getHeight(),size=Math.min(width,height),cx=parsePercent(center[0],api.getWidth()),cy=parsePercent(center[1],api.getHeight()),r=parsePercent(seriesModel.get("radius"),size/2);return{"cx":cx,"cy":cy,"r":r}}function formatLabel(label,labelFormatter){return labelFormatter&&("string"==typeof labelFormatter?label=labelFormatter.replace("{value}",null!=label?label:""):"function"==typeof labelFormatter&&(label=labelFormatter(label))),label}var PointerPath=__webpack_require__(1369),graphic=__webpack_require__(15),ChartView=__webpack_require__(117),_number=__webpack_require__(20),parsePercent=_number.parsePercent,round=_number.round,linearMap=_number.linearMap,PI2=2*Math.PI,GaugeView=ChartView.extend({"type":"gauge","render":function(seriesModel,ecModel,api){this.group.removeAll();var colorList=seriesModel.get("axisLine.lineStyle.color"),posInfo=parsePosition(seriesModel,api);this._renderMain(seriesModel,ecModel,api,colorList,posInfo)},"dispose":function(){},"_renderMain":function(seriesModel,ecModel,api,colorList,posInfo){for(var group=this.group,axisLineModel=seriesModel.getModel("axisLine"),lineStyleModel=axisLineModel.getModel("lineStyle"),clockwise=seriesModel.get("clockwise"),startAngle=-seriesModel.get("startAngle")/180*Math.PI,endAngle=-seriesModel.get("endAngle")/180*Math.PI,angleRangeSpan=(endAngle-startAngle)%PI2,prevEndAngle=startAngle,axisLineWidth=lineStyleModel.get("width"),i=0;i<colorList.length;i++){var percent=Math.min(Math.max(colorList[i][0],0),1),endAngle=startAngle+angleRangeSpan*percent,sector=new graphic.Sector({"shape":{"startAngle":prevEndAngle,"endAngle":endAngle,"cx":posInfo.cx,"cy":posInfo.cy,"clockwise":clockwise,"r0":posInfo.r-axisLineWidth,"r":posInfo.r},"silent":!0});sector.setStyle({"fill":colorList[i][1]}),sector.setStyle(lineStyleModel.getLineStyle(["color","borderWidth","borderColor"])),group.add(sector),prevEndAngle=endAngle}var getColor=function(percent){if(percent<=0)return colorList[0][1];for(var i=0;i<colorList.length;i++)if(colorList[i][0]>=percent&&(0===i?0:colorList[i-1][0])<percent)return colorList[i][1];return colorList[i-1][1]};if(!clockwise){var tmp=startAngle;startAngle=endAngle,endAngle=tmp}this._renderTicks(seriesModel,ecModel,api,getColor,posInfo,startAngle,endAngle,clockwise),this._renderPointer(seriesModel,ecModel,api,getColor,posInfo,startAngle,endAngle,clockwise),this._renderTitle(seriesModel,ecModel,api,getColor,posInfo),this._renderDetail(seriesModel,ecModel,api,getColor,posInfo)},"_renderTicks":function(seriesModel,ecModel,api,getColor,posInfo,startAngle,endAngle,clockwise){for(var group=this.group,cx=posInfo.cx,cy=posInfo.cy,r=posInfo.r,minVal=+seriesModel.get("min"),maxVal=+seriesModel.get("max"),splitLineModel=seriesModel.getModel("splitLine"),tickModel=seriesModel.getModel("axisTick"),labelModel=seriesModel.getModel("axisLabel"),splitNumber=seriesModel.get("splitNumber"),subSplitNumber=tickModel.get("splitNumber"),splitLineLen=parsePercent(splitLineModel.get("length"),r),tickLen=parsePercent(tickModel.get("length"),r),angle=startAngle,step=(endAngle-startAngle)/splitNumber,subStep=step/subSplitNumber,splitLineStyle=splitLineModel.getModel("lineStyle").getLineStyle(),tickLineStyle=tickModel.getModel("lineStyle").getLineStyle(),i=0;i<=splitNumber;i++){var unitX=Math.cos(angle),unitY=Math.sin(angle);if(splitLineModel.get("show")){var splitLine=new graphic.Line({"shape":{"x1":unitX*r+cx,"y1":unitY*r+cy,"x2":unitX*(r-splitLineLen)+cx,"y2":unitY*(r-splitLineLen)+cy},"style":splitLineStyle,"silent":!0});"auto"===splitLineStyle.stroke&&splitLine.setStyle({"stroke":getColor(i/splitNumber)}),group.add(splitLine)}if(labelModel.get("show")){var label=formatLabel(round(i/splitNumber*(maxVal-minVal)+minVal),labelModel.get("formatter")),distance=labelModel.get("distance"),autoColor=getColor(i/splitNumber);group.add(new graphic.Text({"style":graphic.setTextStyle({},labelModel,{"text":label,"x":unitX*(r-splitLineLen-distance)+cx,"y":unitY*(r-splitLineLen-distance)+cy,"textVerticalAlign":unitY<-.4?"top":unitY>.4?"bottom":"middle","textAlign":unitX<-.4?"left":unitX>.4?"right":"center"},{"autoColor":autoColor}),"silent":!0}))}if(tickModel.get("show")&&i!==splitNumber){for(var j=0;j<=subSplitNumber;j++){var unitX=Math.cos(angle),unitY=Math.sin(angle),tickLine=new graphic.Line({"shape":{"x1":unitX*r+cx,"y1":unitY*r+cy,"x2":unitX*(r-tickLen)+cx,"y2":unitY*(r-tickLen)+cy},"silent":!0,"style":tickLineStyle});"auto"===tickLineStyle.stroke&&tickLine.setStyle({"stroke":getColor((i+j/subSplitNumber)/splitNumber)}),group.add(tickLine),angle+=subStep}angle-=subStep}else angle+=step}},"_renderPointer":function(seriesModel,ecModel,api,getColor,posInfo,startAngle,endAngle,clockwise){var group=this.group,oldData=this._data;if(!seriesModel.get("pointer.show"))return void(oldData&&oldData.eachItemGraphicEl(function(el){group.remove(el)}));var valueExtent=[+seriesModel.get("min"),+seriesModel.get("max")],angleExtent=[startAngle,endAngle],data=seriesModel.getData(),valueDim=data.mapDimension("value");data.diff(oldData).add(function(idx){var pointer=new PointerPath({"shape":{"angle":startAngle}});graphic.initProps(pointer,{"shape":{"angle":linearMap(data.get(valueDim,idx),valueExtent,angleExtent,!0)}},seriesModel),group.add(pointer),data.setItemGraphicEl(idx,pointer)}).update(function(newIdx,oldIdx){var pointer=oldData.getItemGraphicEl(oldIdx);graphic.updateProps(pointer,{"shape":{"angle":linearMap(data.get(valueDim,newIdx),valueExtent,angleExtent,!0)}},seriesModel),group.add(pointer),data.setItemGraphicEl(newIdx,pointer)}).remove(function(idx){var pointer=oldData.getItemGraphicEl(idx);group.remove(pointer)}).execute(),data.eachItemGraphicEl(function(pointer,idx){var itemModel=data.getItemModel(idx),pointerModel=itemModel.getModel("pointer");pointer.setShape({"x":posInfo.cx,"y":posInfo.cy,"width":parsePercent(pointerModel.get("width"),posInfo.r),"r":parsePercent(pointerModel.get("length"),posInfo.r)}),pointer.useStyle(itemModel.getModel("itemStyle").getItemStyle()),"auto"===pointer.style.fill&&pointer.setStyle("fill",getColor(linearMap(data.get(valueDim,idx),valueExtent,[0,1],!0))),graphic.setHoverStyle(pointer,itemModel.getModel("emphasis.itemStyle").getItemStyle())}),this._data=data},"_renderTitle":function(seriesModel,ecModel,api,getColor,posInfo){var data=seriesModel.getData(),valueDim=data.mapDimension("value"),titleModel=seriesModel.getModel("title");if(titleModel.get("show")){var offsetCenter=titleModel.get("offsetCenter"),x=posInfo.cx+parsePercent(offsetCenter[0],posInfo.r),y=posInfo.cy+parsePercent(offsetCenter[1],posInfo.r),minVal=+seriesModel.get("min"),maxVal=+seriesModel.get("max"),value=seriesModel.getData().get(valueDim,0),autoColor=getColor(linearMap(value,[minVal,maxVal],[0,1],!0));this.group.add(new graphic.Text({"silent":!0,"style":graphic.setTextStyle({},titleModel,{"x":x,"y":y,"text":data.getName(0),"textAlign":"center","textVerticalAlign":"middle"},{"autoColor":autoColor,"forceRich":!0})}))}},"_renderDetail":function(seriesModel,ecModel,api,getColor,posInfo){var detailModel=seriesModel.getModel("detail"),minVal=+seriesModel.get("min"),maxVal=+seriesModel.get("max");if(detailModel.get("show")){var offsetCenter=detailModel.get("offsetCenter"),x=posInfo.cx+parsePercent(offsetCenter[0],posInfo.r),y=posInfo.cy+parsePercent(offsetCenter[1],posInfo.r),width=parsePercent(detailModel.get("width"),posInfo.r),height=parsePercent(detailModel.get("height"),posInfo.r),data=seriesModel.getData(),value=data.get(data.mapDimension("value"),0),autoColor=getColor(linearMap(value,[minVal,maxVal],[0,1],!0));this.group.add(new graphic.Text({"silent":!0,"style":graphic.setTextStyle({},detailModel,{"x":x,"y":y,"text":formatLabel(value,detailModel.get("formatter")),"textWidth":isNaN(width)?null:width,"textHeight":isNaN(height)?null:height,"textAlign":"center","textVerticalAlign":"middle"},{"autoColor":autoColor,"forceRich":!0})}))}}}),_default=GaugeView;module.exports=_default},function(module,exports,__webpack_require__){var Path=__webpack_require__(50),_default=Path.extend({"type":"echartsGaugePointer","shape":{"angle":0,"width":10,"r":10,"x":0,"y":0},"buildPath":function(ctx,shape){var mathCos=Math.cos,mathSin=Math.sin,r=shape.r,width=shape.width,angle=shape.angle,x=shape.x-mathCos(angle)*width*(width>=r/3?1:2),y=shape.y-mathSin(angle)*width*(width>=r/3?1:2);angle=shape.angle-Math.PI/2,ctx.moveTo(x,y),ctx.lineTo(shape.x+mathCos(angle)*width,shape.y+mathSin(angle)*width),ctx.lineTo(shape.x+mathCos(shape.angle)*r,shape.y+mathSin(shape.angle)*r),ctx.lineTo(shape.x-mathCos(angle)*width,shape.y-mathSin(angle)*width),ctx.lineTo(x,y)}});module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(1371),__webpack_require__(1372),__webpack_require__(1381);var categoryFilter=__webpack_require__(1374),visualSymbol=__webpack_require__(165),categoryVisual=__webpack_require__(1375),edgeVisual=__webpack_require__(1378),simpleLayout=__webpack_require__(1382),circularLayout=__webpack_require__(1376),forceLayout=__webpack_require__(1380),createView=__webpack_require__(1377);echarts.registerProcessor(categoryFilter),echarts.registerVisual(visualSymbol("graph","circle",null)),echarts.registerVisual(categoryVisual),echarts.registerVisual(edgeVisual),echarts.registerLayout(simpleLayout),echarts.registerLayout(circularLayout),echarts.registerLayout(forceLayout),echarts.registerCoordinateSystem("graphView",{"create":createView})},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),List=__webpack_require__(82),zrUtil=__webpack_require__(4),_model=__webpack_require__(27),defaultEmphasis=_model.defaultEmphasis,Model=__webpack_require__(56),_format=__webpack_require__(40),encodeHTML=_format.encodeHTML,createGraphFromNodeEdge=__webpack_require__(616),GraphSeries=echarts.extendSeriesModel({"type":"series.graph","init":function(option){GraphSeries.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(option.edges||option.links),this._updateCategoriesData()},"mergeOption":function(option){GraphSeries.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(option.edges||option.links),this._updateCategoriesData()},"mergeDefaultAndTheme":function(option){GraphSeries.superApply(this,"mergeDefaultAndTheme",arguments),defaultEmphasis(option,["edgeLabel"],["show"])},"getInitialData":function(option,ecModel){function beforeLink(nodeData,edgeData){function edgeGetParent(path){return path=this.parsePath(path),path&&"label"===path[0]?fakeSeriesModel:path&&"emphasis"===path[0]&&"label"===path[1]?emphasisFakeSeriesModel:this.parentModel}nodeData.wrapMethod("getItemModel",function(model){var categoriesModels=self._categoriesModels,categoryIdx=model.getShallow("category"),categoryModel=categoriesModels[categoryIdx];return categoryModel&&(categoryModel.parentModel=model.parentModel,model.parentModel=categoryModel),model});var edgeLabelModel=self.getModel("edgeLabel"),fakeSeriesModel=new Model({"label":edgeLabelModel.option},edgeLabelModel.parentModel,ecModel),emphasisEdgeLabelModel=self.getModel("emphasis.edgeLabel"),emphasisFakeSeriesModel=new Model({"emphasis":{"label":emphasisEdgeLabelModel.option}},emphasisEdgeLabelModel.parentModel,ecModel);edgeData.wrapMethod("getItemModel",function(model){return model.customizeGetParent(edgeGetParent),model})}var edges=option.edges||option.links||[],nodes=option.data||option.nodes||[],self=this;if(nodes&&edges)return createGraphFromNodeEdge(nodes,edges,this,!0,beforeLink).data},"getGraph":function(){return this.getData().graph},"getEdgeData":function(){return this.getGraph().edgeData},"getCategoriesData":function(){return this._categoriesData},"formatTooltip":function(dataIndex,multipleSeries,dataType){if("edge"===dataType){var nodeData=this.getData(),params=this.getDataParams(dataIndex,dataType),edge=nodeData.graph.getEdgeByIndex(dataIndex),sourceName=nodeData.getName(edge.node1.dataIndex),targetName=nodeData.getName(edge.node2.dataIndex),html=[];return null!=sourceName&&html.push(sourceName),null!=targetName&&html.push(targetName),html=encodeHTML(html.join(" > ")),params.value&&(html+=" : "+encodeHTML(params.value)),html}return GraphSeries.superApply(this,"formatTooltip",arguments)},"_updateCategoriesData":function(){var categories=zrUtil.map(this.option.categories||[],function(category){return null!=category.value?category:zrUtil.extend({"value":0},category)}),categoriesData=new List(["value"],this);categoriesData.initData(categories),this._categoriesData=categoriesData,this._categoriesModels=categoriesData.mapArray(function(idx){return categoriesData.getItemModel(idx,!0)})},"setZoom":function(zoom){this.option.zoom=zoom},"setCenter":function(center){this.option.center=center},"isAnimationEnabled":function(){return GraphSeries.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"view","legendHoverLink":!0,"hoverAnimation":!0,"layout":null,"focusNodeAdjacency":!1,"circular":{"rotateLabel":!1},"force":{"initLayout":null,"repulsion":[0,50],"gravity":.1,"edgeLength":30,"layoutAnimation":!0},"left":"center","top":"center","symbol":"circle","symbolSize":10,"edgeSymbol":["none","none"],"edgeSymbolSize":10,"edgeLabel":{"position":"middle"},"draggable":!1,"roam":!1,"center":null,"zoom":1,"nodeScaleRatio":.6,"label":{"show":!1,"formatter":"{b}"},"itemStyle":{},"lineStyle":{"color":"#aaa","width":1,"curveness":0,"opacity":.5},"emphasis":{"label":{"show":!0}}}}),_default=GraphSeries;module.exports=_default},function(module,exports,__webpack_require__){function getItemOpacity(item,opacityPath){return item.getVisual("opacity")||item.getModel().get(opacityPath)}function fadeOutItem(item,opacityPath,opacityRatio){var el=item.getGraphicEl(),opacity=getItemOpacity(item,opacityPath);null!=opacityRatio&&(null==opacity&&(opacity=1),opacity*=opacityRatio),el.downplay&&el.downplay(),el.traverse(function(child){"group"!==child.type&&child.setStyle("opacity",opacity)})}function fadeInItem(item,opacityPath){var opacity=getItemOpacity(item,opacityPath),el=item.getGraphicEl();el.highlight&&el.highlight(),el.traverse(function(child){"group"!==child.type&&child.setStyle("opacity",opacity)})}var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),SymbolDraw=__webpack_require__(214),LineDraw=__webpack_require__(377),RoamController=__webpack_require__(272),roamHelper=__webpack_require__(635),_cursorHelper=__webpack_require__(382),onIrrelevantElement=_cursorHelper.onIrrelevantElement,graphic=__webpack_require__(15),adjustEdge=__webpack_require__(1373),nodeOpacityPath=["itemStyle","opacity"],lineOpacityPath=["lineStyle","opacity"],_default=echarts.extendChartView({"type":"graph","init":function(ecModel,api){var symbolDraw=new SymbolDraw,lineDraw=new LineDraw,group=this.group;this._controller=new RoamController(api.getZr()),this._controllerHost={"target":group},group.add(symbolDraw.group),group.add(lineDraw.group),this._symbolDraw=symbolDraw,this._lineDraw=lineDraw,this._firstRender=!0},"render":function(seriesModel,ecModel,api){var coordSys=seriesModel.coordinateSystem;this._model=seriesModel,this._nodeScaleRatio=seriesModel.get("nodeScaleRatio");var symbolDraw=this._symbolDraw,lineDraw=this._lineDraw,group=this.group;if("view"===coordSys.type){var groupNewProp={"position":coordSys.position,"scale":coordSys.scale};this._firstRender?group.attr(groupNewProp):graphic.updateProps(group,groupNewProp,seriesModel)}adjustEdge(seriesModel.getGraph(),this._getNodeGlobalScale(seriesModel));var data=seriesModel.getData();symbolDraw.updateData(data);var edgeData=seriesModel.getEdgeData();lineDraw.updateData(edgeData),this._updateNodeAndLinkScale(),this._updateController(seriesModel,ecModel,api),clearTimeout(this._layoutTimeout);var forceLayout=seriesModel.forceLayout,layoutAnimation=seriesModel.get("force.layoutAnimation");forceLayout&&this._startForceLayoutIteration(forceLayout,layoutAnimation),data.eachItemGraphicEl(function(el,idx){var itemModel=data.getItemModel(idx);el.off("drag").off("dragend");var draggable=data.getItemModel(idx).get("draggable");draggable&&el.on("drag",function(){forceLayout&&(forceLayout.warmUp(),!this._layouting&&this._startForceLayoutIteration(forceLayout,layoutAnimation),forceLayout.setFixed(idx),data.setItemLayout(idx,el.position))},this).on("dragend",function(){forceLayout&&forceLayout.setUnfixed(idx)},this),el.setDraggable(draggable&&forceLayout),el.off("mouseover",el.__focusNodeAdjacency),el.off("mouseout",el.__unfocusNodeAdjacency),itemModel.get("focusNodeAdjacency")&&(el.on("mouseover",el.__focusNodeAdjacency=function(){api.dispatchAction({"type":"focusNodeAdjacency","seriesId":seriesModel.id,"dataIndex":el.dataIndex})}),el.on("mouseout",el.__unfocusNodeAdjacency=function(){api.dispatchAction({"type":"unfocusNodeAdjacency","seriesId":seriesModel.id})}))},this),data.graph.eachEdge(function(edge){var el=edge.getGraphicEl();el.off("mouseover",el.__focusNodeAdjacency),el.off("mouseout",el.__unfocusNodeAdjacency),edge.getModel().get("focusNodeAdjacency")&&(el.on("mouseover",el.__focusNodeAdjacency=function(){api.dispatchAction({"type":"focusNodeAdjacency","seriesId":seriesModel.id,"edgeDataIndex":edge.dataIndex})}),el.on("mouseout",el.__unfocusNodeAdjacency=function(){api.dispatchAction({"type":"unfocusNodeAdjacency","seriesId":seriesModel.id})}))});var circularRotateLabel="circular"===seriesModel.get("layout")&&seriesModel.get("circular.rotateLabel"),cx=data.getLayout("cx"),cy=data.getLayout("cy");data.eachItemGraphicEl(function(el,idx){var symbolPath=el.getSymbolPath();if(circularRotateLabel){var pos=data.getItemLayout(idx),rad=Math.atan2(pos[1]-cy,pos[0]-cx);rad<0&&(rad=2*Math.PI+rad);var isLeft=pos[0]<cx;isLeft&&(rad-=Math.PI);var textPosition=isLeft?"left":"right";symbolPath.setStyle({"textRotation":-rad,"textPosition":textPosition,"textOrigin":"center"}),symbolPath.hoverStyle&&(symbolPath.hoverStyle.textPosition=textPosition)}else symbolPath.setStyle({"textRotation":0})}),this._firstRender=!1},"dispose":function(){this._controller&&this._controller.dispose(),this._controllerHost={}},"focusNodeAdjacency":function(seriesModel,ecModel,api,payload){var data=this._model.getData(),graph=data.graph,dataIndex=payload.dataIndex,edgeDataIndex=payload.edgeDataIndex,node=graph.getNodeByIndex(dataIndex),edge=graph.getEdgeByIndex(edgeDataIndex);(node||edge)&&(graph.eachNode(function(node){fadeOutItem(node,nodeOpacityPath,.1)}),graph.eachEdge(function(edge){fadeOutItem(edge,lineOpacityPath,.1)}),node&&(fadeInItem(node,nodeOpacityPath),zrUtil.each(node.edges,function(adjacentEdge){adjacentEdge.dataIndex<0||(fadeInItem(adjacentEdge,lineOpacityPath),fadeInItem(adjacentEdge.node1,nodeOpacityPath),fadeInItem(adjacentEdge.node2,nodeOpacityPath))})),edge&&(fadeInItem(edge,lineOpacityPath),fadeInItem(edge.node1,nodeOpacityPath),fadeInItem(edge.node2,nodeOpacityPath)))},"unfocusNodeAdjacency":function(seriesModel,ecModel,api,payload){var graph=this._model.getData().graph;graph.eachNode(function(node){fadeOutItem(node,nodeOpacityPath)}),graph.eachEdge(function(edge){fadeOutItem(edge,lineOpacityPath)})},"_startForceLayoutIteration":function(forceLayout,layoutAnimation){var self=this;!function step(){forceLayout.step(function(stopped){self.updateLayout(self._model),(self._layouting=!stopped)&&(layoutAnimation?self._layoutTimeout=setTimeout(step,16):step())})}()},"_updateController":function(seriesModel,ecModel,api){var controller=this._controller,controllerHost=this._controllerHost,group=this.group;return controller.setPointerChecker(function(e,x,y){var rect=group.getBoundingRect();return rect.applyTransform(group.transform),rect.contain(x,y)&&!onIrrelevantElement(e,api,seriesModel)}),"view"!==seriesModel.coordinateSystem.type?void controller.disable():(controller.enable(seriesModel.get("roam")),controllerHost.zoomLimit=seriesModel.get("scaleLimit"),controllerHost.zoom=seriesModel.coordinateSystem.getZoom(),void controller.off("pan").off("zoom").on("pan",function(dx,dy){roamHelper.updateViewOnPan(controllerHost,dx,dy),api.dispatchAction({"seriesId":seriesModel.id,"type":"graphRoam","dx":dx,"dy":dy})}).on("zoom",function(zoom,mouseX,mouseY){roamHelper.updateViewOnZoom(controllerHost,zoom,mouseX,mouseY),api.dispatchAction({"seriesId":seriesModel.id,"type":"graphRoam","zoom":zoom,"originX":mouseX,"originY":mouseY}),this._updateNodeAndLinkScale(),adjustEdge(seriesModel.getGraph(),this._getNodeGlobalScale(seriesModel)),
this._lineDraw.updateLayout()},this))},"_updateNodeAndLinkScale":function(){var seriesModel=this._model,data=seriesModel.getData(),nodeScale=this._getNodeGlobalScale(seriesModel),invScale=[nodeScale,nodeScale];data.eachItemGraphicEl(function(el,idx){el.attr("scale",invScale)})},"_getNodeGlobalScale":function(seriesModel){var coordSys=seriesModel.coordinateSystem;if("view"!==coordSys.type)return 1;var nodeScaleRatio=this._nodeScaleRatio,groupScale=coordSys.scale,groupZoom=groupScale&&groupScale[0]||1,roamZoom=coordSys.getZoom(),nodeScale=(roamZoom-1)*nodeScaleRatio+1;return nodeScale/groupZoom},"updateLayout":function(seriesModel){adjustEdge(seriesModel.getGraph(),this._getNodeGlobalScale(seriesModel)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},"remove":function(ecModel,api){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});module.exports=_default},function(module,exports,__webpack_require__){function intersectCurveCircle(curvePoints,center,radius){for(var t,p0=curvePoints[0],p1=curvePoints[1],p2=curvePoints[2],d=1/0,radiusSquare=radius*radius,interval=.1,_t=.1;_t<=.9;_t+=.1){v1[0]=quadraticAt(p0[0],p1[0],p2[0],_t),v1[1]=quadraticAt(p0[1],p1[1],p2[1],_t);var diff=mathAbs(v2DistSquare(v1,center)-radiusSquare);diff<d&&(d=diff,t=_t)}for(var i=0;i<32;i++){var next=t+interval;v2[0]=quadraticAt(p0[0],p1[0],p2[0],t),v2[1]=quadraticAt(p0[1],p1[1],p2[1],t),v3[0]=quadraticAt(p0[0],p1[0],p2[0],next),v3[1]=quadraticAt(p0[1],p1[1],p2[1],next);var diff=v2DistSquare(v2,center)-radiusSquare;if(mathAbs(diff)<.01)break;var nextDiff=v2DistSquare(v3,center)-radiusSquare;interval/=2,diff<0?nextDiff>=0?t+=interval:t-=interval:nextDiff>=0?t-=interval:t+=interval}return t}function _default(graph,scale){function getSymbolSize(node){var symbolSize=node.getVisual("symbolSize");return symbolSize instanceof Array&&(symbolSize=(symbolSize[0]+symbolSize[1])/2),symbolSize}var tmp0=[],quadraticSubdivide=curveTool.quadraticSubdivide,pts=[[],[],[]],pts2=[[],[]],v=[];scale/=2,graph.eachEdge(function(edge,idx){var linePoints=edge.getLayout(),fromSymbol=edge.getVisual("fromSymbol"),toSymbol=edge.getVisual("toSymbol");linePoints.__original||(linePoints.__original=[vec2.clone(linePoints[0]),vec2.clone(linePoints[1])],linePoints[2]&&linePoints.__original.push(vec2.clone(linePoints[2])));var originalPoints=linePoints.__original;if(null!=linePoints[2]){if(vec2.copy(pts[0],originalPoints[0]),vec2.copy(pts[1],originalPoints[2]),vec2.copy(pts[2],originalPoints[1]),fromSymbol&&"none"!=fromSymbol){var symbolSize=getSymbolSize(edge.node1),t=intersectCurveCircle(pts,originalPoints[0],symbolSize*scale);quadraticSubdivide(pts[0][0],pts[1][0],pts[2][0],t,tmp0),pts[0][0]=tmp0[3],pts[1][0]=tmp0[4],quadraticSubdivide(pts[0][1],pts[1][1],pts[2][1],t,tmp0),pts[0][1]=tmp0[3],pts[1][1]=tmp0[4]}if(toSymbol&&"none"!=toSymbol){var symbolSize=getSymbolSize(edge.node2),t=intersectCurveCircle(pts,originalPoints[1],symbolSize*scale);quadraticSubdivide(pts[0][0],pts[1][0],pts[2][0],t,tmp0),pts[1][0]=tmp0[1],pts[2][0]=tmp0[2],quadraticSubdivide(pts[0][1],pts[1][1],pts[2][1],t,tmp0),pts[1][1]=tmp0[1],pts[2][1]=tmp0[2]}vec2.copy(linePoints[0],pts[0]),vec2.copy(linePoints[1],pts[2]),vec2.copy(linePoints[2],pts[1])}else{if(vec2.copy(pts2[0],originalPoints[0]),vec2.copy(pts2[1],originalPoints[1]),vec2.sub(v,pts2[1],pts2[0]),vec2.normalize(v,v),fromSymbol&&"none"!=fromSymbol){var symbolSize=getSymbolSize(edge.node1);vec2.scaleAndAdd(pts2[0],pts2[0],v,symbolSize*scale)}if(toSymbol&&"none"!=toSymbol){var symbolSize=getSymbolSize(edge.node2);vec2.scaleAndAdd(pts2[1],pts2[1],v,-symbolSize*scale)}vec2.copy(linePoints[0],pts2[0]),vec2.copy(linePoints[1],pts2[1])}})}var curveTool=__webpack_require__(140),vec2=__webpack_require__(38),v1=[],v2=[],v3=[],quadraticAt=curveTool.quadraticAt,v2DistSquare=vec2.distSquare,mathAbs=Math.abs;module.exports=_default},function(module,exports){function _default(ecModel){var legendModels=ecModel.findComponents({"mainType":"legend"});legendModels&&legendModels.length&&ecModel.eachSeriesByType("graph",function(graphSeries){var categoriesData=graphSeries.getCategoriesData(),graph=graphSeries.getGraph(),data=graph.data,categoryNames=categoriesData.mapArray(categoriesData.getName);data.filterSelf(function(idx){var model=data.getItemModel(idx),category=model.getShallow("category");if(null!=category){"number"==typeof category&&(category=categoryNames[category]);for(var i=0;i<legendModels.length;i++)if(!legendModels[i].isSelected(category))return!1}return!0})},this)}module.exports=_default},function(module,exports){function _default(ecModel){var paletteScope={};ecModel.eachSeriesByType("graph",function(seriesModel){var categoriesData=seriesModel.getCategoriesData(),data=seriesModel.getData(),categoryNameIdxMap={};categoriesData.each(function(idx){var name=categoriesData.getName(idx);categoryNameIdxMap["ec-"+name]=idx;var itemModel=categoriesData.getItemModel(idx),color=itemModel.get("itemStyle.color")||seriesModel.getColorFromPalette(name,paletteScope);categoriesData.setItemVisual(idx,"color",color)}),categoriesData.count()&&data.each(function(idx){var model=data.getItemModel(idx),category=model.getShallow("category");null!=category&&("string"==typeof category&&(category=categoryNameIdxMap["ec-"+category]),data.getItemVisual(idx,"color",!0)||data.setItemVisual(idx,"color",categoriesData.getItemVisual(category,"color")))})})}module.exports=_default},function(module,exports,__webpack_require__){function _default(ecModel){ecModel.eachSeriesByType("graph",function(seriesModel){"circular"===seriesModel.get("layout")&&circularLayout(seriesModel)})}var _circularLayoutHelper=__webpack_require__(612),circularLayout=_circularLayoutHelper.circularLayout;module.exports=_default},function(module,exports,__webpack_require__){function getViewRect(seriesModel,api,aspect){var option=seriesModel.getBoxLayoutParams();return option.aspect=aspect,getLayoutRect(option,{"width":api.getWidth(),"height":api.getHeight()})}function _default(ecModel,api){var viewList=[];return ecModel.eachSeriesByType("graph",function(seriesModel){var coordSysType=seriesModel.get("coordinateSystem");if(!coordSysType||"view"===coordSysType){var data=seriesModel.getData(),positions=data.mapArray(function(idx){var itemModel=data.getItemModel(idx);return[+itemModel.get("x"),+itemModel.get("y")]}),min=[],max=[];bbox.fromPoints(positions,min,max),max[0]-min[0]===0&&(max[0]+=1,min[0]-=1),max[1]-min[1]===0&&(max[1]+=1,min[1]-=1);var aspect=(max[0]-min[0])/(max[1]-min[1]),viewRect=getViewRect(seriesModel,api,aspect);isNaN(aspect)&&(min=[viewRect.x,viewRect.y],max=[viewRect.x+viewRect.width,viewRect.y+viewRect.height]);var bbWidth=max[0]-min[0],bbHeight=max[1]-min[1],viewWidth=viewRect.width,viewHeight=viewRect.height,viewCoordSys=seriesModel.coordinateSystem=new View;viewCoordSys.zoomLimit=seriesModel.get("scaleLimit"),viewCoordSys.setBoundingRect(min[0],min[1],bbWidth,bbHeight),viewCoordSys.setViewRect(viewRect.x,viewRect.y,viewWidth,viewHeight),viewCoordSys.setCenter(seriesModel.get("center")),viewCoordSys.setZoom(seriesModel.get("zoom")),viewList.push(viewCoordSys)}}),viewList}var View=__webpack_require__(647),_layout=__webpack_require__(34),getLayoutRect=_layout.getLayoutRect,bbox=__webpack_require__(508);module.exports=_default},function(module,exports){function normalize(a){return a instanceof Array||(a=[a,a]),a}function _default(ecModel){ecModel.eachSeriesByType("graph",function(seriesModel){var graph=seriesModel.getGraph(),edgeData=seriesModel.getEdgeData(),symbolType=normalize(seriesModel.get("edgeSymbol")),symbolSize=normalize(seriesModel.get("edgeSymbolSize")),colorQuery="lineStyle.color".split("."),opacityQuery="lineStyle.opacity".split(".");edgeData.setVisual("fromSymbol",symbolType&&symbolType[0]),edgeData.setVisual("toSymbol",symbolType&&symbolType[1]),edgeData.setVisual("fromSymbolSize",symbolSize&&symbolSize[0]),edgeData.setVisual("toSymbolSize",symbolSize&&symbolSize[1]),edgeData.setVisual("color",seriesModel.get(colorQuery)),edgeData.setVisual("opacity",seriesModel.get(opacityQuery)),edgeData.each(function(idx){var itemModel=edgeData.getItemModel(idx),edge=graph.getEdgeByIndex(idx),symbolType=normalize(itemModel.getShallow("symbol",!0)),symbolSize=normalize(itemModel.getShallow("symbolSize",!0)),color=itemModel.get(colorQuery),opacity=itemModel.get(opacityQuery);switch(color){case"source":color=edge.node1.getVisual("color");break;case"target":color=edge.node2.getVisual("color")}symbolType[0]&&edge.setVisual("fromSymbol",symbolType[0]),symbolType[1]&&edge.setVisual("toSymbol",symbolType[1]),symbolSize[0]&&edge.setVisual("fromSymbolSize",symbolSize[0]),symbolSize[1]&&edge.setVisual("toSymbolSize",symbolSize[1]),edge.setVisual("color",color),edge.setVisual("opacity",opacity)})})}module.exports=_default},function(module,exports,__webpack_require__){function forceLayout(nodes,edges,opts){for(var rect=opts.rect,width=rect.width,height=rect.height,center=[rect.x+width/2,rect.y+height/2],gravity=null==opts.gravity?.1:opts.gravity,i=0;i<nodes.length;i++){var n=nodes[i];n.p||(n.p=vec2.create(width*(Math.random()-.5)+center[0],height*(Math.random()-.5)+center[1])),n.pp=vec2.clone(n.p),n.edges=null}var friction=.6;return{"warmUp":function(){friction=.5},"setFixed":function(idx){nodes[idx].fixed=!0},"setUnfixed":function(idx){nodes[idx].fixed=!1},"step":function(cb){for(var v12=[],nLen=nodes.length,i=0;i<edges.length;i++){var e=edges[i],n1=e.n1,n2=e.n2;vec2.sub(v12,n2.p,n1.p);var d=vec2.len(v12)-e.d,w=n2.w/(n1.w+n2.w);isNaN(w)&&(w=0),vec2.normalize(v12,v12),!n1.fixed&&scaleAndAdd(n1.p,n1.p,v12,w*d*friction),!n2.fixed&&scaleAndAdd(n2.p,n2.p,v12,-(1-w)*d*friction)}for(var i=0;i<nLen;i++){var n=nodes[i];n.fixed||(vec2.sub(v12,center,n.p),scaleAndAdd(n.p,n.p,v12,gravity*friction))}for(var i=0;i<nLen;i++)for(var n1=nodes[i],j=i+1;j<nLen;j++){var n2=nodes[j];vec2.sub(v12,n2.p,n1.p);var d=vec2.len(v12);0===d&&(vec2.set(v12,Math.random()-.5,Math.random()-.5),d=1);var repFact=(n1.rep+n2.rep)/d/d;!n1.fixed&&scaleAndAdd(n1.pp,n1.pp,v12,repFact),!n2.fixed&&scaleAndAdd(n2.pp,n2.pp,v12,-repFact)}for(var v=[],i=0;i<nLen;i++){var n=nodes[i];n.fixed||(vec2.sub(v,n.p,n.pp),scaleAndAdd(n.p,n.p,v,friction),vec2.copy(n.pp,n.p))}friction*=.992,cb&&cb(nodes,edges,friction<.01)}}}var vec2=__webpack_require__(38),scaleAndAdd=vec2.scaleAndAdd;exports.forceLayout=forceLayout},function(module,exports,__webpack_require__){function _default(ecModel){ecModel.eachSeriesByType("graph",function(graphSeries){var coordSys=graphSeries.coordinateSystem;if(!coordSys||"view"===coordSys.type)if("force"===graphSeries.get("layout")){var preservedPoints=graphSeries.preservedPoints||{},graph=graphSeries.getGraph(),nodeData=graph.data,edgeData=graph.edgeData,forceModel=graphSeries.getModel("force"),initLayout=forceModel.get("initLayout");graphSeries.preservedPoints?nodeData.each(function(idx){var id=nodeData.getId(idx);nodeData.setItemLayout(idx,preservedPoints[id]||[NaN,NaN])}):initLayout&&"none"!==initLayout?"circular"===initLayout&&circularLayout(graphSeries):simpleLayout(graphSeries);var nodeDataExtent=nodeData.getDataExtent("value"),edgeDataExtent=edgeData.getDataExtent("value"),repulsion=forceModel.get("repulsion"),edgeLength=forceModel.get("edgeLength");zrUtil.isArray(repulsion)||(repulsion=[repulsion,repulsion]),zrUtil.isArray(edgeLength)||(edgeLength=[edgeLength,edgeLength]),edgeLength=[edgeLength[1],edgeLength[0]];var nodes=nodeData.mapArray("value",function(value,idx){var point=nodeData.getItemLayout(idx),rep=linearMap(value,nodeDataExtent,repulsion);return isNaN(rep)&&(rep=(repulsion[0]+repulsion[1])/2),{"w":rep,"rep":rep,"fixed":nodeData.getItemModel(idx).get("fixed"),"p":!point||isNaN(point[0])||isNaN(point[1])?null:point}}),edges=edgeData.mapArray("value",function(value,idx){var edge=graph.getEdgeByIndex(idx),d=linearMap(value,edgeDataExtent,edgeLength);return isNaN(d)&&(d=(edgeLength[0]+edgeLength[1])/2),{"n1":nodes[edge.node1.dataIndex],"n2":nodes[edge.node2.dataIndex],"d":d,"curveness":edge.getModel().get("lineStyle.curveness")||0}}),coordSys=graphSeries.coordinateSystem,rect=coordSys.getBoundingRect(),forceInstance=forceLayout(nodes,edges,{"rect":rect,"gravity":forceModel.get("gravity")}),oldStep=forceInstance.step;forceInstance.step=function(cb){for(var i=0,l=nodes.length;i<l;i++)nodes[i].fixed&&vec2.copy(nodes[i].p,graph.getNodeByIndex(i).getLayout());oldStep(function(nodes,edges,stopped){for(var i=0,l=nodes.length;i<l;i++)nodes[i].fixed||graph.getNodeByIndex(i).setLayout(nodes[i].p),preservedPoints[nodeData.getId(i)]=nodes[i].p;for(var i=0,l=edges.length;i<l;i++){var e=edges[i],edge=graph.getEdgeByIndex(i),p1=e.n1.p,p2=e.n2.p,points=edge.getLayout();points=points?points.slice():[],points[0]=points[0]||[],points[1]=points[1]||[],vec2.copy(points[0],p1),vec2.copy(points[1],p2),+e.curveness&&(points[2]=[(p1[0]+p2[0])/2-(p1[1]-p2[1])*e.curveness,(p1[1]+p2[1])/2-(p2[0]-p1[0])*e.curveness]),edge.setLayout(points)}cb&&cb(stopped)})},graphSeries.forceLayout=forceInstance,graphSeries.preservedPoints=preservedPoints,forceInstance.step()}else graphSeries.forceLayout=null})}var _forceHelper=__webpack_require__(1379),forceLayout=_forceHelper.forceLayout,_simpleLayoutHelper=__webpack_require__(613),simpleLayout=_simpleLayoutHelper.simpleLayout,_circularLayoutHelper=__webpack_require__(612),circularLayout=_circularLayoutHelper.circularLayout,_number=__webpack_require__(20),linearMap=_number.linearMap,vec2=__webpack_require__(38),zrUtil=__webpack_require__(4);module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),_roamHelper=__webpack_require__(609),updateCenterAndZoom=_roamHelper.updateCenterAndZoom,actionInfo={"type":"graphRoam","event":"graphRoam","update":"none"};echarts.registerAction(actionInfo,function(payload,ecModel){ecModel.eachComponent({"mainType":"series","query":payload},function(seriesModel){var coordSys=seriesModel.coordinateSystem,res=updateCenterAndZoom(coordSys,payload);seriesModel.setCenter&&seriesModel.setCenter(res.center),seriesModel.setZoom&&seriesModel.setZoom(res.zoom)})}),echarts.registerAction({"type":"focusNodeAdjacency","event":"focusNodeAdjacency","update":"series.graph:focusNodeAdjacency"},function(){}),echarts.registerAction({"type":"unfocusNodeAdjacency","event":"unfocusNodeAdjacency","update":"series.graph:unfocusNodeAdjacency"},function(){})},function(module,exports,__webpack_require__){function _default(ecModel,api){ecModel.eachSeriesByType("graph",function(seriesModel){var layout=seriesModel.get("layout"),coordSys=seriesModel.coordinateSystem;if(coordSys&&"view"!==coordSys.type){var data=seriesModel.getData(),dimensions=[];each(coordSys.dimensions,function(coordDim){dimensions=dimensions.concat(data.mapDimension(coordDim,!0))});for(var dataIndex=0;dataIndex<data.count();dataIndex++){for(var value=[],hasValue=!1,i=0;i<dimensions.length;i++){var val=data.get(dimensions[i],dataIndex);isNaN(val)||(hasValue=!0),value.push(val)}hasValue?data.setItemLayout(dataIndex,coordSys.dataToPoint(value)):data.setItemLayout(dataIndex,[NaN,NaN])}simpleLayoutEdge(data.graph)}else layout&&"none"!==layout||simpleLayout(seriesModel)})}var _util=__webpack_require__(4),each=_util.each,_simpleLayoutHelper=__webpack_require__(613),simpleLayout=_simpleLayoutHelper.simpleLayout,simpleLayoutEdge=_simpleLayoutHelper.simpleLayoutEdge;module.exports=_default},function(module,exports,__webpack_require__){__webpack_require__(1385),__webpack_require__(1386)},function(module,exports,__webpack_require__){function Heatmap(){var canvas=zrUtil.createCanvas();this.canvas=canvas,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}var zrUtil=__webpack_require__(4),GRADIENT_LEVELS=256;Heatmap.prototype={"update":function(data,width,height,normalize,colorFunc,isInRange){var brush=this._getBrush(),gradientInRange=this._getGradient(data,colorFunc,"inRange"),gradientOutOfRange=this._getGradient(data,colorFunc,"outOfRange"),r=this.pointSize+this.blurSize,canvas=this.canvas,ctx=canvas.getContext("2d"),len=data.length;canvas.width=width,canvas.height=height;for(var i=0;i<len;++i){var p=data[i],x=p[0],y=p[1],value=p[2],alpha=normalize(value);ctx.globalAlpha=alpha,ctx.drawImage(brush,x-r,y-r)}if(!canvas.width||!canvas.height)return canvas;for(var imageData=ctx.getImageData(0,0,canvas.width,canvas.height),pixels=imageData.data,offset=0,pixelLen=pixels.length,minOpacity=this.minOpacity,maxOpacity=this.maxOpacity,diffOpacity=maxOpacity-minOpacity;offset<pixelLen;){var alpha=pixels[offset+3]/256,gradientOffset=4*Math.floor(alpha*(GRADIENT_LEVELS-1));if(alpha>0){var gradient=isInRange(alpha)?gradientInRange:gradientOutOfRange;alpha>0&&(alpha=alpha*diffOpacity+minOpacity),pixels[offset++]=gradient[gradientOffset],pixels[offset++]=gradient[gradientOffset+1],pixels[offset++]=gradient[gradientOffset+2],pixels[offset++]=gradient[gradientOffset+3]*alpha*256}else offset+=4}return ctx.putImageData(imageData,0,0),canvas},"_getBrush":function(){var brushCanvas=this._brushCanvas||(this._brushCanvas=zrUtil.createCanvas()),r=this.pointSize+this.blurSize,d=2*r;brushCanvas.width=d,brushCanvas.height=d;var ctx=brushCanvas.getContext("2d");return ctx.clearRect(0,0,d,d),ctx.shadowOffsetX=d,ctx.shadowBlur=this.blurSize,ctx.shadowColor="#000",ctx.beginPath(),ctx.arc(-r,r,this.pointSize,0,2*Math.PI,!0),ctx.closePath(),ctx.fill(),brushCanvas},"_getGradient":function(data,colorFunc,state){for(var gradientPixels=this._gradientPixels,pixelsSingleState=gradientPixels[state]||(gradientPixels[state]=new Uint8ClampedArray(1024)),color=[0,0,0,0],off=0,i=0;i<256;i++)colorFunc[state](i/255,!0,color),pixelsSingleState[off++]=color[0],pixelsSingleState[off++]=color[1],pixelsSingleState[off++]=color[2],pixelsSingleState[off++]=color[3];return pixelsSingleState}};var _default=Heatmap;module.exports=_default},function(module,exports,__webpack_require__){var SeriesModel=__webpack_require__(57),createListFromArray=__webpack_require__(114),CoordinateSystem=__webpack_require__(92),_default=SeriesModel.extend({"type":"series.heatmap","getInitialData":function(option,ecModel){return createListFromArray(this.getSource(),this,{"generateCoord":"value"})},"preventIncremental":function(){var coordSysCreator=CoordinateSystem.get(this.get("coordinateSystem"));if(coordSysCreator&&coordSysCreator.dimensions)return"lng"===coordSysCreator.dimensions[0]&&"lat"===coordSysCreator.dimensions[1]},"defaultOption":{"coordinateSystem":"cartesian2d","zlevel":0,"z":2,"geoIndex":0,"blurSize":30,"pointSize":20,"maxOpacity":1,"minOpacity":0}});module.exports=_default},function(module,exports,__webpack_require__){function getIsInPiecewiseRange(dataExtent,pieceList,selected){var dataSpan=dataExtent[1]-dataExtent[0];pieceList=zrUtil.map(pieceList,function(piece){return{"interval":[(piece.interval[0]-dataExtent[0])/dataSpan,(piece.interval[1]-dataExtent[0])/dataSpan]}});var len=pieceList.length,lastIndex=0;return function(val){for(var i=lastIndex;i<len;i++){var interval=pieceList[i].interval;if(interval[0]<=val&&val<=interval[1]){lastIndex=i;break}}if(i===len)for(var i=lastIndex-1;i>=0;i--){var interval=pieceList[i].interval;if(interval[0]<=val&&val<=interval[1]){lastIndex=i;break}}return i>=0&&i<len&&selected[i]}}function getIsInContinuousRange(dataExtent,range){var dataSpan=dataExtent[1]-dataExtent[0];return range=[(range[0]-dataExtent[0])/dataSpan,(range[1]-dataExtent[0])/dataSpan],function(val){return val>=range[0]&&val<=range[1]}}function isGeoCoordSys(coordSys){var dimensions=coordSys.dimensions;return"lng"===dimensions[0]&&"lat"===dimensions[1]}var _config=__webpack_require__(30),echarts=(_config.__DEV__,__webpack_require__(13)),graphic=__webpack_require__(15),HeatmapLayer=__webpack_require__(1384),zrUtil=__webpack_require__(4),_default=echarts.extendChartView({"type":"heatmap","render":function(seriesModel,ecModel,api){var visualMapOfThisSeries;ecModel.eachComponent("visualMap",function(visualMap){visualMap.eachTargetSeries(function(targetSeries){targetSeries===seriesModel&&(visualMapOfThisSeries=visualMap)})}),this.group.removeAll(),this._incrementalDisplayable=null;var coordSys=seriesModel.coordinateSystem;"cartesian2d"===coordSys.type||"calendar"===coordSys.type?this._renderOnCartesianAndCalendar(seriesModel,api,0,seriesModel.getData().count()):isGeoCoordSys(coordSys)&&this._renderOnGeo(coordSys,seriesModel,visualMapOfThisSeries,api)},"incrementalPrepareRender":function(seriesModel,ecModel,api){this.group.removeAll()},"incrementalRender":function(params,seriesModel,ecModel,api){var coordSys=seriesModel.coordinateSystem;coordSys&&this._renderOnCartesianAndCalendar(seriesModel,api,params.start,params.end,!0)},"_renderOnCartesianAndCalendar":function(seriesModel,api,start,end,incremental){var width,height,coordSys=seriesModel.coordinateSystem;if("cartesian2d"===coordSys.type){var xAxis=coordSys.getAxis("x"),yAxis=coordSys.getAxis("y");width=xAxis.getBandWidth(),height=yAxis.getBandWidth()}for(var group=this.group,data=seriesModel.getData(),itemStyleQuery="itemStyle",hoverItemStyleQuery="emphasis.itemStyle",labelQuery="label",hoverLabelQuery="emphasis.label",style=seriesModel.getModel(itemStyleQuery).getItemStyle(["color"]),hoverStl=seriesModel.getModel(hoverItemStyleQuery).getItemStyle(),labelModel=seriesModel.getModel(labelQuery),hoverLabelModel=seriesModel.getModel(hoverLabelQuery),coordSysType=coordSys.type,dataDims="cartesian2d"===coordSysType?[data.mapDimension("x"),data.mapDimension("y"),data.mapDimension("value")]:[data.mapDimension("time"),data.mapDimension("value")],idx=start;idx<end;idx++){var rect;if("cartesian2d"===coordSysType){if(isNaN(data.get(dataDims[2],idx)))continue;var point=coordSys.dataToPoint([data.get(dataDims[0],idx),data.get(dataDims[1],idx)]);rect=new graphic.Rect({"shape":{"x":point[0]-width/2,"y":point[1]-height/2,"width":width,"height":height},"style":{"fill":data.getItemVisual(idx,"color"),"opacity":data.getItemVisual(idx,"opacity")}})}else{if(isNaN(data.get(dataDims[1],idx)))continue;rect=new graphic.Rect({"z2":1,"shape":coordSys.dataToRect([data.get(dataDims[0],idx)]).contentShape,"style":{"fill":data.getItemVisual(idx,"color"),"opacity":data.getItemVisual(idx,"opacity")}})}var itemModel=data.getItemModel(idx);data.hasItemOption&&(style=itemModel.getModel(itemStyleQuery).getItemStyle(["color"]),hoverStl=itemModel.getModel(hoverItemStyleQuery).getItemStyle(),labelModel=itemModel.getModel(labelQuery),hoverLabelModel=itemModel.getModel(hoverLabelQuery));var rawValue=seriesModel.getRawValue(idx),defaultText="-";rawValue&&null!=rawValue[2]&&(defaultText=rawValue[2]),graphic.setLabelStyle(style,hoverStl,labelModel,hoverLabelModel,{"labelFetcher":seriesModel,"labelDataIndex":idx,"defaultText":defaultText,"isRectText":!0}),rect.setStyle(style),graphic.setHoverStyle(rect,data.hasItemOption?hoverStl:zrUtil.extend({},hoverStl)),rect.incremental=incremental,incremental&&(rect.useHoverLayer=!0),group.add(rect),data.setItemGraphicEl(idx,rect)}},"_renderOnGeo":function(geo,seriesModel,visualMapModel,api){var inRangeVisuals=visualMapModel.targetVisuals.inRange,outOfRangeVisuals=visualMapModel.targetVisuals.outOfRange,data=seriesModel.getData(),hmLayer=this._hmLayer||this._hmLayer||new HeatmapLayer;hmLayer.blurSize=seriesModel.get("blurSize"),hmLayer.pointSize=seriesModel.get("pointSize"),hmLayer.minOpacity=seriesModel.get("minOpacity"),hmLayer.maxOpacity=seriesModel.get("maxOpacity");var rect=geo.getViewRect().clone(),roamTransform=geo.getRoamTransform();rect.applyTransform(roamTransform);var x=Math.max(rect.x,0),y=Math.max(rect.y,0),x2=Math.min(rect.width+rect.x,api.getWidth()),y2=Math.min(rect.height+rect.y,api.getHeight()),width=x2-x,height=y2-y,dims=[data.mapDimension("lng"),data.mapDimension("lat"),data.mapDimension("value")],points=data.mapArray(dims,function(lng,lat,value){var pt=geo.dataToPoint([lng,lat]);return pt[0]-=x,pt[1]-=y,pt.push(value),pt}),dataExtent=visualMapModel.getExtent(),isInRange="visualMap.continuous"===visualMapModel.type?getIsInContinuousRange(dataExtent,visualMapModel.option.range):getIsInPiecewiseRange(dataExtent,visualMapModel.getPieceList(),visualMapModel.option.selected);hmLayer.update(points,width,height,inRangeVisuals.color.getNormalizer(),{"inRange":inRangeVisuals.color.getColorMapper(),"outOfRange":outOfRangeVisuals.color.getColorMapper()},isInRange);var img=new graphic.Image({"style":{"width":width,"height":height,"x":x,"y":y,"image":hmLayer.canvas},"silent":!0});this.group.add(img)},"dispose":function(){}});module.exports=_default},function(module,exports,__webpack_require__){function EffectPolyline(lineData,idx,seriesScope){EffectLine.call(this,lineData,idx,seriesScope),this._lastFrame=0,this._lastFramePercent=0}var Polyline=__webpack_require__(615),zrUtil=__webpack_require__(4),EffectLine=__webpack_require__(614),vec2=__webpack_require__(38),effectPolylineProto=EffectPolyline.prototype;effectPolylineProto.createLine=function(lineData,idx,seriesScope){return new Polyline(lineData,idx,seriesScope)},effectPolylineProto.updateAnimationPoints=function(symbol,points){this._points=points;for(var accLenArr=[0],len=0,i=1;i<points.length;i++){var p1=points[i-1],p2=points[i];len+=vec2.dist(p1,p2),accLenArr.push(len)}if(0!==len){for(var i=0;i<accLenArr.length;i++)accLenArr[i]/=len;this._offsets=accLenArr,this._length=len}},effectPolylineProto.getLineLength=function(symbol){return this._length},effectPolylineProto.updateSymbolPosition=function(symbol){var t=symbol.__t,points=this._points,offsets=this._offsets,len=points.length;if(offsets){var frame,lastFrame=this._lastFrame;if(t<this._lastFramePercent){var start=Math.min(lastFrame+1,len-1);for(frame=start;frame>=0&&!(offsets[frame]<=t);frame--);frame=Math.min(frame,len-2)}else{for(var frame=lastFrame;frame<len&&!(offsets[frame]>t);frame++);frame=Math.min(frame-1,len-2)}vec2.lerp(symbol.position,points[frame],points[frame+1],(t-offsets[frame])/(offsets[frame+1]-offsets[frame]));var tx=points[frame+1][0]-points[frame][0],ty=points[frame+1][1]-points[frame][1];symbol.rotation=-Math.atan2(ty,tx)-Math.PI/2,this._lastFrame=frame,this._lastFramePercent=t,symbol.ignore=!1}},zrUtil.inherits(EffectPolyline,EffectLine);var _default=EffectPolyline;module.exports=_default},function(module,exports,__webpack_require__){function normalizeSymbolSize(symbolSize){return zrUtil.isArray(symbolSize)||(symbolSize=[+symbolSize,+symbolSize]),symbolSize}function updateRipplePath(rippleGroup,effectCfg){rippleGroup.eachChild(function(ripplePath){ripplePath.attr({"z":effectCfg.z,"zlevel":effectCfg.zlevel,"style":{"stroke":"stroke"===effectCfg.brushType?effectCfg.color:null,"fill":"fill"===effectCfg.brushType?effectCfg.color:null}})})}function EffectSymbol(data,idx){Group.call(this);var symbol=new SymbolClz(data,idx),rippleGroup=new Group;this.add(symbol),this.add(rippleGroup),rippleGroup.beforeUpdate=function(){this.attr(symbol.getScale())},this.updateData(data,idx)}var zrUtil=__webpack_require__(4),_symbol=__webpack_require__(83),createSymbol=_symbol.createSymbol,_graphic=__webpack_require__(15),Group=_graphic.Group,_number=__webpack_require__(20),parsePercent=_number.parsePercent,SymbolClz=__webpack_require__(269),EFFECT_RIPPLE_NUMBER=3,effectSymbolProto=EffectSymbol.prototype;effectSymbolProto.stopEffectAnimation=function(){this.childAt(1).removeAll()},effectSymbolProto.startEffectAnimation=function(effectCfg){for(var symbolType=effectCfg.symbolType,color=effectCfg.color,rippleGroup=this.childAt(1),i=0;i<EFFECT_RIPPLE_NUMBER;i++){var ripplePath=createSymbol(symbolType,-1,-1,2,2,color);ripplePath.attr({"style":{"strokeNoScale":!0},"z2":99,"silent":!0,"scale":[.5,.5]});var delay=-i/EFFECT_RIPPLE_NUMBER*effectCfg.period+effectCfg.effectOffset;ripplePath.animate("",!0).when(effectCfg.period,{"scale":[effectCfg.rippleScale/2,effectCfg.rippleScale/2]}).delay(delay).start(),ripplePath.animateStyle(!0).when(effectCfg.period,{"opacity":0}).delay(delay).start(),rippleGroup.add(ripplePath)}updateRipplePath(rippleGroup,effectCfg)},effectSymbolProto.updateEffectAnimation=function(effectCfg){for(var oldEffectCfg=this._effectCfg,rippleGroup=this.childAt(1),DIFFICULT_PROPS=["symbolType","period","rippleScale"],i=0;i<DIFFICULT_PROPS.length;i++){var propName=DIFFICULT_PROPS[i];if(oldEffectCfg[propName]!==effectCfg[propName])return this.stopEffectAnimation(),void this.startEffectAnimation(effectCfg)}updateRipplePath(rippleGroup,effectCfg)},effectSymbolProto.highlight=function(){this.trigger("emphasis")},effectSymbolProto.downplay=function(){this.trigger("normal")},effectSymbolProto.updateData=function(data,idx){var seriesModel=data.hostModel;this.childAt(0).updateData(data,idx);var rippleGroup=this.childAt(1),itemModel=data.getItemModel(idx),symbolType=data.getItemVisual(idx,"symbol"),symbolSize=normalizeSymbolSize(data.getItemVisual(idx,"symbolSize")),color=data.getItemVisual(idx,"color");rippleGroup.attr("scale",symbolSize),rippleGroup.traverse(function(ripplePath){ripplePath.attr({"fill":color})});var symbolOffset=itemModel.getShallow("symbolOffset");if(symbolOffset){var pos=rippleGroup.position;pos[0]=parsePercent(symbolOffset[0],symbolSize[0]),pos[1]=parsePercent(symbolOffset[1],symbolSize[1])}rippleGroup.rotation=(itemModel.getShallow("symbolRotate")||0)*Math.PI/180||0;var effectCfg={};if(effectCfg.showEffectOn=seriesModel.get("showEffectOn"),effectCfg.rippleScale=itemModel.get("rippleEffect.scale"),effectCfg.brushType=itemModel.get("rippleEffect.brushType"),effectCfg.period=1e3*itemModel.get("rippleEffect.period"),effectCfg.effectOffset=idx/data.count(),effectCfg.z=itemModel.getShallow("z")||0,effectCfg.zlevel=itemModel.getShallow("zlevel")||0,effectCfg.symbolType=symbolType,effectCfg.color=color,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===effectCfg.showEffectOn)this._effectCfg?this.updateEffectAnimation(effectCfg):this.startEffectAnimation(effectCfg),this._effectCfg=effectCfg;else{this._effectCfg=null,this.stopEffectAnimation();var symbol=this.childAt(0),onEmphasis=function(){symbol.highlight(),"render"!==effectCfg.showEffectOn&&this.startEffectAnimation(effectCfg)},onNormal=function(){symbol.downplay(),"render"!==effectCfg.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",onEmphasis,this).on("mouseout",onNormal,this).on("emphasis",onEmphasis,this).on("normal",onNormal,this)}this._effectCfg=effectCfg},effectSymbolProto.fadeOut=function(cb){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),cb&&cb()},zrUtil.inherits(EffectSymbol,Group);var _default=EffectSymbol;module.exports=_default},function(module,exports,__webpack_require__){function LargeLineDraw(){this.group=new graphic.Group}var graphic=__webpack_require__(15),IncrementalDisplayable=__webpack_require__(510),lineContain=__webpack_require__(915),quadraticContain=__webpack_require__(917),LargeLineShape=graphic.extendShape({"shape":{"polyline":!1,"curveness":0,"segs":[]},"buildPath":function(path,shape){var segs=shape.segs,curveness=shape.curveness;if(shape.polyline)for(var i=0;i<segs.length;){var count=segs[i++];if(count>0){path.moveTo(segs[i++],segs[i++]);for(var k=1;k<count;k++)path.lineTo(segs[i++],segs[i++])}}else for(var i=0;i<segs.length;){var x0=segs[i++],y0=segs[i++],x1=segs[i++],y1=segs[i++];if(path.moveTo(x0,y0),curveness>0){var x2=(x0+x1)/2-(y0-y1)*curveness,y2=(y0+y1)/2-(x1-x0)*curveness;path.quadraticCurveTo(x2,y2,x1,y1)}else path.lineTo(x1,y1)}},"findDataIndex":function(x,y){var shape=this.shape,segs=shape.segs,curveness=shape.curveness;if(shape.polyline)for(var dataIndex=0,i=0;i<segs.length;){var count=segs[i++];if(count>0)for(var x0=segs[i++],y0=segs[i++],k=1;k<count;k++){var x1=segs[i++],y1=segs[i++];if(lineContain.containStroke(x0,y0,x1,y1))return dataIndex}dataIndex++}else for(var dataIndex=0,i=0;i<segs.length;){var x0=segs[i++],y0=segs[i++],x1=segs[i++],y1=segs[i++];if(curveness>0){var x2=(x0+x1)/2-(y0-y1)*curveness,y2=(y0+y1)/2-(x1-x0)*curveness;if(quadraticContain.containStroke(x0,y0,x2,y2,x1,y1))return dataIndex;
}else if(lineContain.containStroke(x0,y0,x1,y1))return dataIndex;dataIndex++}return-1}}),largeLineProto=LargeLineDraw.prototype;largeLineProto.isPersistent=function(){return!this._incremental},largeLineProto.updateData=function(data){this.group.removeAll();var lineEl=new LargeLineShape({"rectHover":!0,"cursor":"default"});lineEl.setShape({"segs":data.getLayout("linesPoints")}),this._setCommon(lineEl,data),this.group.add(lineEl),this._incremental=null},largeLineProto.incrementalPrepareUpdate=function(data){this.group.removeAll(),this._clearIncremental(),data.count()>5e5?(this._incremental||(this._incremental=new IncrementalDisplayable({"silent":!0})),this.group.add(this._incremental)):this._incremental=null},largeLineProto.incrementalUpdate=function(taskParams,data){var lineEl=new LargeLineShape;lineEl.setShape({"segs":data.getLayout("linesPoints")}),this._setCommon(lineEl,data,!!this._incremental),this._incremental?this._incremental.addDisplayable(lineEl,!0):(lineEl.rectHover=!0,lineEl.cursor="default",lineEl.__startIndex=taskParams.start,this.group.add(lineEl))},largeLineProto.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},largeLineProto._setCommon=function(lineEl,data,isIncremental){var hostModel=data.hostModel;lineEl.setShape({"polyline":hostModel.get("polyline"),"curveness":hostModel.get("lineStyle.curveness")}),lineEl.useStyle(hostModel.getModel("lineStyle").getLineStyle()),lineEl.style.strokeNoScale=!0;var visualColor=data.getVisual("color");visualColor&&lineEl.setStyle("stroke",visualColor),lineEl.setStyle("fill"),isIncremental||(lineEl.seriesIndex=hostModel.seriesIndex,lineEl.on("mousemove",function(e){lineEl.dataIndex=null;var dataIndex=lineEl.findDataIndex(e.offsetX,e.offsetY);dataIndex>0&&(lineEl.dataIndex=dataIndex+lineEl.__startIndex)}))},largeLineProto._clearIncremental=function(){var incremental=this._incremental;incremental&&incremental.clearDisplaybles()};var _default=LargeLineDraw;module.exports=_default},function(module,exports,__webpack_require__){function LargeSymbolDraw(){this.group=new graphic.Group}var graphic=__webpack_require__(15),_symbol=__webpack_require__(83),createSymbol=_symbol.createSymbol,IncrementalDisplayable=__webpack_require__(510),BOOST_SIZE_THRESHOLD=4,LargeSymbolPath=graphic.extendShape({"shape":{"points":null},"symbolProxy":null,"buildPath":function(path,shape){var points=shape.points,size=shape.size,symbolProxy=this.symbolProxy,symbolProxyShape=symbolProxy.shape,ctx=path.getContext?path.getContext():path,canBoost=ctx&&size[0]<BOOST_SIZE_THRESHOLD;if(!canBoost)for(var i=0;i<points.length;){var x=points[i++],y=points[i++];isNaN(x)||isNaN(y)||(symbolProxyShape.x=x-size[0]/2,symbolProxyShape.y=y-size[1]/2,symbolProxyShape.width=size[0],symbolProxyShape.height=size[1],symbolProxy.buildPath(path,symbolProxyShape,!0))}},"afterBrush":function(ctx){var shape=this.shape,points=shape.points,size=shape.size,canBoost=size[0]<BOOST_SIZE_THRESHOLD;if(canBoost){this.setTransform(ctx);for(var i=0;i<points.length;){var x=points[i++],y=points[i++];isNaN(x)||isNaN(y)||ctx.fillRect(x-size[0]/2,y-size[1]/2,size[0],size[1])}this.restoreTransform(ctx)}},"findDataIndex":function(x,y){for(var shape=this.shape,points=shape.points,size=shape.size,w=Math.max(size[0],4),h=Math.max(size[1],4),idx=points.length/2-1;idx>=0;idx--){var i=2*idx,x0=points[i]-w/2,y0=points[i+1]-h/2;if(x>=x0&&y>=y0&&x<=x0+w&&y<=y0+h)return idx}return-1}}),largeSymbolProto=LargeSymbolDraw.prototype;largeSymbolProto.isPersistent=function(){return!this._incremental},largeSymbolProto.updateData=function(data){this.group.removeAll();var symbolEl=new LargeSymbolPath({"rectHover":!0,"cursor":"default"});symbolEl.setShape({"points":data.getLayout("symbolPoints")}),this._setCommon(symbolEl,data),this.group.add(symbolEl),this._incremental=null},largeSymbolProto.updateLayout=function(data){if(!this._incremental){var points=data.getLayout("symbolPoints");this.group.eachChild(function(child){if(null!=child.startIndex){var len=2*(child.endIndex-child.startIndex),byteOffset=4*child.startIndex*2;points=new Float32Array(points.buffer,byteOffset,len)}child.setShape("points",points)})}},largeSymbolProto.incrementalPrepareUpdate=function(data){this.group.removeAll(),this._clearIncremental(),data.count()>2e6?(this._incremental||(this._incremental=new IncrementalDisplayable({"silent":!0})),this.group.add(this._incremental)):this._incremental=null},largeSymbolProto.incrementalUpdate=function(taskParams,data){var symbolEl;this._incremental?(symbolEl=new LargeSymbolPath,this._incremental.addDisplayable(symbolEl,!0)):(symbolEl=new LargeSymbolPath({"rectHover":!0,"cursor":"default","startIndex":taskParams.start,"endIndex":taskParams.end}),symbolEl.incremental=!0,this.group.add(symbolEl)),symbolEl.setShape({"points":data.getLayout("symbolPoints")}),this._setCommon(symbolEl,data,!!this._incremental)},largeSymbolProto._setCommon=function(symbolEl,data,isIncremental){var hostModel=data.hostModel,size=data.getVisual("symbolSize");symbolEl.setShape("size",size instanceof Array?size:[size,size]),symbolEl.symbolProxy=createSymbol(data.getVisual("symbol"),0,0,0,0),symbolEl.setColor=symbolEl.symbolProxy.setColor;var extrudeShadow=symbolEl.shape.size[0]<BOOST_SIZE_THRESHOLD;symbolEl.useStyle(hostModel.getModel("itemStyle").getItemStyle(extrudeShadow?["color","shadowBlur","shadowColor"]:["color"]));var visualColor=data.getVisual("color");visualColor&&symbolEl.setColor(visualColor),isIncremental||(symbolEl.seriesIndex=hostModel.seriesIndex,symbolEl.on("mousemove",function(e){symbolEl.dataIndex=null;var dataIndex=symbolEl.findDataIndex(e.offsetX,e.offsetY);dataIndex>=0&&(symbolEl.dataIndex=dataIndex+(symbolEl.startIndex||0))}))},largeSymbolProto.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},largeSymbolProto._clearIncremental=function(){var incremental=this._incremental;incremental&&incremental.clearDisplaybles()};var _default=LargeSymbolDraw;module.exports=_default},function(module,exports,__webpack_require__){function isLine(shape){return isNaN(+shape.cpx1)||isNaN(+shape.cpy1)}var graphic=__webpack_require__(15),vec2=__webpack_require__(38),straightLineProto=graphic.Line.prototype,bezierCurveProto=graphic.BezierCurve.prototype,_default=graphic.extendShape({"type":"ec-line","style":{"stroke":"#000","fill":null},"shape":{"x1":0,"y1":0,"x2":0,"y2":0,"percent":1,"cpx1":null,"cpy1":null},"buildPath":function(ctx,shape){(isLine(shape)?straightLineProto:bezierCurveProto).buildPath(ctx,shape)},"pointAt":function(t){return isLine(this.shape)?straightLineProto.pointAt.call(this,t):bezierCurveProto.pointAt.call(this,t)},"tangentAt":function(t){var shape=this.shape,p=isLine(shape)?[shape.x2-shape.x1,shape.y2-shape.y1]:bezierCurveProto.tangentAt.call(this,t);return vec2.normalize(p,p)}});module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(1393),__webpack_require__(1394);var visualSymbol=__webpack_require__(165),layoutPoints=__webpack_require__(223),dataSample=__webpack_require__(1590);__webpack_require__(218),echarts.registerVisual(visualSymbol("line","circle","line")),echarts.registerLayout(layoutPoints("line")),echarts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))},function(module,exports,__webpack_require__){var _config=__webpack_require__(30),createListFromArray=(_config.__DEV__,__webpack_require__(114)),SeriesModel=__webpack_require__(57),_default=SeriesModel.extend({"type":"series.line","dependencies":["grid","polar"],"getInitialData":function(option,ecModel){return createListFromArray(this.getSource(),this)},"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"cartesian2d","legendHoverLink":!0,"hoverAnimation":!0,"clipOverflow":!0,"label":{"position":"top"},"lineStyle":{"width":2,"type":"solid"},"step":!1,"smooth":!1,"smoothMonotone":null,"symbol":"emptyCircle","symbolSize":4,"symbolRotate":null,"showSymbol":!0,"showAllSymbol":"auto","connectNulls":!1,"sampling":"none","animationEasing":"linear","progressive":0,"hoverLayerThreshold":1/0}});module.exports=_default},function(module,exports,__webpack_require__){function isPointsSame(points1,points2){if(points1.length===points2.length){for(var i=0;i<points1.length;i++){var p1=points1[i],p2=points2[i];if(p1[0]!==p2[0]||p1[1]!==p2[1])return}return!0}}function getSmooth(smooth){return"number"==typeof smooth?smooth:smooth?.5:0}function getAxisExtentWithGap(axis){var extent=axis.getGlobalExtent();if(axis.onBand){var halfBandWidth=axis.getBandWidth()/2-1,dir=extent[1]>extent[0]?1:-1;extent[0]+=dir*halfBandWidth,extent[1]-=dir*halfBandWidth}return extent}function getStackedOnPoints(coordSys,data,dataCoordInfo){if(!dataCoordInfo.valueDim)return[];for(var points=[],idx=0,len=data.count();idx<len;idx++)points.push(getStackedOnPoint(dataCoordInfo,coordSys,data,idx));return points}function createGridClipShape(cartesian,hasAnimation,forSymbol,seriesModel){var xExtent=getAxisExtentWithGap(cartesian.getAxis("x")),yExtent=getAxisExtentWithGap(cartesian.getAxis("y")),isHorizontal=cartesian.getBaseAxis().isHorizontal(),x=Math.min(xExtent[0],xExtent[1]),y=Math.min(yExtent[0],yExtent[1]),width=Math.max(xExtent[0],xExtent[1])-x,height=Math.max(yExtent[0],yExtent[1])-y;if(forSymbol)x-=.5,width+=.5,y-=.5,height+=.5;else{var lineWidth=seriesModel.get("lineStyle.width")||2,expandSize=seriesModel.get("clipOverflow")?lineWidth/2:Math.max(width,height);isHorizontal?(y-=expandSize,height+=2*expandSize):(x-=expandSize,width+=2*expandSize)}var clipPath=new graphic.Rect({"shape":{"x":x,"y":y,"width":width,"height":height}});return hasAnimation&&(clipPath.shape[isHorizontal?"width":"height"]=0,graphic.initProps(clipPath,{"shape":{"width":width,"height":height}},seriesModel)),clipPath}function createPolarClipShape(polar,hasAnimation,forSymbol,seriesModel){var angleAxis=polar.getAngleAxis(),radiusAxis=polar.getRadiusAxis(),radiusExtent=radiusAxis.getExtent().slice();radiusExtent[0]>radiusExtent[1]&&radiusExtent.reverse();var angleExtent=angleAxis.getExtent(),RADIAN=Math.PI/180;forSymbol&&(radiusExtent[0]-=.5,radiusExtent[1]+=.5);var clipPath=new graphic.Sector({"shape":{"cx":round(polar.cx,1),"cy":round(polar.cy,1),"r0":round(radiusExtent[0],1),"r":round(radiusExtent[1],1),"startAngle":-angleExtent[0]*RADIAN,"endAngle":-angleExtent[1]*RADIAN,"clockwise":angleAxis.inverse}});return hasAnimation&&(clipPath.shape.endAngle=-angleExtent[0]*RADIAN,graphic.initProps(clipPath,{"shape":{"endAngle":-angleExtent[1]*RADIAN}},seriesModel)),clipPath}function createClipShape(coordSys,hasAnimation,forSymbol,seriesModel){return"polar"===coordSys.type?createPolarClipShape(coordSys,hasAnimation,forSymbol,seriesModel):createGridClipShape(coordSys,hasAnimation,forSymbol,seriesModel)}function turnPointsIntoStep(points,coordSys,stepTurnAt){for(var baseAxis=coordSys.getBaseAxis(),baseIndex="x"===baseAxis.dim||"radius"===baseAxis.dim?0:1,stepPoints=[],i=0;i<points.length-1;i++){var nextPt=points[i+1],pt=points[i];stepPoints.push(pt);var stepPt=[];switch(stepTurnAt){case"end":stepPt[baseIndex]=nextPt[baseIndex],stepPt[1-baseIndex]=pt[1-baseIndex],stepPoints.push(stepPt);break;case"middle":var middle=(pt[baseIndex]+nextPt[baseIndex])/2,stepPt2=[];stepPt[baseIndex]=stepPt2[baseIndex]=middle,stepPt[1-baseIndex]=pt[1-baseIndex],stepPt2[1-baseIndex]=nextPt[1-baseIndex],stepPoints.push(stepPt),stepPoints.push(stepPt2);break;default:stepPt[baseIndex]=pt[baseIndex],stepPt[1-baseIndex]=nextPt[1-baseIndex],stepPoints.push(stepPt)}}return points[i]&&stepPoints.push(points[i]),stepPoints}function getVisualGradient(data,coordSys){var visualMetaList=data.getVisual("visualMeta");if(visualMetaList&&visualMetaList.length&&data.count()&&"cartesian2d"===coordSys.type){for(var coordDim,visualMeta,i=visualMetaList.length-1;i>=0;i--){var dimIndex=visualMetaList[i].dimension,dimName=data.dimensions[dimIndex],dimInfo=data.getDimensionInfo(dimName);if(coordDim=dimInfo&&dimInfo.coordDim,"x"===coordDim||"y"===coordDim){visualMeta=visualMetaList[i];break}}if(visualMeta){var axis=coordSys.getAxis(coordDim),colorStops=zrUtil.map(visualMeta.stops,function(stop){return{"coord":axis.toGlobalCoord(axis.dataToCoord(stop.value)),"color":stop.color}}),stopLen=colorStops.length,outerColors=visualMeta.outerColors.slice();stopLen&&colorStops[0].coord>colorStops[stopLen-1].coord&&(colorStops.reverse(),outerColors.reverse());var tinyExtent=10,minCoord=colorStops[0].coord-tinyExtent,maxCoord=colorStops[stopLen-1].coord+tinyExtent,coordSpan=maxCoord-minCoord;if(coordSpan<.001)return"transparent";zrUtil.each(colorStops,function(stop){stop.offset=(stop.coord-minCoord)/coordSpan}),colorStops.push({"offset":stopLen?colorStops[stopLen-1].offset:.5,"color":outerColors[1]||"transparent"}),colorStops.unshift({"offset":stopLen?colorStops[0].offset:.5,"color":outerColors[0]||"transparent"});var gradient=new graphic.LinearGradient(0,0,0,0,colorStops,!0);return gradient[coordDim]=minCoord,gradient[coordDim+"2"]=maxCoord,gradient}}}function getIsIgnoreFunc(seriesModel,data,coordSys){var showAllSymbol=seriesModel.get("showAllSymbol"),isAuto="auto"===showAllSymbol;if(!showAllSymbol||isAuto){var categoryAxis=coordSys.getAxesByScale("ordinal")[0];if(categoryAxis&&(!isAuto||!canShowAllSymbolForCategory(categoryAxis,data))){var categoryDataDim=data.mapDimension(categoryAxis.dim),labelMap={};return zrUtil.each(categoryAxis.getViewLabels(),function(labelItem){labelMap[labelItem.tickValue]=1}),function(dataIndex){return!labelMap.hasOwnProperty(data.get(categoryDataDim,dataIndex))}}}}function canShowAllSymbolForCategory(categoryAxis,data){var axisExtent=categoryAxis.getExtent(),availSize=Math.abs(axisExtent[1]-axisExtent[0])/categoryAxis.scale.count();isNaN(availSize)&&(availSize=0);for(var dataLen=data.count(),step=Math.max(1,Math.round(dataLen/5)),dataIndex=0;dataIndex<dataLen;dataIndex+=step)if(1.5*SymbolClz.getSymbolSize(data,dataIndex)[categoryAxis.isHorizontal()?1:0]>availSize)return!1;return!0}var _config=__webpack_require__(30),zrUtil=(_config.__DEV__,__webpack_require__(4)),SymbolDraw=__webpack_require__(214),SymbolClz=__webpack_require__(269),lineAnimationDiff=__webpack_require__(1395),graphic=__webpack_require__(15),modelUtil=__webpack_require__(27),_poly=__webpack_require__(619),Polyline=_poly.Polyline,Polygon=_poly.Polygon,ChartView=__webpack_require__(117),_number=__webpack_require__(20),round=_number.round,_helper=__webpack_require__(618),prepareDataCoordInfo=_helper.prepareDataCoordInfo,getStackedOnPoint=_helper.getStackedOnPoint,_default=ChartView.extend({"type":"line","init":function(){var lineGroup=new graphic.Group,symbolDraw=new SymbolDraw;this.group.add(symbolDraw.group),this._symbolDraw=symbolDraw,this._lineGroup=lineGroup},"render":function(seriesModel,ecModel,api){var coordSys=seriesModel.coordinateSystem,group=this.group,data=seriesModel.getData(),lineStyleModel=seriesModel.getModel("lineStyle"),areaStyleModel=seriesModel.getModel("areaStyle"),points=data.mapArray(data.getItemLayout),isCoordSysPolar="polar"===coordSys.type,prevCoordSys=this._coordSys,symbolDraw=this._symbolDraw,polyline=this._polyline,polygon=this._polygon,lineGroup=this._lineGroup,hasAnimation=seriesModel.get("animation"),isAreaChart=!areaStyleModel.isEmpty(),valueOrigin=areaStyleModel.get("origin"),dataCoordInfo=prepareDataCoordInfo(coordSys,data,valueOrigin),stackedOnPoints=getStackedOnPoints(coordSys,data,dataCoordInfo),showSymbol=seriesModel.get("showSymbol"),isIgnoreFunc=showSymbol&&!isCoordSysPolar&&getIsIgnoreFunc(seriesModel,data,coordSys),oldData=this._data;oldData&&oldData.eachItemGraphicEl(function(el,idx){el.__temp&&(group.remove(el),oldData.setItemGraphicEl(idx,null))}),showSymbol||symbolDraw.remove(),group.add(lineGroup);var step=!isCoordSysPolar&&seriesModel.get("step");polyline&&prevCoordSys.type===coordSys.type&&step===this._step?(isAreaChart&&!polygon?polygon=this._newPolygon(points,stackedOnPoints,coordSys,hasAnimation):polygon&&!isAreaChart&&(lineGroup.remove(polygon),polygon=this._polygon=null),lineGroup.setClipPath(createClipShape(coordSys,!1,!1,seriesModel)),showSymbol&&symbolDraw.updateData(data,{"isIgnore":isIgnoreFunc,"clipShape":createClipShape(coordSys,!1,!0,seriesModel)}),data.eachItemGraphicEl(function(el){el.stopAnimation(!0)}),isPointsSame(this._stackedOnPoints,stackedOnPoints)&&isPointsSame(this._points,points)||(hasAnimation?this._updateAnimation(data,stackedOnPoints,coordSys,api,step,valueOrigin):(step&&(points=turnPointsIntoStep(points,coordSys,step),stackedOnPoints=turnPointsIntoStep(stackedOnPoints,coordSys,step)),polyline.setShape({"points":points}),polygon&&polygon.setShape({"points":points,"stackedOnPoints":stackedOnPoints})))):(showSymbol&&symbolDraw.updateData(data,{"isIgnore":isIgnoreFunc,"clipShape":createClipShape(coordSys,!1,!0,seriesModel)}),step&&(points=turnPointsIntoStep(points,coordSys,step),stackedOnPoints=turnPointsIntoStep(stackedOnPoints,coordSys,step)),polyline=this._newPolyline(points,coordSys,hasAnimation),isAreaChart&&(polygon=this._newPolygon(points,stackedOnPoints,coordSys,hasAnimation)),lineGroup.setClipPath(createClipShape(coordSys,!0,!1,seriesModel)));var visualColor=getVisualGradient(data,coordSys)||data.getVisual("color");polyline.useStyle(zrUtil.defaults(lineStyleModel.getLineStyle(),{"fill":"none","stroke":visualColor,"lineJoin":"bevel"}));var smooth=seriesModel.get("smooth");if(smooth=getSmooth(seriesModel.get("smooth")),polyline.setShape({"smooth":smooth,"smoothMonotone":seriesModel.get("smoothMonotone"),"connectNulls":seriesModel.get("connectNulls")}),polygon){var stackedOnSeries=data.getCalculationInfo("stackedOnSeries"),stackedOnSmooth=0;polygon.useStyle(zrUtil.defaults(areaStyleModel.getAreaStyle(),{"fill":visualColor,"opacity":.7,"lineJoin":"bevel"})),stackedOnSeries&&(stackedOnSmooth=getSmooth(stackedOnSeries.get("smooth"))),polygon.setShape({"smooth":smooth,"stackedOnSmooth":stackedOnSmooth,"smoothMonotone":seriesModel.get("smoothMonotone"),"connectNulls":seriesModel.get("connectNulls")})}this._data=data,this._coordSys=coordSys,this._stackedOnPoints=stackedOnPoints,this._points=points,this._step=step,this._valueOrigin=valueOrigin},"dispose":function(){},"highlight":function(seriesModel,ecModel,api,payload){var data=seriesModel.getData(),dataIndex=modelUtil.queryDataIndex(data,payload);if(!(dataIndex instanceof Array)&&null!=dataIndex&&dataIndex>=0){var symbol=data.getItemGraphicEl(dataIndex);if(!symbol){var pt=data.getItemLayout(dataIndex);if(!pt)return;symbol=new SymbolClz(data,dataIndex),symbol.position=pt,symbol.setZ(seriesModel.get("zlevel"),seriesModel.get("z")),symbol.ignore=isNaN(pt[0])||isNaN(pt[1]),symbol.__temp=!0,data.setItemGraphicEl(dataIndex,symbol),symbol.stopSymbolAnimation(!0),this.group.add(symbol)}symbol.highlight()}else ChartView.prototype.highlight.call(this,seriesModel,ecModel,api,payload)},"downplay":function(seriesModel,ecModel,api,payload){var data=seriesModel.getData(),dataIndex=modelUtil.queryDataIndex(data,payload);if(null!=dataIndex&&dataIndex>=0){var symbol=data.getItemGraphicEl(dataIndex);symbol&&(symbol.__temp?(data.setItemGraphicEl(dataIndex,null),this.group.remove(symbol)):symbol.downplay())}else ChartView.prototype.downplay.call(this,seriesModel,ecModel,api,payload)},"_newPolyline":function(points){var polyline=this._polyline;return polyline&&this._lineGroup.remove(polyline),polyline=new Polyline({"shape":{"points":points},"silent":!0,"z2":10}),this._lineGroup.add(polyline),this._polyline=polyline,polyline},"_newPolygon":function(points,stackedOnPoints){var polygon=this._polygon;return polygon&&this._lineGroup.remove(polygon),polygon=new Polygon({"shape":{"points":points,"stackedOnPoints":stackedOnPoints},"silent":!0}),this._lineGroup.add(polygon),this._polygon=polygon,polygon},"_updateAnimation":function(data,stackedOnPoints,coordSys,api,step,valueOrigin){var polyline=this._polyline,polygon=this._polygon,seriesModel=data.hostModel,diff=lineAnimationDiff(this._data,data,this._stackedOnPoints,stackedOnPoints,this._coordSys,coordSys,this._valueOrigin,valueOrigin),current=diff.current,stackedOnCurrent=diff.stackedOnCurrent,next=diff.next,stackedOnNext=diff.stackedOnNext;step&&(current=turnPointsIntoStep(diff.current,coordSys,step),stackedOnCurrent=turnPointsIntoStep(diff.stackedOnCurrent,coordSys,step),next=turnPointsIntoStep(diff.next,coordSys,step),stackedOnNext=turnPointsIntoStep(diff.stackedOnNext,coordSys,step)),polyline.shape.__points=diff.current,polyline.shape.points=current,graphic.updateProps(polyline,{"shape":{"points":next}},seriesModel),polygon&&(polygon.setShape({"points":current,"stackedOnPoints":stackedOnCurrent}),graphic.updateProps(polygon,{"shape":{"points":next,"stackedOnPoints":stackedOnNext}},seriesModel));for(var updatedDataInfo=[],diffStatus=diff.status,i=0;i<diffStatus.length;i++){var cmd=diffStatus[i].cmd;if("="===cmd){var el=data.getItemGraphicEl(diffStatus[i].idx1);el&&updatedDataInfo.push({"el":el,"ptIdx":i})}}polyline.animators&&polyline.animators.length&&polyline.animators[0].during(function(){for(var i=0;i<updatedDataInfo.length;i++){var el=updatedDataInfo[i].el;el.attr("position",polyline.shape.__points[updatedDataInfo[i].ptIdx])}})},"remove":function(ecModel){var group=this.group,oldData=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),oldData&&oldData.eachItemGraphicEl(function(el,idx){el.__temp&&(group.remove(el),oldData.setItemGraphicEl(idx,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});module.exports=_default},function(module,exports,__webpack_require__){function diffData(oldData,newData){var diffResult=[];return newData.diff(oldData).add(function(idx){diffResult.push({"cmd":"+","idx":idx})}).update(function(newIdx,oldIdx){diffResult.push({"cmd":"=","idx":oldIdx,"idx1":newIdx})}).remove(function(idx){diffResult.push({"cmd":"-","idx":idx})}).execute(),diffResult}function _default(oldData,newData,oldStackedOnPoints,newStackedOnPoints,oldCoordSys,newCoordSys,oldValueOrigin,newValueOrigin){for(var diff=diffData(oldData,newData),currPoints=[],nextPoints=[],currStackedPoints=[],nextStackedPoints=[],status=[],sortedIndices=[],rawIndices=[],newDataOldCoordInfo=prepareDataCoordInfo(oldCoordSys,newData,oldValueOrigin),oldDataNewCoordInfo=prepareDataCoordInfo(newCoordSys,oldData,newValueOrigin),i=0;i<diff.length;i++){var diffItem=diff[i],pointAdded=!0;switch(diffItem.cmd){case"=":var currentPt=oldData.getItemLayout(diffItem.idx),nextPt=newData.getItemLayout(diffItem.idx1);(isNaN(currentPt[0])||isNaN(currentPt[1]))&&(currentPt=nextPt.slice()),currPoints.push(currentPt),nextPoints.push(nextPt),currStackedPoints.push(oldStackedOnPoints[diffItem.idx]),nextStackedPoints.push(newStackedOnPoints[diffItem.idx1]),rawIndices.push(newData.getRawIndex(diffItem.idx1));break;case"+":var idx=diffItem.idx;currPoints.push(oldCoordSys.dataToPoint([newData.get(newDataOldCoordInfo.dataDimsForPoint[0],idx),newData.get(newDataOldCoordInfo.dataDimsForPoint[1],idx)])),nextPoints.push(newData.getItemLayout(idx).slice()),currStackedPoints.push(getStackedOnPoint(newDataOldCoordInfo,oldCoordSys,newData,idx)),nextStackedPoints.push(newStackedOnPoints[idx]),rawIndices.push(newData.getRawIndex(idx));break;case"-":var idx=diffItem.idx,rawIndex=oldData.getRawIndex(idx);rawIndex!==idx?(currPoints.push(oldData.getItemLayout(idx)),nextPoints.push(newCoordSys.dataToPoint([oldData.get(oldDataNewCoordInfo.dataDimsForPoint[0],idx),oldData.get(oldDataNewCoordInfo.dataDimsForPoint[1],idx)])),currStackedPoints.push(oldStackedOnPoints[idx]),nextStackedPoints.push(getStackedOnPoint(oldDataNewCoordInfo,newCoordSys,oldData,idx)),rawIndices.push(rawIndex)):pointAdded=!1}pointAdded&&(status.push(diffItem),sortedIndices.push(sortedIndices.length))}sortedIndices.sort(function(a,b){return rawIndices[a]-rawIndices[b]});for(var sortedCurrPoints=[],sortedNextPoints=[],sortedCurrStackedPoints=[],sortedNextStackedPoints=[],sortedStatus=[],i=0;i<sortedIndices.length;i++){var idx=sortedIndices[i];sortedCurrPoints[i]=currPoints[idx],sortedNextPoints[i]=nextPoints[idx],sortedCurrStackedPoints[i]=currStackedPoints[idx],sortedNextStackedPoints[i]=nextStackedPoints[idx],sortedStatus[i]=status[idx]}return{"current":sortedCurrPoints,"next":sortedNextPoints,"stackedOnCurrent":sortedCurrStackedPoints,"stackedOnNext":sortedNextStackedPoints,"status":sortedStatus}}var _helper=__webpack_require__(618),prepareDataCoordInfo=_helper.prepareDataCoordInfo,getStackedOnPoint=_helper.getStackedOnPoint;module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(1397),__webpack_require__(1398);var linesLayout=__webpack_require__(620),linesVisual=__webpack_require__(1399);echarts.registerLayout(linesLayout),echarts.registerVisual(linesVisual)},function(module,exports,__webpack_require__){function compatEc2(seriesOpt){var data=seriesOpt.data;data&&data[0]&&data[0][0]&&data[0][0].coord&&(seriesOpt.data=map(data,function(itemOpt){var coords=[itemOpt[0].coord,itemOpt[1].coord],target={"coords":coords};return itemOpt[0].name&&(target.fromName=itemOpt[0].name),itemOpt[1].name&&(target.toName=itemOpt[1].name),mergeAll([target,itemOpt[0],itemOpt[1]])}))}var _config=__webpack_require__(30),SeriesModel=(_config.__DEV__,__webpack_require__(57)),List=__webpack_require__(82),_util=__webpack_require__(4),concatArray=_util.concatArray,mergeAll=_util.mergeAll,map=_util.map,_format=__webpack_require__(40),encodeHTML=_format.encodeHTML,Uint32Arr=(__webpack_require__(92),"undefined"==typeof Uint32Array?Array:Uint32Array),Float64Arr="undefined"==typeof Float64Array?Array:Float64Array,LinesSeries=SeriesModel.extend({"type":"series.lines","dependencies":["grid","polar"],"visualColorAccessPath":"lineStyle.color","init":function(option){option.data=option.data||[],compatEc2(option);var result=this._processFlatCoordsArray(option.data);this._flatCoords=result.flatCoords,this._flatCoordsOffset=result.flatCoordsOffset,result.flatCoords&&(option.data=new Float32Array(result.count)),LinesSeries.superApply(this,"init",arguments)},"mergeOption":function(option){if(option.data=option.data||[],compatEc2(option),option.data){var result=this._processFlatCoordsArray(option.data);this._flatCoords=result.flatCoords,this._flatCoordsOffset=result.flatCoordsOffset,result.flatCoords&&(option.data=new Float32Array(result.count))}LinesSeries.superApply(this,"mergeOption",arguments)},"appendData":function(params){var result=this._processFlatCoordsArray(params.data);result.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,result.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,result.flatCoordsOffset)):(this._flatCoords=result.flatCoords,this._flatCoordsOffset=result.flatCoordsOffset),params.data=new Float32Array(result.count)),this.getRawData().appendData(params.data)},"_getCoordsFromItemModel":function(idx){var itemModel=this.getData().getItemModel(idx),coords=itemModel.option instanceof Array?itemModel.option:itemModel.getShallow("coords");return coords},"getLineCoordsCount":function(idx){return this._flatCoordsOffset?this._flatCoordsOffset[2*idx+1]:this._getCoordsFromItemModel(idx).length},"getLineCoords":function(idx,out){if(this._flatCoordsOffset){for(var offset=this._flatCoordsOffset[2*idx],len=this._flatCoordsOffset[2*idx+1],i=0;i<len;i++)out[i]=out[i]||[],out[i][0]=this._flatCoords[offset+2*i],out[i][1]=this._flatCoords[offset+2*i+1];return len}for(var coords=this._getCoordsFromItemModel(idx),i=0;i<coords.length;i++)out[i]=out[i]||[],out[i][0]=coords[i][0],out[i][1]=coords[i][1];return coords.length},"_processFlatCoordsArray":function(data){var startOffset=0;if(this._flatCoords&&(startOffset=this._flatCoords.length),"number"==typeof data[0]){for(var len=data.length,coordsOffsetAndLenStorage=new Uint32Arr(len),coordsStorage=new Float64Arr(len),coordsCursor=0,offsetCursor=0,dataCount=0,i=0;i<len;){dataCount++;var count=data[i++];coordsOffsetAndLenStorage[offsetCursor++]=coordsCursor+startOffset,coordsOffsetAndLenStorage[offsetCursor++]=count;for(var k=0;k<count;k++){var x=data[i++],y=data[i++];coordsStorage[coordsCursor++]=x,coordsStorage[coordsCursor++]=y}}return{"flatCoordsOffset":new Uint32Array(coordsOffsetAndLenStorage.buffer,0,offsetCursor),"flatCoords":coordsStorage,"count":dataCount}}return{"flatCoordsOffset":null,"flatCoords":null,"count":data.length}},"getInitialData":function(option,ecModel){var lineData=new List(["value"],this);return lineData.hasItemOption=!1,lineData.initData(option.data,[],function(dataItem,dimName,dataIndex,dimIndex){if(dataItem instanceof Array)return NaN;lineData.hasItemOption=!0;var value=dataItem.value;return null!=value?value instanceof Array?value[dimIndex]:value:void 0}),lineData},"formatTooltip":function(dataIndex){var data=this.getData(),itemModel=data.getItemModel(dataIndex),name=itemModel.get("name");if(name)return name;var fromName=itemModel.get("fromName"),toName=itemModel.get("toName"),html=[];return null!=fromName&&html.push(fromName),null!=toName&&html.push(toName),encodeHTML(html.join(" > "))},"preventIncremental":function(){return!!this.get("effect.show")},"getProgressive":function(){var progressive=this.option.progressive;return null==progressive?this.option.large?1e4:this.get("progressive"):progressive},"getProgressiveThreshold":function(){var progressiveThreshold=this.option.progressiveThreshold;return null==progressiveThreshold?this.option.large?2e4:this.get("progressiveThreshold"):progressiveThreshold},"defaultOption":{"coordinateSystem":"geo","zlevel":0,"z":2,"legendHoverLink":!0,"hoverAnimation":!0,"xAxisIndex":0,"yAxisIndex":0,"symbol":["none","none"],"symbolSize":[10,10],"geoIndex":0,"effect":{"show":!1,"period":4,"constantSpeed":0,"symbol":"circle","symbolSize":3,"loop":!0,"trailLength":.2},"large":!1,"largeThreshold":2e3,"polyline":!1,"label":{"show":!1,"position":"end"},"lineStyle":{"opacity":.5}}}),_default=LinesSeries;module.exports=_default},function(module,exports,__webpack_require__){var _config=__webpack_require__(30),echarts=(_config.__DEV__,__webpack_require__(13)),LineDraw=__webpack_require__(377),EffectLine=__webpack_require__(614),Line=__webpack_require__(376),Polyline=__webpack_require__(615),EffectPolyline=__webpack_require__(1387),LargeLineDraw=__webpack_require__(1389),linesLayout=__webpack_require__(620),_default=echarts.extendChartView({"type":"lines","init":function(){},"render":function(seriesModel,ecModel,api){var data=seriesModel.getData(),lineDraw=this._updateLineDraw(data,seriesModel),zlevel=seriesModel.get("zlevel"),trailLength=seriesModel.get("effect.trailLength"),zr=api.getZr(),isSvg="svg"===zr.painter.getType();isSvg||zr.painter.getLayer(zlevel).clear(!0),null==this._lastZlevel||isSvg||zr.configLayer(this._lastZlevel,{"motionBlur":!1}),this._showEffect(seriesModel)&&trailLength&&(isSvg||zr.configLayer(zlevel,{"motionBlur":!0,"lastFrameAlpha":Math.max(Math.min(trailLength/10+.9,1),0)})),lineDraw.updateData(data),this._lastZlevel=zlevel,this._finished=!0},"incrementalPrepareRender":function(seriesModel,ecModel,api){var data=seriesModel.getData(),lineDraw=this._updateLineDraw(data,seriesModel);lineDraw.incrementalPrepareUpdate(data),this._clearLayer(api),this._finished=!1},"incrementalRender":function(taskParams,seriesModel,ecModel){this._lineDraw.incrementalUpdate(taskParams,seriesModel.getData()),this._finished=taskParams.end===seriesModel.getData().count()},"updateTransform":function(seriesModel,ecModel,api){var data=seriesModel.getData(),pipelineContext=seriesModel.pipelineContext;if(!this._finished||pipelineContext.large||pipelineContext.progressiveRender)return{"update":!0};var res=linesLayout.reset(seriesModel);res.progress&&res.progress({"start":0,"end":data.count()},data),this._lineDraw.updateLayout(),this._clearLayer(api)},"_updateLineDraw":function(data,seriesModel){var lineDraw=this._lineDraw,hasEffect=this._showEffect(seriesModel),isPolyline=!!seriesModel.get("polyline"),pipelineContext=seriesModel.pipelineContext,isLargeDraw=pipelineContext.large;
return lineDraw&&hasEffect===this._hasEffet&&isPolyline===this._isPolyline&&isLargeDraw===this._isLargeDraw||(lineDraw&&lineDraw.remove(),lineDraw=this._lineDraw=isLargeDraw?new LargeLineDraw:new LineDraw(isPolyline?hasEffect?EffectPolyline:Polyline:hasEffect?EffectLine:Line),this._hasEffet=hasEffect,this._isPolyline=isPolyline,this._isLargeDraw=isLargeDraw,this.group.removeAll()),this.group.add(lineDraw.group),lineDraw},"_showEffect":function(seriesModel){return!!seriesModel.get("effect.show")},"_clearLayer":function(api){var zr=api.getZr(),isSvg="svg"===zr.painter.getType();isSvg||null==this._lastZlevel||zr.painter.getLayer(this._lastZlevel).clear(!0)},"remove":function(ecModel,api){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(api)},"dispose":function(){}});module.exports=_default},function(module,exports){function normalize(a){return a instanceof Array||(a=[a,a]),a}var opacityQuery="lineStyle.opacity".split("."),_default={"seriesType":"lines","reset":function(seriesModel,ecModel,api){function dataEach(data,idx){var itemModel=data.getItemModel(idx),symbolType=normalize(itemModel.getShallow("symbol",!0)),symbolSize=normalize(itemModel.getShallow("symbolSize",!0)),opacity=itemModel.get(opacityQuery);symbolType[0]&&data.setItemVisual(idx,"fromSymbol",symbolType[0]),symbolType[1]&&data.setItemVisual(idx,"toSymbol",symbolType[1]),symbolSize[0]&&data.setItemVisual(idx,"fromSymbolSize",symbolSize[0]),symbolSize[1]&&data.setItemVisual(idx,"toSymbolSize",symbolSize[1]),data.setItemVisual(idx,"opacity",opacity)}var symbolType=normalize(seriesModel.get("symbol")),symbolSize=normalize(seriesModel.get("symbolSize")),data=seriesModel.getData();return data.setVisual("fromSymbol",symbolType&&symbolType[0]),data.setVisual("toSymbol",symbolType&&symbolType[1]),data.setVisual("fromSymbolSize",symbolSize&&symbolSize[0]),data.setVisual("toSymbolSize",symbolSize&&symbolSize[1]),data.setVisual("opacity",seriesModel.get(opacityQuery)),{"dataEach":data.hasItemOption?dataEach:null}}};module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(1401),__webpack_require__(1402),__webpack_require__(608),__webpack_require__(274);var mapSymbolLayout=__webpack_require__(1405),mapVisual=__webpack_require__(1406),mapDataStatistic=__webpack_require__(1404),backwardCompat=__webpack_require__(1403),createDataSelectAction=__webpack_require__(607);echarts.registerLayout(mapSymbolLayout),echarts.registerVisual(mapVisual),echarts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),echarts.registerPreprocessor(backwardCompat),createDataSelectAction("map",[{"type":"mapToggleSelect","event":"mapselectchanged","method":"toggleSelected"},{"type":"mapSelect","event":"mapselected","method":"select"},{"type":"mapUnSelect","event":"mapunselected","method":"unSelect"}])},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),createListSimply=__webpack_require__(190),SeriesModel=__webpack_require__(57),_format=__webpack_require__(40),encodeHTML=_format.encodeHTML,addCommas=_format.addCommas,dataSelectableMixin=__webpack_require__(383),_dataProvider=__webpack_require__(161),retrieveRawAttr=_dataProvider.retrieveRawAttr,geoCreator=__webpack_require__(274),MapSeries=SeriesModel.extend({"type":"series.map","dependencies":["geo"],"layoutMode":"box","needsDrawMap":!1,"seriesGroup":[],"init":function(option){MapSeries.superApply(this,"init",arguments),this.updateSelectedMap(this._createSelectableList())},"getInitialData":function(option){return createListSimply(this,["value"])},"mergeOption":function(newOption){MapSeries.superApply(this,"mergeOption",arguments),this.updateSelectedMap(this._createSelectableList())},"_createSelectableList":function(){for(var data=this.getRawData(),valueDim=data.mapDimension("value"),targetList=[],i=0,len=data.count();i<len;i++)targetList.push({"name":data.getName(i),"value":data.get(valueDim,i),"selected":retrieveRawAttr(data,i,"selected")});return targetList=geoCreator.getFilledRegions(targetList,this.getMapType(),this.option.nameMap)},"getHostGeoModel":function(){var geoIndex=this.option.geoIndex;return null!=geoIndex?this.dependentModels.geo[geoIndex]:null},"getMapType":function(){return(this.getHostGeoModel()||this).option.map},"_fillOption":function(option,mapName){},"getRawValue":function(dataIndex){var data=this.getData();return data.get(data.mapDimension("value"),dataIndex)},"getRegionModel":function(regionName){var data=this.getData();return data.getItemModel(data.indexOfName(regionName))},"formatTooltip":function(dataIndex){for(var data=this.getData(),formattedValue=addCommas(this.getRawValue(dataIndex)),name=data.getName(dataIndex),seriesGroup=this.seriesGroup,seriesNames=[],i=0;i<seriesGroup.length;i++){var otherIndex=seriesGroup[i].originalData.indexOfName(name),valueDim=data.mapDimension("value");isNaN(seriesGroup[i].originalData.get(valueDim,otherIndex))||seriesNames.push(encodeHTML(seriesGroup[i].name))}return seriesNames.join(", ")+"<br />"+encodeHTML(name+" : "+formattedValue)},"getTooltipPosition":function(dataIndex){if(null!=dataIndex){var name=this.getData().getName(dataIndex),geo=this.coordinateSystem,region=geo.getRegion(name);return region&&geo.dataToPoint(region.center)}},"setZoom":function(zoom){this.option.zoom=zoom},"setCenter":function(center){this.option.center=center},"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"geo","map":"","left":"center","top":"center","aspectScale":.75,"showLegendSymbol":!0,"dataRangeHoverLink":!0,"boundingCoords":null,"center":null,"zoom":1,"scaleLimit":null,"label":{"show":!1,"color":"#000"},"itemStyle":{"borderWidth":.5,"borderColor":"#444","areaColor":"#eee"},"emphasis":{"label":{"show":!0,"color":"rgb(100,0,0)"},"itemStyle":{"areaColor":"rgba(255,215,0,0.8)"}}}});zrUtil.mixin(MapSeries,dataSelectableMixin);var _default=MapSeries;module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),graphic=__webpack_require__(15),MapDraw=__webpack_require__(631),_default=echarts.extendChartView({"type":"map","render":function(mapModel,ecModel,api,payload){if(!payload||"mapToggleSelect"!==payload.type||payload.from!==this.uid){var group=this.group;if(group.removeAll(),!mapModel.getHostGeoModel()){if(payload&&"geoRoam"===payload.type&&"series"===payload.componentType&&payload.seriesId===mapModel.id){var mapDraw=this._mapDraw;mapDraw&&group.add(mapDraw.group)}else if(mapModel.needsDrawMap){var mapDraw=this._mapDraw||new MapDraw(api,!0);group.add(mapDraw.group),mapDraw.draw(mapModel,ecModel,api,this,payload),this._mapDraw=mapDraw}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;mapModel.get("showLegendSymbol")&&ecModel.getComponent("legend")&&this._renderSymbols(mapModel,ecModel,api)}}},"remove":function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},"dispose":function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},"_renderSymbols":function(mapModel,ecModel,api){var originalData=mapModel.originalData,group=this.group;originalData.each(originalData.mapDimension("value"),function(value,idx){if(!isNaN(value)){var layout=originalData.getItemLayout(idx);if(layout&&layout.point){var point=layout.point,offset=layout.offset,circle=new graphic.Circle({"style":{"fill":mapModel.getData().getVisual("color")},"shape":{"cx":point[0]+9*offset,"cy":point[1],"r":3},"silent":!0,"z2":offset?8:10});if(!offset){var fullData=mapModel.mainSeries.getData(),name=originalData.getName(idx),fullIndex=fullData.indexOfName(name),itemModel=originalData.getItemModel(idx),labelModel=itemModel.getModel("label"),hoverLabelModel=itemModel.getModel("emphasis.label"),polygonGroups=fullData.getItemGraphicEl(fullIndex),normalText=zrUtil.retrieve2(mapModel.getFormattedLabel(idx,"normal"),name),emphasisText=zrUtil.retrieve2(mapModel.getFormattedLabel(idx,"emphasis"),normalText),onEmphasis=function(){var hoverStyle=graphic.setTextStyle({},hoverLabelModel,{"text":hoverLabelModel.get("show")?emphasisText:null},{"isRectText":!0,"useInsideStyle":!1},!0);circle.style.extendFrom(hoverStyle),circle.__mapOriginalZ2=circle.z2,circle.z2+=1},onNormal=function(){graphic.setTextStyle(circle.style,labelModel,{"text":labelModel.get("show")?normalText:null,"textPosition":labelModel.getShallow("position")||"bottom"},{"isRectText":!0,"useInsideStyle":!1}),null!=circle.__mapOriginalZ2&&(circle.z2=circle.__mapOriginalZ2,circle.__mapOriginalZ2=null)};polygonGroups.on("mouseover",onEmphasis).on("mouseout",onNormal).on("emphasis",onEmphasis).on("normal",onNormal),onNormal()}group.add(circle)}}})}});module.exports=_default},function(module,exports,__webpack_require__){function _default(option){var mapSeries=[];zrUtil.each(option.series,function(seriesOpt){seriesOpt&&"map"===seriesOpt.type&&(mapSeries.push(seriesOpt),seriesOpt.map=seriesOpt.map||seriesOpt.mapType,zrUtil.defaults(seriesOpt,seriesOpt.mapLocation))})}var zrUtil=__webpack_require__(4);module.exports=_default},function(module,exports,__webpack_require__){function dataStatistics(datas,statisticType){var dataNameMap={};return zrUtil.each(datas,function(data){data.each(data.mapDimension("value"),function(value,idx){var mapKey="ec-"+data.getName(idx);dataNameMap[mapKey]=dataNameMap[mapKey]||[],isNaN(value)||dataNameMap[mapKey].push(value)})}),datas[0].map(datas[0].mapDimension("value"),function(value,idx){for(var mapKey="ec-"+datas[0].getName(idx),sum=0,min=1/0,max=-(1/0),len=dataNameMap[mapKey].length,i=0;i<len;i++)min=Math.min(min,dataNameMap[mapKey][i]),max=Math.max(max,dataNameMap[mapKey][i]),sum+=dataNameMap[mapKey][i];var result;return result="min"===statisticType?min:"max"===statisticType?max:"average"===statisticType?sum/len:sum,0===len?NaN:result})}function _default(ecModel){var seriesGroups={};ecModel.eachSeriesByType("map",function(seriesModel){var hostGeoModel=seriesModel.getHostGeoModel(),key=hostGeoModel?"o"+hostGeoModel.id:"i"+seriesModel.getMapType();(seriesGroups[key]=seriesGroups[key]||[]).push(seriesModel)}),zrUtil.each(seriesGroups,function(seriesList,key){for(var data=dataStatistics(zrUtil.map(seriesList,function(seriesModel){return seriesModel.getData()}),seriesList[0].get("mapValueCalculation")),i=0;i<seriesList.length;i++)seriesList[i].originalData=seriesList[i].getData();for(var i=0;i<seriesList.length;i++)seriesList[i].seriesGroup=seriesList,seriesList[i].needsDrawMap=0===i&&!seriesList[i].getHostGeoModel(),seriesList[i].setData(data.cloneShallow()),seriesList[i].mainSeries=seriesList[0]})}var zrUtil=__webpack_require__(4);module.exports=_default},function(module,exports,__webpack_require__){function _default(ecModel){var processedMapType={};ecModel.eachSeriesByType("map",function(mapSeries){var mapType=mapSeries.getMapType();if(!mapSeries.getHostGeoModel()&&!processedMapType[mapType]){var mapSymbolOffsets={};zrUtil.each(mapSeries.seriesGroup,function(subMapSeries){var geo=subMapSeries.coordinateSystem,data=subMapSeries.originalData;subMapSeries.get("showLegendSymbol")&&ecModel.getComponent("legend")&&data.each(data.mapDimension("value"),function(value,idx){var name=data.getName(idx),region=geo.getRegion(name);if(region&&!isNaN(value)){var offset=mapSymbolOffsets[name]||0,point=geo.dataToPoint(region.center);mapSymbolOffsets[name]=offset+1,data.setItemLayout(idx,{"point":point,"offset":offset})}})});var data=mapSeries.getData();data.each(function(idx){var name=data.getName(idx),layout=data.getItemLayout(idx)||{};layout.showLabel=!mapSymbolOffsets[name],data.setItemLayout(idx,layout)}),processedMapType[mapType]=!0}})}var zrUtil=__webpack_require__(4);module.exports=_default},function(module,exports){function _default(ecModel){ecModel.eachSeriesByType("map",function(seriesModel){var colorList=seriesModel.get("color"),itemStyleModel=seriesModel.getModel("itemStyle"),areaColor=itemStyleModel.get("areaColor"),color=itemStyleModel.get("color")||colorList[seriesModel.seriesIndex%colorList.length];seriesModel.getData().setVisual({"areaColor":areaColor,"color":color})})}module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(638),__webpack_require__(1408),__webpack_require__(1409);var parallelVisual=__webpack_require__(1410);echarts.registerVisual(parallelVisual)},function(module,exports,__webpack_require__){function setEncodeAndDimensions(source,seriesModel){if(!source.encodeDefine){var parallelModel=seriesModel.ecModel.getComponent("parallel",seriesModel.get("parallelIndex"));if(parallelModel){var encodeDefine=source.encodeDefine=createHashMap();each(parallelModel.dimensions,function(axisDim){var dataDimIndex=convertDimNameToNumber(axisDim);encodeDefine.set(axisDim,dataDimIndex)})}}}function convertDimNameToNumber(dimName){return+dimName.replace("dim","")}var _util=__webpack_require__(4),each=_util.each,createHashMap=_util.createHashMap,SeriesModel=__webpack_require__(57),createListFromArray=__webpack_require__(114),_default=SeriesModel.extend({"type":"series.parallel","dependencies":["parallel"],"visualColorAccessPath":"lineStyle.color","getInitialData":function(option,ecModel){var source=this.getSource();return setEncodeAndDimensions(source,this),createListFromArray(source,this)},"getRawIndicesByActiveState":function(activeState){var coordSys=this.coordinateSystem,data=this.getData(),indices=[];return coordSys.eachActiveState(data,function(theActiveState,dataIndex){activeState===theActiveState&&indices.push(data.getRawIndex(dataIndex))}),indices},"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"parallel","parallelIndex":0,"label":{"show":!1},"inactiveOpacity":.05,"activeOpacity":1,"lineStyle":{"width":1,"opacity":.45,"type":"solid"},"emphasis":{"label":{"show":!1}},"progressive":500,"smooth":!1,"animationEasing":"linear"}});module.exports=_default},function(module,exports,__webpack_require__){function createGridClipShape(coordSys,seriesModel,cb){var parallelModel=coordSys.model,rect=coordSys.getRect(),rectEl=new graphic.Rect({"shape":{"x":rect.x,"y":rect.y,"width":rect.width,"height":rect.height}}),dim="horizontal"===parallelModel.get("layout")?"width":"height";return rectEl.setShape(dim,0),graphic.initProps(rectEl,{"shape":{"width":rect.width,"height":rect.height}},seriesModel,cb),rectEl}function createLinePoints(data,dataIndex,dimensions,coordSys){for(var points=[],i=0;i<dimensions.length;i++){var dimName=dimensions[i],value=data.get(data.mapDimension(dimName),dataIndex);isEmptyValue(value,coordSys.getAxis(dimName).type)||points.push(coordSys.dataToPoint(value,dimName))}return points}function addEl(data,dataGroup,dataIndex,dimensions,coordSys){var points=createLinePoints(data,dataIndex,dimensions,coordSys),line=new graphic.Polyline({"shape":{"points":points},"silent":!0,"z2":10});return dataGroup.add(line),data.setItemGraphicEl(dataIndex,line),line}function makeSeriesScope(seriesModel){var smooth=seriesModel.get("smooth",!0);return smooth===!0&&(smooth=DEFAULT_SMOOTH),{"lineStyle":seriesModel.getModel("lineStyle").getLineStyle(),"smooth":null!=smooth?smooth:DEFAULT_SMOOTH}}function updateElCommon(el,data,dataIndex,seriesScope){var lineStyle=seriesScope.lineStyle;if(data.hasItemOption){var lineStyleModel=data.getItemModel(dataIndex).getModel("lineStyle");lineStyle=lineStyleModel.getLineStyle()}el.useStyle(lineStyle);var elStyle=el.style;elStyle.fill=null,elStyle.stroke=data.getItemVisual(dataIndex,"color"),elStyle.opacity=data.getItemVisual(dataIndex,"opacity"),seriesScope.smooth&&(el.shape.smooth=seriesScope.smooth)}function isEmptyValue(val,axisType){return"category"===axisType?null==val:null==val||isNaN(val)}var graphic=__webpack_require__(15),ChartView=(__webpack_require__(4),__webpack_require__(117)),DEFAULT_SMOOTH=.3,ParallelView=ChartView.extend({"type":"parallel","init":function(){this._dataGroup=new graphic.Group,this.group.add(this._dataGroup),this._data,this._initialized},"render":function(seriesModel,ecModel,api,payload){function add(newDataIndex){var line=addEl(data,dataGroup,newDataIndex,dimensions,coordSys);updateElCommon(line,data,newDataIndex,seriesScope)}function update(newDataIndex,oldDataIndex){var line=oldData.getItemGraphicEl(oldDataIndex),points=createLinePoints(data,newDataIndex,dimensions,coordSys);data.setItemGraphicEl(newDataIndex,line);var animationModel=payload&&payload.animation===!1?null:seriesModel;graphic.updateProps(line,{"shape":{"points":points}},animationModel,newDataIndex),updateElCommon(line,data,newDataIndex,seriesScope)}function remove(oldDataIndex){var line=oldData.getItemGraphicEl(oldDataIndex);dataGroup.remove(line)}var dataGroup=this._dataGroup,data=seriesModel.getData(),oldData=this._data,coordSys=seriesModel.coordinateSystem,dimensions=coordSys.dimensions,seriesScope=makeSeriesScope(seriesModel);if(data.diff(oldData).add(add).update(update).remove(remove).execute(),!this._initialized){this._initialized=!0;var clipPath=createGridClipShape(coordSys,seriesModel,function(){setTimeout(function(){dataGroup.removeClipPath()})});dataGroup.setClipPath(clipPath)}this._data=data},"incrementalPrepareRender":function(seriesModel,ecModel,api){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},"incrementalRender":function(taskParams,seriesModel,ecModel){for(var data=seriesModel.getData(),coordSys=seriesModel.coordinateSystem,dimensions=coordSys.dimensions,seriesScope=makeSeriesScope(seriesModel),dataIndex=taskParams.start;dataIndex<taskParams.end;dataIndex++){var line=addEl(data,this._dataGroup,dataIndex,dimensions,coordSys);line.incremental=!0,updateElCommon(line,data,dataIndex,seriesScope)}},"dispose":function(){},"remove":function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}}),_default=ParallelView;module.exports=_default},function(module,exports){var opacityAccessPath=["lineStyle","normal","opacity"],_default={"seriesType":"parallel","reset":function(seriesModel,ecModel,api){function progress(params,data){coordSys.eachActiveState(data,function(activeState,dataIndex){var opacity=opacityMap[activeState];if("normal"===activeState&&data.hasItemOption){var itemOpacity=data.getItemModel(dataIndex).get(opacityAccessPath,!0);null!=itemOpacity&&(opacity=itemOpacity)}data.setItemVisual(dataIndex,"opacity",opacity)},params.start,params.end)}var itemStyleModel=seriesModel.getModel("itemStyle"),lineStyleModel=seriesModel.getModel("lineStyle"),globalColors=ecModel.get("color"),color=lineStyleModel.get("color")||itemStyleModel.get("color")||globalColors[seriesModel.seriesIndex%globalColors.length],inactiveOpacity=seriesModel.get("inactiveOpacity"),activeOpacity=seriesModel.get("activeOpacity"),lineStyle=seriesModel.getModel("lineStyle").getLineStyle(),coordSys=seriesModel.coordinateSystem,data=seriesModel.getData(),opacityMap={"normal":lineStyle.opacity,"active":activeOpacity,"inactive":inactiveOpacity};return data.setVisual("color",color),{"progress":progress}}};module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4);__webpack_require__(387),__webpack_require__(1344),__webpack_require__(1345);var _barGrid=__webpack_require__(276),layout=_barGrid.layout,visualSymbol=__webpack_require__(165);__webpack_require__(218),echarts.registerLayout(zrUtil.curry(layout,"pictorialBar")),echarts.registerVisual(visualSymbol("pictorialBar","roundRect"))},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4);__webpack_require__(1413),__webpack_require__(1414);var createDataSelectAction=__webpack_require__(607),dataColor=__webpack_require__(281),pieLayout=__webpack_require__(1416),dataFilter=__webpack_require__(224);createDataSelectAction("pie",[{"type":"pieToggleSelect","event":"pieselectchanged","method":"toggleSelected"},{"type":"pieSelect","event":"pieselected","method":"select"},{"type":"pieUnSelect","event":"pieunselected","method":"unSelect"}]),echarts.registerVisual(dataColor("pie")),echarts.registerLayout(zrUtil.curry(pieLayout,"pie")),echarts.registerProcessor(dataFilter("pie"))},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),createListSimply=__webpack_require__(190),zrUtil=__webpack_require__(4),modelUtil=__webpack_require__(27),_number=__webpack_require__(20),getPercentWithPrecision=_number.getPercentWithPrecision,dataSelectableMixin=__webpack_require__(383),_dataProvider=__webpack_require__(161),retrieveRawAttr=_dataProvider.retrieveRawAttr,PieSeries=echarts.extendSeriesModel({"type":"series.pie","init":function(option){PieSeries.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(option)},"mergeOption":function(newOption){PieSeries.superCall(this,"mergeOption",newOption),this.updateSelectedMap(this._createSelectableList())},"getInitialData":function(option,ecModel){return createListSimply(this,["value"])},"_createSelectableList":function(){for(var data=this.getRawData(),valueDim=data.mapDimension("value"),targetList=[],i=0,len=data.count();i<len;i++)targetList.push({"name":data.getName(i),"value":data.get(valueDim,i),"selected":retrieveRawAttr(data,i,"selected")});return targetList},"getDataParams":function(dataIndex){var data=this.getData(),params=PieSeries.superCall(this,"getDataParams",dataIndex),valueList=[];return data.each(data.mapDimension("value"),function(value){valueList.push(value)}),params.percent=getPercentWithPrecision(valueList,dataIndex,data.hostModel.get("percentPrecision")),params.$vars.push("percent"),params},"_defaultLabelLine":function(option){modelUtil.defaultEmphasis(option,"labelLine",["show"]);var labelLineNormalOpt=option.labelLine,labelLineEmphasisOpt=option.emphasis.labelLine;labelLineNormalOpt.show=labelLineNormalOpt.show&&option.label.show,labelLineEmphasisOpt.show=labelLineEmphasisOpt.show&&option.emphasis.label.show},"defaultOption":{"zlevel":0,"z":2,"legendHoverLink":!0,"hoverAnimation":!0,"center":["50%","50%"],"radius":[0,"75%"],"clockwise":!0,"startAngle":90,"minAngle":0,"selectedOffset":10,"hoverOffset":10,"avoidLabelOverlap":!0,"percentPrecision":2,"stillShowZeroSum":!0,"label":{"rotate":!1,"show":!0,"position":"outer"},"labelLine":{"show":!0,"length":15,"length2":15,"smooth":!1,"lineStyle":{"width":1,"type":"solid"}},"itemStyle":{"borderWidth":1},"animationType":"expansion","animationEasing":"cubicOut"}});zrUtil.mixin(PieSeries,dataSelectableMixin);var _default=PieSeries;module.exports=_default},function(module,exports,__webpack_require__){function updateDataSelected(uid,seriesModel,hasAnimation,api){var data=seriesModel.getData(),dataIndex=this.dataIndex,name=data.getName(dataIndex),selectedOffset=seriesModel.get("selectedOffset");api.dispatchAction({"type":"pieToggleSelect","from":uid,"name":name,"seriesId":seriesModel.id}),data.each(function(idx){toggleItemSelected(data.getItemGraphicEl(idx),data.getItemLayout(idx),seriesModel.isSelected(data.getName(idx)),selectedOffset,hasAnimation)})}function toggleItemSelected(el,layout,isSelected,selectedOffset,hasAnimation){var midAngle=(layout.startAngle+layout.endAngle)/2,dx=Math.cos(midAngle),dy=Math.sin(midAngle),offset=isSelected?selectedOffset:0,position=[dx*offset,dy*offset];hasAnimation?el.animate().when(200,{"position":position}).start("bounceOut"):el.attr("position",position)}function PiePiece(data,idx){function onEmphasis(){polyline.ignore=polyline.hoverIgnore,text.ignore=text.hoverIgnore}function onNormal(){polyline.ignore=polyline.normalIgnore,text.ignore=text.normalIgnore}graphic.Group.call(this);var sector=new graphic.Sector({"z2":2}),polyline=new graphic.Polyline,text=new graphic.Text;this.add(sector),this.add(polyline),this.add(text),this.updateData(data,idx,!0),this.on("emphasis",onEmphasis).on("normal",onNormal).on("mouseover",onEmphasis).on("mouseout",onNormal)}var zrUtil=__webpack_require__(4),graphic=__webpack_require__(15),ChartView=__webpack_require__(117),piePieceProto=PiePiece.prototype;piePieceProto.updateData=function(data,idx,firstCreate){function onEmphasis(){sector.stopAnimation(!0),sector.animateTo({"shape":{"r":layout.r+seriesModel.get("hoverOffset")}},300,"elasticOut")}function onNormal(){sector.stopAnimation(!0),sector.animateTo({"shape":{"r":layout.r}},300,"elasticOut")}var sector=this.childAt(0),seriesModel=data.hostModel,itemModel=data.getItemModel(idx),layout=data.getItemLayout(idx),sectorShape=zrUtil.extend({},layout);if(sectorShape.label=null,firstCreate){sector.setShape(sectorShape);var animationType=seriesModel.getShallow("animationType");"scale"===animationType?(sector.shape.r=layout.r0,graphic.initProps(sector,{"shape":{"r":layout.r}},seriesModel,idx)):(sector.shape.endAngle=layout.startAngle,graphic.updateProps(sector,{"shape":{"endAngle":layout.endAngle}},seriesModel,idx))}else graphic.updateProps(sector,{"shape":sectorShape},seriesModel,idx);var visualColor=data.getItemVisual(idx,"color");sector.useStyle(zrUtil.defaults({"lineJoin":"bevel","fill":visualColor},itemModel.getModel("itemStyle").getItemStyle())),sector.hoverStyle=itemModel.getModel("emphasis.itemStyle").getItemStyle();var cursorStyle=itemModel.getShallow("cursor");cursorStyle&&sector.attr("cursor",cursorStyle),toggleItemSelected(this,data.getItemLayout(idx),seriesModel.isSelected(null,idx),seriesModel.get("selectedOffset"),seriesModel.get("animation")),sector.off("mouseover").off("mouseout").off("emphasis").off("normal"),itemModel.get("hoverAnimation")&&seriesModel.isAnimationEnabled()&&sector.on("mouseover",onEmphasis).on("mouseout",onNormal).on("emphasis",onEmphasis).on("normal",onNormal),this._updateLabel(data,idx),graphic.setHoverStyle(this)},piePieceProto._updateLabel=function(data,idx){var labelLine=this.childAt(1),labelText=this.childAt(2),seriesModel=data.hostModel,itemModel=data.getItemModel(idx),layout=data.getItemLayout(idx),labelLayout=layout.label,visualColor=data.getItemVisual(idx,"color");graphic.updateProps(labelLine,{"shape":{"points":labelLayout.linePoints||[[labelLayout.x,labelLayout.y],[labelLayout.x,labelLayout.y],[labelLayout.x,labelLayout.y]]}},seriesModel,idx),graphic.updateProps(labelText,{"style":{"x":labelLayout.x,"y":labelLayout.y}},seriesModel,idx),labelText.attr({"rotation":labelLayout.rotation,"origin":[labelLayout.x,labelLayout.y],"z2":10});var labelModel=itemModel.getModel("label"),labelHoverModel=itemModel.getModel("emphasis.label"),labelLineModel=itemModel.getModel("labelLine"),labelLineHoverModel=itemModel.getModel("emphasis.labelLine"),visualColor=data.getItemVisual(idx,"color");graphic.setLabelStyle(labelText.style,labelText.hoverStyle={},labelModel,labelHoverModel,{"labelFetcher":data.hostModel,"labelDataIndex":idx,"defaultText":data.getName(idx),"autoColor":visualColor,"useInsideStyle":!!labelLayout.inside},{"textAlign":labelLayout.textAlign,"textVerticalAlign":labelLayout.verticalAlign,"opacity":data.getItemVisual(idx,"opacity")}),labelText.ignore=labelText.normalIgnore=!labelModel.get("show"),labelText.hoverIgnore=!labelHoverModel.get("show"),labelLine.ignore=labelLine.normalIgnore=!labelLineModel.get("show"),labelLine.hoverIgnore=!labelLineHoverModel.get("show"),labelLine.setStyle({"stroke":visualColor,"opacity":data.getItemVisual(idx,"opacity")}),labelLine.setStyle(labelLineModel.getModel("lineStyle").getLineStyle()),labelLine.hoverStyle=labelLineHoverModel.getModel("lineStyle").getLineStyle();var smooth=labelLineModel.get("smooth");smooth&&smooth===!0&&(smooth=.4),labelLine.setShape({"smooth":smooth})},zrUtil.inherits(PiePiece,graphic.Group);var PieView=ChartView.extend({"type":"pie","init":function(){var sectorGroup=new graphic.Group;this._sectorGroup=sectorGroup},"render":function(seriesModel,ecModel,api,payload){if(!payload||payload.from!==this.uid){var data=seriesModel.getData(),oldData=this._data,group=this.group,hasAnimation=ecModel.get("animation"),isFirstRender=!oldData,animationType=seriesModel.get("animationType"),onSectorClick=zrUtil.curry(updateDataSelected,this.uid,seriesModel,hasAnimation,api),selectedMode=seriesModel.get("selectedMode");if(data.diff(oldData).add(function(idx){var piePiece=new PiePiece(data,idx);isFirstRender&&"scale"!==animationType&&piePiece.eachChild(function(child){child.stopAnimation(!0)}),selectedMode&&piePiece.on("click",onSectorClick),data.setItemGraphicEl(idx,piePiece),group.add(piePiece)}).update(function(newIdx,oldIdx){var piePiece=oldData.getItemGraphicEl(oldIdx);piePiece.updateData(data,newIdx),piePiece.off("click"),selectedMode&&piePiece.on("click",onSectorClick),group.add(piePiece),data.setItemGraphicEl(newIdx,piePiece)}).remove(function(idx){var piePiece=oldData.getItemGraphicEl(idx);group.remove(piePiece)}).execute(),hasAnimation&&isFirstRender&&data.count()>0&&"scale"!==animationType){var shape=data.getItemLayout(0),r=Math.max(api.getWidth(),api.getHeight())/2,removeClipPath=zrUtil.bind(group.removeClipPath,group);group.setClipPath(this._createClipPath(shape.cx,shape.cy,r,shape.startAngle,shape.clockwise,removeClipPath,seriesModel))}this._data=data}},"dispose":function(){},"_createClipPath":function(cx,cy,r,startAngle,clockwise,cb,seriesModel){var clipPath=new graphic.Sector({"shape":{"cx":cx,"cy":cy,"r0":0,"r":r,"startAngle":startAngle,"endAngle":startAngle,"clockwise":clockwise}});return graphic.initProps(clipPath,{"shape":{"endAngle":startAngle+(clockwise?1:-1)*Math.PI*2}},seriesModel,cb),clipPath},"containPoint":function(point,seriesModel){var data=seriesModel.getData(),itemLayout=data.getItemLayout(0);if(itemLayout){var dx=point[0]-itemLayout.cx,dy=point[1]-itemLayout.cy,radius=Math.sqrt(dx*dx+dy*dy);return radius<=itemLayout.r&&radius>=itemLayout.r0}}}),_default=PieView;module.exports=_default},function(module,exports,__webpack_require__){function adjustSingleSide(list,cx,cy,r,dir,viewWidth,viewHeight){function shiftDown(start,end,delta,dir){for(var j=start;j<end;j++)if(list[j].y+=delta,j>start&&j+1<end&&list[j+1].y>list[j].y+list[j].height)return void shiftUp(j,delta/2);shiftUp(end-1,delta/2)}function shiftUp(end,delta){for(var j=end;j>=0&&(list[j].y-=delta,!(j>0&&list[j].y>list[j-1].y+list[j-1].height));j--);}function changeX(list,isDownList,cx,cy,r,dir){for(var lastDeltaX=dir>0?isDownList?Number.MAX_VALUE:0:isDownList?Number.MAX_VALUE:0,i=0,l=list.length;i<l;i++)if("center"!==list[i].position){var deltaY=Math.abs(list[i].y-cy),length=list[i].len,length2=list[i].len2,deltaX=deltaY<r+length?Math.sqrt((r+length+length2)*(r+length+length2)-deltaY*deltaY):Math.abs(list[i].x-cx);isDownList&&deltaX>=lastDeltaX&&(deltaX=lastDeltaX-10),!isDownList&&deltaX<=lastDeltaX&&(deltaX=lastDeltaX+10),list[i].x=cx+deltaX*dir,lastDeltaX=deltaX}}list.sort(function(a,b){return a.y-b.y});for(var delta,lastY=0,len=list.length,upList=[],downList=[],i=0;i<len;i++)delta=list[i].y-lastY,delta<0&&shiftDown(i,len,-delta,dir),lastY=list[i].y+list[i].height;viewHeight-lastY<0&&shiftUp(len-1,lastY-viewHeight);for(var i=0;i<len;i++)list[i].y>=cy?downList.push(list[i]):upList.push(list[i]);changeX(upList,!1,cx,cy,r,dir),changeX(downList,!0,cx,cy,r,dir)}function avoidOverlap(labelLayoutList,cx,cy,r,viewWidth,viewHeight){for(var leftList=[],rightList=[],i=0;i<labelLayoutList.length;i++)labelLayoutList[i].x<cx?leftList.push(labelLayoutList[i]):rightList.push(labelLayoutList[i]);adjustSingleSide(rightList,cx,cy,r,1,viewWidth,viewHeight),adjustSingleSide(leftList,cx,cy,r,-1,viewWidth,viewHeight);for(var i=0;i<labelLayoutList.length;i++){var linePoints=labelLayoutList[i].linePoints;if(linePoints){var dist=linePoints[1][0]-linePoints[2][0];labelLayoutList[i].x<cx?linePoints[2][0]=labelLayoutList[i].x+3:linePoints[2][0]=labelLayoutList[i].x-3,linePoints[1][1]=linePoints[2][1]=labelLayoutList[i].y,linePoints[1][0]=linePoints[2][0]+dist}}}function _default(seriesModel,r,viewWidth,viewHeight){var cx,cy,data=seriesModel.getData(),labelLayoutList=[],hasLabelRotate=!1;data.each(function(idx){var textX,textY,linePoints,textAlign,layout=data.getItemLayout(idx),itemModel=data.getItemModel(idx),labelModel=itemModel.getModel("label"),labelPosition=labelModel.get("position")||itemModel.get("emphasis.label.position"),labelLineModel=itemModel.getModel("labelLine"),labelLineLen=labelLineModel.get("length"),labelLineLen2=labelLineModel.get("length2"),midAngle=(layout.startAngle+layout.endAngle)/2,dx=Math.cos(midAngle),dy=Math.sin(midAngle);
cx=layout.cx,cy=layout.cy;var isLabelInside="inside"===labelPosition||"inner"===labelPosition;if("center"===labelPosition)textX=layout.cx,textY=layout.cy,textAlign="center";else{var x1=(isLabelInside?(layout.r+layout.r0)/2*dx:layout.r*dx)+cx,y1=(isLabelInside?(layout.r+layout.r0)/2*dy:layout.r*dy)+cy;if(textX=x1+3*dx,textY=y1+3*dy,!isLabelInside){var x2=x1+dx*(labelLineLen+r-layout.r),y2=y1+dy*(labelLineLen+r-layout.r),x3=x2+(dx<0?-1:1)*labelLineLen2,y3=y2;textX=x3+(dx<0?-5:5),textY=y3,linePoints=[[x1,y1],[x2,y2],[x3,y3]]}textAlign=isLabelInside?"center":dx>0?"left":"right"}var font=labelModel.getFont(),labelRotate=labelModel.get("rotate")?dx<0?-midAngle+Math.PI:-midAngle:0,text=seriesModel.getFormattedLabel(idx,"normal")||data.getName(idx),textRect=textContain.getBoundingRect(text,font,textAlign,"top");hasLabelRotate=!!labelRotate,layout.label={"x":textX,"y":textY,"position":labelPosition,"height":textRect.height,"len":labelLineLen,"len2":labelLineLen2,"linePoints":linePoints,"textAlign":textAlign,"verticalAlign":"middle","rotation":labelRotate,"inside":isLabelInside},isLabelInside||labelLayoutList.push(layout.label)}),!hasLabelRotate&&seriesModel.get("avoidLabelOverlap")&&avoidOverlap(labelLayoutList,cx,cy,r,viewWidth,viewHeight)}var textContain=__webpack_require__(108);module.exports=_default},function(module,exports,__webpack_require__){function _default(seriesType,ecModel,api,payload){ecModel.eachSeriesByType(seriesType,function(seriesModel){var data=seriesModel.getData(),valueDim=data.mapDimension("value"),center=seriesModel.get("center"),radius=seriesModel.get("radius");zrUtil.isArray(radius)||(radius=[0,radius]),zrUtil.isArray(center)||(center=[center,center]);var width=api.getWidth(),height=api.getHeight(),size=Math.min(width,height),cx=parsePercent(center[0],width),cy=parsePercent(center[1],height),r0=parsePercent(radius[0],size/2),r=parsePercent(radius[1],size/2),startAngle=-seriesModel.get("startAngle")*RADIAN,minAngle=seriesModel.get("minAngle")*RADIAN,validDataCount=0;data.each(valueDim,function(value){!isNaN(value)&&validDataCount++});var sum=data.getSum(valueDim),unitRadian=Math.PI/(sum||validDataCount)*2,clockwise=seriesModel.get("clockwise"),roseType=seriesModel.get("roseType"),stillShowZeroSum=seriesModel.get("stillShowZeroSum"),extent=data.getDataExtent(valueDim);extent[0]=0;var restAngle=PI2,valueSumLargerThanMinAngle=0,currentAngle=startAngle,dir=clockwise?1:-1;if(data.each(valueDim,function(value,idx){var angle;if(isNaN(value))return void data.setItemLayout(idx,{"angle":NaN,"startAngle":NaN,"endAngle":NaN,"clockwise":clockwise,"cx":cx,"cy":cy,"r0":r0,"r":roseType?NaN:r});angle="area"!==roseType?0===sum&&stillShowZeroSum?unitRadian:value*unitRadian:PI2/validDataCount,angle<minAngle?(angle=minAngle,restAngle-=minAngle):valueSumLargerThanMinAngle+=value;var endAngle=currentAngle+dir*angle;data.setItemLayout(idx,{"angle":angle,"startAngle":currentAngle,"endAngle":endAngle,"clockwise":clockwise,"cx":cx,"cy":cy,"r0":r0,"r":roseType?linearMap(value,extent,[r0,r]):r}),currentAngle=endAngle}),restAngle<PI2&&validDataCount)if(restAngle<=.001){var angle=PI2/validDataCount;data.each(valueDim,function(value,idx){if(!isNaN(value)){var layout=data.getItemLayout(idx);layout.angle=angle,layout.startAngle=startAngle+dir*idx*angle,layout.endAngle=startAngle+dir*(idx+1)*angle}})}else unitRadian=restAngle/valueSumLargerThanMinAngle,currentAngle=startAngle,data.each(valueDim,function(value,idx){if(!isNaN(value)){var layout=data.getItemLayout(idx),angle=layout.angle===minAngle?minAngle:value*unitRadian;layout.startAngle=currentAngle,layout.endAngle=currentAngle+dir*angle,currentAngle+=dir*angle}});labelLayout(seriesModel,r,width,height)})}var _number=__webpack_require__(20),parsePercent=_number.parsePercent,linearMap=_number.linearMap,labelLayout=__webpack_require__(1415),zrUtil=__webpack_require__(4),PI2=2*Math.PI,RADIAN=Math.PI/180;module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(1509),__webpack_require__(1418),__webpack_require__(1419);var dataColor=__webpack_require__(281),visualSymbol=__webpack_require__(165),radarLayout=__webpack_require__(1421),dataFilter=__webpack_require__(224),backwardCompat=__webpack_require__(1420);echarts.registerVisual(dataColor("radar")),echarts.registerVisual(visualSymbol("radar","circle")),echarts.registerLayout(radarLayout),echarts.registerProcessor(dataFilter("radar")),echarts.registerPreprocessor(backwardCompat)},function(module,exports,__webpack_require__){var SeriesModel=__webpack_require__(57),createListSimply=__webpack_require__(190),zrUtil=__webpack_require__(4),_format=__webpack_require__(40),encodeHTML=_format.encodeHTML,RadarSeries=SeriesModel.extend({"type":"series.radar","dependencies":["radar"],"init":function(option){RadarSeries.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},"getInitialData":function(option,ecModel){return createListSimply(this,{"generateCoord":"indicator_","generateCoordCount":1/0})},"formatTooltip":function(dataIndex){var data=this.getData(),coordSys=this.coordinateSystem,indicatorAxes=coordSys.getIndicatorAxes(),name=this.getData().getName(dataIndex);return encodeHTML(""===name?this.name:name)+"<br/>"+zrUtil.map(indicatorAxes,function(axis,idx){var val=data.get(data.mapDimension(axis.dim),dataIndex);return encodeHTML(axis.name+" : "+val)}).join("<br />")},"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"radar","legendHoverLink":!0,"radarIndex":0,"lineStyle":{"width":2,"type":"solid"},"label":{"position":"top"},"symbol":"emptyCircle","symbolSize":4}}),_default=RadarSeries;module.exports=_default},function(module,exports,__webpack_require__){function normalizeSymbolSize(symbolSize){return zrUtil.isArray(symbolSize)||(symbolSize=[+symbolSize,+symbolSize]),symbolSize}var echarts=__webpack_require__(13),graphic=__webpack_require__(15),zrUtil=__webpack_require__(4),symbolUtil=__webpack_require__(83),_default=echarts.extendChartView({"type":"radar","render":function(seriesModel,ecModel,api){function createSymbol(data,idx){var symbolType=data.getItemVisual(idx,"symbol")||"circle",color=data.getItemVisual(idx,"color");if("none"!==symbolType){var symbolSize=normalizeSymbolSize(data.getItemVisual(idx,"symbolSize")),symbolPath=symbolUtil.createSymbol(symbolType,-1,-1,2,2,color);return symbolPath.attr({"style":{"strokeNoScale":!0},"z2":100,"scale":[symbolSize[0]/2,symbolSize[1]/2]}),symbolPath}}function updateSymbols(oldPoints,newPoints,symbolGroup,data,idx,isInit){symbolGroup.removeAll();for(var i=0;i<newPoints.length-1;i++){var symbolPath=createSymbol(data,idx);symbolPath&&(symbolPath.__dimIdx=i,oldPoints[i]?(symbolPath.attr("position",oldPoints[i]),graphic[isInit?"initProps":"updateProps"](symbolPath,{"position":newPoints[i]},seriesModel,idx)):symbolPath.attr("position",newPoints[i]),symbolGroup.add(symbolPath))}}function getInitialPoints(points){return zrUtil.map(points,function(pt){return[polar.cx,polar.cy]})}var polar=seriesModel.coordinateSystem,group=this.group,data=seriesModel.getData(),oldData=this._data;data.diff(oldData).add(function(idx){var points=data.getItemLayout(idx);if(points){var polygon=new graphic.Polygon,polyline=new graphic.Polyline,target={"shape":{"points":points}};polygon.shape.points=getInitialPoints(points),polyline.shape.points=getInitialPoints(points),graphic.initProps(polygon,target,seriesModel,idx),graphic.initProps(polyline,target,seriesModel,idx);var itemGroup=new graphic.Group,symbolGroup=new graphic.Group;itemGroup.add(polyline),itemGroup.add(polygon),itemGroup.add(symbolGroup),updateSymbols(polyline.shape.points,points,symbolGroup,data,idx,!0),data.setItemGraphicEl(idx,itemGroup)}}).update(function(newIdx,oldIdx){var itemGroup=oldData.getItemGraphicEl(oldIdx),polyline=itemGroup.childAt(0),polygon=itemGroup.childAt(1),symbolGroup=itemGroup.childAt(2),target={"shape":{"points":data.getItemLayout(newIdx)}};target.shape.points&&(updateSymbols(polyline.shape.points,target.shape.points,symbolGroup,data,newIdx,!1),graphic.updateProps(polyline,target,seriesModel),graphic.updateProps(polygon,target,seriesModel),data.setItemGraphicEl(newIdx,itemGroup))}).remove(function(idx){group.remove(oldData.getItemGraphicEl(idx))}).execute(),data.eachItemGraphicEl(function(itemGroup,idx){function onEmphasis(){polygon.attr("ignore",hoverPolygonIgnore)}function onNormal(){polygon.attr("ignore",polygonIgnore)}var itemModel=data.getItemModel(idx),polyline=itemGroup.childAt(0),polygon=itemGroup.childAt(1),symbolGroup=itemGroup.childAt(2),color=data.getItemVisual(idx,"color");group.add(itemGroup),polyline.useStyle(zrUtil.defaults(itemModel.getModel("lineStyle").getLineStyle(),{"fill":"none","stroke":color})),polyline.hoverStyle=itemModel.getModel("emphasis.lineStyle").getLineStyle();var areaStyleModel=itemModel.getModel("areaStyle"),hoverAreaStyleModel=itemModel.getModel("emphasis.areaStyle"),polygonIgnore=areaStyleModel.isEmpty()&&areaStyleModel.parentModel.isEmpty(),hoverPolygonIgnore=hoverAreaStyleModel.isEmpty()&&hoverAreaStyleModel.parentModel.isEmpty();hoverPolygonIgnore=hoverPolygonIgnore&&polygonIgnore,polygon.ignore=polygonIgnore,polygon.useStyle(zrUtil.defaults(areaStyleModel.getAreaStyle(),{"fill":color,"opacity":.7})),polygon.hoverStyle=hoverAreaStyleModel.getAreaStyle();var itemStyle=itemModel.getModel("itemStyle").getItemStyle(["color"]),itemHoverStyle=itemModel.getModel("emphasis.itemStyle").getItemStyle(),labelModel=itemModel.getModel("label"),labelHoverModel=itemModel.getModel("emphasis.label");symbolGroup.eachChild(function(symbolPath){symbolPath.setStyle(itemStyle),symbolPath.hoverStyle=zrUtil.clone(itemHoverStyle),graphic.setLabelStyle(symbolPath.style,symbolPath.hoverStyle,labelModel,labelHoverModel,{"labelFetcher":data.hostModel,"labelDataIndex":idx,"labelDimIndex":symbolPath.__dimIdx,"defaultText":data.get(data.dimensions[symbolPath.__dimIdx],idx),"autoColor":color,"isRectText":!0})}),itemGroup.off("mouseover").off("mouseout").off("normal").off("emphasis"),itemGroup.on("emphasis",onEmphasis).on("mouseover",onEmphasis).on("normal",onNormal).on("mouseout",onNormal),graphic.setHoverStyle(itemGroup)}),this._data=data},"remove":function(){this.group.removeAll(),this._data=null},"dispose":function(){}});module.exports=_default},function(module,exports,__webpack_require__){function _default(option){var polarOptArr=option.polar;if(polarOptArr){zrUtil.isArray(polarOptArr)||(polarOptArr=[polarOptArr]);var polarNotRadar=[];zrUtil.each(polarOptArr,function(polarOpt,idx){polarOpt.indicator?(polarOpt.type&&!polarOpt.shape&&(polarOpt.shape=polarOpt.type),option.radar=option.radar||[],zrUtil.isArray(option.radar)||(option.radar=[option.radar]),option.radar.push(polarOpt)):polarNotRadar.push(polarOpt)}),option.polar=polarNotRadar}zrUtil.each(option.series,function(seriesOpt){seriesOpt&&"radar"===seriesOpt.type&&seriesOpt.polarIndex&&(seriesOpt.radarIndex=seriesOpt.polarIndex)})}var zrUtil=__webpack_require__(4);module.exports=_default},function(module,exports){function _default(ecModel){ecModel.eachSeriesByType("radar",function(seriesModel){function pointsConverter(val,idx){points[idx]=points[idx]||[],points[idx][i]=coordSys.dataToPoint(val,i)}var data=seriesModel.getData(),points=[],coordSys=seriesModel.coordinateSystem;if(coordSys){for(var axes=coordSys.getIndicatorAxes(),i=0;i<axes.length;i++)data.each(data.mapDimension(axes[i].dim),pointsConverter);data.each(function(idx){points[idx][0]&&points[idx].push(points[idx][0].slice()),data.setItemLayout(idx,points[idx])})}})}module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(1423),__webpack_require__(1424),__webpack_require__(1425);var sankeyLayout=__webpack_require__(1426),sankeyVisual=__webpack_require__(1427);echarts.registerLayout(sankeyLayout),echarts.registerVisual(sankeyVisual)},function(module,exports,__webpack_require__){var SeriesModel=__webpack_require__(57),createGraphFromNodeEdge=__webpack_require__(616),_format=__webpack_require__(40),encodeHTML=_format.encodeHTML,SankeySeries=SeriesModel.extend({"type":"series.sankey","layoutInfo":null,"getInitialData":function(option){var links=option.edges||option.links,nodes=option.data||option.nodes;if(nodes&&links){var graph=createGraphFromNodeEdge(nodes,links,this,!0);return graph.data}},"setNodePosition":function(dataIndex,localPosition){var dataItem=this.option.data[dataIndex];dataItem.localX=localPosition[0],dataItem.localY=localPosition[1]},"getGraph":function(){return this.getData().graph},"getEdgeData":function(){return this.getGraph().edgeData},"formatTooltip":function(dataIndex,multipleSeries,dataType){if("edge"===dataType){var params=this.getDataParams(dataIndex,dataType),rawDataOpt=params.data,html=rawDataOpt.source+" -- "+rawDataOpt.target;return params.value&&(html+=" : "+params.value),encodeHTML(html)}return SankeySeries.superCall(this,"formatTooltip",dataIndex,multipleSeries)},"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"view","layout":null,"left":"5%","top":"5%","right":"20%","bottom":"5%","nodeWidth":20,"nodeGap":8,"draggable":!0,"layoutIterations":32,"label":{"show":!0,"position":"right","color":"#000","fontSize":12},"itemStyle":{"borderWidth":1,"borderColor":"#333"},"lineStyle":{"color":"#314656","opacity":.2,"curveness":.5},"emphasis":{"label":{"show":!0},"lineStyle":{"opacity":.6}},"animationEasing":"linear","animationDuration":1e3}}),_default=SankeySeries;module.exports=_default},function(module,exports,__webpack_require__){function createGridClipShape(rect,seriesModel,cb){var rectEl=new graphic.Rect({"shape":{"x":rect.x-10,"y":rect.y-10,"width":0,"height":rect.height+20}});return graphic.initProps(rectEl,{"shape":{"width":rect.width+20,"height":rect.height+20}},seriesModel,cb),rectEl}var graphic=__webpack_require__(15),echarts=__webpack_require__(13),SankeyShape=graphic.extendShape({"shape":{"x1":0,"y1":0,"x2":0,"y2":0,"cpx1":0,"cpy1":0,"cpx2":0,"cpy2":0,"extent":0},"buildPath":function(ctx,shape){var halfExtent=shape.extent/2;ctx.moveTo(shape.x1,shape.y1-halfExtent),ctx.bezierCurveTo(shape.cpx1,shape.cpy1-halfExtent,shape.cpx2,shape.cpy2-halfExtent,shape.x2,shape.y2-halfExtent),ctx.lineTo(shape.x2,shape.y2+halfExtent),ctx.bezierCurveTo(shape.cpx2,shape.cpy2+halfExtent,shape.cpx1,shape.cpy1+halfExtent,shape.x1,shape.y1+halfExtent),ctx.closePath()}}),_default=echarts.extendChartView({"type":"sankey","_model":null,"render":function(seriesModel,ecModel,api){var graph=seriesModel.getGraph(),group=this.group,layoutInfo=seriesModel.layoutInfo,width=layoutInfo.width,height=layoutInfo.height,nodeData=seriesModel.getData(),edgeData=seriesModel.getData("edge");this._model=seriesModel,group.removeAll(),group.attr("position",[layoutInfo.x,layoutInfo.y]),graph.eachEdge(function(edge){var curve=new SankeyShape;curve.dataIndex=edge.dataIndex,curve.seriesIndex=seriesModel.seriesIndex,curve.dataType="edge";var lineStyleModel=edge.getModel("lineStyle"),curvature=lineStyleModel.get("curveness"),n1Layout=edge.node1.getLayout(),node1Model=edge.node1.getModel(),dragX1=node1Model.get("localX"),dragY1=node1Model.get("localY"),n2Layout=edge.node2.getLayout(),node2Model=edge.node2.getModel(),dragX2=node2Model.get("localX"),dragY2=node2Model.get("localY"),edgeLayout=edge.getLayout();curve.shape.extent=Math.max(1,edgeLayout.dy);var x1=(null!=dragX1?dragX1*width:n1Layout.x)+n1Layout.dx,y1=(null!=dragY1?dragY1*height:n1Layout.y)+edgeLayout.sy+edgeLayout.dy/2,x2=null!=dragX2?dragX2*width:n2Layout.x,y2=(null!=dragY2?dragY2*height:n2Layout.y)+edgeLayout.ty+edgeLayout.dy/2,cpx1=x1*(1-curvature)+x2*curvature,cpy1=y1,cpx2=x1*curvature+x2*(1-curvature),cpy2=y2;switch(curve.setShape({"x1":x1,"y1":y1,"x2":x2,"y2":y2,"cpx1":cpx1,"cpy1":cpy1,"cpx2":cpx2,"cpy2":cpy2}),curve.setStyle(lineStyleModel.getItemStyle()),curve.style.fill){case"source":curve.style.fill=edge.node1.getVisual("color");break;case"target":curve.style.fill=edge.node2.getVisual("color")}graphic.setHoverStyle(curve,edge.getModel("emphasis.lineStyle").getItemStyle()),group.add(curve),edgeData.setItemGraphicEl(edge.dataIndex,curve)}),graph.eachNode(function(node){var layout=node.getLayout(),itemModel=node.getModel(),dragX=itemModel.get("localX"),dragY=itemModel.get("localY"),labelModel=itemModel.getModel("label"),labelHoverModel=itemModel.getModel("emphasis.label"),rect=new graphic.Rect({"shape":{"x":null!=dragX?dragX*width:layout.x,"y":null!=dragY?dragY*height:layout.y,"width":layout.dx,"height":layout.dy},"style":itemModel.getModel("itemStyle").getItemStyle()}),hoverStyle=node.getModel("emphasis.itemStyle").getItemStyle();graphic.setLabelStyle(rect.style,hoverStyle,labelModel,labelHoverModel,{"labelFetcher":seriesModel,"labelDataIndex":node.dataIndex,"defaultText":node.id,"isRectText":!0}),rect.setStyle("fill",node.getVisual("color")),graphic.setHoverStyle(rect,hoverStyle),group.add(rect),nodeData.setItemGraphicEl(node.dataIndex,rect),rect.dataType="node"});var draggable=seriesModel.get("draggable");draggable&&nodeData.eachItemGraphicEl(function(el,dataIndex){el.drift=function(dx,dy){this.shape.x+=dx,this.shape.y+=dy,this.dirty(),api.dispatchAction({"type":"dragNode","seriesId":seriesModel.id,"dataIndex":nodeData.getRawIndex(dataIndex),"localX":this.shape.x/width,"localY":this.shape.y/height})},el.draggable=!0,el.cursor="move"}),!this._data&&seriesModel.get("animation")&&group.setClipPath(createGridClipShape(group.getBoundingRect(),seriesModel,function(){group.removeClipPath()})),this._data=seriesModel.getData()},"dispose":function(){}});module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);echarts.registerAction({"type":"dragNode","event":"dragNode","update":"update"},function(payload,ecModel){ecModel.eachComponent({"mainType":"series","subType":"sankey","query":payload},function(seriesModel){seriesModel.setNodePosition(payload.dataIndex,[payload.localX,payload.localY])})})},function(module,exports,__webpack_require__){function _default(ecModel,api,payload){ecModel.eachSeriesByType("sankey",function(seriesModel){var nodeWidth=seriesModel.get("nodeWidth"),nodeGap=seriesModel.get("nodeGap"),layoutInfo=getViewRect(seriesModel,api);seriesModel.layoutInfo=layoutInfo;var width=layoutInfo.width,height=layoutInfo.height,graph=seriesModel.getGraph(),nodes=graph.nodes,edges=graph.edges;computeNodeValues(nodes);var filteredNodes=zrUtil.filter(nodes,function(node){return 0===node.getLayout().value}),iterations=0!==filteredNodes.length?0:seriesModel.get("layoutIterations");layoutSankey(nodes,edges,nodeWidth,nodeGap,width,height,iterations)})}function getViewRect(seriesModel,api){return layout.getLayoutRect(seriesModel.getBoxLayoutParams(),{"width":api.getWidth(),"height":api.getHeight()})}function layoutSankey(nodes,edges,nodeWidth,nodeGap,width,height,iterations){computeNodeBreadths(nodes,edges,nodeWidth,width),computeNodeDepths(nodes,edges,height,nodeGap,iterations),computeEdgeDepths(nodes)}function computeNodeValues(nodes){zrUtil.each(nodes,function(node){var value1=sum(node.outEdges,getEdgeValue),value2=sum(node.inEdges,getEdgeValue),value=Math.max(value1,value2);node.setLayout({"value":value},!0)})}function computeNodeBreadths(nodes,edges,nodeWidth,width){for(var remainEdges=[],indegreeArr=[],zeroIndegrees=[],nextNode=[],x=0,kx=0,i=0;i<edges.length;i++)remainEdges[i]=1;for(var i=0;i<nodes.length;i++)indegreeArr[i]=nodes[i].inEdges.length,0===indegreeArr[i]&&zeroIndegrees.push(nodes[i]);for(;zeroIndegrees.length;)zrUtil.each(zeroIndegrees,function(node){node.setLayout({"x":x},!0),node.setLayout({"dx":nodeWidth},!0),zrUtil.each(node.outEdges,function(edge){var indexEdge=edges.indexOf(edge);remainEdges[indexEdge]=0;var targetNode=edge.node2,nodeIndex=nodes.indexOf(targetNode);0===--indegreeArr[nodeIndex]&&nextNode.push(targetNode)})}),++x,zeroIndegrees=nextNode,nextNode=[];for(var i=0;i<remainEdges.length;i++);moveSinksRight(nodes,x),kx=(width-nodeWidth)/(x-1),scaleNodeBreadths(nodes,kx)}function moveSinksRight(nodes,x){zrUtil.each(nodes,function(node){node.outEdges.length||node.setLayout({"x":x-1},!0)})}function scaleNodeBreadths(nodes,kx){zrUtil.each(nodes,function(node){var nodeX=node.getLayout().x*kx;node.setLayout({"x":nodeX},!0)})}function computeNodeDepths(nodes,edges,height,nodeGap,iterations){var nodesByBreadth=nest().key(function(d){return d.getLayout().x}).sortKeys(ascending).entries(nodes).map(function(d){return d.values});initializeNodeDepth(nodes,nodesByBreadth,edges,height,nodeGap),resolveCollisions(nodesByBreadth,nodeGap,height);for(var alpha=1;iterations>0;iterations--)alpha*=.99,relaxRightToLeft(nodesByBreadth,alpha),resolveCollisions(nodesByBreadth,nodeGap,height),relaxLeftToRight(nodesByBreadth,alpha),resolveCollisions(nodesByBreadth,nodeGap,height)}function initializeNodeDepth(nodes,nodesByBreadth,edges,height,nodeGap){var kyArray=[];zrUtil.each(nodesByBreadth,function(nodes){var n=nodes.length,sum=0;zrUtil.each(nodes,function(node){sum+=node.getLayout().value});var ky=(height-(n-1)*nodeGap)/sum;kyArray.push(ky)}),kyArray.sort(function(a,b){return a-b});var ky0=kyArray[0];zrUtil.each(nodesByBreadth,function(nodes){zrUtil.each(nodes,function(node,i){node.setLayout({"y":i},!0);var nodeDy=node.getLayout().value*ky0;node.setLayout({"dy":nodeDy},!0)})}),zrUtil.each(edges,function(edge){var edgeDy=+edge.getValue()*ky0;edge.setLayout({"dy":edgeDy},!0)})}function resolveCollisions(nodesByBreadth,nodeGap,height){zrUtil.each(nodesByBreadth,function(nodes){var node,dy,i,y0=0,n=nodes.length;for(nodes.sort(ascendingDepth),i=0;i<n;i++){if(node=nodes[i],dy=y0-node.getLayout().y,dy>0){var nodeY=node.getLayout().y+dy;node.setLayout({"y":nodeY},!0)}y0=node.getLayout().y+node.getLayout().dy+nodeGap}if(dy=y0-nodeGap-height,dy>0){var nodeY=node.getLayout().y-dy;for(node.setLayout({"y":nodeY},!0),y0=node.getLayout().y,i=n-2;i>=0;--i)node=nodes[i],dy=node.getLayout().y+node.getLayout().dy+nodeGap-y0,dy>0&&(nodeY=node.getLayout().y-dy,node.setLayout({"y":nodeY},!0)),y0=node.getLayout().y}})}function relaxRightToLeft(nodesByBreadth,alpha){zrUtil.each(nodesByBreadth.slice().reverse(),function(nodes){zrUtil.each(nodes,function(node){if(node.outEdges.length){var y=sum(node.outEdges,weightedTarget)/sum(node.outEdges,getEdgeValue),nodeY=node.getLayout().y+(y-center(node))*alpha;node.setLayout({"y":nodeY},!0)}})})}function weightedTarget(edge){return center(edge.node2)*edge.getValue()}function relaxLeftToRight(nodesByBreadth,alpha){zrUtil.each(nodesByBreadth,function(nodes){zrUtil.each(nodes,function(node){if(node.inEdges.length){var y=sum(node.inEdges,weightedSource)/sum(node.inEdges,getEdgeValue),nodeY=node.getLayout().y+(y-center(node))*alpha;node.setLayout({"y":nodeY},!0)}})})}function weightedSource(edge){return center(edge.node1)*edge.getValue()}function computeEdgeDepths(nodes){zrUtil.each(nodes,function(node){node.outEdges.sort(ascendingTargetDepth),node.inEdges.sort(ascendingSourceDepth)}),zrUtil.each(nodes,function(node){var sy=0,ty=0;zrUtil.each(node.outEdges,function(edge){edge.setLayout({"sy":sy},!0),sy+=edge.getLayout().dy}),zrUtil.each(node.inEdges,function(edge){edge.setLayout({"ty":ty},!0),ty+=edge.getLayout().dy})})}function ascendingTargetDepth(a,b){return a.node2.getLayout().y-b.node2.getLayout().y}function ascendingSourceDepth(a,b){return a.node1.getLayout().y-b.node1.getLayout().y}function sum(array,f){for(var sum=0,len=array.length,i=-1;++i<len;){var value=+f.call(array,array[i],i);isNaN(value)||(sum+=value)}return sum}function center(node){return node.getLayout().y+node.getLayout().dy/2}function ascendingDepth(a,b){return a.getLayout().y-b.getLayout().y}function ascending(a,b){return a-b}function getEdgeValue(edge){return edge.getValue()}var layout=__webpack_require__(34),nest=__webpack_require__(663),zrUtil=__webpack_require__(4),_config=__webpack_require__(30);_config.__DEV__;module.exports=_default},function(module,exports,__webpack_require__){function _default(ecModel,payload){ecModel.eachSeriesByType("sankey",function(seriesModel){var graph=seriesModel.getGraph(),nodes=graph.nodes;if(nodes.length){var minValue=1/0,maxValue=-(1/0);zrUtil.each(nodes,function(node){var nodeValue=node.getLayout().value;nodeValue<minValue&&(minValue=nodeValue),nodeValue>maxValue&&(maxValue=nodeValue)}),zrUtil.each(nodes,function(node){var mapping=new VisualMapping({"type":"color","mappingMethod":"linear","dataExtent":[minValue,maxValue],"visual":seriesModel.get("color")}),mapValueToColor=mapping.mapValueToVisual(node.getLayout().value);node.setVisual("color",mapValueToColor);var itemModel=node.getModel(),customColor=itemModel.get("itemStyle.color");null!=customColor&&node.setVisual("color",customColor)})}})}var VisualMapping=__webpack_require__(164),zrUtil=__webpack_require__(4);module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(1429),__webpack_require__(1430);var visualSymbol=__webpack_require__(165),layoutPoints=__webpack_require__(223);__webpack_require__(218),echarts.registerVisual(visualSymbol("scatter","circle")),echarts.registerLayout(layoutPoints("scatter"))},function(module,exports,__webpack_require__){var createListFromArray=__webpack_require__(114),SeriesModel=__webpack_require__(57),_default=SeriesModel.extend({"type":"series.scatter","dependencies":["grid","polar","geo","singleAxis","calendar"],"getInitialData":function(option,ecModel){return createListFromArray(this.getSource(),this)},"brushSelector":"point","getProgressive":function(){var progressive=this.option.progressive;return null==progressive?this.option.large?5e3:this.get("progressive"):progressive},"getProgressiveThreshold":function(){var progressiveThreshold=this.option.progressiveThreshold;return null==progressiveThreshold?this.option.large?1e4:this.get("progressiveThreshold"):progressiveThreshold},"defaultOption":{"coordinateSystem":"cartesian2d","zlevel":0,"z":2,"legendHoverLink":!0,"hoverAnimation":!0,"symbolSize":10,"large":!1,"largeThreshold":2e3,"itemStyle":{"opacity":.8}}});module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),SymbolDraw=__webpack_require__(214),LargeSymbolDraw=__webpack_require__(1390),pointsLayout=__webpack_require__(223);echarts.extendChartView({"type":"scatter","render":function(seriesModel,ecModel,api){var data=seriesModel.getData(),symbolDraw=this._updateSymbolDraw(data,seriesModel);symbolDraw.updateData(data),this._finished=!0},"incrementalPrepareRender":function(seriesModel,ecModel,api){var data=seriesModel.getData(),symbolDraw=this._updateSymbolDraw(data,seriesModel);symbolDraw.incrementalPrepareUpdate(data),this._finished=!1},"incrementalRender":function(taskParams,seriesModel,ecModel){this._symbolDraw.incrementalUpdate(taskParams,seriesModel.getData()),this._finished=taskParams.end===seriesModel.getData().count()},"updateTransform":function(seriesModel,ecModel,api){var data=seriesModel.getData();if(this.group.dirty(),!this._finished||data.count()>1e4||!this._symbolDraw.isPersistent())return{"update":!0};var res=pointsLayout().reset(seriesModel);res.progress&&res.progress({"start":0,"end":data.count()},data),this._symbolDraw.updateLayout(data)},"_updateSymbolDraw":function(data,seriesModel){var symbolDraw=this._symbolDraw,pipelineContext=seriesModel.pipelineContext,isLargeDraw=pipelineContext.large;return symbolDraw&&isLargeDraw===this._isLargeDraw||(symbolDraw&&symbolDraw.remove(),symbolDraw=this._symbolDraw=isLargeDraw?new LargeSymbolDraw:new SymbolDraw,this._isLargeDraw=isLargeDraw,this.group.removeAll()),this.group.add(symbolDraw.group),symbolDraw},"remove":function(ecModel,api){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},"dispose":function(){}})},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4);__webpack_require__(1433),__webpack_require__(1434),__webpack_require__(1435);var dataColor=__webpack_require__(281),sunburstLayout=__webpack_require__(1436),dataFilter=__webpack_require__(224);echarts.registerVisual(zrUtil.curry(dataColor,"sunburst")),echarts.registerLayout(zrUtil.curry(sunburstLayout,"sunburst")),echarts.registerProcessor(zrUtil.curry(dataFilter,"sunburst"))},function(module,exports,__webpack_require__){function SunburstPiece(node,seriesModel,ecModel){function onEmphasis(){text.ignore=text.hoverIgnore}function onNormal(){text.ignore=text.normalIgnore}graphic.Group.call(this);var sector=new graphic.Sector({"z2":DEFAULT_SECTOR_Z});sector.seriesIndex=seriesModel.seriesIndex;var text=new graphic.Text({"z2":DEFAULT_TEXT_Z,"silent":node.getModel("label").get("silent")});this.add(sector),this.add(text),this.updateData(!0,node,"normal",seriesModel,ecModel),this.on("emphasis",onEmphasis).on("normal",onNormal).on("mouseover",onEmphasis).on("mouseout",onNormal)}function getNodeColor(node,seriesModel,ecModel){var visualColor=node.getVisual("color"),visualMetaList=node.getVisual("visualMeta");visualMetaList&&0!==visualMetaList.length||(visualColor=null);var color=node.getModel("itemStyle").get("color");if(color)return color;if(visualColor)return visualColor;if(0===node.depth)return ecModel.option.color[0];var length=ecModel.option.color.length;return color=ecModel.option.color[getRootId(node)%length]}function getRootId(node){for(var ancestor=node;ancestor.depth>1;)ancestor=ancestor.parentNode;var virtualRoot=node.getAncestors()[0];return zrUtil.indexOf(virtualRoot.children,ancestor)}function isNodeHighlighted(node,activeNode,policy){return policy!==NodeHighlightPolicy.NONE&&(policy===NodeHighlightPolicy.SELF?node===activeNode:policy===NodeHighlightPolicy.ANCESTOR?node===activeNode||node.isAncestorOf(activeNode):node===activeNode||node.isDescendantOf(activeNode))}var zrUtil=__webpack_require__(4),graphic=__webpack_require__(15),NodeHighlightPolicy={"NONE":"none","DESCENDANT":"descendant","ANCESTOR":"ancestor","SELF":"self"},DEFAULT_SECTOR_Z=2,DEFAULT_TEXT_Z=4,SunburstPieceProto=SunburstPiece.prototype;SunburstPieceProto.updateData=function(firstCreate,node,state,seriesModel,ecModel){this.node=node,node.piece=this,seriesModel=seriesModel||this._seriesModel,ecModel=ecModel||this._ecModel;var sector=this.childAt(0);sector.dataIndex=node.dataIndex;var itemModel=node.getModel(),layout=node.getLayout();layout||console.log(node.getLayout());var sectorShape=zrUtil.extend({},layout);sectorShape.label=null;var style,visualColor=getNodeColor(node,seriesModel,ecModel),normalStyle=itemModel.getModel("itemStyle").getItemStyle();if("normal"===state)style=normalStyle;else{var stateStyle=itemModel.getModel(state+".itemStyle").getItemStyle();style=zrUtil.merge(stateStyle,normalStyle)}style=zrUtil.defaults({"lineJoin":"bevel","fill":style.fill||visualColor},style),firstCreate?(sector.setShape(sectorShape),sector.shape.r=layout.r0,graphic.updateProps(sector,{"shape":{"r":layout.r}},seriesModel,node.dataIndex),sector.useStyle(style)):"object"==typeof style.fill&&style.fill.type||"object"==typeof sector.style.fill&&sector.style.fill.type?(graphic.updateProps(sector,{"shape":sectorShape},seriesModel),sector.useStyle(style)):graphic.updateProps(sector,{"shape":sectorShape,"style":style},seriesModel),this._updateLabel(seriesModel,visualColor,state);var cursorStyle=itemModel.getShallow("cursor");if(cursorStyle&&sector.attr("cursor",cursorStyle),firstCreate){var highlightPolicy=seriesModel.getShallow("highlightPolicy");this._initEvents(sector,node,seriesModel,highlightPolicy)}this._seriesModel=seriesModel||this._seriesModel,this._ecModel=ecModel||this._ecModel},SunburstPieceProto.onEmphasis=function(highlightPolicy){var that=this;this.node.hostTree.root.eachNode(function(n){n.piece&&(that.node===n?n.piece.updateData(!1,n,"emphasis"):isNodeHighlighted(n,that.node,highlightPolicy)?n.piece.childAt(0).trigger("highlight"):highlightPolicy!==NodeHighlightPolicy.NONE&&n.piece.childAt(0).trigger("downplay"))})},SunburstPieceProto.onNormal=function(){
this.node.hostTree.root.eachNode(function(n){n.piece&&n.piece.updateData(!1,n,"normal")})},SunburstPieceProto.onHighlight=function(){this.updateData(!1,this.node,"highlight")},SunburstPieceProto.onDownplay=function(){this.updateData(!1,this.node,"downplay")},SunburstPieceProto._updateLabel=function(seriesModel,visualColor,state){function getLabelAttr(name){var stateAttr=labelModel.get(name);return null==stateAttr?normalModel.get(name):stateAttr}var itemModel=this.node.getModel(),normalModel=itemModel.getModel("label"),labelModel="normal"===state||"emphasis"===state?normalModel:itemModel.getModel(state+".label"),labelHoverModel=itemModel.getModel("emphasis.label"),text=zrUtil.retrieve(seriesModel.getFormattedLabel(this.node.dataIndex,"normal",null,null,"label"),this.node.name);getLabelAttr("show")===!1&&(text="");var layout=this.node.getLayout(),labelMinAngle=labelModel.get("minAngle");null==labelMinAngle&&(labelMinAngle=normalModel.get("minAngle")),labelMinAngle=labelMinAngle/180*Math.PI;var angle=layout.endAngle-layout.startAngle;null!=labelMinAngle&&Math.abs(angle)<labelMinAngle&&(text="");var label=this.childAt(1);graphic.setLabelStyle(label.style,label.hoverStyle||{},normalModel,labelHoverModel,{"defaultText":labelModel.getShallow("show")?text:null,"autoColor":visualColor,"useInsideStyle":!0});var r,midAngle=(layout.startAngle+layout.endAngle)/2,dx=Math.cos(midAngle),dy=Math.sin(midAngle),labelPosition=getLabelAttr("position"),labelPadding=getLabelAttr("distance")||0,textAlign=getLabelAttr("align");"outside"===labelPosition?(r=layout.r+labelPadding,textAlign=midAngle>Math.PI/2?"right":"left"):textAlign&&"center"!==textAlign?"left"===textAlign?(r=layout.r0+labelPadding,midAngle>Math.PI/2&&(textAlign="right")):"right"===textAlign&&(r=layout.r-labelPadding,midAngle>Math.PI/2&&(textAlign="left")):(r=(layout.r+layout.r0)/2,textAlign="center"),label.attr("style",{"text":text,"textAlign":textAlign,"textVerticalAlign":getLabelAttr("verticalAlign")||"middle","opacity":getLabelAttr("opacity")});var textX=r*dx+layout.cx,textY=r*dy+layout.cy;label.attr("position",[textX,textY]);var rotateType=getLabelAttr("rotate"),rotate=0;"radial"===rotateType?(rotate=-midAngle,rotate<-Math.PI/2&&(rotate+=Math.PI)):"tangential"===rotateType?(rotate=Math.PI/2-midAngle,rotate>Math.PI/2?rotate-=Math.PI:rotate<-Math.PI/2&&(rotate+=Math.PI)):"number"==typeof rotateType&&(rotate=rotateType*Math.PI/180),label.attr("rotation",rotate)},SunburstPieceProto._initEvents=function(sector,node,seriesModel,highlightPolicy){sector.off("mouseover").off("mouseout").off("emphasis").off("normal");var that=this,onEmphasis=function(){that.onEmphasis(highlightPolicy)},onNormal=function(){that.onNormal()},onDownplay=function(){that.onDownplay()},onHighlight=function(){that.onHighlight()};seriesModel.isAnimationEnabled()&&sector.on("mouseover",onEmphasis).on("mouseout",onNormal).on("emphasis",onEmphasis).on("normal",onNormal).on("downplay",onDownplay).on("highlight",onHighlight)},zrUtil.inherits(SunburstPiece,graphic.Group);var _default=SunburstPiece;module.exports=_default},function(module,exports,__webpack_require__){function completeTreeValue(dataNode){var sum=0;zrUtil.each(dataNode.children,function(child){completeTreeValue(child);var childValue=child.value;zrUtil.isArray(childValue)&&(childValue=childValue[0]),sum+=childValue});var thisValue=dataNode.value;zrUtil.isArray(thisValue)&&(thisValue=thisValue[0]),(null==thisValue||isNaN(thisValue))&&(thisValue=sum),thisValue<0&&(thisValue=0),zrUtil.isArray(dataNode.value)?dataNode.value[0]=thisValue:dataNode.value=thisValue}var zrUtil=__webpack_require__(4),SeriesModel=__webpack_require__(57),Tree=__webpack_require__(389),_treeHelper=__webpack_require__(157),wrapTreePathInfo=_treeHelper.wrapTreePathInfo,_default=SeriesModel.extend({"type":"series.sunburst","_viewRoot":null,"getInitialData":function(option,ecModel){var root={"name":option.name,"children":option.data};completeTreeValue(root);var levels=option.levels||[],treeOption={};return treeOption.levels=levels,Tree.createTree(root,this,treeOption).data},"optionUpdated":function(){this.resetViewRoot()},"getDataParams":function(dataIndex){var params=SeriesModel.prototype.getDataParams.apply(this,arguments),node=this.getData().tree.getNodeByDataIndex(dataIndex);return params.treePathInfo=wrapTreePathInfo(node,this),params},"defaultOption":{"zlevel":0,"z":2,"center":["50%","50%"],"radius":[0,"75%"],"clockwise":!0,"startAngle":90,"minAngle":0,"percentPrecision":2,"stillShowZeroSum":!0,"highlightPolicy":"descendant","nodeClick":"rootToNode","renderLabelForZeroData":!1,"label":{"rotate":"radial","show":!0,"opacity":1,"align":"center","position":"inside","distance":5,"silent":!0,"emphasis":{}},"itemStyle":{"borderWidth":1,"borderColor":"white","opacity":1,"emphasis":{},"highlight":{"opacity":1},"downplay":{"opacity":.9}},"animationType":"expansion","animationDuration":1e3,"animationDurationUpdate":500,"animationEasing":"cubicOut","data":[],"levels":[],"sort":"desc"},"getViewRoot":function(){return this._viewRoot},"resetViewRoot":function(viewRoot){viewRoot?this._viewRoot=viewRoot:viewRoot=this._viewRoot;var root=this.getRawData().tree.root;viewRoot&&(viewRoot===root||root.contains(viewRoot))||(this._viewRoot=root)}});module.exports=_default},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),ChartView=__webpack_require__(117),SunburstPiece=__webpack_require__(1432),DataDiffer=__webpack_require__(160),ROOT_TO_NODE_ACTION="sunburstRootToNode",SunburstView=ChartView.extend({"type":"sunburst","init":function(){},"render":function(seriesModel,ecModel,api,payload){function dualTravel(newChildren,oldChildren){function getKey(node){return node.getId()}function processNode(newId,oldId){var newNode=null==newId?null:newChildren[newId],oldNode=null==oldId?null:oldChildren[oldId];doRenderNode(newNode,oldNode)}0===newChildren.length&&0===oldChildren.length||new DataDiffer(oldChildren,newChildren,getKey,getKey).add(processNode).update(processNode).remove(zrUtil.curry(processNode,null)).execute()}function doRenderNode(newNode,oldNode){if(renderLabelForZeroData||!newNode||newNode.getValue()||(newNode=null),newNode!==virtualRoot&&oldNode!==virtualRoot)if(oldNode&&oldNode.piece)newNode?(oldNode.piece.updateData(!1,newNode,"normal",seriesModel,ecModel),data.setItemGraphicEl(newNode.dataIndex,oldNode.piece)):removeNode(oldNode);else if(newNode){var piece=new SunburstPiece(newNode,seriesModel,ecModel);group.add(piece),data.setItemGraphicEl(newNode.dataIndex,piece)}}function removeNode(node){node&&node.piece&&(group.remove(node.piece),node.piece=null)}function renderRollUp(virtualRoot,viewRoot){if(viewRoot.depth>0){that.virtualPiece?that.virtualPiece.updateData(!1,virtualRoot,"normal",seriesModel,ecModel):(that.virtualPiece=new SunburstPiece(virtualRoot,seriesModel,ecModel),group.add(that.virtualPiece)),viewRoot.piece._onclickEvent&&viewRoot.piece.off("click",viewRoot.piece._onclickEvent);var event=function(e){that._rootToNode(viewRoot.parentNode)};viewRoot.piece._onclickEvent=event,that.virtualPiece.on("click",event)}else that.virtualPiece&&(group.remove(that.virtualPiece),that.virtualPiece=null)}var that=this;this.seriesModel=seriesModel,this.api=api,this.ecModel=ecModel;var data=seriesModel.getData(),virtualRoot=data.tree.root,newRoot=seriesModel.getViewRoot(),group=this.group,renderLabelForZeroData=seriesModel.get("renderLabelForZeroData"),newChildren=[];newRoot.eachNode(function(node){newChildren.push(node)});var oldChildren=this._oldChildren||[];if(dualTravel(newChildren,oldChildren),renderRollUp(virtualRoot,newRoot),payload&&payload.highlight&&payload.highlight.piece){var highlightPolicy=seriesModel.getShallow("highlightPolicy");payload.highlight.piece.onEmphasis(highlightPolicy)}else if(payload&&payload.unhighlight){var piece=this.virtualPiece;!piece&&virtualRoot.children.length&&(piece=virtualRoot.children[0].piece),piece&&piece.onNormal()}this._initEvents(),this._oldChildren=newChildren},"dispose":function(){},"_initEvents":function(){var that=this,event=function(e){var targetFound=!1,viewRoot=that.seriesModel.getViewRoot();viewRoot.eachNode(function(node){if(!targetFound&&node.piece&&node.piece.childAt(0)===e.target){var nodeClick=node.getModel().get("nodeClick");if("rootToNode"===nodeClick)that._rootToNode(node);else if("link"===nodeClick){var itemModel=node.getModel(),link=itemModel.get("link");if(link){var linkTarget=itemModel.get("target",!0)||"_blank";window.open(link,linkTarget)}}targetFound=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",event),this.group._onclickEvent=event},"_rootToNode":function(node){node!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({"type":ROOT_TO_NODE_ACTION,"from":this.uid,"seriesId":this.seriesModel.id,"targetNode":node})},"containPoint":function(point,seriesModel){var treeRoot=seriesModel.getData(),itemLayout=treeRoot.getItemLayout(0);if(itemLayout){var dx=point[0]-itemLayout.cx,dy=point[1]-itemLayout.cy,radius=Math.sqrt(dx*dx+dy*dy);return radius<=itemLayout.r&&radius>=itemLayout.r0}}}),_default=SunburstView;module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),helper=__webpack_require__(157),ROOT_TO_NODE_ACTION="sunburstRootToNode";echarts.registerAction({"type":ROOT_TO_NODE_ACTION,"update":"updateView"},function(payload,ecModel){function handleRootToNode(model,index){var targetInfo=helper.retrieveTargetInfo(payload,[ROOT_TO_NODE_ACTION],model);if(targetInfo){var originViewRoot=model.getViewRoot();originViewRoot&&(payload.direction=helper.aboveViewRoot(originViewRoot,targetInfo.node)?"rollUp":"drillDown"),model.resetViewRoot(targetInfo.node)}}ecModel.eachComponent({"mainType":"series","subType":"sunburst","query":payload},handleRootToNode)});var HIGHLIGHT_ACTION="sunburstHighlight";echarts.registerAction({"type":HIGHLIGHT_ACTION,"update":"updateView"},function(payload,ecModel){function handleHighlight(model,index){var targetInfo=helper.retrieveTargetInfo(payload,[HIGHLIGHT_ACTION],model);targetInfo&&(payload.highlight=targetInfo.node)}ecModel.eachComponent({"mainType":"series","subType":"sunburst","query":payload},handleHighlight)});var UNHIGHLIGHT_ACTION="sunburstUnhighlight";echarts.registerAction({"type":UNHIGHLIGHT_ACTION,"update":"updateView"},function(payload,ecModel){function handleUnhighlight(model,index){payload.unhighlight=!0}ecModel.eachComponent({"mainType":"series","subType":"sunburst","query":payload},handleUnhighlight)})},function(module,exports,__webpack_require__){function _default(seriesType,ecModel,api,payload){ecModel.eachSeriesByType(seriesType,function(seriesModel){var center=seriesModel.get("center"),radius=seriesModel.get("radius");zrUtil.isArray(radius)||(radius=[0,radius]),zrUtil.isArray(center)||(center=[center,center]);var width=api.getWidth(),height=api.getHeight(),size=Math.min(width,height),cx=parsePercent(center[0],width),cy=parsePercent(center[1],height),r0=parsePercent(radius[0],size/2),r=parsePercent(radius[1],size/2),startAngle=-seriesModel.get("startAngle")*RADIAN,minAngle=seriesModel.get("minAngle")*RADIAN,virtualRoot=seriesModel.getData().tree.root,treeRoot=seriesModel.getViewRoot(),rootDepth=treeRoot.depth,sort=seriesModel.get("sort");null!=sort&&initChildren(treeRoot,sort);var validDataCount=0;zrUtil.each(treeRoot.children,function(child){!isNaN(child.getValue())&&validDataCount++});var sum=treeRoot.getValue(),unitRadian=Math.PI/(sum||validDataCount)*2,renderRollupNode=treeRoot.depth>0,levels=treeRoot.height-(renderRollupNode?-1:1),rPerLevel=(r-r0)/(levels||1),clockwise=seriesModel.get("clockwise"),stillShowZeroSum=seriesModel.get("stillShowZeroSum"),restAngle=PI2,valueSumLargerThanMinAngle=0,dir=clockwise?1:-1,renderNode=function(node,startAngle){if(node){var endAngle=startAngle;if(node!==virtualRoot){var value=node.getValue(),angle=0===sum&&stillShowZeroSum?unitRadian:value*unitRadian;angle<minAngle?(angle=minAngle,restAngle-=minAngle):valueSumLargerThanMinAngle+=value,endAngle=startAngle+dir*angle;var depth=node.depth-rootDepth-(renderRollupNode?-1:1),rStart=r0+rPerLevel*depth,rEnd=r0+rPerLevel*(depth+1),itemModel=node.getModel();null!=itemModel.get("r0")&&(rStart=parsePercent(itemModel.get("r0"),size/2)),null!=itemModel.get("r")&&(rEnd=parsePercent(itemModel.get("r"),size/2)),node.setLayout({"angle":angle,"startAngle":startAngle,"endAngle":endAngle,"clockwise":clockwise,"cx":cx,"cy":cy,"r0":rStart,"r":rEnd})}if(node.children&&node.children.length){var siblingAngle=0;zrUtil.each(node.children,function(node){siblingAngle+=renderNode(node,startAngle+siblingAngle)})}return endAngle-startAngle}};if(renderRollupNode){var rStart=r0,rEnd=r0+rPerLevel,angle=2*Math.PI;virtualRoot.setLayout({"angle":angle,"startAngle":startAngle,"endAngle":startAngle+angle,"clockwise":clockwise,"cx":cx,"cy":cy,"r0":rStart,"r":rEnd})}renderNode(treeRoot,startAngle)})}function initChildren(node,isAsc){var children=node.children||[];node.children=sort(children,isAsc),children.length&&zrUtil.each(node.children,function(child){initChildren(child,isAsc)})}function sort(children,sortOrder){if("function"==typeof sortOrder)return children.sort(sortOrder);var isAsc="asc"===sortOrder;return children.sort(function(a,b){var diff=(a.getValue()-b.getValue())*(isAsc?1:-1);return 0===diff?(a.dataIndex-b.dataIndex)*(isAsc?-1:1):diff})}var _number=__webpack_require__(20),parsePercent=_number.parsePercent,zrUtil=__webpack_require__(4),PI2=2*Math.PI,RADIAN=Math.PI/180;module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(639),__webpack_require__(1438),__webpack_require__(1439);var themeRiverLayout=__webpack_require__(1440),themeRiverVisual=__webpack_require__(1441),dataFilter=__webpack_require__(224);echarts.registerLayout(themeRiverLayout),echarts.registerVisual(themeRiverVisual),echarts.registerProcessor(dataFilter("themeRiver"))},function(module,exports,__webpack_require__){var SeriesModel=__webpack_require__(57),createDimensions=__webpack_require__(193),_dimensionHelper=__webpack_require__(221),getDimensionTypeByAxis=_dimensionHelper.getDimensionTypeByAxis,List=__webpack_require__(82),zrUtil=__webpack_require__(4),_format=__webpack_require__(40),encodeHTML=_format.encodeHTML,nest=__webpack_require__(663),DATA_NAME_INDEX=2,ThemeRiverSeries=SeriesModel.extend({"type":"series.themeRiver","dependencies":["singleAxis"],"nameMap":null,"init":function(option){ThemeRiverSeries.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},"fixData":function(data){for(var rawDataLength=data.length,dataByName=nest().key(function(dataItem){return dataItem[2]}).entries(data),layData=zrUtil.map(dataByName,function(d){return{"name":d.key,"dataList":d.values}}),layerNum=layData.length,largestLayer=-1,index=-1,i=0;i<layerNum;++i){var len=layData[i].dataList.length;len>largestLayer&&(largestLayer=len,index=i)}for(var k=0;k<layerNum;++k)if(k!==index)for(var name=layData[k].name,j=0;j<largestLayer;++j){for(var timeValue=layData[index].dataList[j][0],length=layData[k].dataList.length,keyIndex=-1,l=0;l<length;++l){var value=layData[k].dataList[l][0];if(value===timeValue){keyIndex=l;break}}keyIndex===-1&&(data[rawDataLength]=[],data[rawDataLength][0]=timeValue,data[rawDataLength][1]=0,data[rawDataLength][2]=name,rawDataLength++)}return data},"getInitialData":function(option,ecModel){for(var singleAxisModel=ecModel.queryComponents({"mainType":"singleAxis","index":this.get("singleAxisIndex"),"id":this.get("singleAxisId")})[0],axisType=singleAxisModel.get("type"),filterData=zrUtil.filter(option.data,function(dataItem){return void 0!==dataItem[2]}),data=this.fixData(filterData||[]),nameList=[],nameMap=this.nameMap=zrUtil.createHashMap(),count=0,i=0;i<data.length;++i)nameList.push(data[i][DATA_NAME_INDEX]),nameMap.get(data[i][DATA_NAME_INDEX])||(nameMap.set(data[i][DATA_NAME_INDEX],count),count++);var dimensionsInfo=createDimensions(data,{"coordDimensions":["single"],"dimensionsDefine":[{"name":"time","type":getDimensionTypeByAxis(axisType)},{"name":"value","type":"float"},{"name":"name","type":"ordinal"}],"encodeDefine":{"single":0,"value":1,"itemName":2}}),list=new List(dimensionsInfo,this);return list.initData(data),list},"getLayerSeries":function(){function comparer(index1,index2){return data.get(timeDim,index1)-data.get(timeDim,index2)}for(var data=this.getData(),lenCount=data.count(),indexArr=[],i=0;i<lenCount;++i)indexArr[i]=i;for(var dataByName=nest().key(function(index){return data.get("name",index)}).entries(indexArr),layerSeries=zrUtil.map(dataByName,function(d){return{"name":d.key,"indices":d.values}}),timeDim=data.mapDimension("single"),j=0;j<layerSeries.length;++j)layerSeries[j].indices.sort(comparer);return layerSeries},"getAxisTooltipData":function(dim,value,baseAxis){zrUtil.isArray(dim)||(dim=dim?[dim]:[]);for(var nestestValue,data=this.getData(),layerSeries=this.getLayerSeries(),indices=[],layerNum=layerSeries.length,i=0;i<layerNum;++i){for(var minDist=Number.MAX_VALUE,nearestIdx=-1,pointNum=layerSeries[i].indices.length,j=0;j<pointNum;++j){var theValue=data.get(dim[0],layerSeries[i].indices[j]),dist=Math.abs(theValue-value);dist<=minDist&&(nestestValue=theValue,minDist=dist,nearestIdx=layerSeries[i].indices[j])}indices.push(nearestIdx)}return{"dataIndices":indices,"nestestValue":nestestValue}},"formatTooltip":function(dataIndex){var data=this.getData(),htmlName=data.getName(dataIndex),htmlValue=data.get(data.mapDimension("value"),dataIndex);return(isNaN(htmlValue)||null==htmlValue)&&(htmlValue="-"),encodeHTML(htmlName+" : "+htmlValue)},"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"singleAxis","boundaryGap":["10%","10%"],"singleAxisIndex":0,"animationEasing":"linear","label":{"margin":4,"show":!0,"position":"left","color":"#000","fontSize":11},"emphasis":{"label":{"show":!0}}}}),_default=ThemeRiverSeries;module.exports=_default},function(module,exports,__webpack_require__){(function(process){function createGridClipShape(rect,seriesModel,cb){var rectEl=new graphic.Rect({"shape":{"x":rect.x-10,"y":rect.y-10,"width":0,"height":rect.height+20}});return graphic.initProps(rectEl,{"shape":{"width":rect.width+20,"height":rect.height+20}},seriesModel,cb),rectEl}var echarts=__webpack_require__(13),_poly=__webpack_require__(619),Polygon=_poly.Polygon,graphic=__webpack_require__(15),_util=__webpack_require__(4),bind=_util.bind,extend=_util.extend,DataDiffer=__webpack_require__(160),_default=echarts.extendChartView({"type":"themeRiver","init":function(){this._layers=[]},"render":function(seriesModel,ecModel,api){function keyGetter(item){return item.name}function process(status,idx,oldIdx){var oldLayersGroups=this._layers;if("remove"===status)return void group.remove(oldLayersGroups[idx]);for(var color,points0=[],points1=[],indices=layerSeries[idx].indices,j=0;j<indices.length;j++){var layout=data.getItemLayout(indices[j]),x=layout.x,y0=layout.y0,y=layout.y;points0.push([x,y0]),points1.push([x,y0+y]),color=data.getItemVisual(indices[j],"color")}var polygon,text,textLayout=data.getItemLayout(indices[0]),itemModel=data.getItemModel(indices[j-1]),labelModel=itemModel.getModel("label"),margin=labelModel.get("margin");if("add"===status){var layerGroup=newLayersGroups[idx]=new graphic.Group;polygon=new Polygon({"shape":{"points":points0,"stackedOnPoints":points1,"smooth":.4,"stackedOnSmooth":.4,"smoothConstraint":!1},"z2":0}),text=new graphic.Text({"style":{"x":textLayout.x-margin,"y":textLayout.y0+textLayout.y/2}}),layerGroup.add(polygon),layerGroup.add(text),group.add(layerGroup),polygon.setClipPath(createGridClipShape(polygon.getBoundingRect(),seriesModel,function(){polygon.removeClipPath()}))}else{var layerGroup=oldLayersGroups[oldIdx];polygon=layerGroup.childAt(0),text=layerGroup.childAt(1),group.add(layerGroup),newLayersGroups[idx]=layerGroup,graphic.updateProps(polygon,{"shape":{"points":points0,"stackedOnPoints":points1}},seriesModel),graphic.updateProps(text,{"style":{"x":textLayout.x-margin,"y":textLayout.y0+textLayout.y/2}},seriesModel)}var hoverItemStyleModel=itemModel.getModel("emphasis.itemStyle"),itemStyleModel=itemModel.getModel("itemStyle");graphic.setTextStyle(text.style,labelModel,{"text":labelModel.get("show")?seriesModel.getFormattedLabel(indices[j-1],"normal")||data.getName(indices[j-1]):null,"textVerticalAlign":"middle"}),polygon.setStyle(extend({"fill":color},itemStyleModel.getItemStyle(["color"]))),graphic.setHoverStyle(polygon,hoverItemStyleModel.getItemStyle())}var data=seriesModel.getData(),group=this.group,layerSeries=seriesModel.getLayerSeries(),layoutInfo=data.getLayout("layoutInfo"),rect=layoutInfo.rect,boundaryGap=layoutInfo.boundaryGap;group.attr("position",[0,rect.y+boundaryGap[0]]);var dataDiffer=new DataDiffer(this._layersSeries||[],layerSeries,keyGetter,keyGetter),newLayersGroups={};dataDiffer.add(bind(process,this,"add")).update(bind(process,this,"update")).remove(bind(process,this,"remove")).execute(),this._layersSeries=layerSeries,this._layers=newLayersGroups},"dispose":function(){}});module.exports=_default}).call(exports,__webpack_require__(299))},function(module,exports,__webpack_require__){function _default(ecModel,api){ecModel.eachSeriesByType("themeRiver",function(seriesModel){var data=seriesModel.getData(),single=seriesModel.coordinateSystem,layoutInfo={},rect=single.getRect();layoutInfo.rect=rect;var boundaryGap=seriesModel.get("boundaryGap"),axis=single.getAxis();if(layoutInfo.boundaryGap=boundaryGap,"horizontal"===axis.orient){boundaryGap[0]=numberUtil.parsePercent(boundaryGap[0],rect.height),boundaryGap[1]=numberUtil.parsePercent(boundaryGap[1],rect.height);var height=rect.height-boundaryGap[0]-boundaryGap[1];themeRiverLayout(data,seriesModel,height)}else{boundaryGap[0]=numberUtil.parsePercent(boundaryGap[0],rect.width),boundaryGap[1]=numberUtil.parsePercent(boundaryGap[1],rect.width);var width=rect.width-boundaryGap[0]-boundaryGap[1];themeRiverLayout(data,seriesModel,width)}data.setLayout("layoutInfo",layoutInfo)})}function themeRiverLayout(data,seriesModel,height){if(data.count())for(var baseY0,coordSys=seriesModel.coordinateSystem,layerSeries=seriesModel.getLayerSeries(),timeDim=data.mapDimension("single"),valueDim=data.mapDimension("value"),layerPoints=zrUtil.map(layerSeries,function(singleLayer){return zrUtil.map(singleLayer.indices,function(idx){var pt=coordSys.dataToPoint(data.get(timeDim,idx));return pt[1]=data.get(valueDim,idx),pt})}),base=computeBaseline(layerPoints),baseLine=base.y0,ky=height/base.max,n=layerSeries.length,m=layerSeries[0].indices.length,j=0;j<m;++j){baseY0=baseLine[j]*ky,data.setItemLayout(layerSeries[0].indices[j],{"layerIndex":0,"x":layerPoints[0][j][0],"y0":baseY0,"y":layerPoints[0][j][1]*ky});for(var i=1;i<n;++i)baseY0+=layerPoints[i-1][j][1]*ky,data.setItemLayout(layerSeries[i].indices[j],{"layerIndex":i,"x":layerPoints[i][j][0],"y0":baseY0,"y":layerPoints[i][j][1]*ky})}}function computeBaseline(data){for(var temp,layerNum=data.length,pointNum=data[0].length,sums=[],y0=[],max=0,base={},i=0;i<pointNum;++i){for(var j=0,temp=0;j<layerNum;++j)temp+=data[j][i][1];temp>max&&(max=temp),sums.push(temp)}for(var k=0;k<pointNum;++k)y0[k]=(max-sums[k])/2;max=0;for(var l=0;l<pointNum;++l){var sum=sums[l]+y0[l];sum>max&&(max=sum)}return base.y0=y0,base.max=max,base}var zrUtil=__webpack_require__(4),numberUtil=__webpack_require__(20);module.exports=_default},function(module,exports,__webpack_require__){function _default(ecModel){ecModel.eachSeriesByType("themeRiver",function(seriesModel){var data=seriesModel.getData(),rawData=seriesModel.getRawData(),colorList=seriesModel.get("color"),idxMap=createHashMap();data.each(function(idx){idxMap.set(data.getRawIndex(idx),idx)}),rawData.each(function(rawIndex){var name=rawData.getName(rawIndex),color=colorList[(seriesModel.nameMap.get(name)-1)%colorList.length];rawData.setItemVisual(rawIndex,"color",color);var idx=idxMap.get(rawIndex);null!=idx&&data.setItemVisual(idx,"color",color)})})}var _util=__webpack_require__(4),createHashMap=_util.createHashMap;module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(1443),__webpack_require__(1444),__webpack_require__(1446);var visualSymbol=__webpack_require__(165),treeLayout=__webpack_require__(1447);echarts.registerVisual(visualSymbol("tree","circle")),echarts.registerLayout(treeLayout)},function(module,exports,__webpack_require__){var SeriesModel=__webpack_require__(57),Tree=__webpack_require__(389),_format=__webpack_require__(40),encodeHTML=_format.encodeHTML,_default=SeriesModel.extend({"type":"series.tree","layoutInfo":null,"layoutMode":"box","getInitialData":function(option){var root={"name":option.name,"children":option.data},leaves=option.leaves||{},treeOption={};treeOption.leaves=leaves;var tree=Tree.createTree(root,this,treeOption),treeDepth=0;tree.eachNode("preorder",function(node){node.depth>treeDepth&&(treeDepth=node.depth)});var expandAndCollapse=option.expandAndCollapse,expandTreeDepth=expandAndCollapse&&option.initialTreeDepth>=0?option.initialTreeDepth:treeDepth;return tree.root.eachNode("preorder",function(node){var item=node.hostTree.data.getRawDataItem(node.dataIndex);node.isExpand=item&&null!=item.collapsed?!item.collapsed:node.depth<=expandTreeDepth}),tree.data},"getOrient":function(){var orient=this.get("orient");return"horizontal"===orient?orient="LR":"vertical"===orient&&(orient="TB"),orient},"formatTooltip":function(dataIndex){for(var tree=this.getData().tree,realRoot=tree.root.children[0],node=tree.getNodeByDataIndex(dataIndex),value=node.getValue(),name=node.name;node&&node!==realRoot;)name=node.parentNode.name+"."+name,node=node.parentNode;return encodeHTML(name+(isNaN(value)||null==value?"":" : "+value))},"defaultOption":{"zlevel":0,"z":2,"left":"12%","top":"12%","right":"12%","bottom":"12%","layout":"orthogonal","orient":"LR","symbol":"emptyCircle","symbolSize":7,"expandAndCollapse":!0,"initialTreeDepth":2,"lineStyle":{"color":"#ccc","width":1.5,"curveness":.5},"itemStyle":{"color":"lightsteelblue","borderColor":"#c23531","borderWidth":1.5},"label":{"show":!0,"color":"#555"},"leaves":{"label":{"show":!0}},"animationEasing":"linear","animationDuration":700,"animationDurationUpdate":1e3}});module.exports=_default},function(module,exports,__webpack_require__){function symbolNeedsDraw(data,dataIndex){var layout=data.getItemLayout(dataIndex);return layout&&!isNaN(layout.x)&&!isNaN(layout.y)&&"none"!==data.getItemVisual(dataIndex,"symbol")}function getTreeNodeStyle(node,itemModel,seriesScope){return seriesScope.itemModel=itemModel,seriesScope.itemStyle=itemModel.getModel("itemStyle").getItemStyle(),seriesScope.hoverItemStyle=itemModel.getModel("emphasis.itemStyle").getItemStyle(),seriesScope.lineStyle=itemModel.getModel("lineStyle").getLineStyle(),seriesScope.labelModel=itemModel.getModel("label"),seriesScope.hoverLabelModel=itemModel.getModel("emphasis.label"),node.isExpand===!1&&0!==node.children.length?seriesScope.symbolInnerColor=seriesScope.itemStyle.fill:seriesScope.symbolInnerColor="#fff",seriesScope}function updateNode(data,dataIndex,symbolEl,group,seriesModel,seriesScope){var isInit=!symbolEl,node=data.tree.getNodeByDataIndex(dataIndex),itemModel=node.getModel(),seriesScope=getTreeNodeStyle(node,itemModel,seriesScope),virtualRoot=data.tree.root,source=node.parentNode===virtualRoot?node:node.parentNode||node,sourceSymbolEl=data.getItemGraphicEl(source.dataIndex),sourceLayout=source.getLayout(),sourceOldLayout=sourceSymbolEl?{"x":sourceSymbolEl.position[0],"y":sourceSymbolEl.position[1],"rawX":sourceSymbolEl.__radialOldRawX,"rawY":sourceSymbolEl.__radialOldRawY}:sourceLayout,targetLayout=node.getLayout();isInit?(symbolEl=new SymbolClz(data,dataIndex,seriesScope),symbolEl.attr("position",[sourceOldLayout.x,sourceOldLayout.y])):symbolEl.updateData(data,dataIndex,seriesScope),symbolEl.__radialOldRawX=symbolEl.__radialRawX,symbolEl.__radialOldRawY=symbolEl.__radialRawY,symbolEl.__radialRawX=targetLayout.rawX,symbolEl.__radialRawY=targetLayout.rawY,group.add(symbolEl),data.setItemGraphicEl(dataIndex,symbolEl),graphic.updateProps(symbolEl,{"position":[targetLayout.x,targetLayout.y]},seriesModel);var symbolPath=symbolEl.getSymbolPath();if("radial"===seriesScope.layout){var rad,isLeft,realRoot=virtualRoot.children[0],rootLayout=realRoot.getLayout(),length=realRoot.children.length;if(targetLayout.x===rootLayout.x&&node.isExpand===!0){var center={};center.x=(realRoot.children[0].getLayout().x+realRoot.children[length-1].getLayout().x)/2,center.y=(realRoot.children[0].getLayout().y+realRoot.children[length-1].getLayout().y)/2,rad=Math.atan2(center.y-rootLayout.y,center.x-rootLayout.x),rad<0&&(rad=2*Math.PI+rad),isLeft=center.x<rootLayout.x,isLeft&&(rad-=Math.PI)}else rad=Math.atan2(targetLayout.y-rootLayout.y,targetLayout.x-rootLayout.x),rad<0&&(rad=2*Math.PI+rad),0===node.children.length||0!==node.children.length&&node.isExpand===!1?(isLeft=targetLayout.x<rootLayout.x,isLeft&&(rad-=Math.PI)):(isLeft=targetLayout.x>rootLayout.x,isLeft||(rad-=Math.PI));var textPosition=isLeft?"left":"right";symbolPath.setStyle({"textPosition":textPosition,"textRotation":-rad,"textOrigin":"center","verticalAlign":"middle"})}if(node.parentNode&&node.parentNode!==virtualRoot){var edge=symbolEl.__edge;edge||(edge=symbolEl.__edge=new graphic.BezierCurve({"shape":getEdgeShape(seriesScope,sourceOldLayout,sourceOldLayout),"style":zrUtil.defaults({"opacity":0},seriesScope.lineStyle)})),graphic.updateProps(edge,{"shape":getEdgeShape(seriesScope,sourceLayout,targetLayout),"style":{"opacity":1}},seriesModel),group.add(edge)}}function removeNode(data,dataIndex,symbolEl,group,seriesModel,seriesScope){for(var sourceLayout,node=data.tree.getNodeByDataIndex(dataIndex),virtualRoot=data.tree.root,itemModel=node.getModel(),seriesScope=getTreeNodeStyle(node,itemModel,seriesScope),source=node.parentNode===virtualRoot?node:node.parentNode||node;sourceLayout=source.getLayout(),null==sourceLayout;)source=source.parentNode===virtualRoot?source:source.parentNode||source;graphic.updateProps(symbolEl,{"position":[sourceLayout.x+1,sourceLayout.y+1]},seriesModel,function(){group.remove(symbolEl),data.setItemGraphicEl(dataIndex,null)}),symbolEl.fadeOut(null,{"keepLabel":!0});var edge=symbolEl.__edge;edge&&graphic.updateProps(edge,{"shape":getEdgeShape(seriesScope,sourceLayout,sourceLayout),"style":{"opacity":0}},seriesModel,function(){group.remove(edge)})}function getEdgeShape(seriesScope,sourceLayout,targetLayout){var cpx1,cpy1,cpx2,cpy2,orient=seriesScope.orient;if("radial"===seriesScope.layout){var x1=sourceLayout.rawX,y1=sourceLayout.rawY,x2=targetLayout.rawX,y2=targetLayout.rawY,radialCoor1=radialCoordinate(x1,y1),radialCoor2=radialCoordinate(x1,y1+(y2-y1)*seriesScope.curvature),radialCoor3=radialCoordinate(x2,y2+(y1-y2)*seriesScope.curvature),radialCoor4=radialCoordinate(x2,y2);return{"x1":radialCoor1.x,"y1":radialCoor1.y,"x2":radialCoor4.x,"y2":radialCoor4.y,"cpx1":radialCoor2.x,"cpy1":radialCoor2.y,"cpx2":radialCoor3.x,"cpy2":radialCoor3.y}}var x1=sourceLayout.x,y1=sourceLayout.y,x2=targetLayout.x,y2=targetLayout.y;return"LR"!==orient&&"RL"!==orient||(cpx1=x1+(x2-x1)*seriesScope.curvature,cpy1=y1,cpx2=x2+(x1-x2)*seriesScope.curvature,cpy2=y2),"TB"!==orient&&"BT"!==orient||(cpx1=x1,cpy1=y1+(y2-y1)*seriesScope.curvature,cpx2=x2,cpy2=y2+(y1-y2)*seriesScope.curvature),{"x1":x1,"y1":y1,"x2":x2,"y2":y2,"cpx1":cpx1,"cpy1":cpy1,"cpx2":cpx2,"cpy2":cpy2}}var zrUtil=__webpack_require__(4),graphic=__webpack_require__(15),SymbolClz=__webpack_require__(269),_layoutHelper=__webpack_require__(621),radialCoordinate=_layoutHelper.radialCoordinate,echarts=__webpack_require__(13),_default=echarts.extendChartView({"type":"tree","init":function(ecModel,api){this._oldTree,this._mainGroup=new graphic.Group,this.group.add(this._mainGroup)},"render":function(seriesModel,ecModel,api,payload){var data=seriesModel.getData(),layoutInfo=seriesModel.layoutInfo,group=this._mainGroup,layout=seriesModel.get("layout");
"radial"===layout?group.attr("position",[layoutInfo.x+layoutInfo.width/2,layoutInfo.y+layoutInfo.height/2]):group.attr("position",[layoutInfo.x,layoutInfo.y]);var oldData=this._data,seriesScope={"expandAndCollapse":seriesModel.get("expandAndCollapse"),"layout":layout,"orient":seriesModel.getOrient(),"curvature":seriesModel.get("lineStyle.curveness"),"symbolRotate":seriesModel.get("symbolRotate"),"symbolOffset":seriesModel.get("symbolOffset"),"hoverAnimation":seriesModel.get("hoverAnimation"),"useNameLabel":!0,"fadeIn":!0};data.diff(oldData).add(function(newIdx){symbolNeedsDraw(data,newIdx)&&updateNode(data,newIdx,null,group,seriesModel,seriesScope)}).update(function(newIdx,oldIdx){var symbolEl=oldData.getItemGraphicEl(oldIdx);return symbolNeedsDraw(data,newIdx)?void updateNode(data,newIdx,symbolEl,group,seriesModel,seriesScope):void(symbolEl&&removeNode(oldData,oldIdx,symbolEl,group,seriesModel,seriesScope))}).remove(function(oldIdx){var symbolEl=oldData.getItemGraphicEl(oldIdx);symbolEl&&removeNode(oldData,oldIdx,symbolEl,group,seriesModel,seriesScope)}).execute(),seriesScope.expandAndCollapse===!0&&data.eachItemGraphicEl(function(el,dataIndex){el.off("click").on("click",function(){api.dispatchAction({"type":"treeExpandAndCollapse","seriesId":seriesModel.id,"dataIndex":dataIndex})})}),this._data=data},"dispose":function(){},"remove":function(){this._mainGroup.removeAll(),this._data=null}});module.exports=_default},function(module,exports){function eachAfter(root,callback,separation){for(var node,nodes=[root],next=[];node=nodes.pop();)if(next.push(node),node.isExpand){var children=node.children;if(children.length)for(var i=0;i<children.length;i++)nodes.push(children[i])}for(;node=next.pop();)callback(node,separation)}function eachBefore(root,callback){for(var node,nodes=[root];node=nodes.pop();)if(callback(node),node.isExpand){var children=node.children;if(children.length)for(var i=children.length-1;i>=0;i--)nodes.push(children[i])}}exports.eachAfter=eachAfter,exports.eachBefore=eachBefore},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);echarts.registerAction({"type":"treeExpandAndCollapse","event":"treeExpandAndCollapse","update":"update"},function(payload,ecModel){ecModel.eachComponent({"mainType":"series","subType":"tree","query":payload},function(seriesModel){var dataIndex=payload.dataIndex,tree=seriesModel.getData().tree,node=tree.getNodeByDataIndex(dataIndex);node.isExpand=!node.isExpand})})},function(module,exports,__webpack_require__){function _default(ecModel,api){ecModel.eachSeriesByType("tree",function(seriesModel){commonLayout(seriesModel,api)})}function commonLayout(seriesModel,api){var layoutInfo=getViewRect(seriesModel,api);seriesModel.layoutInfo=layoutInfo;var layout=seriesModel.get("layout"),width=0,height=0,separation=null;"radial"===layout?(width=2*Math.PI,height=Math.min(layoutInfo.height,layoutInfo.width)/2,separation=sep(function(node1,node2){return(node1.parentNode===node2.parentNode?1:2)/node1.depth})):(width=layoutInfo.width,height=layoutInfo.height,separation=sep());var virtualRoot=seriesModel.getData().tree.root,realRoot=virtualRoot.children[0];if(realRoot){init(virtualRoot),eachAfter(realRoot,firstWalk,separation),virtualRoot.hierNode.modifier=-realRoot.hierNode.prelim,eachBefore(realRoot,secondWalk);var left=realRoot,right=realRoot,bottom=realRoot;eachBefore(realRoot,function(node){var x=node.getLayout().x;x<left.getLayout().x&&(left=node),x>right.getLayout().x&&(right=node),node.depth>bottom.depth&&(bottom=node)});var delta=left===right?1:separation(left,right)/2,tx=delta-left.getLayout().x,kx=0,ky=0,coorX=0,coorY=0;if("radial"===layout)kx=width/(right.getLayout().x+delta+tx),ky=height/(bottom.depth-1||1),eachBefore(realRoot,function(node){coorX=(node.getLayout().x+tx)*kx,coorY=(node.depth-1)*ky;var finalCoor=radialCoordinate(coorX,coorY);node.setLayout({"x":finalCoor.x,"y":finalCoor.y,"rawX":coorX,"rawY":coorY},!0)});else{var orient=seriesModel.getOrient();"RL"===orient||"LR"===orient?(ky=height/(right.getLayout().x+delta+tx),kx=width/(bottom.depth-1||1),eachBefore(realRoot,function(node){coorY=(node.getLayout().x+tx)*ky,coorX="LR"===orient?(node.depth-1)*kx:width-(node.depth-1)*kx,node.setLayout({"x":coorX,"y":coorY},!0)})):"TB"!==orient&&"BT"!==orient||(kx=width/(right.getLayout().x+delta+tx),ky=height/(bottom.depth-1||1),eachBefore(realRoot,function(node){coorX=(node.getLayout().x+tx)*kx,coorY="TB"===orient?(node.depth-1)*ky:height-(node.depth-1)*ky,node.setLayout({"x":coorX,"y":coorY},!0)}))}}}var _traversalHelper=__webpack_require__(1445),eachAfter=_traversalHelper.eachAfter,eachBefore=_traversalHelper.eachBefore,_layoutHelper=__webpack_require__(621),init=_layoutHelper.init,firstWalk=_layoutHelper.firstWalk,secondWalk=_layoutHelper.secondWalk,sep=_layoutHelper.separation,radialCoordinate=_layoutHelper.radialCoordinate,getViewRect=_layoutHelper.getViewRect;module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(1450),__webpack_require__(1451),__webpack_require__(1452);var treemapVisual=__webpack_require__(1454),treemapLayout=__webpack_require__(1453);echarts.registerVisual(treemapVisual),echarts.registerLayout(treemapLayout)},function(module,exports,__webpack_require__){function Breadcrumb(containerGroup){this.group=new graphic.Group,containerGroup.add(this.group)}function makeItemPoints(x,y,itemWidth,itemHeight,head,tail){var points=[[head?x:x-ARRAY_LENGTH,y],[x+itemWidth,y],[x+itemWidth,y+itemHeight],[head?x:x-ARRAY_LENGTH,y+itemHeight]];return!tail&&points.splice(2,0,[x+itemWidth+ARRAY_LENGTH,y+itemHeight/2]),!head&&points.push([x,y+itemHeight/2]),points}function packEventData(el,seriesModel,itemNode){el.eventData={"componentType":"series","componentSubType":"treemap","seriesIndex":seriesModel.componentIndex,"seriesName":seriesModel.name,"seriesType":"treemap","selfType":"breadcrumb","nodeData":{"dataIndex":itemNode&&itemNode.dataIndex,"name":itemNode&&itemNode.name},"treePathInfo":itemNode&&wrapTreePathInfo(itemNode,seriesModel)}}var graphic=__webpack_require__(15),layout=__webpack_require__(34),zrUtil=__webpack_require__(4),_treeHelper=__webpack_require__(157),wrapTreePathInfo=_treeHelper.wrapTreePathInfo,TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5;Breadcrumb.prototype={"constructor":Breadcrumb,"render":function(seriesModel,api,targetNode,onSelect){var model=seriesModel.getModel("breadcrumb"),thisGroup=this.group;if(thisGroup.removeAll(),model.get("show")&&targetNode){var normalStyleModel=model.getModel("itemStyle"),textStyleModel=normalStyleModel.getModel("textStyle"),layoutParam={"pos":{"left":model.get("left"),"right":model.get("right"),"top":model.get("top"),"bottom":model.get("bottom")},"box":{"width":api.getWidth(),"height":api.getHeight()},"emptyItemWidth":model.get("emptyItemWidth"),"totalWidth":0,"renderList":[]};this._prepare(targetNode,layoutParam,textStyleModel),this._renderContent(seriesModel,layoutParam,normalStyleModel,textStyleModel,onSelect),layout.positionElement(thisGroup,layoutParam.pos,layoutParam.box)}},"_prepare":function(targetNode,layoutParam,textStyleModel){for(var node=targetNode;node;node=node.parentNode){var text=node.getModel().get("name"),textRect=textStyleModel.getTextRect(text),itemWidth=Math.max(textRect.width+2*TEXT_PADDING,layoutParam.emptyItemWidth);layoutParam.totalWidth+=itemWidth+ITEM_GAP,layoutParam.renderList.push({"node":node,"text":text,"width":itemWidth})}},"_renderContent":function(seriesModel,layoutParam,normalStyleModel,textStyleModel,onSelect){for(var lastX=0,emptyItemWidth=layoutParam.emptyItemWidth,height=seriesModel.get("breadcrumb.height"),availableSize=layout.getAvailableSize(layoutParam.pos,layoutParam.box),totalWidth=layoutParam.totalWidth,renderList=layoutParam.renderList,i=renderList.length-1;i>=0;i--){var item=renderList[i],itemNode=item.node,itemWidth=item.width,text=item.text;totalWidth>availableSize.width&&(totalWidth-=itemWidth-emptyItemWidth,itemWidth=emptyItemWidth,text=null);var el=new graphic.Polygon({"shape":{"points":makeItemPoints(lastX,0,itemWidth,height,i===renderList.length-1,0===i)},"style":zrUtil.defaults(normalStyleModel.getItemStyle(),{"lineJoin":"bevel","text":text,"textFill":textStyleModel.getTextColor(),"textFont":textStyleModel.getFont()}),"z":10,"onclick":zrUtil.curry(onSelect,itemNode)});this.group.add(el),packEventData(el,seriesModel,itemNode),lastX+=itemWidth+ITEM_GAP}},"remove":function(){this.group.removeAll()}};var _default=Breadcrumb;module.exports=_default},function(module,exports,__webpack_require__){function completeTreeValue(dataNode){var sum=0;zrUtil.each(dataNode.children,function(child){completeTreeValue(child);var childValue=child.value;zrUtil.isArray(childValue)&&(childValue=childValue[0]),sum+=childValue});var thisValue=dataNode.value;zrUtil.isArray(thisValue)&&(thisValue=thisValue[0]),(null==thisValue||isNaN(thisValue))&&(thisValue=sum),thisValue<0&&(thisValue=0),zrUtil.isArray(dataNode.value)?dataNode.value[0]=thisValue:dataNode.value=thisValue}function setDefault(levels,ecModel){var globalColorList=ecModel.get("color");if(globalColorList){levels=levels||[];var hasColorDefine;if(zrUtil.each(levels,function(levelDefine){var model=new Model(levelDefine),modelColor=model.get("color");(model.get("itemStyle.color")||modelColor&&"none"!==modelColor)&&(hasColorDefine=!0)}),!hasColorDefine){var level0=levels[0]||(levels[0]={});level0.color=globalColorList.slice()}return levels}}var zrUtil=__webpack_require__(4),SeriesModel=__webpack_require__(57),Tree=__webpack_require__(389),Model=__webpack_require__(56),_format=__webpack_require__(40),encodeHTML=_format.encodeHTML,addCommas=_format.addCommas,_treeHelper=__webpack_require__(157),wrapTreePathInfo=_treeHelper.wrapTreePathInfo,_default=SeriesModel.extend({"type":"series.treemap","layoutMode":"box","dependencies":["grid","polar"],"_viewRoot":null,"defaultOption":{"progressive":0,"hoverLayerThreshold":1/0,"left":"center","top":"middle","right":null,"bottom":null,"width":"80%","height":"80%","sort":!0,"clipWindow":"origin","squareRatio":.5*(1+Math.sqrt(5)),"leafDepth":null,"drillDownIcon":"\u25b6","zoomToNodeRatio":.1024,"roam":!0,"nodeClick":"zoomToNode","animation":!0,"animationDurationUpdate":900,"animationEasing":"quinticInOut","breadcrumb":{"show":!0,"height":22,"left":"center","top":"bottom","emptyItemWidth":25,"itemStyle":{"color":"rgba(0,0,0,0.7)","borderColor":"rgba(255,255,255,0.7)","borderWidth":1,"shadowColor":"rgba(150,150,150,1)","shadowBlur":3,"shadowOffsetX":0,"shadowOffsetY":0,"textStyle":{"color":"#fff"}},"emphasis":{"textStyle":{}}},"label":{"show":!0,"distance":0,"padding":5,"position":"inside","color":"#fff","ellipsis":!0},"upperLabel":{"show":!1,"position":[0,"50%"],"height":20,"color":"#fff","ellipsis":!0,"verticalAlign":"middle"},"itemStyle":{"color":null,"colorAlpha":null,"colorSaturation":null,"borderWidth":0,"gapWidth":0,"borderColor":"#fff","borderColorSaturation":null},"emphasis":{"upperLabel":{"show":!0,"position":[0,"50%"],"color":"#fff","ellipsis":!0,"verticalAlign":"middle"}},"visualDimension":0,"visualMin":null,"visualMax":null,"color":[],"colorAlpha":null,"colorSaturation":null,"colorMappingBy":"index","visibleMin":10,"childrenVisibleMin":null,"levels":[]},"getInitialData":function(option,ecModel){var root={"name":option.name,"children":option.data};completeTreeValue(root);var levels=option.levels||[];levels=option.levels=setDefault(levels,ecModel);var treeOption={};return treeOption.levels=levels,Tree.createTree(root,this,treeOption).data},"optionUpdated":function(){this.resetViewRoot()},"formatTooltip":function(dataIndex){var data=this.getData(),value=this.getRawValue(dataIndex),formattedValue=addCommas(zrUtil.isArray(value)?value[0]:value),name=data.getName(dataIndex);return encodeHTML(name+": "+formattedValue)},"getDataParams":function(dataIndex){var params=SeriesModel.prototype.getDataParams.apply(this,arguments),node=this.getData().tree.getNodeByDataIndex(dataIndex);return params.treePathInfo=wrapTreePathInfo(node,this),params},"setLayoutInfo":function(layoutInfo){this.layoutInfo=this.layoutInfo||{},zrUtil.extend(this.layoutInfo,layoutInfo)},"mapIdToIndex":function(id){var idIndexMap=this._idIndexMap;idIndexMap||(idIndexMap=this._idIndexMap=zrUtil.createHashMap(),this._idIndexMapCount=0);var index=idIndexMap.get(id);return null==index&&idIndexMap.set(id,index=this._idIndexMapCount++),index},"getViewRoot":function(){return this._viewRoot},"resetViewRoot":function(viewRoot){viewRoot?this._viewRoot=viewRoot:viewRoot=this._viewRoot;var root=this.getRawData().tree.root;viewRoot&&(viewRoot===root||root.contains(viewRoot))||(this._viewRoot=root)}});module.exports=_default},function(module,exports,__webpack_require__){function createStorage(){return{"nodeGroup":[],"background":[],"content":[]}}function renderNode(seriesModel,thisStorage,oldStorage,reRoot,lastsForAnimation,willInvisibleEls,thisNode,oldNode,parentGroup,depth){function renderBackground(group,bg,useUpperLabel){bg.dataIndex=thisNode.dataIndex,bg.seriesIndex=seriesModel.seriesIndex,bg.setShape({"x":0,"y":0,"width":thisWidth,"height":thisHeight});var visualBorderColor=thisNode.getVisual("borderColor",!0),emphasisBorderColor=itemStyleEmphasisModel.get("borderColor");updateStyle(bg,function(){var normalStyle=getItemStyleNormal(itemStyleNormalModel);normalStyle.fill=visualBorderColor;var emphasisStyle=getItemStyleEmphasis(itemStyleEmphasisModel);if(emphasisStyle.fill=emphasisBorderColor,useUpperLabel){var upperLabelWidth=thisWidth-2*borderWidth;prepareText(normalStyle,emphasisStyle,visualBorderColor,upperLabelWidth,upperHeight,{"x":borderWidth,"y":0,"width":upperLabelWidth,"height":upperHeight})}else normalStyle.text=emphasisStyle.text=null;bg.setStyle(normalStyle),graphic.setHoverStyle(bg,emphasisStyle)}),group.add(bg)}function renderContent(group,content){content.dataIndex=thisNode.dataIndex,content.seriesIndex=seriesModel.seriesIndex;var contentWidth=Math.max(thisWidth-2*borderWidth,0),contentHeight=Math.max(thisHeight-2*borderWidth,0);content.culling=!0,content.setShape({"x":borderWidth,"y":borderWidth,"width":contentWidth,"height":contentHeight});var visualColor=thisNode.getVisual("color",!0);updateStyle(content,function(){var normalStyle=getItemStyleNormal(itemStyleNormalModel);normalStyle.fill=visualColor;var emphasisStyle=getItemStyleEmphasis(itemStyleEmphasisModel);prepareText(normalStyle,emphasisStyle,visualColor,contentWidth,contentHeight),content.setStyle(normalStyle),graphic.setHoverStyle(content,emphasisStyle)}),group.add(content)}function updateStyle(element,cb){thisInvisible?!element.invisible&&willInvisibleEls.push(element):(cb(),element.__tmWillVisible||(element.invisible=!1))}function prepareText(normalStyle,emphasisStyle,visualColor,width,height,upperLabelRect){var nodeModel=thisNode.getModel(),text=zrUtil.retrieve(seriesModel.getFormattedLabel(thisNode.dataIndex,"normal",null,null,upperLabelRect?"upperLabel":"label"),nodeModel.get("name"));if(!upperLabelRect&&thisLayout.isLeafRoot){var iconChar=seriesModel.get("drillDownIcon",!0);text=iconChar?iconChar+" "+text:text}var normalLabelModel=nodeModel.getModel(upperLabelRect?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),emphasisLabelModel=nodeModel.getModel(upperLabelRect?PATH_UPPERLABEL_EMPHASIS:PATH_LABEL_EMPHASIS),isShow=normalLabelModel.getShallow("show");graphic.setLabelStyle(normalStyle,emphasisStyle,normalLabelModel,emphasisLabelModel,{"defaultText":isShow?text:null,"autoColor":visualColor,"isRectText":!0}),upperLabelRect&&(normalStyle.textRect=zrUtil.clone(upperLabelRect)),normalStyle.truncate=isShow&&normalLabelModel.get("ellipsis")?{"outerWidth":width,"outerHeight":height,"minChar":2}:null}function giveGraphic(storageName,Ctor,depth,z){var element=null!=oldRawIndex&&oldStorage[storageName][oldRawIndex],lasts=lastsForAnimation[storageName];return element?(oldStorage[storageName][oldRawIndex]=null,prepareAnimationWhenHasOld(lasts,element,storageName)):thisInvisible||(element=new Ctor({"z":calculateZ(depth,z)}),element.__tmDepth=depth,element.__tmStorageName=storageName,prepareAnimationWhenNoOld(lasts,element,storageName)),thisStorage[storageName][thisRawIndex]=element}function prepareAnimationWhenHasOld(lasts,element,storageName){var lastCfg=lasts[thisRawIndex]={};lastCfg.old="nodeGroup"===storageName?element.position.slice():zrUtil.extend({},element.shape)}function prepareAnimationWhenNoOld(lasts,element,storageName){var lastCfg=lasts[thisRawIndex]={},parentNode=thisNode.parentNode;if(parentNode&&(!reRoot||"drillDown"===reRoot.direction)){var parentOldX=0,parentOldY=0,parentOldBg=lastsForAnimation.background[parentNode.getRawIndex()];!reRoot&&parentOldBg&&parentOldBg.old&&(parentOldX=parentOldBg.old.width,parentOldY=parentOldBg.old.height),lastCfg.old="nodeGroup"===storageName?[0,parentOldY]:{"x":parentOldX,"y":parentOldY,"width":0,"height":0}}lastCfg.fadein="nodeGroup"!==storageName}if(thisNode){var thisLayout=thisNode.getLayout();if(thisLayout&&thisLayout.isInView){var thisWidth=thisLayout.width,thisHeight=thisLayout.height,borderWidth=thisLayout.borderWidth,thisInvisible=thisLayout.invisible,thisRawIndex=thisNode.getRawIndex(),oldRawIndex=oldNode&&oldNode.getRawIndex(),thisViewChildren=thisNode.viewChildren,upperHeight=thisLayout.upperHeight,isParent=thisViewChildren&&thisViewChildren.length,itemStyleNormalModel=thisNode.getModel("itemStyle"),itemStyleEmphasisModel=thisNode.getModel("emphasis.itemStyle"),group=giveGraphic("nodeGroup",Group);if(group){if(parentGroup.add(group),group.attr("position",[thisLayout.x||0,thisLayout.y||0]),group.__tmNodeWidth=thisWidth,group.__tmNodeHeight=thisHeight,thisLayout.isAboveViewRoot)return group;var bg=giveGraphic("background",Rect,depth,Z_BG);if(bg&&renderBackground(group,bg,isParent&&thisLayout.upperHeight),!isParent){var content=giveGraphic("content",Rect,depth,Z_CONTENT);content&&renderContent(group,content)}return group}}}}function calculateZ(depth,zInLevel){var zb=depth*Z_BASE+zInLevel;return(zb-1)/zb}var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),graphic=__webpack_require__(15),DataDiffer=__webpack_require__(160),helper=__webpack_require__(157),Breadcrumb=__webpack_require__(1449),RoamController=__webpack_require__(272),BoundingRect=__webpack_require__(43),matrix=__webpack_require__(70),animationUtil=__webpack_require__(1598),makeStyleMapper=__webpack_require__(194),bind=zrUtil.bind,Group=graphic.Group,Rect=graphic.Rect,each=zrUtil.each,DRAG_THRESHOLD=3,PATH_LABEL_NOAMAL=["label"],PATH_LABEL_EMPHASIS=["emphasis","label"],PATH_UPPERLABEL_NORMAL=["upperLabel"],PATH_UPPERLABEL_EMPHASIS=["emphasis","upperLabel"],Z_BASE=10,Z_BG=1,Z_CONTENT=2,getItemStyleEmphasis=makeStyleMapper([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(model){var itemStyle=getItemStyleEmphasis(model);return itemStyle.stroke=itemStyle.fill=itemStyle.lineWidth=null,itemStyle},_default=echarts.extendChartView({"type":"treemap","init":function(o,api){this._containerGroup,this._storage=createStorage(),this._oldTree,this._breadcrumb,this._controller,this._state="ready"},"render":function(seriesModel,ecModel,api,payload){var models=ecModel.findComponents({"mainType":"series","subType":"treemap","query":payload});if(!(zrUtil.indexOf(models,seriesModel)<0)){this.seriesModel=seriesModel,this.api=api,this.ecModel=ecModel;var types=["treemapZoomToNode","treemapRootToNode"],targetInfo=helper.retrieveTargetInfo(payload,types,seriesModel),payloadType=payload&&payload.type,layoutInfo=seriesModel.layoutInfo,isInit=!this._oldTree,thisStorage=this._storage,reRoot="treemapRootToNode"===payloadType&&targetInfo&&thisStorage?{"rootNodeGroup":thisStorage.nodeGroup[targetInfo.node.getRawIndex()],"direction":payload.direction}:null,containerGroup=this._giveContainerGroup(layoutInfo),renderResult=this._doRender(containerGroup,seriesModel,reRoot);isInit||payloadType&&"treemapZoomToNode"!==payloadType&&"treemapRootToNode"!==payloadType?renderResult.renderFinally():this._doAnimation(containerGroup,renderResult,seriesModel,reRoot),this._resetController(api),this._renderBreadcrumb(seriesModel,api,targetInfo)}},"_giveContainerGroup":function(layoutInfo){var containerGroup=this._containerGroup;return containerGroup||(containerGroup=this._containerGroup=new Group,this._initEvents(containerGroup),this.group.add(containerGroup)),containerGroup.attr("position",[layoutInfo.x,layoutInfo.y]),containerGroup},"_doRender":function(containerGroup,seriesModel,reRoot){function dualTravel(thisViewChildren,oldViewChildren,parentGroup,sameTree,depth){function getKey(node){return node.getId()}function processNode(newIndex,oldIndex){var thisNode=null!=newIndex?thisViewChildren[newIndex]:null,oldNode=null!=oldIndex?oldViewChildren[oldIndex]:null,group=doRenderNode(thisNode,oldNode,parentGroup,depth);group&&dualTravel(thisNode&&thisNode.viewChildren||[],oldNode&&oldNode.viewChildren||[],group,sameTree,depth+1)}sameTree?(oldViewChildren=thisViewChildren,each(thisViewChildren,function(child,index){!child.isRemoved()&&processNode(index,index)})):new DataDiffer(oldViewChildren,thisViewChildren,getKey,getKey).add(processNode).update(processNode).remove(zrUtil.curry(processNode,null)).execute()}function clearStorage(storage){var willDeleteEls=createStorage();return storage&&each(storage,function(store,storageName){var delEls=willDeleteEls[storageName];each(store,function(el){el&&(delEls.push(el),el.__tmWillDelete=1)})}),willDeleteEls}function renderFinally(){each(willDeleteEls,function(els){each(els,function(el){el.parent&&el.parent.remove(el)})}),each(willInvisibleEls,function(el){el.invisible=!0,el.dirty()})}var thisTree=seriesModel.getData().tree,oldTree=this._oldTree,lastsForAnimation=createStorage(),thisStorage=createStorage(),oldStorage=this._storage,willInvisibleEls=[],doRenderNode=zrUtil.curry(renderNode,seriesModel,thisStorage,oldStorage,reRoot,lastsForAnimation,willInvisibleEls);dualTravel(thisTree.root?[thisTree.root]:[],oldTree&&oldTree.root?[oldTree.root]:[],containerGroup,thisTree===oldTree||!oldTree,0);var willDeleteEls=clearStorage(oldStorage);return this._oldTree=thisTree,this._storage=thisStorage,{"lastsForAnimation":lastsForAnimation,"willDeleteEls":willDeleteEls,"renderFinally":renderFinally}},"_doAnimation":function(containerGroup,renderResult,seriesModel,reRoot){if(seriesModel.get("animation")){var duration=seriesModel.get("animationDurationUpdate"),easing=seriesModel.get("animationEasing"),animationWrap=animationUtil.createWrap();each(renderResult.willDeleteEls,function(store,storageName){each(store,function(el,rawIndex){if(!el.invisible){var target,parent=el.parent;if(reRoot&&"drillDown"===reRoot.direction)target=parent===reRoot.rootNodeGroup?{"shape":{"x":0,"y":0,"width":parent.__tmNodeWidth,"height":parent.__tmNodeHeight},"style":{"opacity":0}}:{"style":{"opacity":0}};else{var targetX=0,targetY=0;parent.__tmWillDelete||(targetX=parent.__tmNodeWidth/2,targetY=parent.__tmNodeHeight/2),target="nodeGroup"===storageName?{"position":[targetX,targetY],"style":{"opacity":0}}:{"shape":{"x":targetX,"y":targetY,"width":0,"height":0},"style":{"opacity":0}}}target&&animationWrap.add(el,target,duration,easing)}})}),each(this._storage,function(store,storageName){each(store,function(el,rawIndex){var last=renderResult.lastsForAnimation[storageName][rawIndex],target={};last&&("nodeGroup"===storageName?last.old&&(target.position=el.position.slice(),el.attr("position",last.old)):(last.old&&(target.shape=zrUtil.extend({},el.shape),el.setShape(last.old)),last.fadein?(el.setStyle("opacity",0),target.style={"opacity":1}):1!==el.style.opacity&&(target.style={"opacity":1})),animationWrap.add(el,target,duration,easing))})},this),this._state="animating",animationWrap.done(bind(function(){this._state="ready",renderResult.renderFinally()},this)).start()}},"_resetController":function(api){var controller=this._controller;controller||(controller=this._controller=new RoamController(api.getZr()),controller.enable(this.seriesModel.get("roam")),controller.on("pan",bind(this._onPan,this)),controller.on("zoom",bind(this._onZoom,this)));var rect=new BoundingRect(0,0,api.getWidth(),api.getHeight());controller.setPointerChecker(function(e,x,y){return rect.contain(x,y)})},"_clearController":function(){var controller=this._controller;controller&&(controller.dispose(),controller=null)},"_onPan":function(dx,dy){if("animating"!==this._state&&(Math.abs(dx)>DRAG_THRESHOLD||Math.abs(dy)>DRAG_THRESHOLD)){var root=this.seriesModel.getData().tree.root;if(!root)return;var rootLayout=root.getLayout();if(!rootLayout)return;this.api.dispatchAction({"type":"treemapMove","from":this.uid,"seriesId":this.seriesModel.id,"rootRect":{"x":rootLayout.x+dx,"y":rootLayout.y+dy,"width":rootLayout.width,"height":rootLayout.height}})}},"_onZoom":function(scale,mouseX,mouseY){if("animating"!==this._state){var root=this.seriesModel.getData().tree.root;if(!root)return;var rootLayout=root.getLayout();if(!rootLayout)return;var rect=new BoundingRect(rootLayout.x,rootLayout.y,rootLayout.width,rootLayout.height),layoutInfo=this.seriesModel.layoutInfo;mouseX-=layoutInfo.x,mouseY-=layoutInfo.y;var m=matrix.create();matrix.translate(m,m,[-mouseX,-mouseY]),matrix.scale(m,m,[scale,scale]),matrix.translate(m,m,[mouseX,mouseY]),rect.applyTransform(m),this.api.dispatchAction({"type":"treemapRender","from":this.uid,"seriesId":this.seriesModel.id,"rootRect":{"x":rect.x,"y":rect.y,"width":rect.width,"height":rect.height}})}},"_initEvents":function(containerGroup){containerGroup.on("click",function(e){if("ready"===this._state){var nodeClick=this.seriesModel.get("nodeClick",!0);if(nodeClick){var targetInfo=this.findTarget(e.offsetX,e.offsetY);if(targetInfo){var node=targetInfo.node;if(node.getLayout().isLeafRoot)this._rootToNode(targetInfo);else if("zoomToNode"===nodeClick)this._zoomToNode(targetInfo);else if("link"===nodeClick){var itemModel=node.hostTree.data.getItemModel(node.dataIndex),link=itemModel.get("link",!0),linkTarget=itemModel.get("target",!0)||"blank";link&&window.open(link,linkTarget)}}}}},this)},"_renderBreadcrumb":function(seriesModel,api,targetInfo){function onSelect(node){"animating"!==this._state&&(helper.aboveViewRoot(seriesModel.getViewRoot(),node)?this._rootToNode({"node":node}):this._zoomToNode({"node":node}))}targetInfo||(targetInfo=null!=seriesModel.get("leafDepth",!0)?{"node":seriesModel.getViewRoot()}:this.findTarget(api.getWidth()/2,api.getHeight()/2),targetInfo||(targetInfo={"node":seriesModel.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Breadcrumb(this.group))).render(seriesModel,api,targetInfo.node,bind(onSelect,this))},"remove":function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},"dispose":function(){this._clearController()},"_zoomToNode":function(targetInfo){this.api.dispatchAction({"type":"treemapZoomToNode","from":this.uid,"seriesId":this.seriesModel.id,"targetNode":targetInfo.node})},"_rootToNode":function(targetInfo){this.api.dispatchAction({"type":"treemapRootToNode","from":this.uid,"seriesId":this.seriesModel.id,"targetNode":targetInfo.node})},"findTarget":function(x,y){var targetInfo,viewRoot=this.seriesModel.getViewRoot();return viewRoot.eachNode({"attr":"viewChildren","order":"preorder"},function(node){var bgEl=this._storage.background[node.getRawIndex()];if(bgEl){var point=bgEl.transformCoordToLocal(x,y),shape=bgEl.shape;if(!(shape.x<=point[0]&&point[0]<=shape.x+shape.width&&shape.y<=point[1]&&point[1]<=shape.y+shape.height))return!1;targetInfo={"node":node,"offsetX":point[0],"offsetY":point[1]}}},this),targetInfo}});module.exports=_default},function(module,exports,__webpack_require__){for(var echarts=__webpack_require__(13),helper=__webpack_require__(157),noop=function(){},actionTypes=["treemapZoomToNode","treemapRender","treemapMove"],i=0;i<actionTypes.length;i++)echarts.registerAction({"type":actionTypes[i],"update":"updateView"},noop);echarts.registerAction({"type":"treemapRootToNode","update":"updateView"},function(payload,ecModel){function handleRootToNode(model,index){var types=["treemapZoomToNode","treemapRootToNode"],targetInfo=helper.retrieveTargetInfo(payload,types,model);if(targetInfo){var originViewRoot=model.getViewRoot();originViewRoot&&(payload.direction=helper.aboveViewRoot(originViewRoot,targetInfo.node)?"rollUp":"drillDown"),model.resetViewRoot(targetInfo.node)}}ecModel.eachComponent({"mainType":"series","subType":"treemap","query":payload},handleRootToNode)})},function(module,exports,__webpack_require__){function squarify(node,options,hideChildren,depth){var width,height;if(!node.isRemoved()){var thisLayout=node.getLayout();width=thisLayout.width,height=thisLayout.height;var nodeModel=node.getModel(),borderWidth=nodeModel.get(PATH_BORDER_WIDTH),halfGapWidth=nodeModel.get(PATH_GAP_WIDTH)/2,upperLabelHeight=getUpperLabelHeight(nodeModel),upperHeight=Math.max(borderWidth,upperLabelHeight),layoutOffset=borderWidth-halfGapWidth,layoutOffsetUpper=upperHeight-halfGapWidth,nodeModel=node.getModel();node.setLayout({"borderWidth":borderWidth,"upperHeight":upperHeight,"upperLabelHeight":upperLabelHeight},!0),width=mathMax(width-2*layoutOffset,0),height=mathMax(height-layoutOffset-layoutOffsetUpper,0);var totalArea=width*height,viewChildren=initChildren(node,nodeModel,totalArea,options,hideChildren,depth);if(viewChildren.length){var rect={"x":layoutOffset,"y":layoutOffsetUpper,"width":width,"height":height},rowFixedLength=mathMin(width,height),best=1/0,row=[];row.area=0;for(var i=0,len=viewChildren.length;i<len;){var child=viewChildren[i];row.push(child),row.area+=child.getLayout().area;var score=worst(row,rowFixedLength,options.squareRatio);score<=best?(i++,best=score):(row.area-=row.pop().getLayout().area,position(row,rowFixedLength,rect,halfGapWidth,!1),rowFixedLength=mathMin(rect.width,rect.height),row.length=row.area=0,best=1/0)}if(row.length&&position(row,rowFixedLength,rect,halfGapWidth,!0),!hideChildren){var childrenVisibleMin=nodeModel.get("childrenVisibleMin");null!=childrenVisibleMin&&totalArea<childrenVisibleMin&&(hideChildren=!0)}for(var i=0,len=viewChildren.length;i<len;i++)squarify(viewChildren[i],options,hideChildren,depth+1)}}}function initChildren(node,nodeModel,totalArea,options,hideChildren,depth){var viewChildren=node.children||[],orderBy=options.sort;"asc"!==orderBy&&"desc"!==orderBy&&(orderBy=null);var overLeafDepth=null!=options.leafDepth&&options.leafDepth<=depth;if(hideChildren&&!overLeafDepth)return node.viewChildren=[];viewChildren=zrUtil.filter(viewChildren,function(child){return!child.isRemoved()}),sort(viewChildren,orderBy);var info=statistic(nodeModel,viewChildren,orderBy);if(0===info.sum)return node.viewChildren=[];if(info.sum=filterByThreshold(nodeModel,totalArea,info.sum,orderBy,viewChildren),0===info.sum)return node.viewChildren=[];for(var i=0,len=viewChildren.length;i<len;i++){var area=viewChildren[i].getValue()/info.sum*totalArea;viewChildren[i].setLayout({"area":area})}return overLeafDepth&&(viewChildren.length&&node.setLayout({"isLeafRoot":!0},!0),viewChildren.length=0),node.viewChildren=viewChildren,node.setLayout({"dataExtent":info.dataExtent},!0),viewChildren}function filterByThreshold(nodeModel,totalArea,sum,orderBy,orderedChildren){if(!orderBy)return sum;for(var visibleMin=nodeModel.get("visibleMin"),len=orderedChildren.length,deletePoint=len,i=len-1;i>=0;i--){var value=orderedChildren["asc"===orderBy?len-i-1:i].getValue();value/sum*totalArea<visibleMin&&(deletePoint=i,sum-=value)}return"asc"===orderBy?orderedChildren.splice(0,len-deletePoint):orderedChildren.splice(deletePoint,len-deletePoint),sum}function sort(viewChildren,orderBy){return orderBy&&viewChildren.sort(function(a,b){var diff="asc"===orderBy?a.getValue()-b.getValue():b.getValue()-a.getValue();return 0===diff?"asc"===orderBy?a.dataIndex-b.dataIndex:b.dataIndex-a.dataIndex:diff;
}),viewChildren}function statistic(nodeModel,children,orderBy){for(var sum=0,i=0,len=children.length;i<len;i++)sum+=children[i].getValue();var dataExtent,dimension=nodeModel.get("visualDimension");if(children&&children.length)if("value"===dimension&&orderBy)dataExtent=[children[children.length-1].getValue(),children[0].getValue()],"asc"===orderBy&&dataExtent.reverse();else{var dataExtent=[1/0,-(1/0)];each(children,function(child){var value=child.getValue(dimension);value<dataExtent[0]&&(dataExtent[0]=value),value>dataExtent[1]&&(dataExtent[1]=value)})}else dataExtent=[NaN,NaN];return{"sum":sum,"dataExtent":dataExtent}}function worst(row,rowFixedLength,ratio){for(var area,areaMax=0,areaMin=1/0,i=0,len=row.length;i<len;i++)area=row[i].getLayout().area,area&&(area<areaMin&&(areaMin=area),area>areaMax&&(areaMax=area));var squareArea=row.area*row.area,f=rowFixedLength*rowFixedLength*ratio;return squareArea?mathMax(f*areaMax/squareArea,squareArea/(f*areaMin)):1/0}function position(row,rowFixedLength,rect,halfGapWidth,flush){var idx0WhenH=rowFixedLength===rect.width?0:1,idx1WhenH=1-idx0WhenH,xy=["x","y"],wh=["width","height"],last=rect[xy[idx0WhenH]],rowOtherLength=rowFixedLength?row.area/rowFixedLength:0;(flush||rowOtherLength>rect[wh[idx1WhenH]])&&(rowOtherLength=rect[wh[idx1WhenH]]);for(var i=0,rowLen=row.length;i<rowLen;i++){var node=row[i],nodeLayout={},step=rowOtherLength?node.getLayout().area/rowOtherLength:0,wh1=nodeLayout[wh[idx1WhenH]]=mathMax(rowOtherLength-2*halfGapWidth,0),remain=rect[xy[idx0WhenH]]+rect[wh[idx0WhenH]]-last,modWH=i===rowLen-1||remain<step?remain:step,wh0=nodeLayout[wh[idx0WhenH]]=mathMax(modWH-2*halfGapWidth,0);nodeLayout[xy[idx1WhenH]]=rect[xy[idx1WhenH]]+mathMin(halfGapWidth,wh1/2),nodeLayout[xy[idx0WhenH]]=last+mathMin(halfGapWidth,wh0/2),last+=modWH,node.setLayout(nodeLayout,!0)}rect[xy[idx1WhenH]]+=rowOtherLength,rect[wh[idx1WhenH]]-=rowOtherLength}function estimateRootSize(seriesModel,targetInfo,viewRoot,containerWidth,containerHeight){var currNode=(targetInfo||{}).node,defaultSize=[containerWidth,containerHeight];if(!currNode||currNode===viewRoot)return defaultSize;for(var parent,viewArea=containerWidth*containerHeight,area=viewArea*seriesModel.option.zoomToNodeRatio;parent=currNode.parentNode;){for(var sum=0,siblings=parent.children,i=0,len=siblings.length;i<len;i++)sum+=siblings[i].getValue();var currNodeValue=currNode.getValue();if(0===currNodeValue)return defaultSize;area*=sum/currNodeValue;var parentModel=parent.getModel(),borderWidth=parentModel.get(PATH_BORDER_WIDTH),upperHeight=Math.max(borderWidth,getUpperLabelHeight(parentModel,borderWidth));area+=4*borderWidth*borderWidth+(3*borderWidth+upperHeight)*Math.pow(area,.5),area>MAX_SAFE_INTEGER&&(area=MAX_SAFE_INTEGER),currNode=parent}area<viewArea&&(area=viewArea);var scale=Math.pow(area/viewArea,.5);return[containerWidth*scale,containerHeight*scale]}function calculateRootPosition(layoutInfo,rootRect,targetInfo){if(rootRect)return{"x":rootRect.x,"y":rootRect.y};var defaultPosition={"x":0,"y":0};if(!targetInfo)return defaultPosition;var targetNode=targetInfo.node,layout=targetNode.getLayout();if(!layout)return defaultPosition;for(var targetCenter=[layout.width/2,layout.height/2],node=targetNode;node;){var nodeLayout=node.getLayout();targetCenter[0]+=nodeLayout.x,targetCenter[1]+=nodeLayout.y,node=node.parentNode}return{"x":layoutInfo.width/2-targetCenter[0],"y":layoutInfo.height/2-targetCenter[1]}}function prunning(node,clipRect,viewAbovePath,viewRoot,depth){var nodeLayout=node.getLayout(),nodeInViewAbovePath=viewAbovePath[depth],isAboveViewRoot=nodeInViewAbovePath&&nodeInViewAbovePath===node;if(!(nodeInViewAbovePath&&!isAboveViewRoot||depth===viewAbovePath.length&&node!==viewRoot)){node.setLayout({"isInView":!0,"invisible":!isAboveViewRoot&&!clipRect.intersect(nodeLayout),"isAboveViewRoot":isAboveViewRoot},!0);var childClipRect=new BoundingRect(clipRect.x-nodeLayout.x,clipRect.y-nodeLayout.y,clipRect.width,clipRect.height);each(node.viewChildren||[],function(child){prunning(child,childClipRect,viewAbovePath,viewRoot,depth+1)})}}function getUpperLabelHeight(model){return model.get(PATH_UPPER_LABEL_SHOW)?model.get(PATH_UPPER_LABEL_HEIGHT):0}var zrUtil=__webpack_require__(4),BoundingRect=__webpack_require__(43),_number=__webpack_require__(20),parsePercent=_number.parsePercent,MAX_SAFE_INTEGER=_number.MAX_SAFE_INTEGER,layout=__webpack_require__(34),helper=__webpack_require__(157),mathMax=Math.max,mathMin=Math.min,retrieveValue=zrUtil.retrieve,each=zrUtil.each,PATH_BORDER_WIDTH=["itemStyle","borderWidth"],PATH_GAP_WIDTH=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT=["upperLabel","height"],_default={"seriesType":"treemap","reset":function(seriesModel,ecModel,api,payload){var ecWidth=api.getWidth(),ecHeight=api.getHeight(),seriesOption=seriesModel.option,layoutInfo=layout.getLayoutRect(seriesModel.getBoxLayoutParams(),{"width":api.getWidth(),"height":api.getHeight()}),size=seriesOption.size||[],containerWidth=parsePercent(retrieveValue(layoutInfo.width,size[0]),ecWidth),containerHeight=parsePercent(retrieveValue(layoutInfo.height,size[1]),ecHeight),payloadType=payload&&payload.type,types=["treemapZoomToNode","treemapRootToNode"],targetInfo=helper.retrieveTargetInfo(payload,types,seriesModel),rootRect="treemapRender"===payloadType||"treemapMove"===payloadType?payload.rootRect:null,viewRoot=seriesModel.getViewRoot(),viewAbovePath=helper.getPathToRoot(viewRoot);if("treemapMove"!==payloadType){var rootSize="treemapZoomToNode"===payloadType?estimateRootSize(seriesModel,targetInfo,viewRoot,containerWidth,containerHeight):rootRect?[rootRect.width,rootRect.height]:[containerWidth,containerHeight],sort=seriesOption.sort;sort&&"asc"!==sort&&"desc"!==sort&&(sort="desc");var options={"squareRatio":seriesOption.squareRatio,"sort":sort,"leafDepth":seriesOption.leafDepth};viewRoot.hostTree.clearLayouts();var viewRootLayout={"x":0,"y":0,"width":rootSize[0],"height":rootSize[1],"area":rootSize[0]*rootSize[1]};viewRoot.setLayout(viewRootLayout),squarify(viewRoot,options,!1,0);var viewRootLayout=viewRoot.getLayout();each(viewAbovePath,function(node,index){var childValue=(viewAbovePath[index+1]||viewRoot).getValue();node.setLayout(zrUtil.extend({"dataExtent":[childValue,childValue],"borderWidth":0,"upperHeight":0},viewRootLayout))})}var treeRoot=seriesModel.getData().tree.root;treeRoot.setLayout(calculateRootPosition(layoutInfo,rootRect,targetInfo),!0),seriesModel.setLayoutInfo(layoutInfo),prunning(treeRoot,new BoundingRect(-layoutInfo.x,-layoutInfo.y,ecWidth,ecHeight),viewAbovePath,viewRoot,0)}};module.exports=_default},function(module,exports,__webpack_require__){function travelTree(node,designatedVisual,levelItemStyles,seriesItemStyleModel,viewRootAncestors,seriesModel){var nodeModel=node.getModel(),nodeLayout=node.getLayout();if(nodeLayout&&!nodeLayout.invisible&&nodeLayout.isInView){var thisNodeColor,nodeItemStyleModel=node.getModel(ITEM_STYLE_NORMAL),levelItemStyle=levelItemStyles[node.depth],visuals=buildVisuals(nodeItemStyleModel,designatedVisual,levelItemStyle,seriesItemStyleModel),borderColor=nodeItemStyleModel.get("borderColor"),borderColorSaturation=nodeItemStyleModel.get("borderColorSaturation");null!=borderColorSaturation&&(thisNodeColor=calculateColor(visuals,node),borderColor=calculateBorderColor(borderColorSaturation,thisNodeColor)),node.setVisual("borderColor",borderColor);var viewChildren=node.viewChildren;if(viewChildren&&viewChildren.length){var mapping=buildVisualMapping(node,nodeModel,nodeLayout,nodeItemStyleModel,visuals,viewChildren);zrUtil.each(viewChildren,function(child,index){if(child.depth>=viewRootAncestors.length||child===viewRootAncestors[child.depth]){var childVisual=mapVisual(nodeModel,visuals,child,index,mapping,seriesModel);travelTree(child,childVisual,levelItemStyles,seriesItemStyleModel,viewRootAncestors,seriesModel)}})}else thisNodeColor=calculateColor(visuals,node),node.setVisual("color",thisNodeColor)}}function buildVisuals(nodeItemStyleModel,designatedVisual,levelItemStyle,seriesItemStyleModel){var visuals=zrUtil.extend({},designatedVisual);return zrUtil.each(["color","colorAlpha","colorSaturation"],function(visualName){var val=nodeItemStyleModel.get(visualName,!0);null==val&&levelItemStyle&&(val=levelItemStyle[visualName]),null==val&&(val=designatedVisual[visualName]),null==val&&(val=seriesItemStyleModel.get(visualName)),null!=val&&(visuals[visualName]=val)}),visuals}function calculateColor(visuals){var color=getValueVisualDefine(visuals,"color");if(color){var colorAlpha=getValueVisualDefine(visuals,"colorAlpha"),colorSaturation=getValueVisualDefine(visuals,"colorSaturation");return colorSaturation&&(color=zrColor.modifyHSL(color,null,null,colorSaturation)),colorAlpha&&(color=zrColor.modifyAlpha(color,colorAlpha)),color}}function calculateBorderColor(borderColorSaturation,thisNodeColor){return null!=thisNodeColor?zrColor.modifyHSL(thisNodeColor,null,null,borderColorSaturation):null}function getValueVisualDefine(visuals,name){var value=visuals[name];if(null!=value&&"none"!==value)return value}function buildVisualMapping(node,nodeModel,nodeLayout,nodeItemStyleModel,visuals,viewChildren){if(viewChildren&&viewChildren.length){var rangeVisual=getRangeVisual(nodeModel,"color")||null!=visuals.color&&"none"!==visuals.color&&(getRangeVisual(nodeModel,"colorAlpha")||getRangeVisual(nodeModel,"colorSaturation"));if(rangeVisual){var visualMin=nodeModel.get("visualMin"),visualMax=nodeModel.get("visualMax"),dataExtent=nodeLayout.dataExtent.slice();null!=visualMin&&visualMin<dataExtent[0]&&(dataExtent[0]=visualMin),null!=visualMax&&visualMax>dataExtent[1]&&(dataExtent[1]=visualMax);var colorMappingBy=nodeModel.get("colorMappingBy"),opt={"type":rangeVisual.name,"dataExtent":dataExtent,"visual":rangeVisual.range};"color"!==opt.type||"index"!==colorMappingBy&&"id"!==colorMappingBy?opt.mappingMethod="linear":(opt.mappingMethod="category",opt.loop=!0);var mapping=new VisualMapping(opt);return mapping.__drColorMappingBy=colorMappingBy,mapping}}}function getRangeVisual(nodeModel,name){var range=nodeModel.get(name);return isArray(range)&&range.length?{"name":name,"range":range}:null}function mapVisual(nodeModel,visuals,child,index,mapping,seriesModel){var childVisuals=zrUtil.extend({},visuals);if(mapping){var mappingType=mapping.type,colorMappingBy="color"===mappingType&&mapping.__drColorMappingBy,value="index"===colorMappingBy?index:"id"===colorMappingBy?seriesModel.mapIdToIndex(child.getId()):child.getValue(nodeModel.get("visualDimension"));childVisuals[mappingType]=mapping.mapValueToVisual(value)}return childVisuals}var VisualMapping=__webpack_require__(164),zrColor=__webpack_require__(125),zrUtil=__webpack_require__(4),isArray=zrUtil.isArray,ITEM_STYLE_NORMAL="itemStyle",_default={"seriesType":"treemap","reset":function(seriesModel,ecModel,api,payload){var tree=seriesModel.getData().tree,root=tree.root,seriesItemStyleModel=seriesModel.getModel(ITEM_STYLE_NORMAL);if(!root.isRemoved()){var levelItemStyles=zrUtil.map(tree.levelModels,function(levelModel){return levelModel?levelModel.get(ITEM_STYLE_NORMAL):null});travelTree(root,{},levelItemStyles,seriesItemStyleModel,seriesModel.getViewRoot().getAncestors(),seriesModel)}}};module.exports=_default},function(module,exports,__webpack_require__){__webpack_require__(388),__webpack_require__(1462)},function(module,exports,__webpack_require__){__webpack_require__(649),__webpack_require__(1463)},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),AxisPointerModel=echarts.extendComponentModel({"type":"axisPointer","coordSysAxesInfo":null,"defaultOption":{"show":"auto","triggerOn":null,"zlevel":0,"z":50,"type":"line","snap":!1,"triggerTooltip":!0,"value":null,"status":null,"link":[],"animation":null,"animationDurationUpdate":200,"lineStyle":{"color":"#aaa","width":1,"type":"solid"},"shadowStyle":{"color":"rgba(150,150,150,0.3)"},"label":{"show":!0,"formatter":null,"precision":"auto","margin":3,"color":"#fff","padding":[5,7,5,7],"backgroundColor":"auto","borderColor":null,"borderWidth":0,"shadowBlur":3,"shadowColor":"#aaa"},"handle":{"show":!1,"icon":"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z","size":45,"margin":50,"color":"#333","shadowBlur":3,"shadowColor":"#aaa","shadowOffsetX":0,"shadowOffsetY":2,"throttle":40}}}),_default=AxisPointerModel;module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),globalListener=__webpack_require__(624),AxisPointerView=echarts.extendComponentView({"type":"axisPointer","render":function(globalAxisPointerModel,ecModel,api){var globalTooltipModel=ecModel.getComponent("tooltip"),triggerOn=globalAxisPointerModel.get("triggerOn")||globalTooltipModel&&globalTooltipModel.get("triggerOn")||"mousemove|click";globalListener.register("axisPointer",api,function(currTrigger,e,dispatchAction){"none"!==triggerOn&&("leave"===currTrigger||triggerOn.indexOf(currTrigger)>=0)&&dispatchAction({"type":"updateAxisPointer","currTrigger":currTrigger,"x":e&&e.offsetX,"y":e&&e.offsetY})})},"remove":function(ecModel,api){globalListener.unregister(api.getZr(),"axisPointer"),AxisPointerView.superApply(this._model,"remove",arguments)},"dispose":function(ecModel,api){globalListener.unregister("axisPointer",api),AxisPointerView.superApply(this._model,"dispose",arguments)}}),_default=AxisPointerView;module.exports=_default},function(module,exports,__webpack_require__){function getLabelPosition(value,axisModel,axisPointerModel,polar,labelMargin){var axis=axisModel.axis,coord=axis.dataToCoord(value),axisAngle=polar.getAngleAxis().getExtent()[0];axisAngle=axisAngle/180*Math.PI;var position,align,verticalAlign,radiusExtent=polar.getRadiusAxis().getExtent();if("radius"===axis.dim){var transform=matrix.create();matrix.rotate(transform,transform,axisAngle),matrix.translate(transform,transform,[polar.cx,polar.cy]),position=graphic.applyTransform([coord,-labelMargin],transform);var labelRotation=axisModel.getModel("axisLabel").get("rotate")||0,labelLayout=AxisBuilder.innerTextLayout(axisAngle,labelRotation*Math.PI/180,-1);align=labelLayout.textAlign,verticalAlign=labelLayout.textVerticalAlign}else{var r=radiusExtent[1];position=polar.coordToPoint([r+labelMargin,coord]);var cx=polar.cx,cy=polar.cy;align=Math.abs(position[0]-cx)/r<.3?"center":position[0]>cx?"left":"right",verticalAlign=Math.abs(position[1]-cy)/r<.3?"middle":position[1]>cy?"top":"bottom"}return{"position":position,"align":align,"verticalAlign":verticalAlign}}var formatUtil=__webpack_require__(40),BaseAxisPointer=__webpack_require__(379),graphic=__webpack_require__(15),viewHelper=__webpack_require__(271),matrix=__webpack_require__(70),AxisBuilder=__webpack_require__(158),AxisView=__webpack_require__(159),PolarAxisPointer=BaseAxisPointer.extend({"makeElOption":function(elOption,value,axisModel,axisPointerModel,api){var axis=axisModel.axis;"angle"===axis.dim&&(this.animationThreshold=Math.PI/18);var coordValue,polar=axis.polar,otherAxis=polar.getOtherAxis(axis),otherExtent=otherAxis.getExtent();coordValue=axis["dataTo"+formatUtil.capitalFirst(axis.dim)](value);var axisPointerType=axisPointerModel.get("type");if(axisPointerType&&"none"!==axisPointerType){var elStyle=viewHelper.buildElStyle(axisPointerModel),pointerOption=pointerShapeBuilder[axisPointerType](axis,polar,coordValue,otherExtent,elStyle);pointerOption.style=elStyle,elOption.graphicKey=pointerOption.type,elOption.pointer=pointerOption}var labelMargin=axisPointerModel.get("label.margin"),labelPos=getLabelPosition(value,axisModel,axisPointerModel,polar,labelMargin);viewHelper.buildLabelElOption(elOption,axisModel,axisPointerModel,api,labelPos)}}),pointerShapeBuilder={"line":function(axis,polar,coordValue,otherExtent,elStyle){return"angle"===axis.dim?{"type":"Line","shape":viewHelper.makeLineShape(polar.coordToPoint([otherExtent[0],coordValue]),polar.coordToPoint([otherExtent[1],coordValue]))}:{"type":"Circle","shape":{"cx":polar.cx,"cy":polar.cy,"r":coordValue}}},"shadow":function(axis,polar,coordValue,otherExtent,elStyle){var bandWidth=Math.max(1,axis.getBandWidth()),radian=Math.PI/180;return"angle"===axis.dim?{"type":"Sector","shape":viewHelper.makeSectorShape(polar.cx,polar.cy,otherExtent[0],otherExtent[1],(-coordValue-bandWidth/2)*radian,(-coordValue+bandWidth/2)*radian)}:{"type":"Sector","shape":viewHelper.makeSectorShape(polar.cx,polar.cy,coordValue-bandWidth/2,coordValue+bandWidth/2,0,2*Math.PI)}}};AxisView.registerAxisPointerClass("PolarAxisPointer",PolarAxisPointer);var _default=PolarAxisPointer;module.exports=_default},function(module,exports,__webpack_require__){function getPointDimIndex(axis){return axis.isHorizontal()?0:1}function getGlobalExtent(coordSys,dimIndex){var rect=coordSys.getRect();return[rect[XY[dimIndex]],rect[XY[dimIndex]]+rect[WH[dimIndex]]]}var graphic=__webpack_require__(15),BaseAxisPointer=__webpack_require__(379),viewHelper=__webpack_require__(271),singleAxisHelper=__webpack_require__(654),AxisView=__webpack_require__(159),XY=["x","y"],WH=["width","height"],SingleAxisPointer=BaseAxisPointer.extend({"makeElOption":function(elOption,value,axisModel,axisPointerModel,api){var axis=axisModel.axis,coordSys=axis.coordinateSystem,otherExtent=getGlobalExtent(coordSys,1-getPointDimIndex(axis)),pixelValue=coordSys.dataToPoint(value)[0],axisPointerType=axisPointerModel.get("type");if(axisPointerType&&"none"!==axisPointerType){var elStyle=viewHelper.buildElStyle(axisPointerModel),pointerOption=pointerShapeBuilder[axisPointerType](axis,pixelValue,otherExtent,elStyle);pointerOption.style=elStyle,elOption.graphicKey=pointerOption.type,elOption.pointer=pointerOption}var layoutInfo=singleAxisHelper.layout(axisModel);viewHelper.buildCartesianSingleLabelElOption(value,elOption,layoutInfo,axisModel,axisPointerModel,api)},"getHandleTransform":function(value,axisModel,axisPointerModel){var layoutInfo=singleAxisHelper.layout(axisModel,{"labelInside":!1});return layoutInfo.labelMargin=axisPointerModel.get("handle.margin"),{"position":viewHelper.getTransformedPosition(axisModel.axis,value,layoutInfo),"rotation":layoutInfo.rotation+(layoutInfo.labelDirection<0?Math.PI:0)}},"updateHandleTransform":function(transform,delta,axisModel,axisPointerModel){var axis=axisModel.axis,coordSys=axis.coordinateSystem,dimIndex=getPointDimIndex(axis),axisExtent=getGlobalExtent(coordSys,dimIndex),currPosition=transform.position;currPosition[dimIndex]+=delta[dimIndex],currPosition[dimIndex]=Math.min(axisExtent[1],currPosition[dimIndex]),currPosition[dimIndex]=Math.max(axisExtent[0],currPosition[dimIndex]);var otherExtent=getGlobalExtent(coordSys,1-dimIndex),cursorOtherValue=(otherExtent[1]+otherExtent[0])/2,cursorPoint=[cursorOtherValue,cursorOtherValue];return cursorPoint[dimIndex]=currPosition[dimIndex],{"position":currPosition,"rotation":transform.rotation,"cursorPoint":cursorPoint,"tooltipOption":{"verticalAlign":"middle"}}}}),pointerShapeBuilder={"line":function(axis,pixelValue,otherExtent,elStyle){var targetShape=viewHelper.makeLineShape([pixelValue,otherExtent[0]],[pixelValue,otherExtent[1]],getPointDimIndex(axis));return graphic.subPixelOptimizeLine({"shape":targetShape,"style":elStyle}),{"type":"Line","shape":targetShape}},"shadow":function(axis,pixelValue,otherExtent,elStyle){var bandWidth=axis.getBandWidth(),span=otherExtent[1]-otherExtent[0];return{"type":"Rect","shape":viewHelper.makeRectShape([pixelValue-bandWidth/2,otherExtent[0]],[bandWidth,span],getPointDimIndex(axis))}}};AxisView.registerAxisPointerClass("SingleAxisPointer",SingleAxisPointer);var _default=SingleAxisPointer;module.exports=_default},function(module,exports,__webpack_require__){function _default(payload,ecModel,api){var currTrigger=payload.currTrigger,point=[payload.x,payload.y],finder=payload,dispatchAction=payload.dispatchAction||zrUtil.bind(api.dispatchAction,api),coordSysAxesInfo=ecModel.getComponent("axisPointer").coordSysAxesInfo;if(coordSysAxesInfo){illegalPoint(point)&&(point=findPointFromSeries({"seriesIndex":finder.seriesIndex,"dataIndex":finder.dataIndex},ecModel).point);var isIllegalPoint=illegalPoint(point),inputAxesInfo=finder.axesInfo,axesInfo=coordSysAxesInfo.axesInfo,shouldHide="leave"===currTrigger||illegalPoint(point),outputFinder={},showValueMap={},dataByCoordSys={"list":[],"map":{}},updaters={"showPointer":curry(showPointer,showValueMap),"showTooltip":curry(showTooltip,dataByCoordSys)};each(coordSysAxesInfo.coordSysMap,function(coordSys,coordSysKey){var coordSysContainsPoint=isIllegalPoint||coordSys.containPoint(point);each(coordSysAxesInfo.coordSysAxesInfo[coordSysKey],function(axisInfo,key){var axis=axisInfo.axis,inputAxisInfo=findInputAxisInfo(inputAxesInfo,axisInfo);if(!shouldHide&&coordSysContainsPoint&&(!inputAxesInfo||inputAxisInfo)){var val=inputAxisInfo&&inputAxisInfo.value;null!=val||isIllegalPoint||(val=axis.pointToData(point)),null!=val&&processOnAxis(axisInfo,val,updaters,!1,outputFinder)}})});var linkTriggers={};return each(axesInfo,function(tarAxisInfo,tarKey){var linkGroup=tarAxisInfo.linkGroup;linkGroup&&!showValueMap[tarKey]&&each(linkGroup.axesInfo,function(srcAxisInfo,srcKey){var srcValItem=showValueMap[srcKey];if(srcAxisInfo!==tarAxisInfo&&srcValItem){var val=srcValItem.value;linkGroup.mapper&&(val=tarAxisInfo.axis.scale.parse(linkGroup.mapper(val,makeMapperParam(srcAxisInfo),makeMapperParam(tarAxisInfo)))),linkTriggers[tarAxisInfo.key]=val}})}),each(linkTriggers,function(val,tarKey){processOnAxis(axesInfo[tarKey],val,updaters,!0,outputFinder)}),updateModelActually(showValueMap,axesInfo,outputFinder),dispatchTooltipActually(dataByCoordSys,point,payload,dispatchAction),dispatchHighDownActually(axesInfo,dispatchAction,api),outputFinder}}function processOnAxis(axisInfo,newValue,updaters,dontSnap,outputFinder){var axis=axisInfo.axis;if(!axis.scale.isBlank()&&axis.containData(newValue)){if(!axisInfo.involveSeries)return void updaters.showPointer(axisInfo,newValue);var payloadInfo=buildPayloadsBySeries(newValue,axisInfo),payloadBatch=payloadInfo.payloadBatch,snapToValue=payloadInfo.snapToValue;payloadBatch[0]&&null==outputFinder.seriesIndex&&zrUtil.extend(outputFinder,payloadBatch[0]),!dontSnap&&axisInfo.snap&&axis.containData(snapToValue)&&null!=snapToValue&&(newValue=snapToValue),updaters.showPointer(axisInfo,newValue,payloadBatch,outputFinder),updaters.showTooltip(axisInfo,payloadInfo,snapToValue)}}function buildPayloadsBySeries(value,axisInfo){var axis=axisInfo.axis,dim=axis.dim,snapToValue=value,payloadBatch=[],minDist=Number.MAX_VALUE,minDiff=-1;return each(axisInfo.seriesModels,function(series,idx){var seriesNestestValue,dataIndices,dataDim=series.getData().mapDimension(dim,!0);if(series.getAxisTooltipData){var result=series.getAxisTooltipData(dataDim,value,axis);dataIndices=result.dataIndices,seriesNestestValue=result.nestestValue}else{if(dataIndices=series.getData().indicesOfNearest(dataDim[0],value,"category"===axis.type?.5:null),!dataIndices.length)return;seriesNestestValue=series.getData().get(dataDim[0],dataIndices[0])}if(null!=seriesNestestValue&&isFinite(seriesNestestValue)){var diff=value-seriesNestestValue,dist=Math.abs(diff);dist<=minDist&&((dist<minDist||diff>=0&&minDiff<0)&&(minDist=dist,minDiff=diff,snapToValue=seriesNestestValue,payloadBatch.length=0),each(dataIndices,function(dataIndex){payloadBatch.push({"seriesIndex":series.seriesIndex,"dataIndexInside":dataIndex,"dataIndex":series.getData().getRawIndex(dataIndex)})}))}}),{"payloadBatch":payloadBatch,"snapToValue":snapToValue}}function showPointer(showValueMap,axisInfo,value,payloadBatch){showValueMap[axisInfo.key]={"value":value,"payloadBatch":payloadBatch}}function showTooltip(dataByCoordSys,axisInfo,payloadInfo,value){var payloadBatch=payloadInfo.payloadBatch,axis=axisInfo.axis,axisModel=axis.model,axisPointerModel=axisInfo.axisPointerModel;if(axisInfo.triggerTooltip&&payloadBatch.length){var coordSysModel=axisInfo.coordSys.model,coordSysKey=modelHelper.makeKey(coordSysModel),coordSysItem=dataByCoordSys.map[coordSysKey];coordSysItem||(coordSysItem=dataByCoordSys.map[coordSysKey]={"coordSysId":coordSysModel.id,"coordSysIndex":coordSysModel.componentIndex,"coordSysType":coordSysModel.type,"coordSysMainType":coordSysModel.mainType,"dataByAxis":[]},dataByCoordSys.list.push(coordSysItem)),coordSysItem.dataByAxis.push({"axisDim":axis.dim,"axisIndex":axisModel.componentIndex,"axisType":axisModel.type,"axisId":axisModel.id,"value":value,"valueLabelOpt":{"precision":axisPointerModel.get("label.precision"),"formatter":axisPointerModel.get("label.formatter")},"seriesDataIndices":payloadBatch.slice()})}}function updateModelActually(showValueMap,axesInfo,outputFinder){var outputAxesInfo=outputFinder.axesInfo=[];each(axesInfo,function(axisInfo,key){var option=axisInfo.axisPointerModel.option,valItem=showValueMap[key];valItem?(!axisInfo.useHandle&&(option.status="show"),option.value=valItem.value,option.seriesDataIndices=(valItem.payloadBatch||[]).slice()):!axisInfo.useHandle&&(option.status="hide"),"show"===option.status&&outputAxesInfo.push({"axisDim":axisInfo.axis.dim,"axisIndex":axisInfo.axis.model.componentIndex,"value":option.value})})}function dispatchTooltipActually(dataByCoordSys,point,payload,dispatchAction){if(illegalPoint(point)||!dataByCoordSys.list.length)return void dispatchAction({"type":"hideTip"});var sampleItem=((dataByCoordSys.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};dispatchAction({"type":"showTip","escapeConnect":!0,"x":point[0],"y":point[1],"tooltipOption":payload.tooltipOption,"position":payload.position,"dataIndexInside":sampleItem.dataIndexInside,"dataIndex":sampleItem.dataIndex,"seriesIndex":sampleItem.seriesIndex,"dataByCoordSys":dataByCoordSys.list})}function dispatchHighDownActually(axesInfo,dispatchAction,api){var zr=api.getZr(),highDownKey="axisPointerLastHighlights",lastHighlights=inner(zr)[highDownKey]||{},newHighlights=inner(zr)[highDownKey]={};each(axesInfo,function(axisInfo,key){var option=axisInfo.axisPointerModel.option;"show"===option.status&&each(option.seriesDataIndices,function(batchItem){var key=batchItem.seriesIndex+" | "+batchItem.dataIndex;newHighlights[key]=batchItem})});var toHighlight=[],toDownplay=[];zrUtil.each(lastHighlights,function(batchItem,key){!newHighlights[key]&&toDownplay.push(batchItem)}),zrUtil.each(newHighlights,function(batchItem,key){!lastHighlights[key]&&toHighlight.push(batchItem)}),toDownplay.length&&api.dispatchAction({"type":"downplay","escapeConnect":!0,"batch":toDownplay}),toHighlight.length&&api.dispatchAction({"type":"highlight","escapeConnect":!0,"batch":toHighlight})}function findInputAxisInfo(inputAxesInfo,axisInfo){for(var i=0;i<(inputAxesInfo||[]).length;i++){var inputAxisInfo=inputAxesInfo[i];if(axisInfo.axis.dim===inputAxisInfo.axisDim&&axisInfo.axis.model.componentIndex===inputAxisInfo.axisIndex)return inputAxisInfo}}function makeMapperParam(axisInfo){var axisModel=axisInfo.axis.model,item={},dim=item.axisDim=axisInfo.axis.dim;return item.axisIndex=item[dim+"AxisIndex"]=axisModel.componentIndex,item.axisName=item[dim+"AxisName"]=axisModel.name,item.axisId=item[dim+"AxisId"]=axisModel.id,item}function illegalPoint(point){return!point||null==point[0]||isNaN(point[0])||null==point[1]||isNaN(point[1])}var zrUtil=__webpack_require__(4),_model=__webpack_require__(27),makeInner=_model.makeInner,modelHelper=__webpack_require__(270),findPointFromSeries=__webpack_require__(623),each=zrUtil.each,curry=zrUtil.curry,inner=makeInner();module.exports=_default},function(module,exports,__webpack_require__){function getAxisLineShape(polar,rExtent,angle){rExtent[1]>rExtent[0]&&(rExtent=rExtent.slice().reverse());var start=polar.coordToPoint([rExtent[0],angle]),end=polar.coordToPoint([rExtent[1],angle]);return{"x1":start[0],"y1":start[1],"x2":end[0],"y2":end[1]}}function getRadiusIdx(polar){var radiusAxis=polar.getRadiusAxis();return radiusAxis.inverse?0:1}function fixAngleOverlap(list){var firstItem=list[0],lastItem=list[list.length-1];firstItem&&lastItem&&Math.abs(Math.abs(firstItem.coord-lastItem.coord)-360)<1e-4&&list.pop()}var zrUtil=__webpack_require__(4),graphic=__webpack_require__(15),Model=__webpack_require__(56),AxisView=__webpack_require__(159),elementList=["axisLine","axisLabel","axisTick","splitLine","splitArea"],_default=AxisView.extend({"type":"angleAxis","axisPointerClass":"PolarAxisPointer","render":function(angleAxisModel,ecModel){if(this.group.removeAll(),angleAxisModel.get("show")){var angleAxis=angleAxisModel.axis,polar=angleAxis.polar,radiusExtent=polar.getRadiusAxis().getExtent(),ticksAngles=angleAxis.getTicksCoords(),labels=zrUtil.map(angleAxis.getViewLabels(),function(labelItem){var labelItem=zrUtil.clone(labelItem);return labelItem.coord=angleAxis.dataToCoord(labelItem.tickValue),labelItem});fixAngleOverlap(labels),fixAngleOverlap(ticksAngles),zrUtil.each(elementList,function(name){!angleAxisModel.get(name+".show")||angleAxis.scale.isBlank()&&"axisLine"!==name||this["_"+name](angleAxisModel,polar,ticksAngles,radiusExtent,labels)},this)}},"_axisLine":function(angleAxisModel,polar,ticksAngles,radiusExtent){var lineStyleModel=angleAxisModel.getModel("axisLine.lineStyle"),circle=new graphic.Circle({"shape":{"cx":polar.cx,"cy":polar.cy,"r":radiusExtent[getRadiusIdx(polar)]},"style":lineStyleModel.getLineStyle(),"z2":1,"silent":!0});circle.style.fill=null,this.group.add(circle)},"_axisTick":function(angleAxisModel,polar,ticksAngles,radiusExtent){var tickModel=angleAxisModel.getModel("axisTick"),tickLen=(tickModel.get("inside")?-1:1)*tickModel.get("length"),radius=radiusExtent[getRadiusIdx(polar)],lines=zrUtil.map(ticksAngles,function(tickAngleItem){return new graphic.Line({"shape":getAxisLineShape(polar,[radius,radius+tickLen],tickAngleItem.coord)})});this.group.add(graphic.mergePath(lines,{"style":zrUtil.defaults(tickModel.getModel("lineStyle").getLineStyle(),{"stroke":angleAxisModel.get("axisLine.lineStyle.color")})}))},"_axisLabel":function(angleAxisModel,polar,ticksAngles,radiusExtent,labels){var rawCategoryData=angleAxisModel.getCategories(!0),commonLabelModel=angleAxisModel.getModel("axisLabel"),labelMargin=commonLabelModel.get("margin");zrUtil.each(labels,function(labelItem,idx){var labelModel=commonLabelModel,tickValue=labelItem.tickValue,r=radiusExtent[getRadiusIdx(polar)],p=polar.coordToPoint([r+labelMargin,labelItem.coord]),cx=polar.cx,cy=polar.cy,labelTextAlign=Math.abs(p[0]-cx)/r<.3?"center":p[0]>cx?"left":"right",labelTextVerticalAlign=Math.abs(p[1]-cy)/r<.3?"middle":p[1]>cy?"top":"bottom";rawCategoryData&&rawCategoryData[tickValue]&&rawCategoryData[tickValue].textStyle&&(labelModel=new Model(rawCategoryData[tickValue].textStyle,commonLabelModel,commonLabelModel.ecModel));var textEl=new graphic.Text({"silent":!0});this.group.add(textEl),graphic.setTextStyle(textEl.style,labelModel,{"x":p[0],"y":p[1],"textFill":labelModel.getTextColor()||angleAxisModel.get("axisLine.lineStyle.color"),"text":labelItem.formattedLabel,"textAlign":labelTextAlign,"textVerticalAlign":labelTextVerticalAlign})},this)},"_splitLine":function(angleAxisModel,polar,ticksAngles,radiusExtent){var splitLineModel=angleAxisModel.getModel("splitLine"),lineStyleModel=splitLineModel.getModel("lineStyle"),lineColors=lineStyleModel.get("color"),lineCount=0;lineColors=lineColors instanceof Array?lineColors:[lineColors];for(var splitLines=[],i=0;i<ticksAngles.length;i++){var colorIndex=lineCount++%lineColors.length;splitLines[colorIndex]=splitLines[colorIndex]||[],splitLines[colorIndex].push(new graphic.Line({"shape":getAxisLineShape(polar,radiusExtent,ticksAngles[i].coord)}))}for(var i=0;i<splitLines.length;i++)this.group.add(graphic.mergePath(splitLines[i],{"style":zrUtil.defaults({"stroke":lineColors[i%lineColors.length]},lineStyleModel.getLineStyle()),"silent":!0,"z":angleAxisModel.get("z")}))},"_splitArea":function(angleAxisModel,polar,ticksAngles,radiusExtent){
if(ticksAngles.length){var splitAreaModel=angleAxisModel.getModel("splitArea"),areaStyleModel=splitAreaModel.getModel("areaStyle"),areaColors=areaStyleModel.get("color"),lineCount=0;areaColors=areaColors instanceof Array?areaColors:[areaColors];for(var splitAreas=[],RADIAN=Math.PI/180,prevAngle=-ticksAngles[0].coord*RADIAN,r0=Math.min(radiusExtent[0],radiusExtent[1]),r1=Math.max(radiusExtent[0],radiusExtent[1]),clockwise=angleAxisModel.get("clockwise"),i=1;i<ticksAngles.length;i++){var colorIndex=lineCount++%areaColors.length;splitAreas[colorIndex]=splitAreas[colorIndex]||[],splitAreas[colorIndex].push(new graphic.Sector({"shape":{"cx":polar.cx,"cy":polar.cy,"r0":r0,"r":r1,"startAngle":prevAngle,"endAngle":-ticksAngles[i].coord*RADIAN,"clockwise":clockwise},"silent":!0})),prevAngle=-ticksAngles[i].coord*RADIAN}for(var i=0;i<splitAreas.length;i++)this.group.add(graphic.mergePath(splitAreas[i],{"style":zrUtil.defaults({"fill":areaColors[i%areaColors.length]},areaStyleModel.getAreaStyle()),"silent":!0}))}}});module.exports=_default},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),graphic=__webpack_require__(15),AxisBuilder=__webpack_require__(158),AxisView=__webpack_require__(159),cartesianAxisHelper=__webpack_require__(650),axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine"],CartesianAxisView=AxisView.extend({"type":"cartesianAxis","axisPointerClass":"CartesianAxisPointer","render":function(axisModel,ecModel,api,payload){this.group.removeAll();var oldAxisGroup=this._axisGroup;if(this._axisGroup=new graphic.Group,this.group.add(this._axisGroup),axisModel.get("show")){var gridModel=axisModel.getCoordSysModel(),layout=cartesianAxisHelper.layout(gridModel,axisModel),axisBuilder=new AxisBuilder(axisModel,layout);zrUtil.each(axisBuilderAttrs,axisBuilder.add,axisBuilder),this._axisGroup.add(axisBuilder.getGroup()),zrUtil.each(selfBuilderAttrs,function(name){axisModel.get(name+".show")&&this["_"+name](axisModel,gridModel)},this),graphic.groupTransition(oldAxisGroup,this._axisGroup,axisModel),CartesianAxisView.superCall(this,"render",axisModel,ecModel,api,payload)}},"remove":function(){this._splitAreaColors=null},"_splitLine":function(axisModel,gridModel){var axis=axisModel.axis;if(!axis.scale.isBlank()){var splitLineModel=axisModel.getModel("splitLine"),lineStyleModel=splitLineModel.getModel("lineStyle"),lineColors=lineStyleModel.get("color");lineColors=zrUtil.isArray(lineColors)?lineColors:[lineColors];for(var gridRect=gridModel.coordinateSystem.getRect(),isHorizontal=axis.isHorizontal(),lineCount=0,ticksCoords=axis.getTicksCoords({"tickModel":splitLineModel}),p1=[],p2=[],lineStyle=lineStyleModel.getLineStyle(),i=0;i<ticksCoords.length;i++){var tickCoord=axis.toGlobalCoord(ticksCoords[i].coord);isHorizontal?(p1[0]=tickCoord,p1[1]=gridRect.y,p2[0]=tickCoord,p2[1]=gridRect.y+gridRect.height):(p1[0]=gridRect.x,p1[1]=tickCoord,p2[0]=gridRect.x+gridRect.width,p2[1]=tickCoord);var colorIndex=lineCount++%lineColors.length,tickValue=ticksCoords[i].tickValue;this._axisGroup.add(new graphic.Line(graphic.subPixelOptimizeLine({"anid":null!=tickValue?"line_"+ticksCoords[i].tickValue:null,"shape":{"x1":p1[0],"y1":p1[1],"x2":p2[0],"y2":p2[1]},"style":zrUtil.defaults({"stroke":lineColors[colorIndex]},lineStyle),"silent":!0})))}}},"_splitArea":function(axisModel,gridModel){var axis=axisModel.axis;if(!axis.scale.isBlank()){var splitAreaModel=axisModel.getModel("splitArea"),areaStyleModel=splitAreaModel.getModel("areaStyle"),areaColors=areaStyleModel.get("color"),gridRect=gridModel.coordinateSystem.getRect(),ticksCoords=axis.getTicksCoords({"tickModel":splitAreaModel,"clamp":!0});if(ticksCoords.length){var areaColorsLen=areaColors.length,lastSplitAreaColors=this._splitAreaColors,newSplitAreaColors=zrUtil.createHashMap(),colorIndex=0;if(lastSplitAreaColors)for(var i=0;i<ticksCoords.length;i++){var cIndex=lastSplitAreaColors.get(ticksCoords[i].tickValue);if(null!=cIndex){colorIndex=(cIndex+(areaColorsLen-1)*i)%areaColorsLen;break}}var prev=axis.toGlobalCoord(ticksCoords[0].coord),areaStyle=areaStyleModel.getAreaStyle();areaColors=zrUtil.isArray(areaColors)?areaColors:[areaColors];for(var i=1;i<ticksCoords.length;i++){var x,y,width,height,tickCoord=axis.toGlobalCoord(ticksCoords[i].coord);axis.isHorizontal()?(x=prev,y=gridRect.y,width=tickCoord-x,height=gridRect.height,prev=x+width):(x=gridRect.x,y=prev,width=gridRect.width,height=tickCoord-y,prev=y+height);var tickValue=ticksCoords[i-1].tickValue;null!=tickValue&&newSplitAreaColors.set(tickValue,colorIndex),this._axisGroup.add(new graphic.Rect({"anid":null!=tickValue?"area_"+tickValue:null,"shape":{"x":x,"y":y,"width":width,"height":height},"style":zrUtil.defaults({"fill":areaColors[colorIndex]},areaStyle),"silent":!0})),colorIndex=(colorIndex+1)%areaColorsLen}this._splitAreaColors=newSplitAreaColors}}}});CartesianAxisView.extend({"type":"xAxis"}),CartesianAxisView.extend({"type":"yAxis"})},function(module,exports,__webpack_require__){function fromAxisAreaSelect(axisModel,ecModel,payload){return payload&&"axisAreaSelect"===payload.type&&ecModel.findComponents({"mainType":"parallelAxis","query":payload})[0]===axisModel}function getCoverInfoList(axisModel){var axis=axisModel.axis;return zrUtil.map(axisModel.activeIntervals,function(interval){return{"brushType":"lineX","panelId":"pl","range":[axis.dataToCoord(interval[0],!0),axis.dataToCoord(interval[1],!0)]}})}function getCoordSysModel(axisModel,ecModel){return ecModel.getComponent("parallel",axisModel.get("parallelIndex"))}var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),AxisBuilder=__webpack_require__(158),BrushController=__webpack_require__(381),brushHelper=__webpack_require__(632),graphic=__webpack_require__(15),elementList=["axisLine","axisTickLabel","axisName"],AxisView=echarts.extendComponentView({"type":"parallelAxis","init":function(ecModel,api){AxisView.superApply(this,"init",arguments),(this._brushController=new BrushController(api.getZr())).on("brush",zrUtil.bind(this._onBrush,this))},"render":function(axisModel,ecModel,api,payload){if(!fromAxisAreaSelect(axisModel,ecModel,payload)){this.axisModel=axisModel,this.api=api,this.group.removeAll();var oldAxisGroup=this._axisGroup;if(this._axisGroup=new graphic.Group,this.group.add(this._axisGroup),axisModel.get("show")){var coordSysModel=getCoordSysModel(axisModel,ecModel),coordSys=coordSysModel.coordinateSystem,areaSelectStyle=axisModel.getAreaSelectStyle(),areaWidth=areaSelectStyle.width,dim=axisModel.axis.dim,axisLayout=coordSys.getAxisLayout(dim),builderOpt=zrUtil.extend({"strokeContainThreshold":areaWidth},axisLayout),axisBuilder=new AxisBuilder(axisModel,builderOpt);zrUtil.each(elementList,axisBuilder.add,axisBuilder),this._axisGroup.add(axisBuilder.getGroup()),this._refreshBrushController(builderOpt,areaSelectStyle,axisModel,coordSysModel,areaWidth,api);var animationModel=payload&&payload.animation===!1?null:axisModel;graphic.groupTransition(oldAxisGroup,this._axisGroup,animationModel)}}},"_refreshBrushController":function(builderOpt,areaSelectStyle,axisModel,coordSysModel,areaWidth,api){var extent=axisModel.axis.getExtent(),extentLen=extent[1]-extent[0],extra=Math.min(30,.1*Math.abs(extentLen)),rect=graphic.BoundingRect.create({"x":extent[0],"y":-areaWidth/2,"width":extentLen,"height":areaWidth});rect.x-=extra,rect.width+=2*extra,this._brushController.mount({"enableGlobalPan":!0,"rotation":builderOpt.rotation,"position":builderOpt.position}).setPanels([{"panelId":"pl","clipPath":brushHelper.makeRectPanelClipPath(rect),"isTargetByCursor":brushHelper.makeRectIsTargetByCursor(rect,api,coordSysModel),"getLinearBrushOtherExtent":brushHelper.makeLinearBrushOtherExtent(rect,0)}]).enableBrush({"brushType":"lineX","brushStyle":areaSelectStyle,"removeOnClick":!0}).updateCovers(getCoverInfoList(axisModel))},"_onBrush":function(coverInfoList,opt){var axisModel=this.axisModel,axis=axisModel.axis,intervals=zrUtil.map(coverInfoList,function(coverInfo){return[axis.coordToData(coverInfo.range[0],!0),axis.coordToData(coverInfo.range[1],!0)]});(!axisModel.option.realtime===opt.isEnd||opt.removeOnClick)&&this.api.dispatchAction({"type":"axisAreaSelect","parallelAxisId":axisModel.id,"intervals":intervals})},"dispose":function(){this._brushController.dispose()}}),_default=AxisView;module.exports=_default},function(module,exports,__webpack_require__){function layoutAxis(polar,radiusAxisModel,axisAngle){return{"position":[polar.cx,polar.cy],"rotation":axisAngle/180*Math.PI,"labelDirection":-1,"tickDirection":-1,"nameDirection":1,"labelRotate":radiusAxisModel.getModel("axisLabel").get("rotate"),"z2":1}}var zrUtil=__webpack_require__(4),graphic=__webpack_require__(15),AxisBuilder=__webpack_require__(158),AxisView=__webpack_require__(159),axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitLine","splitArea"],_default=AxisView.extend({"type":"radiusAxis","axisPointerClass":"PolarAxisPointer","render":function(radiusAxisModel,ecModel){if(this.group.removeAll(),radiusAxisModel.get("show")){var radiusAxis=radiusAxisModel.axis,polar=radiusAxis.polar,angleAxis=polar.getAngleAxis(),ticksCoords=radiusAxis.getTicksCoords(),axisAngle=angleAxis.getExtent()[0],radiusExtent=radiusAxis.getExtent(),layout=layoutAxis(polar,radiusAxisModel,axisAngle),axisBuilder=new AxisBuilder(radiusAxisModel,layout);zrUtil.each(axisBuilderAttrs,axisBuilder.add,axisBuilder),this.group.add(axisBuilder.getGroup()),zrUtil.each(selfBuilderAttrs,function(name){radiusAxisModel.get(name+".show")&&!radiusAxis.scale.isBlank()&&this["_"+name](radiusAxisModel,polar,axisAngle,radiusExtent,ticksCoords)},this)}},"_splitLine":function(radiusAxisModel,polar,axisAngle,radiusExtent,ticksCoords){var splitLineModel=radiusAxisModel.getModel("splitLine"),lineStyleModel=splitLineModel.getModel("lineStyle"),lineColors=lineStyleModel.get("color"),lineCount=0;lineColors=lineColors instanceof Array?lineColors:[lineColors];for(var splitLines=[],i=0;i<ticksCoords.length;i++){var colorIndex=lineCount++%lineColors.length;splitLines[colorIndex]=splitLines[colorIndex]||[],splitLines[colorIndex].push(new graphic.Circle({"shape":{"cx":polar.cx,"cy":polar.cy,"r":ticksCoords[i].coord},"silent":!0}))}for(var i=0;i<splitLines.length;i++)this.group.add(graphic.mergePath(splitLines[i],{"style":zrUtil.defaults({"stroke":lineColors[i%lineColors.length],"fill":null},lineStyleModel.getLineStyle()),"silent":!0}))},"_splitArea":function(radiusAxisModel,polar,axisAngle,radiusExtent,ticksCoords){if(ticksCoords.length){var splitAreaModel=radiusAxisModel.getModel("splitArea"),areaStyleModel=splitAreaModel.getModel("areaStyle"),areaColors=areaStyleModel.get("color"),lineCount=0;areaColors=areaColors instanceof Array?areaColors:[areaColors];for(var splitAreas=[],prevRadius=ticksCoords[0].coord,i=1;i<ticksCoords.length;i++){var colorIndex=lineCount++%areaColors.length;splitAreas[colorIndex]=splitAreas[colorIndex]||[],splitAreas[colorIndex].push(new graphic.Sector({"shape":{"cx":polar.cx,"cy":polar.cy,"r0":prevRadius,"r":ticksCoords[i].coord,"startAngle":0,"endAngle":2*Math.PI},"silent":!0})),prevRadius=ticksCoords[i].coord}for(var i=0;i<splitAreas.length;i++)this.group.add(graphic.mergePath(splitAreas[i],{"style":zrUtil.defaults({"fill":areaColors[i%areaColors.length]},areaStyleModel.getAreaStyle()),"silent":!0}))}}});module.exports=_default},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),AxisBuilder=__webpack_require__(158),graphic=__webpack_require__(15),singleAxisHelper=__webpack_require__(654),AxisView=__webpack_require__(159),axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttr="splitLine",SingleAxisView=AxisView.extend({"type":"singleAxis","axisPointerClass":"SingleAxisPointer","render":function(axisModel,ecModel,api,payload){var group=this.group;group.removeAll();var layout=singleAxisHelper.layout(axisModel),axisBuilder=new AxisBuilder(axisModel,layout);zrUtil.each(axisBuilderAttrs,axisBuilder.add,axisBuilder),group.add(axisBuilder.getGroup()),axisModel.get(selfBuilderAttr+".show")&&this["_"+selfBuilderAttr](axisModel),SingleAxisView.superCall(this,"render",axisModel,ecModel,api,payload)},"_splitLine":function(axisModel){var axis=axisModel.axis;if(!axis.scale.isBlank()){var splitLineModel=axisModel.getModel("splitLine"),lineStyleModel=splitLineModel.getModel("lineStyle"),lineWidth=lineStyleModel.get("width"),lineColors=lineStyleModel.get("color");lineColors=lineColors instanceof Array?lineColors:[lineColors];for(var gridRect=axisModel.coordinateSystem.getRect(),isHorizontal=axis.isHorizontal(),splitLines=[],lineCount=0,ticksCoords=axis.getTicksCoords({"tickModel":splitLineModel}),p1=[],p2=[],i=0;i<ticksCoords.length;++i){var tickCoord=axis.toGlobalCoord(ticksCoords[i].coord);isHorizontal?(p1[0]=tickCoord,p1[1]=gridRect.y,p2[0]=tickCoord,p2[1]=gridRect.y+gridRect.height):(p1[0]=gridRect.x,p1[1]=tickCoord,p2[0]=gridRect.x+gridRect.width,p2[1]=tickCoord);var colorIndex=lineCount++%lineColors.length;splitLines[colorIndex]=splitLines[colorIndex]||[],splitLines[colorIndex].push(new graphic.Line(graphic.subPixelOptimizeLine({"shape":{"x1":p1[0],"y1":p1[1],"x2":p2[0],"y2":p2[1]},"style":{"lineWidth":lineWidth},"silent":!0})))}for(var i=0;i<splitLines.length;++i)this.group.add(graphic.mergePath(splitLines[i],{"style":{"stroke":lineColors[i%lineColors.length],"lineDash":lineStyleModel.getLineDash(lineWidth),"lineWidth":lineWidth},"silent":!0}))}}}),_default=SingleAxisView;module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),actionInfo={"type":"axisAreaSelect","event":"axisAreaSelected"};echarts.registerAction(actionInfo,function(payload,ecModel){ecModel.eachComponent({"mainType":"parallelAxis","query":payload},function(parallelAxisModel){parallelAxisModel.axis.model.setActiveIntervals(payload.intervals)})}),echarts.registerAction("parallelAxisExpand",function(payload,ecModel){ecModel.eachComponent({"mainType":"parallel","query":payload},function(parallelModel){parallelModel.setAxisExpand(payload)})})},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),preprocessor=__webpack_require__(1472);__webpack_require__(1474),__webpack_require__(1469),__webpack_require__(1470),__webpack_require__(1471),__webpack_require__(1525),echarts.registerPreprocessor(preprocessor)},function(module,exports,__webpack_require__){function generateBrushOption(option,brushOption){return zrUtil.merge({"brushType":option.brushType,"brushMode":option.brushMode,"transformable":option.transformable,"brushStyle":new Model(option.brushStyle).getItemStyle(),"removeOnClick":option.removeOnClick,"z":option.z},brushOption,!0)}var _config=__webpack_require__(30),echarts=(_config.__DEV__,__webpack_require__(13)),zrUtil=__webpack_require__(4),visualSolution=__webpack_require__(282),Model=__webpack_require__(56),DEFAULT_OUT_OF_BRUSH_COLOR=["#ddd"],BrushModel=echarts.extendComponentModel({"type":"brush","dependencies":["geo","grid","xAxis","yAxis","parallel","series"],"defaultOption":{"toolbox":null,"brushLink":null,"seriesIndex":"all","geoIndex":null,"xAxisIndex":null,"yAxisIndex":null,"brushType":"rect","brushMode":"single","transformable":!0,"brushStyle":{"borderWidth":1,"color":"rgba(120,140,180,0.3)","borderColor":"rgba(120,140,180,0.8)"},"throttleType":"fixRate","throttleDelay":0,"removeOnClick":!0,"z":1e4},"areas":[],"brushType":null,"brushOption":{},"coordInfoList":[],"optionUpdated":function(newOption,isInit){var thisOption=this.option;!isInit&&visualSolution.replaceVisualOption(thisOption,newOption,["inBrush","outOfBrush"]);var inBrush=thisOption.inBrush=thisOption.inBrush||{};thisOption.outOfBrush=thisOption.outOfBrush||{"color":DEFAULT_OUT_OF_BRUSH_COLOR},inBrush.hasOwnProperty("liftZ")||(inBrush.liftZ=5)},"setAreas":function(areas){areas&&(this.areas=zrUtil.map(areas,function(area){return generateBrushOption(this.option,area)},this))},"setBrushOption":function(brushOption){this.brushOption=generateBrushOption(this.option,brushOption),this.brushType=this.brushOption.brushType}}),_default=BrushModel;module.exports=_default},function(module,exports,__webpack_require__){function updateController(brushModel,ecModel,api,payload){(!payload||payload.$from!==brushModel.id)&&this._brushController.setPanels(brushModel.brushTargetManager.makePanelOpts(api)).enableBrush(brushModel.brushOption).updateCovers(brushModel.areas.slice())}var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),BrushController=__webpack_require__(381),_default=echarts.extendComponentView({"type":"brush","init":function(ecModel,api){this.ecModel=ecModel,this.api=api,this.model,(this._brushController=new BrushController(api.getZr())).on("brush",zrUtil.bind(this._onBrush,this)).mount()},"render":function(brushModel){return this.model=brushModel,updateController.apply(this,arguments)},"updateTransform":updateController,"updateView":updateController,"dispose":function(){this._brushController.dispose()},"_onBrush":function(areas,opt){var modelId=this.model.id;this.model.brushTargetManager.setOutputRanges(areas,this.ecModel),(!opt.isEnd||opt.removeOnClick)&&this.api.dispatchAction({"type":"brush","brushId":modelId,"areas":zrUtil.clone(areas),"$from":modelId})}});module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);echarts.registerAction({"type":"brush","event":"brush"},function(payload,ecModel){ecModel.eachComponent({"mainType":"brush","query":payload},function(brushModel){brushModel.setAreas(payload.areas)})}),echarts.registerAction({"type":"brushSelect","event":"brushSelected","update":"none"},function(){})},function(module,exports,__webpack_require__){function _default(option,isNew){var brushComponents=option&&option.brush;if(zrUtil.isArray(brushComponents)||(brushComponents=brushComponents?[brushComponents]:[]),brushComponents.length){var brushComponentSpecifiedBtns=[];zrUtil.each(brushComponents,function(brushOpt){var tbs=brushOpt.hasOwnProperty("toolbox")?brushOpt.toolbox:[];tbs instanceof Array&&(brushComponentSpecifiedBtns=brushComponentSpecifiedBtns.concat(tbs))});var toolbox=option&&option.toolbox;zrUtil.isArray(toolbox)&&(toolbox=toolbox[0]),toolbox||(toolbox={"feature":{}},option.toolbox=[toolbox]);var toolboxFeature=toolbox.feature||(toolbox.feature={}),toolboxBrush=toolboxFeature.brush||(toolboxFeature.brush={}),brushTypes=toolboxBrush.type||(toolboxBrush.type=[]);brushTypes.push.apply(brushTypes,brushComponentSpecifiedBtns),removeDuplicate(brushTypes),isNew&&!brushTypes.length&&brushTypes.push.apply(brushTypes,DEFAULT_TOOLBOX_BTNS)}}function removeDuplicate(arr){var map={};zrUtil.each(arr,function(val){map[val]=1}),arr.length=0,zrUtil.each(map,function(flag,val){arr.push(val)})}var zrUtil=__webpack_require__(4),DEFAULT_TOOLBOX_BTNS=["rect","polygon","keep","clear"];module.exports=_default},function(module,exports,__webpack_require__){function getLineSelectors(xyIndex){var xy=["x","y"],wh=["width","height"];return{"point":function(itemLayout,selectors,area){if(itemLayout){var range=area.range,p=itemLayout[xyIndex];return inLineRange(p,range)}},"rect":function(itemLayout,selectors,area){if(itemLayout){var range=area.range,layoutRange=[itemLayout[xy[xyIndex]],itemLayout[xy[xyIndex]]+itemLayout[wh[xyIndex]]];return layoutRange[1]<layoutRange[0]&&layoutRange.reverse(),inLineRange(layoutRange[0],range)||inLineRange(layoutRange[1],range)||inLineRange(range[0],layoutRange)||inLineRange(range[1],layoutRange)}}}}function inLineRange(p,range){return range[0]<=p&&p<=range[1]}function lineIntersectPolygon(lx,ly,l2x,l2y,points){for(var i=0,p2=points[points.length-1];i<points.length;i++){var p=points[i];if(lineIntersect(lx,ly,l2x,l2y,p[0],p[1],p2[0],p2[1]))return!0;p2=p}}function lineIntersect(a1x,a1y,a2x,a2y,b1x,b1y,b2x,b2y){var delta=determinant(a2x-a1x,b1x-b2x,a2y-a1y,b1y-b2y);if(nearZero(delta))return!1;var namenda=determinant(b1x-a1x,b1x-b2x,b1y-a1y,b1y-b2y)/delta;if(namenda<0||namenda>1)return!1;var miu=determinant(a2x-a1x,b1x-a1x,a2y-a1y,b1y-a1y)/delta;return!(miu<0||miu>1)}function nearZero(val){return val<=1e-6&&val>=-1e-6}function determinant(v1,v2,v3,v4){return v1*v4-v2*v3}var polygonContain=__webpack_require__(916),BoundingRect=__webpack_require__(43),selector={"lineX":getLineSelectors(0),"lineY":getLineSelectors(1),"rect":{"point":function(itemLayout,selectors,area){return itemLayout&&area.boundingRect.contain(itemLayout[0],itemLayout[1])},"rect":function(itemLayout,selectors,area){return itemLayout&&area.boundingRect.intersect(itemLayout)}},"polygon":{"point":function(itemLayout,selectors,area){return itemLayout&&area.boundingRect.contain(itemLayout[0],itemLayout[1])&&polygonContain.contain(area.range,itemLayout[0],itemLayout[1])},"rect":function(itemLayout,selectors,area){var points=area.range;if(!itemLayout||points.length<=1)return!1;var x=itemLayout.x,y=itemLayout.y,width=itemLayout.width,height=itemLayout.height,p=points[0];return!!(polygonContain.contain(points,x,y)||polygonContain.contain(points,x+width,y)||polygonContain.contain(points,x,y+height)||polygonContain.contain(points,x+width,y+height)||BoundingRect.create(itemLayout).contain(p[0],p[1])||lineIntersectPolygon(x,y,x+width,y,points)||lineIntersectPolygon(x,y,x,y+height,points)||lineIntersectPolygon(x+width,y,x+width,y+height,points)||lineIntersectPolygon(x,y+height,x+width,y+height,points))||void 0}}},_default=selector;module.exports=_default},function(module,exports,__webpack_require__){function dispatchAction(api,throttleType,throttleDelay,brushSelected,payload){if(payload){var zr=api.getZr();if(!zr[DISPATCH_FLAG]){zr[DISPATCH_METHOD]||(zr[DISPATCH_METHOD]=doDispatch);var fn=throttleUtil.createOrUpdate(zr,DISPATCH_METHOD,throttleDelay,throttleType);fn(api,brushSelected)}}}function doDispatch(api,brushSelected){if(!api.isDisposed()){var zr=api.getZr();zr[DISPATCH_FLAG]=!0,api.dispatchAction({"type":"brushSelect","batch":brushSelected}),zr[DISPATCH_FLAG]=!1}}function checkInRange(selectorsByBrushType,rangeInfoList,data,dataIndex){for(var i=0,len=rangeInfoList.length;i<len;i++){var area=rangeInfoList[i];if(selectorsByBrushType[area.brushType](dataIndex,data,area.selectors,area))return!0}}function getSelectorsByBrushType(seriesModel){var brushSelector=seriesModel.brushSelector;if(zrUtil.isString(brushSelector)){var sels=[];return zrUtil.each(selector,function(selectorsByElementType,brushType){sels[brushType]=function(dataIndex,data,selectors,area){var itemLayout=data.getItemLayout(dataIndex);return selectorsByElementType[brushSelector](itemLayout,selectors,area)}}),sels}if(zrUtil.isFunction(brushSelector)){var bSelector={};return zrUtil.each(selector,function(sel,brushType){bSelector[brushType]=brushSelector}),bSelector}return brushSelector}function brushModelNotControll(brushModel,seriesIndex){var seriesIndices=brushModel.option.seriesIndex;return null!=seriesIndices&&"all"!==seriesIndices&&(zrUtil.isArray(seriesIndices)?zrUtil.indexOf(seriesIndices,seriesIndex)<0:seriesIndex!==seriesIndices)}function bindSelector(area){var selectors=area.selectors={};return zrUtil.each(selector[area.brushType],function(selFn,elType){selectors[elType]=function(itemLayout){return selFn(itemLayout,selectors,area)}}),area}function getBoundingRectFromMinMax(minMax){return new BoundingRect(minMax[0][0],minMax[1][0],minMax[0][1]-minMax[0][0],minMax[1][1]-minMax[1][0])}var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),BoundingRect=__webpack_require__(43),visualSolution=__webpack_require__(282),selector=__webpack_require__(1473),throttleUtil=__webpack_require__(163),BrushTargetManager=__webpack_require__(630),STATE_LIST=["inBrush","outOfBrush"],DISPATCH_METHOD="__ecBrushSelect",DISPATCH_FLAG="__ecInBrushSelectEvent",PRIORITY_BRUSH=echarts.PRIORITY.VISUAL.BRUSH;echarts.registerLayout(PRIORITY_BRUSH,function(ecModel,api,payload){ecModel.eachComponent({"mainType":"brush"},function(brushModel){payload&&"takeGlobalCursor"===payload.type&&brushModel.setBrushOption("brush"===payload.key?payload.brushOption:{"brushType":!1});var brushTargetManager=brushModel.brushTargetManager=new BrushTargetManager(brushModel.option,ecModel);brushTargetManager.setInputRanges(brushModel.areas,ecModel)})}),echarts.registerVisual(PRIORITY_BRUSH,function(ecModel,api,payload){var throttleType,throttleDelay,brushSelected=[];ecModel.eachComponent({"mainType":"brush"},function(brushModel,brushIndex){function linkOthers(seriesIndex){return"all"===brushLink||linkedSeriesMap[seriesIndex]}function brushed(rangeInfoList){return!!rangeInfoList.length}function stepAParallel(seriesModel,seriesIndex){var coordSys=seriesModel.coordinateSystem;hasBrushExists|=coordSys.hasAxisBrushed(),linkOthers(seriesIndex)&&coordSys.eachActiveState(seriesModel.getData(),function(activeState,dataIndex){"active"===activeState&&(selectedDataIndexForLink[dataIndex]=1)})}function stepAOthers(seriesModel,seriesIndex,rangeInfoList){var selectorsByBrushType=getSelectorsByBrushType(seriesModel);if(selectorsByBrushType&&!brushModelNotControll(brushModel,seriesIndex)&&(zrUtil.each(areas,function(area){selectorsByBrushType[area.brushType]&&brushModel.brushTargetManager.controlSeries(area,seriesModel,ecModel)&&rangeInfoList.push(area),hasBrushExists|=brushed(rangeInfoList)}),linkOthers(seriesIndex)&&brushed(rangeInfoList))){var data=seriesModel.getData();data.each(function(dataIndex){checkInRange(selectorsByBrushType,rangeInfoList,data,dataIndex)&&(selectedDataIndexForLink[dataIndex]=1)})}}var thisBrushSelected={"brushId":brushModel.id,"brushIndex":brushIndex,"brushName":brushModel.name,"areas":zrUtil.clone(brushModel.areas),"selected":[]};brushSelected.push(thisBrushSelected);var brushOption=brushModel.option,brushLink=brushOption.brushLink,linkedSeriesMap=[],selectedDataIndexForLink=[],rangeInfoBySeries=[],hasBrushExists=0;brushIndex||(throttleType=brushOption.throttleType,throttleDelay=brushOption.throttleDelay);var areas=zrUtil.map(brushModel.areas,function(area){return bindSelector(zrUtil.defaults({"boundingRect":boundingRectBuilders[area.brushType](area)},area))}),visualMappings=visualSolution.createVisualMappings(brushModel.option,STATE_LIST,function(mappingOption){mappingOption.mappingMethod="fixed"});zrUtil.isArray(brushLink)&&zrUtil.each(brushLink,function(seriesIndex){linkedSeriesMap[seriesIndex]=1}),ecModel.eachSeries(function(seriesModel,seriesIndex){var rangeInfoList=rangeInfoBySeries[seriesIndex]=[];"parallel"===seriesModel.subType?stepAParallel(seriesModel,seriesIndex,rangeInfoList):stepAOthers(seriesModel,seriesIndex,rangeInfoList)}),ecModel.eachSeries(function(seriesModel,seriesIndex){var seriesBrushSelected={"seriesId":seriesModel.id,"seriesIndex":seriesIndex,"seriesName":seriesModel.name,"dataIndex":[]};thisBrushSelected.selected.push(seriesBrushSelected);var selectorsByBrushType=getSelectorsByBrushType(seriesModel),rangeInfoList=rangeInfoBySeries[seriesIndex],data=seriesModel.getData(),getValueState=linkOthers(seriesIndex)?function(dataIndex){return selectedDataIndexForLink[dataIndex]?(seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)),"inBrush"):"outOfBrush"}:function(dataIndex){return checkInRange(selectorsByBrushType,rangeInfoList,data,dataIndex)?(seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)),"inBrush"):"outOfBrush"};(linkOthers(seriesIndex)?hasBrushExists:brushed(rangeInfoList))&&visualSolution.applyVisual(STATE_LIST,visualMappings,data,getValueState)})}),dispatchAction(api,throttleType,throttleDelay,brushSelected,payload)});var boundingRectBuilders={"lineX":zrUtil.noop,"lineY":zrUtil.noop,"rect":function(area){return getBoundingRectFromMinMax(area.range)},"polygon":function(area){for(var minMax,range=area.range,i=0,len=range.length;i<len;i++){minMax=minMax||[[1/0,-(1/0)],[1/0,-(1/0)]];var rg=range[i];rg[0]<minMax[0][0]&&(minMax[0][0]=rg[0]),rg[0]>minMax[0][1]&&(minMax[0][1]=rg[0]),rg[1]<minMax[1][0]&&(minMax[1][0]=rg[1]),rg[1]>minMax[1][1]&&(minMax[1][1]=rg[1])}return minMax&&getBoundingRectFromMinMax(minMax)}}},function(module,exports,__webpack_require__){__webpack_require__(1543),__webpack_require__(1544),__webpack_require__(1476)},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),graphic=__webpack_require__(15),formatUtil=__webpack_require__(40),numberUtil=__webpack_require__(20),MONTH_TEXT={"EN":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"CN":["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]},WEEK_TEXT={"EN":["S","M","T","W","T","F","S"],"CN":["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},_default=echarts.extendComponentView({"type":"calendar","_tlpoints":null,"_blpoints":null,"_firstDayOfMonth":null,"_firstDayPoints":null,"render":function(calendarModel,ecModel,api){var group=this.group;group.removeAll();var coordSys=calendarModel.coordinateSystem,rangeData=coordSys.getRangeInfo(),orient=coordSys.getOrient();this._renderDayRect(calendarModel,rangeData,group),this._renderLines(calendarModel,rangeData,orient,group),this._renderYearText(calendarModel,rangeData,orient,group),this._renderMonthText(calendarModel,orient,group),this._renderWeekText(calendarModel,rangeData,orient,group)},"_renderDayRect":function(calendarModel,rangeData,group){for(var coordSys=calendarModel.coordinateSystem,itemRectStyleModel=calendarModel.getModel("itemStyle").getItemStyle(),sw=coordSys.getCellWidth(),sh=coordSys.getCellHeight(),i=rangeData.start.time;i<=rangeData.end.time;i=coordSys.getNextNDay(i,1).time){var point=coordSys.dataToRect([i],!1).tl,rect=new graphic.Rect({"shape":{"x":point[0],"y":point[1],"width":sw,"height":sh},"cursor":"default","style":itemRectStyleModel});group.add(rect)}},"_renderLines":function(calendarModel,rangeData,orient,group){function addPoints(date){self._firstDayOfMonth.push(coordSys.getDateInfo(date)),self._firstDayPoints.push(coordSys.dataToRect([date],!1).tl);var points=self._getLinePointsOfOneWeek(calendarModel,date,orient);self._tlpoints.push(points[0]),self._blpoints.push(points[points.length-1]),show&&self._drawSplitline(points,lineStyleModel,group)}var self=this,coordSys=calendarModel.coordinateSystem,lineStyleModel=calendarModel.getModel("splitLine.lineStyle").getLineStyle(),show=calendarModel.get("splitLine.show"),lineWidth=lineStyleModel.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var firstDay=rangeData.start,i=0;firstDay.time<=rangeData.end.time;i++){addPoints(firstDay.formatedDate),0===i&&(firstDay=coordSys.getDateInfo(rangeData.start.y+"-"+rangeData.start.m));var date=firstDay.date;date.setMonth(date.getMonth()+1),firstDay=coordSys.getDateInfo(date)}addPoints(coordSys.getNextNDay(rangeData.end.time,1).formatedDate),show&&this._drawSplitline(self._getEdgesPoints(self._tlpoints,lineWidth,orient),lineStyleModel,group),show&&this._drawSplitline(self._getEdgesPoints(self._blpoints,lineWidth,orient),lineStyleModel,group)},"_getEdgesPoints":function(points,lineWidth,orient){var rs=[points[0].slice(),points[points.length-1].slice()],idx="horizontal"===orient?0:1;return rs[0][idx]=rs[0][idx]-lineWidth/2,rs[1][idx]=rs[1][idx]+lineWidth/2,rs},"_drawSplitline":function(points,lineStyleModel,group){var poyline=new graphic.Polyline({"z2":20,"shape":{"points":points},"style":lineStyleModel});group.add(poyline)},"_getLinePointsOfOneWeek":function(calendarModel,date,orient){var coordSys=calendarModel.coordinateSystem;date=coordSys.getDateInfo(date);for(var points=[],i=0;i<7;i++){var tmpD=coordSys.getNextNDay(date.time,i),point=coordSys.dataToRect([tmpD.time],!1);points[2*tmpD.day]=point.tl,points[2*tmpD.day+1]=point["horizontal"===orient?"bl":"tr"]}return points},"_formatterLabel":function(formatter,params){return"string"==typeof formatter&&formatter?formatUtil.formatTplSimple(formatter,params):"function"==typeof formatter?formatter(params):params.nameMap;
},"_yearTextPositionControl":function(textEl,point,orient,position,margin){point=point.slice();var aligns=["center","bottom"];"bottom"===position?(point[1]+=margin,aligns=["center","top"]):"left"===position?point[0]-=margin:"right"===position?(point[0]+=margin,aligns=["center","top"]):point[1]-=margin;var rotate=0;return"left"!==position&&"right"!==position||(rotate=Math.PI/2),{"rotation":rotate,"position":point,"style":{"textAlign":aligns[0],"textVerticalAlign":aligns[1]}}},"_renderYearText":function(calendarModel,rangeData,orient,group){var yearLabel=calendarModel.getModel("yearLabel");if(yearLabel.get("show")){var margin=yearLabel.get("margin"),pos=yearLabel.get("position");pos||(pos="horizontal"!==orient?"top":"left");var points=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],xc=(points[0][0]+points[1][0])/2,yc=(points[0][1]+points[1][1])/2,idx="horizontal"===orient?0:1,posPoints={"top":[xc,points[idx][1]],"bottom":[xc,points[1-idx][1]],"left":[points[1-idx][0],yc],"right":[points[idx][0],yc]},name=rangeData.start.y;+rangeData.end.y>+rangeData.start.y&&(name=name+"-"+rangeData.end.y);var formatter=yearLabel.get("formatter"),params={"start":rangeData.start.y,"end":rangeData.end.y,"nameMap":name},content=this._formatterLabel(formatter,params),yearText=new graphic.Text({"z2":30});graphic.setTextStyle(yearText.style,yearLabel,{"text":content}),yearText.attr(this._yearTextPositionControl(yearText,posPoints[pos],orient,pos,margin)),group.add(yearText)}},"_monthTextPositionControl":function(point,isCenter,orient,position,margin){var align="left",vAlign="top",x=point[0],y=point[1];return"horizontal"===orient?(y+=margin,isCenter&&(align="center"),"start"===position&&(vAlign="bottom")):(x+=margin,isCenter&&(vAlign="middle"),"start"===position&&(align="right")),{"x":x,"y":y,"textAlign":align,"textVerticalAlign":vAlign}},"_renderMonthText":function(calendarModel,orient,group){var monthLabel=calendarModel.getModel("monthLabel");if(monthLabel.get("show")){var nameMap=monthLabel.get("nameMap"),margin=monthLabel.get("margin"),pos=monthLabel.get("position"),align=monthLabel.get("align"),termPoints=[this._tlpoints,this._blpoints];zrUtil.isString(nameMap)&&(nameMap=MONTH_TEXT[nameMap.toUpperCase()]||[]);var idx="start"===pos?0:1,axis="horizontal"===orient?0:1;margin="start"===pos?-margin:margin;for(var isCenter="center"===align,i=0;i<termPoints[idx].length-1;i++){var tmp=termPoints[idx][i].slice(),firstDay=this._firstDayOfMonth[i];if(isCenter){var firstDayPoints=this._firstDayPoints[i];tmp[axis]=(firstDayPoints[axis]+termPoints[0][i+1][axis])/2}var formatter=monthLabel.get("formatter"),name=nameMap[+firstDay.m-1],params={"yyyy":firstDay.y,"yy":(firstDay.y+"").slice(2),"MM":firstDay.m,"M":+firstDay.m,"nameMap":name},content=this._formatterLabel(formatter,params),monthText=new graphic.Text({"z2":30});zrUtil.extend(graphic.setTextStyle(monthText.style,monthLabel,{"text":content}),this._monthTextPositionControl(tmp,isCenter,orient,pos,margin)),group.add(monthText)}}},"_weekTextPositionControl":function(point,orient,position,margin,cellSize){var align="center",vAlign="middle",x=point[0],y=point[1],isStart="start"===position;return"horizontal"===orient?(x=x+margin+(isStart?1:-1)*cellSize[0]/2,align=isStart?"right":"left"):(y=y+margin+(isStart?1:-1)*cellSize[1]/2,vAlign=isStart?"bottom":"top"),{"x":x,"y":y,"textAlign":align,"textVerticalAlign":vAlign}},"_renderWeekText":function(calendarModel,rangeData,orient,group){var dayLabel=calendarModel.getModel("dayLabel");if(dayLabel.get("show")){var coordSys=calendarModel.coordinateSystem,pos=dayLabel.get("position"),nameMap=dayLabel.get("nameMap"),margin=dayLabel.get("margin"),firstDayOfWeek=coordSys.getFirstDayOfWeek();zrUtil.isString(nameMap)&&(nameMap=WEEK_TEXT[nameMap.toUpperCase()]||[]);var start=coordSys.getNextNDay(rangeData.end.time,7-rangeData.lweek).time,cellSize=[coordSys.getCellWidth(),coordSys.getCellHeight()];margin=numberUtil.parsePercent(margin,cellSize["horizontal"===orient?0:1]),"start"===pos&&(start=coordSys.getNextNDay(rangeData.start.time,-(7+rangeData.fweek)).time,margin=-margin);for(var i=0;i<7;i++){var tmpD=coordSys.getNextNDay(start,i),point=coordSys.dataToRect([tmpD.time],!1).center,day=i;day=Math.abs((i+firstDayOfWeek)%7);var weekText=new graphic.Text({"z2":30});zrUtil.extend(graphic.setTextStyle(weekText.style,dayLabel,{"text":nameMap[day]}),this._weekTextPositionControl(point,orient,pos,margin,cellSize)),group.add(weekText)}}}});module.exports=_default},function(module,exports,__webpack_require__){__webpack_require__(628),__webpack_require__(216),__webpack_require__(217),__webpack_require__(1484),__webpack_require__(1485),__webpack_require__(1480),__webpack_require__(1481),__webpack_require__(626),__webpack_require__(625)},function(module,exports,__webpack_require__){__webpack_require__(628),__webpack_require__(216),__webpack_require__(217),__webpack_require__(1482),__webpack_require__(1483),__webpack_require__(626),__webpack_require__(625)},function(module,exports,__webpack_require__){function calculateDataExtent(axisProxy,axisDim,seriesModels){var dataExtent=[1/0,-(1/0)];return each(seriesModels,function(seriesModel){var seriesData=seriesModel.getData();seriesData&&each(seriesData.mapDimension(axisDim,!0),function(dim){var seriesExtent=seriesData.getApproximateExtent(dim);seriesExtent[0]<dataExtent[0]&&(dataExtent[0]=seriesExtent[0]),seriesExtent[1]>dataExtent[1]&&(dataExtent[1]=seriesExtent[1])})}),dataExtent[1]<dataExtent[0]&&(dataExtent=[NaN,NaN]),fixExtentByAxis(axisProxy,dataExtent),dataExtent}function fixExtentByAxis(axisProxy,dataExtent){var axisModel=axisProxy.getAxisModel(),min=axisModel.getMin(!0),isCategoryAxis="category"===axisModel.get("type"),axisDataLen=isCategoryAxis&&axisModel.getCategories().length;null!=min&&"dataMin"!==min&&"function"!=typeof min?dataExtent[0]=min:isCategoryAxis&&(dataExtent[0]=axisDataLen>0?0:NaN);var max=axisModel.getMax(!0);return null!=max&&"dataMax"!==max&&"function"!=typeof max?dataExtent[1]=max:isCategoryAxis&&(dataExtent[1]=axisDataLen>0?axisDataLen-1:NaN),axisModel.get("scale",!0)||(dataExtent[0]>0&&(dataExtent[0]=0),dataExtent[1]<0&&(dataExtent[1]=0)),dataExtent}function setAxisModel(axisProxy,isRestore){var axisModel=axisProxy.getAxisModel(),percentWindow=axisProxy._percentWindow,valueWindow=axisProxy._valueWindow;if(percentWindow){var precision=numberUtil.getPixelPrecision(valueWindow,[0,500]);precision=Math.min(precision,20);var useOrigin=isRestore||0===percentWindow[0]&&100===percentWindow[1];axisModel.setRange(useOrigin?null:+valueWindow[0].toFixed(precision),useOrigin?null:+valueWindow[1].toFixed(precision))}}function setMinMaxSpan(axisProxy){var minMaxSpan=axisProxy._minMaxSpan={},dataZoomModel=axisProxy._dataZoomModel;each(["min","max"],function(minMax){minMaxSpan[minMax+"Span"]=dataZoomModel.get(minMax+"Span");var valueSpan=dataZoomModel.get(minMax+"ValueSpan");if(null!=valueSpan&&(minMaxSpan[minMax+"ValueSpan"]=valueSpan,valueSpan=axisProxy.getAxisModel().axis.scale.parse(valueSpan),null!=valueSpan)){var dataExtent=axisProxy._dataExtent;minMaxSpan[minMax+"Span"]=numberUtil.linearMap(dataExtent[0]+valueSpan,dataExtent,[0,100],!0)}})}var zrUtil=__webpack_require__(4),numberUtil=__webpack_require__(20),helper=__webpack_require__(380),each=zrUtil.each,asc=numberUtil.asc,AxisProxy=function(dimName,axisIndex,dataZoomModel,ecModel){this._dimName=dimName,this._axisIndex=axisIndex,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=ecModel,this._dataZoomModel=dataZoomModel};AxisProxy.prototype={"constructor":AxisProxy,"hostedBy":function(dataZoomModel){return this._dataZoomModel===dataZoomModel},"getDataValueWindow":function(){return this._valueWindow.slice()},"getDataPercentWindow":function(){return this._percentWindow.slice()},"getTargetSeriesModels":function(){var seriesModels=[],ecModel=this.ecModel;return ecModel.eachSeries(function(seriesModel){if(helper.isCoordSupported(seriesModel.get("coordinateSystem"))){var dimName=this._dimName,axisModel=ecModel.queryComponents({"mainType":dimName+"Axis","index":seriesModel.get(dimName+"AxisIndex"),"id":seriesModel.get(dimName+"AxisId")})[0];this._axisIndex===(axisModel&&axisModel.componentIndex)&&seriesModels.push(seriesModel)}},this),seriesModels},"getAxisModel":function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},"getOtherAxisModel":function(){var otherAxisDim,coordSysIndexName,axisDim=this._dimName,ecModel=this.ecModel,axisModel=this.getAxisModel(),isCartesian="x"===axisDim||"y"===axisDim;isCartesian?(coordSysIndexName="gridIndex",otherAxisDim="x"===axisDim?"y":"x"):(coordSysIndexName="polarIndex",otherAxisDim="angle"===axisDim?"radius":"angle");var foundOtherAxisModel;return ecModel.eachComponent(otherAxisDim+"Axis",function(otherAxisModel){(otherAxisModel.get(coordSysIndexName)||0)===(axisModel.get(coordSysIndexName)||0)&&(foundOtherAxisModel=otherAxisModel)}),foundOtherAxisModel},"getMinMaxSpan":function(){return zrUtil.clone(this._minMaxSpan)},"calculateDataWindow":function(opt){var dataExtent=this._dataExtent,axisModel=this.getAxisModel(),scale=axisModel.axis.scale,rangePropMode=this._dataZoomModel.getRangePropMode(),percentExtent=[0,100],percentWindow=[opt.start,opt.end],valueWindow=[];return each(["startValue","endValue"],function(prop){valueWindow.push(null!=opt[prop]?scale.parse(opt[prop]):null)}),each([0,1],function(idx){var boundValue=valueWindow[idx],boundPercent=percentWindow[idx];"percent"===rangePropMode[idx]?(null==boundPercent&&(boundPercent=percentExtent[idx]),boundValue=scale.parse(numberUtil.linearMap(boundPercent,percentExtent,dataExtent,!0))):boundPercent=numberUtil.linearMap(boundValue,dataExtent,percentExtent,!0),valueWindow[idx]=boundValue,percentWindow[idx]=boundPercent}),{"valueWindow":asc(valueWindow),"percentWindow":asc(percentWindow)}},"reset":function(dataZoomModel){if(dataZoomModel===this._dataZoomModel){var targetSeries=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,targetSeries);var dataWindow=this.calculateDataWindow(dataZoomModel.option);this._valueWindow=dataWindow.valueWindow,this._percentWindow=dataWindow.percentWindow,setMinMaxSpan(this),setAxisModel(this)}},"restore":function(dataZoomModel){dataZoomModel===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,setAxisModel(this,!0))},"filterData":function(dataZoomModel,api){function isInWindow(value){return value>=valueWindow[0]&&value<=valueWindow[1]}if(dataZoomModel===this._dataZoomModel){var axisDim=this._dimName,seriesModels=this.getTargetSeriesModels(),filterMode=dataZoomModel.get("filterMode"),valueWindow=this._valueWindow;"none"!==filterMode&&each(seriesModels,function(seriesModel){var seriesData=seriesModel.getData(),dataDims=seriesData.mapDimension(axisDim,!0);"weakFilter"===filterMode?seriesData.filterSelf(function(dataIndex){for(var leftOut,rightOut,hasValue,i=0;i<dataDims.length;i++){var value=seriesData.get(dataDims[i],dataIndex),thisHasValue=!isNaN(value),thisLeftOut=value<valueWindow[0],thisRightOut=value>valueWindow[1];if(thisHasValue&&!thisLeftOut&&!thisRightOut)return!0;thisHasValue&&(hasValue=!0),thisLeftOut&&(leftOut=!0),thisRightOut&&(rightOut=!0)}return hasValue&&leftOut&&rightOut}):each(dataDims,function(dim){if("empty"===filterMode)seriesModel.setData(seriesData.map(dim,function(value){return isInWindow(value)?value:NaN}));else{var range={};range[dim]=valueWindow,seriesData.selectRange(range)}}),each(dataDims,function(dim){seriesData.setApproximateExtent(valueWindow,dim)})})}}};var _default=AxisProxy;module.exports=_default},function(module,exports,__webpack_require__){var DataZoomModel=__webpack_require__(216),_default=DataZoomModel.extend({"type":"dataZoom.inside","defaultOption":{"disabled":!1,"zoomLock":!1,"zoomOnMouseWheel":!0,"moveOnMouseMove":!0,"preventDefaultMouseMove":!0}});module.exports=_default},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),DataZoomView=__webpack_require__(217),sliderMove=__webpack_require__(219),roams=__webpack_require__(1486),bind=zrUtil.bind,InsideZoomView=DataZoomView.extend({"type":"dataZoom.inside","init":function(ecModel,api){this._range},"render":function(dataZoomModel,ecModel,api,payload){InsideZoomView.superApply(this,"render",arguments),this._range=dataZoomModel.getPercentRange(),zrUtil.each(this.getTargetCoordInfo(),function(coordInfoList,coordSysName){var allCoordIds=zrUtil.map(coordInfoList,function(coordInfo){return roams.generateCoordId(coordInfo.model)});zrUtil.each(coordInfoList,function(coordInfo){var coordModel=coordInfo.model,dataZoomOption=dataZoomModel.option;roams.register(api,{"coordId":roams.generateCoordId(coordModel),"allCoordIds":allCoordIds,"containsPoint":function(e,x,y){return coordModel.coordinateSystem.containPoint([x,y])},"dataZoomId":dataZoomModel.id,"throttleRate":dataZoomModel.get("throttle",!0),"panGetRange":bind(this._onPan,this,coordInfo,coordSysName),"zoomGetRange":bind(this._onZoom,this,coordInfo,coordSysName),"zoomLock":dataZoomOption.zoomLock,"disabled":dataZoomOption.disabled,"roamControllerOpt":{"zoomOnMouseWheel":dataZoomOption.zoomOnMouseWheel,"moveOnMouseMove":dataZoomOption.moveOnMouseMove,"preventDefaultMouseMove":dataZoomOption.preventDefaultMouseMove}})},this)},this)},"dispose":function(){roams.unregister(this.api,this.dataZoomModel.id),InsideZoomView.superApply(this,"dispose",arguments),this._range=null},"_onPan":function(coordInfo,coordSysName,controller,dx,dy,oldX,oldY,newX,newY){var lastRange=this._range,range=lastRange.slice(),axisModel=coordInfo.axisModels[0];if(axisModel){var directionInfo=getDirectionInfo[coordSysName]([oldX,oldY],[newX,newY],axisModel,controller,coordInfo),percentDelta=directionInfo.signal*(range[1]-range[0])*directionInfo.pixel/directionInfo.pixelLength;return sliderMove(percentDelta,range,[0,100],"all"),this._range=range,lastRange[0]!==range[0]||lastRange[1]!==range[1]?range:void 0}},"_onZoom":function(coordInfo,coordSysName,controller,scale,mouseX,mouseY){var lastRange=this._range,range=lastRange.slice(),axisModel=coordInfo.axisModels[0];if(axisModel){var directionInfo=getDirectionInfo[coordSysName](null,[mouseX,mouseY],axisModel,controller,coordInfo),percentPoint=(directionInfo.signal>0?directionInfo.pixelStart+directionInfo.pixelLength-directionInfo.pixel:directionInfo.pixel-directionInfo.pixelStart)/directionInfo.pixelLength*(range[1]-range[0])+range[0];scale=Math.max(1/scale,0),range[0]=(range[0]-percentPoint)*scale+percentPoint,range[1]=(range[1]-percentPoint)*scale+percentPoint;var minMaxSpan=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return sliderMove(0,range,[0,100],0,minMaxSpan.minSpan,minMaxSpan.maxSpan),this._range=range,lastRange[0]!==range[0]||lastRange[1]!==range[1]?range:void 0}}}),getDirectionInfo={"grid":function(oldPoint,newPoint,axisModel,controller,coordInfo){var axis=axisModel.axis,ret={},rect=coordInfo.model.coordinateSystem.getRect();return oldPoint=oldPoint||[0,0],"x"===axis.dim?(ret.pixel=newPoint[0]-oldPoint[0],ret.pixelLength=rect.width,ret.pixelStart=rect.x,ret.signal=axis.inverse?1:-1):(ret.pixel=newPoint[1]-oldPoint[1],ret.pixelLength=rect.height,ret.pixelStart=rect.y,ret.signal=axis.inverse?-1:1),ret},"polar":function(oldPoint,newPoint,axisModel,controller,coordInfo){var axis=axisModel.axis,ret={},polar=coordInfo.model.coordinateSystem,radiusExtent=polar.getRadiusAxis().getExtent(),angleExtent=polar.getAngleAxis().getExtent();return oldPoint=oldPoint?polar.pointToCoord(oldPoint):[0,0],newPoint=polar.pointToCoord(newPoint),"radiusAxis"===axisModel.mainType?(ret.pixel=newPoint[0]-oldPoint[0],ret.pixelLength=radiusExtent[1]-radiusExtent[0],ret.pixelStart=radiusExtent[0],ret.signal=axis.inverse?1:-1):(ret.pixel=newPoint[1]-oldPoint[1],ret.pixelLength=angleExtent[1]-angleExtent[0],ret.pixelStart=angleExtent[0],ret.signal=axis.inverse?-1:1),ret},"singleAxis":function(oldPoint,newPoint,axisModel,controller,coordInfo){var axis=axisModel.axis,rect=coordInfo.model.coordinateSystem.getRect(),ret={};return oldPoint=oldPoint||[0,0],"horizontal"===axis.orient?(ret.pixel=newPoint[0]-oldPoint[0],ret.pixelLength=rect.width,ret.pixelStart=rect.x,ret.signal=axis.inverse?1:-1):(ret.pixel=newPoint[1]-oldPoint[1],ret.pixelLength=rect.height,ret.pixelStart=rect.y,ret.signal=axis.inverse?-1:1),ret}},_default=InsideZoomView;module.exports=_default},function(module,exports,__webpack_require__){var DataZoomModel=__webpack_require__(216),_default=DataZoomModel.extend({"type":"dataZoom.select"});module.exports=_default},function(module,exports,__webpack_require__){var DataZoomView=__webpack_require__(217),_default=DataZoomView.extend({"type":"dataZoom.select"});module.exports=_default},function(module,exports,__webpack_require__){var DataZoomModel=__webpack_require__(216),SliderZoomModel=DataZoomModel.extend({"type":"dataZoom.slider","layoutMode":"box","defaultOption":{"show":!0,"right":"ph","top":"ph","width":"ph","height":"ph","left":null,"bottom":null,"backgroundColor":"rgba(47,69,84,0)","dataBackground":{"lineStyle":{"color":"#2f4554","width":.5,"opacity":.3},"areaStyle":{"color":"rgba(47,69,84,0.3)","opacity":.3}},"borderColor":"#ddd","fillerColor":"rgba(167,183,204,0.4)","handleIcon":"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z","handleSize":"100%","handleStyle":{"color":"#a7b7cc"},"labelPrecision":null,"labelFormatter":null,"showDetail":!0,"showDataShadow":"auto","realtime":!0,"zoomLock":!1,"textStyle":{"color":"#333"}}}),_default=SliderZoomModel;module.exports=_default},function(module,exports,__webpack_require__){function getOtherDim(thisDim){var map={"x":"y","y":"x","radius":"angle","angle":"radius"};return map[thisDim]}function getCursor(orient){return"vertical"===orient?"ns-resize":"ew-resize"}var zrUtil=__webpack_require__(4),eventTool=__webpack_require__(124),graphic=__webpack_require__(15),throttle=__webpack_require__(163),DataZoomView=__webpack_require__(217),numberUtil=__webpack_require__(20),layout=__webpack_require__(34),sliderMove=__webpack_require__(219),Rect=graphic.Rect,linearMap=numberUtil.linearMap,asc=numberUtil.asc,bind=zrUtil.bind,each=zrUtil.each,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,HORIZONTAL="horizontal",VERTICAL="vertical",LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],SliderZoomView=DataZoomView.extend({"type":"dataZoom.slider","init":function(ecModel,api){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=api},"render":function(dataZoomModel,ecModel,api,payload){return SliderZoomView.superApply(this,"render",arguments),throttle.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=dataZoomModel.get("orient"),this.dataZoomModel.get("show")===!1?void this.group.removeAll():(payload&&"dataZoom"===payload.type&&payload.from===this.uid||this._buildView(),void this._updateView())},"remove":function(){SliderZoomView.superApply(this,"remove",arguments),throttle.clear(this,"_dispatchZoomAction")},"dispose":function(){SliderZoomView.superApply(this,"dispose",arguments),throttle.clear(this,"_dispatchZoomAction")},"_buildView":function(){var thisGroup=this.group;thisGroup.removeAll(),this._resetLocation(),this._resetInterval();var barGroup=this._displayables.barGroup=new graphic.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),thisGroup.add(barGroup),this._positionGroup()},"_resetLocation":function(){var dataZoomModel=this.dataZoomModel,api=this.api,coordRect=this._findCoordRect(),ecSize={"width":api.getWidth(),"height":api.getHeight()},positionInfo=this._orient===HORIZONTAL?{"right":ecSize.width-coordRect.x-coordRect.width,"top":ecSize.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP,"width":coordRect.width,"height":DEFAULT_FILLER_SIZE}:{"right":DEFAULT_LOCATION_EDGE_GAP,"top":coordRect.y,"width":DEFAULT_FILLER_SIZE,"height":coordRect.height},layoutParams=layout.getLayoutParams(dataZoomModel.option);zrUtil.each(["right","top","width","height"],function(name){"ph"===layoutParams[name]&&(layoutParams[name]=positionInfo[name])});var layoutRect=layout.getLayoutRect(layoutParams,ecSize,dataZoomModel.padding);this._location={"x":layoutRect.x,"y":layoutRect.y},this._size=[layoutRect.width,layoutRect.height],this._orient===VERTICAL&&this._size.reverse()},"_positionGroup":function(){var thisGroup=this.group,location=this._location,orient=this._orient,targetAxisModel=this.dataZoomModel.getFirstTargetAxisModel(),inverse=targetAxisModel&&targetAxisModel.get("inverse"),barGroup=this._displayables.barGroup,otherAxisInverse=(this._dataShadowInfo||{}).otherAxisInverse;barGroup.attr(orient!==HORIZONTAL||inverse?orient===HORIZONTAL&&inverse?{"scale":otherAxisInverse?[-1,1]:[-1,-1]}:orient!==VERTICAL||inverse?{"scale":otherAxisInverse?[-1,-1]:[-1,1],"rotation":Math.PI/2}:{"scale":otherAxisInverse?[1,-1]:[1,1],"rotation":Math.PI/2}:{"scale":otherAxisInverse?[1,1]:[1,-1]});var rect=thisGroup.getBoundingRect([barGroup]);thisGroup.attr("position",[location.x-rect.x,location.y-rect.y])},"_getViewExtent":function(){return[0,this._size[0]]},"_renderBackground":function(){var dataZoomModel=this.dataZoomModel,size=this._size,barGroup=this._displayables.barGroup;barGroup.add(new Rect({"silent":!0,"shape":{"x":0,"y":0,"width":size[0],"height":size[1]},"style":{"fill":dataZoomModel.get("backgroundColor")},"z2":-40})),barGroup.add(new Rect({"shape":{"x":0,"y":0,"width":size[0],"height":size[1]},"style":{"fill":"transparent"},"z2":0,"onclick":zrUtil.bind(this._onClickPanelClick,this)}))},"_renderDataShadow":function(){var info=this._dataShadowInfo=this._prepareDataShadowInfo();if(info){var size=this._size,seriesModel=info.series,data=seriesModel.getRawData(),otherDim=seriesModel.getShadowDim?seriesModel.getShadowDim():info.otherDim;if(null!=otherDim){var otherDataExtent=data.getDataExtent(otherDim),otherOffset=.3*(otherDataExtent[1]-otherDataExtent[0]);otherDataExtent=[otherDataExtent[0]-otherOffset,otherDataExtent[1]+otherOffset];var lastIsEmpty,otherShadowExtent=[0,size[1]],thisShadowExtent=[0,size[0]],areaPoints=[[size[0],0],[0,0]],linePoints=[],step=thisShadowExtent[1]/(data.count()-1),thisCoord=0,stride=Math.round(data.count()/size[0]);data.each([otherDim],function(value,index){if(stride>0&&index%stride)return void(thisCoord+=step);var isEmpty=null==value||isNaN(value)||""===value,otherCoord=isEmpty?0:linearMap(value,otherDataExtent,otherShadowExtent,!0);isEmpty&&!lastIsEmpty&&index?(areaPoints.push([areaPoints[areaPoints.length-1][0],0]),linePoints.push([linePoints[linePoints.length-1][0],0])):!isEmpty&&lastIsEmpty&&(areaPoints.push([thisCoord,0]),linePoints.push([thisCoord,0])),areaPoints.push([thisCoord,otherCoord]),linePoints.push([thisCoord,otherCoord]),thisCoord+=step,lastIsEmpty=isEmpty});var dataZoomModel=this.dataZoomModel;this._displayables.barGroup.add(new graphic.Polygon({"shape":{"points":areaPoints},"style":zrUtil.defaults({"fill":dataZoomModel.get("dataBackgroundColor")},dataZoomModel.getModel("dataBackground.areaStyle").getAreaStyle()),"silent":!0,"z2":-20})),this._displayables.barGroup.add(new graphic.Polyline({"shape":{"points":linePoints},"style":dataZoomModel.getModel("dataBackground.lineStyle").getLineStyle(),"silent":!0,"z2":-19}))}}},"_prepareDataShadowInfo":function(){var dataZoomModel=this.dataZoomModel,showDataShadow=dataZoomModel.get("showDataShadow");if(showDataShadow!==!1){var result,ecModel=this.ecModel;return dataZoomModel.eachTargetAxis(function(dimNames,axisIndex){var seriesModels=dataZoomModel.getAxisProxy(dimNames.name,axisIndex).getTargetSeriesModels();zrUtil.each(seriesModels,function(seriesModel){if(!(result||showDataShadow!==!0&&zrUtil.indexOf(SHOW_DATA_SHADOW_SERIES_TYPE,seriesModel.get("type"))<0)){var otherAxisInverse,thisAxis=ecModel.getComponent(dimNames.axis,axisIndex).axis,otherDim=getOtherDim(dimNames.name),coordSys=seriesModel.coordinateSystem;null!=otherDim&&coordSys.getOtherAxis&&(otherAxisInverse=coordSys.getOtherAxis(thisAxis).inverse),otherDim=seriesModel.getData().mapDimension(otherDim),result={"thisAxis":thisAxis,"series":seriesModel,"thisDim":dimNames.name,"otherDim":otherDim,"otherAxisInverse":otherAxisInverse}}},this)},this),result}},"_renderHandle":function(){var displaybles=this._displayables,handles=displaybles.handles=[],handleLabels=displaybles.handleLabels=[],barGroup=this._displayables.barGroup,size=this._size,dataZoomModel=this.dataZoomModel;barGroup.add(displaybles.filler=new Rect({"draggable":!0,"cursor":getCursor(this._orient),"drift":bind(this._onDragMove,this,"all"),"onmousemove":function(e){eventTool.stop(e.event)},"ondragstart":bind(this._showDataInfo,this,!0),"ondragend":bind(this._onDragEnd,this),"onmouseover":bind(this._showDataInfo,this,!0),"onmouseout":bind(this._showDataInfo,this,!1),"style":{"fill":dataZoomModel.get("fillerColor"),"textPosition":"inside"}})),barGroup.add(new Rect(graphic.subPixelOptimizeRect({"silent":!0,"shape":{"x":0,"y":0,"width":size[0],"height":size[1]},"style":{"stroke":dataZoomModel.get("dataBackgroundColor")||dataZoomModel.get("borderColor"),"lineWidth":DEFAULT_FRAME_BORDER_WIDTH,"fill":"rgba(0,0,0,0)"}}))),each([0,1],function(handleIndex){var path=graphic.createIcon(dataZoomModel.get("handleIcon"),{"cursor":getCursor(this._orient),"draggable":!0,"drift":bind(this._onDragMove,this,handleIndex),"onmousemove":function(e){eventTool.stop(e.event)},"ondragend":bind(this._onDragEnd,this),"onmouseover":bind(this._showDataInfo,this,!0),"onmouseout":bind(this._showDataInfo,this,!1)},{"x":-1,"y":0,"width":2,"height":2}),bRect=path.getBoundingRect();this._handleHeight=numberUtil.parsePercent(dataZoomModel.get("handleSize"),this._size[1]),this._handleWidth=bRect.width/bRect.height*this._handleHeight,path.setStyle(dataZoomModel.getModel("handleStyle").getItemStyle());var handleColor=dataZoomModel.get("handleColor");null!=handleColor&&(path.style.fill=handleColor),barGroup.add(handles[handleIndex]=path);var textStyleModel=dataZoomModel.textStyleModel;this.group.add(handleLabels[handleIndex]=new graphic.Text({"silent":!0,"invisible":!0,"style":{"x":0,"y":0,"text":"","textVerticalAlign":"middle","textAlign":"center","textFill":textStyleModel.getTextColor(),"textFont":textStyleModel.getFont()},"z2":10}))},this)},"_resetInterval":function(){var range=this._range=this.dataZoomModel.getPercentRange(),viewExtent=this._getViewExtent();this._handleEnds=[linearMap(range[0],[0,100],viewExtent,!0),linearMap(range[1],[0,100],viewExtent,!0)]},"_updateInterval":function(handleIndex,delta){var dataZoomModel=this.dataZoomModel,handleEnds=this._handleEnds,viewExtend=this._getViewExtent(),minMaxSpan=dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan(),percentExtent=[0,100];sliderMove(delta,handleEnds,viewExtend,dataZoomModel.get("zoomLock")?"all":handleIndex,null!=minMaxSpan.minSpan?linearMap(minMaxSpan.minSpan,percentExtent,viewExtend,!0):null,null!=minMaxSpan.maxSpan?linearMap(minMaxSpan.maxSpan,percentExtent,viewExtend,!0):null);var lastRange=this._range,range=this._range=asc([linearMap(handleEnds[0],viewExtend,percentExtent,!0),linearMap(handleEnds[1],viewExtend,percentExtent,!0)]);return!lastRange||lastRange[0]!==range[0]||lastRange[1]!==range[1]},"_updateView":function(nonRealtime){var displaybles=this._displayables,handleEnds=this._handleEnds,handleInterval=asc(handleEnds.slice()),size=this._size;each([0,1],function(handleIndex){var handle=displaybles.handles[handleIndex],handleHeight=this._handleHeight;handle.attr({"scale":[handleHeight/2,handleHeight/2],"position":[handleEnds[handleIndex],size[1]/2-handleHeight/2]})},this),displaybles.filler.setShape({"x":handleInterval[0],"y":0,"width":handleInterval[1]-handleInterval[0],"height":size[1]}),this._updateDataInfo(nonRealtime)},"_updateDataInfo":function(nonRealtime){function setLabel(handleIndex){var barTransform=graphic.getTransform(displaybles.handles[handleIndex].parent,this.group),direction=graphic.transformDirection(0===handleIndex?"right":"left",barTransform),offset=this._handleWidth/2+LABEL_GAP,textPoint=graphic.applyTransform([orderedHandleEnds[handleIndex]+(0===handleIndex?-offset:offset),this._size[1]/2],barTransform);handleLabels[handleIndex].setStyle({"x":textPoint[0],"y":textPoint[1],"textVerticalAlign":orient===HORIZONTAL?"middle":direction,"textAlign":orient===HORIZONTAL?direction:"center","text":labelTexts[handleIndex]})}var dataZoomModel=this.dataZoomModel,displaybles=this._displayables,handleLabels=displaybles.handleLabels,orient=this._orient,labelTexts=["",""];if(dataZoomModel.get("showDetail")){var axisProxy=dataZoomModel.findRepresentativeAxisProxy();if(axisProxy){var axis=axisProxy.getAxisModel().axis,range=this._range,dataInterval=nonRealtime?axisProxy.calculateDataWindow({"start":range[0],"end":range[1]}).valueWindow:axisProxy.getDataValueWindow();labelTexts=[this._formatLabel(dataInterval[0],axis),this._formatLabel(dataInterval[1],axis)]}}var orderedHandleEnds=asc(this._handleEnds.slice());setLabel.call(this,0),setLabel.call(this,1)},"_formatLabel":function(value,axis){var dataZoomModel=this.dataZoomModel,labelFormatter=dataZoomModel.get("labelFormatter"),labelPrecision=dataZoomModel.get("labelPrecision");null!=labelPrecision&&"auto"!==labelPrecision||(labelPrecision=axis.getPixelPrecision());var valueStr=null==value||isNaN(value)?"":"category"===axis.type||"time"===axis.type?axis.scale.getLabel(Math.round(value)):value.toFixed(Math.min(labelPrecision,20));return zrUtil.isFunction(labelFormatter)?labelFormatter(value,valueStr):zrUtil.isString(labelFormatter)?labelFormatter.replace("{value}",valueStr):valueStr},"_showDataInfo":function(showOrHide){showOrHide=this._dragging||showOrHide;var handleLabels=this._displayables.handleLabels;handleLabels[0].attr("invisible",!showOrHide),handleLabels[1].attr("invisible",!showOrHide)},"_onDragMove":function(handleIndex,dx,dy){this._dragging=!0;var barTransform=this._displayables.barGroup.getLocalTransform(),vertex=graphic.applyTransform([dx,dy],barTransform,!0),changed=this._updateInterval(handleIndex,vertex[0]),realtime=this.dataZoomModel.get("realtime");this._updateView(!realtime),changed&&realtime&&this._dispatchZoomAction()},"_onDragEnd":function(){this._dragging=!1,this._showDataInfo(!1);var realtime=this.dataZoomModel.get("realtime");!realtime&&this._dispatchZoomAction()},"_onClickPanelClick":function(e){var size=this._size,localPoint=this._displayables.barGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(localPoint[0]<0||localPoint[0]>size[0]||localPoint[1]<0||localPoint[1]>size[1])){var handleEnds=this._handleEnds,center=(handleEnds[0]+handleEnds[1])/2,changed=this._updateInterval("all",localPoint[0]-center);this._updateView(),changed&&this._dispatchZoomAction()}},"_dispatchZoomAction":function(){var range=this._range;this.api.dispatchAction({"type":"dataZoom","from":this.uid,"dataZoomId":this.dataZoomModel.id,"start":range[0],"end":range[1]})},"_findCoordRect":function(){var rect;if(each(this.getTargetCoordInfo(),function(coordInfoList){if(!rect&&coordInfoList.length){var coordSys=coordInfoList[0].model.coordinateSystem;rect=coordSys.getRect&&coordSys.getRect()}}),!rect){var width=this.api.getWidth(),height=this.api.getHeight();rect={"x":.2*width,"y":.2*height,"width":.6*width,"height":.6*height}}return rect}}),_default=SliderZoomView;module.exports=_default},function(module,exports,__webpack_require__){function register(api,dataZoomInfo){var store=giveStore(api),theDataZoomId=dataZoomInfo.dataZoomId,theCoordId=dataZoomInfo.coordId;zrUtil.each(store,function(record,coordId){var dataZoomInfos=record.dataZoomInfos;dataZoomInfos[theDataZoomId]&&zrUtil.indexOf(dataZoomInfo.allCoordIds,theCoordId)<0&&(delete dataZoomInfos[theDataZoomId],record.count--)}),cleanStore(store);var record=store[theCoordId];
record||(record=store[theCoordId]={"coordId":theCoordId,"dataZoomInfos":{},"count":0},record.controller=createController(api,record),record.dispatchAction=zrUtil.curry(dispatchAction,api)),!record.dataZoomInfos[theDataZoomId]&&record.count++,record.dataZoomInfos[theDataZoomId]=dataZoomInfo;var controllerParams=mergeControllerParams(record.dataZoomInfos);record.controller.enable(controllerParams.controlType,controllerParams.opt),record.controller.setPointerChecker(dataZoomInfo.containsPoint),throttleUtil.createOrUpdate(record,"dispatchAction",dataZoomInfo.throttleRate,"fixRate")}function unregister(api,dataZoomId){var store=giveStore(api);zrUtil.each(store,function(record){record.controller.dispose();var dataZoomInfos=record.dataZoomInfos;dataZoomInfos[dataZoomId]&&(delete dataZoomInfos[dataZoomId],record.count--)}),cleanStore(store)}function generateCoordId(coordModel){return coordModel.type+"\0_"+coordModel.id}function giveStore(api){var zr=api.getZr();return zr[ATTR]||(zr[ATTR]={})}function createController(api,newRecord){var controller=new RoamController(api.getZr());return controller.on("pan",curry(onPan,newRecord)),controller.on("zoom",curry(onZoom,newRecord)),controller}function cleanStore(store){zrUtil.each(store,function(record,coordId){record.count||(record.controller.dispose(),delete store[coordId])})}function onPan(record,dx,dy,oldX,oldY,newX,newY){wrapAndDispatch(record,function(info){return info.panGetRange(record.controller,dx,dy,oldX,oldY,newX,newY)})}function onZoom(record,scale,mouseX,mouseY){wrapAndDispatch(record,function(info){return info.zoomGetRange(record.controller,scale,mouseX,mouseY)})}function wrapAndDispatch(record,getRange){var batch=[];zrUtil.each(record.dataZoomInfos,function(info){var range=getRange(info);!info.disabled&&range&&batch.push({"dataZoomId":info.dataZoomId,"start":range[0],"end":range[1]})}),batch.length&&record.dispatchAction(batch)}function dispatchAction(api,batch){api.dispatchAction({"type":"dataZoom","batch":batch})}function mergeControllerParams(dataZoomInfos){var controlType,opt={},prefix="type_",typePriority={"type_true":2,"type_move":1,"type_false":0,"type_undefined":-1};return zrUtil.each(dataZoomInfos,function(dataZoomInfo){var oneType=!dataZoomInfo.disabled&&(!dataZoomInfo.zoomLock||"move");typePriority[prefix+oneType]>typePriority[prefix+controlType]&&(controlType=oneType),zrUtil.extend(opt,dataZoomInfo.roamControllerOpt)}),{"controlType":controlType,"opt":opt}}var zrUtil=__webpack_require__(4),RoamController=__webpack_require__(272),throttleUtil=__webpack_require__(163),curry=zrUtil.curry,ATTR="\0_ec_dataZoom_roams";exports.register=register,exports.unregister=unregister,exports.generateCoordId=generateCoordId},function(module,exports,__webpack_require__){function makeAction(method,actionInfo){actionInfo.update="updateView",echarts.registerAction(actionInfo,function(payload,ecModel){var selected={};return ecModel.eachComponent({"mainType":"geo","query":payload},function(geoModel){geoModel[method](payload.name);var geo=geoModel.coordinateSystem;zrUtil.each(geo.regions,function(region){selected[region.name]=geoModel.isSelected(region.name)||!1})}),{"selected":selected,"name":payload.name}})}var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4);__webpack_require__(1552),__webpack_require__(274),__webpack_require__(1488),__webpack_require__(608),makeAction("toggleSelected",{"type":"geoToggleSelect","event":"geoselectchanged"}),makeAction("select",{"type":"geoSelect","event":"geoselected"}),makeAction("unSelect",{"type":"geoUnSelect","event":"geounselected"})},function(module,exports,__webpack_require__){var MapDraw=__webpack_require__(631),echarts=__webpack_require__(13),_default=echarts.extendComponentView({"type":"geo","init":function(ecModel,api){var mapDraw=new MapDraw(api,!0);this._mapDraw=mapDraw,this.group.add(mapDraw.group)},"render":function(geoModel,ecModel,api,payload){if(!payload||"geoToggleSelect"!==payload.type||payload.from!==this.uid){var mapDraw=this._mapDraw;geoModel.get("show")?mapDraw.draw(geoModel,ecModel,api,this,payload):this._mapDraw.group.removeAll(),this.group.silent=geoModel.get("silent")}},"dispose":function(){this._mapDraw&&this._mapDraw.remove()}});module.exports=_default},function(module,exports,__webpack_require__){function createEl(id,targetElParent,elOption,elMap){var graphicType=elOption.type,Clz=graphicUtil[graphicType.charAt(0).toUpperCase()+graphicType.slice(1)],el=new Clz(elOption);targetElParent.add(el),elMap.set(id,el),el.__ecGraphicId=id}function removeEl(existEl,elMap){var existElParent=existEl&&existEl.parent;existElParent&&("group"===existEl.type&&existEl.traverse(function(el){removeEl(el,elMap)}),elMap.removeKey(existEl.__ecGraphicId),existElParent.remove(existEl))}function getCleanedElOption(elOption){return elOption=zrUtil.extend({},elOption),zrUtil.each(["id","parentId","$action","hv","bounding"].concat(layoutUtil.LOCATION_PARAMS),function(name){delete elOption[name]}),elOption}function isSetLoc(obj,props){var isSet;return zrUtil.each(props,function(prop){null!=obj[prop]&&"auto"!==obj[prop]&&(isSet=!0)}),isSet}function setKeyInfoToNewElOption(resultItem,newElOption){var existElOption=resultItem.exist;if(newElOption.id=resultItem.keyInfo.id,!newElOption.type&&existElOption&&(newElOption.type=existElOption.type),null==newElOption.parentId){var newElParentOption=newElOption.parentOption;newElParentOption?newElOption.parentId=newElParentOption.id:existElOption&&(newElOption.parentId=existElOption.parentId)}newElOption.parentOption=null}function mergeNewElOptionToExist(existList,index,newElOption){var newElOptCopy=zrUtil.extend({},newElOption),existElOption=existList[index],$action=newElOption.$action||"merge";"merge"===$action?existElOption?(zrUtil.merge(existElOption,newElOptCopy,!0),layoutUtil.mergeLayoutParam(existElOption,newElOptCopy,{"ignoreSize":!0}),layoutUtil.copyLayoutParams(newElOption,existElOption)):existList[index]=newElOptCopy:"replace"===$action?existList[index]=newElOptCopy:"remove"===$action&&existElOption&&(existList[index]=null)}function setLayoutInfoToExist(existItem,newElOption){existItem&&(existItem.hv=newElOption.hv=[isSetLoc(newElOption,["left","right"]),isSetLoc(newElOption,["top","bottom"])],"group"===existItem.type&&(null==existItem.width&&(existItem.width=newElOption.width=0),null==existItem.height&&(existItem.height=newElOption.height=0)))}var _config=__webpack_require__(30),echarts=(_config.__DEV__,__webpack_require__(13)),zrUtil=__webpack_require__(4),modelUtil=__webpack_require__(27),graphicUtil=__webpack_require__(15),layoutUtil=__webpack_require__(34);echarts.registerPreprocessor(function(option){var graphicOption=option.graphic;zrUtil.isArray(graphicOption)?graphicOption[0]&&graphicOption[0].elements?option.graphic=[option.graphic[0]]:option.graphic=[{"elements":graphicOption}]:graphicOption&&!graphicOption.elements&&(option.graphic=[{"elements":[graphicOption]}])});var GraphicModel=echarts.extendComponentModel({"type":"graphic","defaultOption":{"elements":[],"parentId":null},"_elOptionsToUpdate":null,"mergeOption":function(option){var elements=this.option.elements;this.option.elements=null,GraphicModel.superApply(this,"mergeOption",arguments),this.option.elements=elements},"optionUpdated":function(newOption,isInit){var thisOption=this.option,newList=(isInit?thisOption:newOption).elements,existList=thisOption.elements=isInit?[]:thisOption.elements,flattenedList=[];this._flatten(newList,flattenedList);var mappingResult=modelUtil.mappingToExists(existList,flattenedList);modelUtil.makeIdAndName(mappingResult);var elOptionsToUpdate=this._elOptionsToUpdate=[];zrUtil.each(mappingResult,function(resultItem,index){var newElOption=resultItem.option;newElOption&&(elOptionsToUpdate.push(newElOption),setKeyInfoToNewElOption(resultItem,newElOption),mergeNewElOptionToExist(existList,index,newElOption),setLayoutInfoToExist(existList[index],newElOption))},this);for(var i=existList.length-1;i>=0;i--)null==existList[i]?existList.splice(i,1):delete existList[i].$action},"_flatten":function(optionList,result,parentOption){zrUtil.each(optionList,function(option){if(option){parentOption&&(option.parentOption=parentOption),result.push(option);var children=option.children;"group"===option.type&&children&&this._flatten(children,result,option),delete option.children}},this)},"useElOptionsToUpdate":function(){var els=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,els}});echarts.extendComponentView({"type":"graphic","init":function(ecModel,api){this._elMap=zrUtil.createHashMap(),this._lastGraphicModel},"render":function(graphicModel,ecModel,api){graphicModel!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=graphicModel,this._updateElements(graphicModel,api),this._relocate(graphicModel,api)},"_updateElements":function(graphicModel,api){var elOptionsToUpdate=graphicModel.useElOptionsToUpdate();if(elOptionsToUpdate){var elMap=this._elMap,rootGroup=this.group;zrUtil.each(elOptionsToUpdate,function(elOption){var $action=elOption.$action,id=elOption.id,existEl=elMap.get(id),parentId=elOption.parentId,targetElParent=null!=parentId?elMap.get(parentId):rootGroup;if("text"===elOption.type){var elOptionStyle=elOption.style;elOption.hv&&elOption.hv[1]&&(elOptionStyle.textVerticalAlign=elOptionStyle.textBaseline=null),!elOptionStyle.hasOwnProperty("textFill")&&elOptionStyle.fill&&(elOptionStyle.textFill=elOptionStyle.fill),!elOptionStyle.hasOwnProperty("textStroke")&&elOptionStyle.stroke&&(elOptionStyle.textStroke=elOptionStyle.stroke)}var elOptionCleaned=getCleanedElOption(elOption);$action&&"merge"!==$action?"replace"===$action?(removeEl(existEl,elMap),createEl(id,targetElParent,elOptionCleaned,elMap)):"remove"===$action&&removeEl(existEl,elMap):existEl?existEl.attr(elOptionCleaned):createEl(id,targetElParent,elOptionCleaned,elMap);var el=elMap.get(id);el&&(el.__ecGraphicWidth=elOption.width,el.__ecGraphicHeight=elOption.height)})}},"_relocate":function(graphicModel,api){for(var elOptions=graphicModel.option.elements,rootGroup=this.group,elMap=this._elMap,i=elOptions.length-1;i>=0;i--){var elOption=elOptions[i],el=elMap.get(elOption.id);if(el){var parentEl=el.parent,containerInfo=parentEl===rootGroup?{"width":api.getWidth(),"height":api.getHeight()}:{"width":parentEl.__ecGraphicWidth||0,"height":parentEl.__ecGraphicHeight||0};layoutUtil.positionElement(el,elOption,containerInfo,null,{"hv":elOption.hv,"boundingMode":elOption.bounding})}}},"_clear":function(){var elMap=this._elMap;elMap.each(function(el){removeEl(el,elMap)}),this._elMap=zrUtil.createHashMap()},"dispose":function(){this._clear()}})},function(module,exports,__webpack_require__){__webpack_require__(218),__webpack_require__(622),__webpack_require__(215)},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(636),__webpack_require__(1495),__webpack_require__(637);var legendFilter=__webpack_require__(1496),Component=__webpack_require__(51);echarts.registerProcessor(legendFilter),Component.registerSubTypeDefaulter("legend",function(){return"plain"})},function(module,exports,__webpack_require__){__webpack_require__(1491),__webpack_require__(1493),__webpack_require__(1494),__webpack_require__(1497)},function(module,exports,__webpack_require__){function mergeAndNormalizeLayoutParams(legendModel,target,raw){var orient=legendModel.getOrient(),ignoreSize=[1,1];ignoreSize[orient.index]=0,mergeLayoutParam(target,raw,{"type":"box","ignoreSize":ignoreSize})}var LegendModel=__webpack_require__(636),_layout=__webpack_require__(34),mergeLayoutParam=_layout.mergeLayoutParam,getLayoutParams=_layout.getLayoutParams,ScrollableLegendModel=LegendModel.extend({"type":"legend.scroll","setScrollDataIndex":function(scrollDataIndex){this.option.scrollDataIndex=scrollDataIndex},"defaultOption":{"scrollDataIndex":0,"pageButtonItemGap":5,"pageButtonGap":null,"pageButtonPosition":"end","pageFormatter":"{current}/{total}","pageIcons":{"horizontal":["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],"vertical":["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},"pageIconColor":"#2f4554","pageIconInactiveColor":"#aaa","pageIconSize":15,"pageTextStyle":{"color":"#333"},"animationDurationUpdate":800},"init":function(option,parentModel,ecModel,extraOpt){var inputPositionParams=getLayoutParams(option);ScrollableLegendModel.superCall(this,"init",option,parentModel,ecModel,extraOpt),mergeAndNormalizeLayoutParams(this,option,inputPositionParams)},"mergeOption":function(option,extraOpt){ScrollableLegendModel.superCall(this,"mergeOption",option,extraOpt),mergeAndNormalizeLayoutParams(this,this.option,option)},"getOrient":function(){return"vertical"===this.get("orient")?{"index":1,"name":"vertical"}:{"index":0,"name":"horizontal"}}}),_default=ScrollableLegendModel;module.exports=_default},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),graphic=__webpack_require__(15),layoutUtil=__webpack_require__(34),LegendView=__webpack_require__(637),Group=graphic.Group,WH=["width","height"],XY=["x","y"],ScrollableLegendView=LegendView.extend({"type":"legend.scroll","newlineDisabled":!0,"init":function(){ScrollableLegendView.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group),this._showController},"resetInner":function(){ScrollableLegendView.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},"renderInner":function(itemAlign,legendModel,ecModel,api){function createPageButton(name,iconIdx){var pageDataIndexName=name+"DataIndex",icon=graphic.createIcon(legendModel.get("pageIcons",!0)[legendModel.getOrient().name][iconIdx],{"onclick":zrUtil.bind(me._pageGo,me,pageDataIndexName,legendModel,api)},{"x":-pageIconSize[0]/2,"y":-pageIconSize[1]/2,"width":pageIconSize[0],"height":pageIconSize[1]});icon.name=name,controllerGroup.add(icon)}var me=this;ScrollableLegendView.superCall(this,"renderInner",itemAlign,legendModel,ecModel,api);var controllerGroup=this._controllerGroup,pageIconSize=legendModel.get("pageIconSize",!0);zrUtil.isArray(pageIconSize)||(pageIconSize=[pageIconSize,pageIconSize]),createPageButton("pagePrev",0);var pageTextStyleModel=legendModel.getModel("pageTextStyle");controllerGroup.add(new graphic.Text({"name":"pageText","style":{"textFill":pageTextStyleModel.getTextColor(),"font":pageTextStyleModel.getFont(),"textVerticalAlign":"middle","textAlign":"center"},"silent":!0})),createPageButton("pageNext",1)},"layoutInner":function(legendModel,itemAlign,maxSize){var contentGroup=this.getContentGroup(),containerGroup=this._containerGroup,controllerGroup=this._controllerGroup,orientIdx=legendModel.getOrient().index,wh=WH[orientIdx],hw=WH[1-orientIdx],yx=XY[1-orientIdx];layoutUtil.box(legendModel.get("orient"),contentGroup,legendModel.get("itemGap"),orientIdx?maxSize.width:null,orientIdx?null:maxSize.height),layoutUtil.box("horizontal",controllerGroup,legendModel.get("pageButtonItemGap",!0));var contentRect=contentGroup.getBoundingRect(),controllerRect=controllerGroup.getBoundingRect(),showController=this._showController=contentRect[wh]>maxSize[wh],contentPos=[-contentRect.x,-contentRect.y];contentPos[orientIdx]=contentGroup.position[orientIdx];var containerPos=[0,0],controllerPos=[-controllerRect.x,-controllerRect.y],pageButtonGap=zrUtil.retrieve2(legendModel.get("pageButtonGap",!0),legendModel.get("itemGap",!0));if(showController){var pageButtonPosition=legendModel.get("pageButtonPosition",!0);"end"===pageButtonPosition?controllerPos[orientIdx]+=maxSize[wh]-controllerRect[wh]:containerPos[orientIdx]+=controllerRect[wh]+pageButtonGap}controllerPos[1-orientIdx]+=contentRect[hw]/2-controllerRect[hw]/2,contentGroup.attr("position",contentPos),containerGroup.attr("position",containerPos),controllerGroup.attr("position",controllerPos);var mainRect=this.group.getBoundingRect(),mainRect={"x":0,"y":0};if(mainRect[wh]=showController?maxSize[wh]:contentRect[wh],mainRect[hw]=Math.max(contentRect[hw],controllerRect[hw]),mainRect[yx]=Math.min(0,controllerRect[yx]+controllerPos[1-orientIdx]),containerGroup.__rectSize=maxSize[wh],showController){var clipShape={"x":0,"y":0};clipShape[wh]=Math.max(maxSize[wh]-controllerRect[wh]-pageButtonGap,0),clipShape[hw]=mainRect[hw],containerGroup.setClipPath(new graphic.Rect({"shape":clipShape})),containerGroup.__rectSize=clipShape[wh]}else controllerGroup.eachChild(function(child){child.attr({"invisible":!0,"silent":!0})});var pageInfo=this._getPageInfo(legendModel);return null!=pageInfo.pageIndex&&graphic.updateProps(contentGroup,{"position":pageInfo.contentPosition},!!showController&&legendModel),this._updatePageInfoView(legendModel,pageInfo),mainRect},"_pageGo":function(to,legendModel,api){var scrollDataIndex=this._getPageInfo(legendModel)[to];null!=scrollDataIndex&&api.dispatchAction({"type":"legendScroll","scrollDataIndex":scrollDataIndex,"legendId":legendModel.id})},"_updatePageInfoView":function(legendModel,pageInfo){var controllerGroup=this._controllerGroup;zrUtil.each(["pagePrev","pageNext"],function(name){var canJump=null!=pageInfo[name+"DataIndex"],icon=controllerGroup.childOfName(name);icon&&(icon.setStyle("fill",canJump?legendModel.get("pageIconColor",!0):legendModel.get("pageIconInactiveColor",!0)),icon.cursor=canJump?"pointer":"default")});var pageText=controllerGroup.childOfName("pageText"),pageFormatter=legendModel.get("pageFormatter"),pageIndex=pageInfo.pageIndex,current=null!=pageIndex?pageIndex+1:0,total=pageInfo.pageCount;pageText&&pageFormatter&&pageText.setStyle("text",zrUtil.isString(pageFormatter)?pageFormatter.replace("{current}",current).replace("{total}",total):pageFormatter({"current":current,"total":total}))},"_getPageInfo":function(legendModel){function getItemRect(el){var itemRect=el.getBoundingRect().clone();return itemRect[xy]+=el.position[orientIdx],itemRect}var pageIndex,pagePrevDataIndex,pageNextDataIndex,targetItemGroup,currDataIndex=legendModel.get("scrollDataIndex",!0),contentGroup=this.getContentGroup(),contentRect=contentGroup.getBoundingRect(),containerRectSize=this._containerGroup.__rectSize,orientIdx=legendModel.getOrient().index,wh=WH[orientIdx],hw=WH[1-orientIdx],xy=XY[orientIdx],contentPos=contentGroup.position.slice();this._showController?contentGroup.eachChild(function(child){child.__legendDataIndex===currDataIndex&&(targetItemGroup=child)}):targetItemGroup=contentGroup.childAt(0);var pageCount=containerRectSize?Math.ceil(contentRect[wh]/containerRectSize):0;if(targetItemGroup){var itemRect=targetItemGroup.getBoundingRect(),itemLoc=targetItemGroup.position[orientIdx]+itemRect[xy];contentPos[orientIdx]=-itemLoc-contentRect[xy],pageIndex=Math.floor(pageCount*(itemLoc+itemRect[xy]+containerRectSize/2)/contentRect[wh]),pageIndex=contentRect[wh]&&pageCount?Math.max(0,Math.min(pageCount-1,pageIndex)):-1;var winRect={"x":0,"y":0};winRect[wh]=containerRectSize,winRect[hw]=contentRect[hw],winRect[xy]=-contentPos[orientIdx]-contentRect[xy];var startIdx,children=contentGroup.children();if(contentGroup.eachChild(function(child,index){var itemRect=getItemRect(child);itemRect.intersect(winRect)&&(null==startIdx&&(startIdx=index),pageNextDataIndex=child.__legendDataIndex),index===children.length-1&&itemRect[xy]+itemRect[wh]<=winRect[xy]+winRect[wh]&&(pageNextDataIndex=null)}),null!=startIdx){var startItem=children[startIdx],startRect=getItemRect(startItem);if(winRect[xy]=startRect[xy]+startRect[wh]-winRect[wh],startIdx<=0&&startRect[xy]>=winRect[xy])pagePrevDataIndex=null;else{for(;startIdx>0&&getItemRect(children[startIdx-1]).intersect(winRect);)startIdx--;pagePrevDataIndex=children[startIdx].__legendDataIndex}}}return{"contentPosition":contentPos,"pageIndex":pageIndex,"pageCount":pageCount,"pagePrevDataIndex":pagePrevDataIndex,"pageNextDataIndex":pageNextDataIndex}}}),_default=ScrollableLegendView;module.exports=_default},function(module,exports,__webpack_require__){function legendSelectActionHandler(methodName,payload,ecModel){var isSelected,selectedMap={},isToggleSelect="toggleSelected"===methodName;return ecModel.eachComponent("legend",function(legendModel){isToggleSelect&&null!=isSelected?legendModel[isSelected?"select":"unSelect"](payload.name):(legendModel[methodName](payload.name),isSelected=legendModel.isSelected(payload.name));var legendData=legendModel.getData();zrUtil.each(legendData,function(model){var name=model.get("name");if("\n"!==name&&""!==name){var isItemSelected=legendModel.isSelected(name);selectedMap.hasOwnProperty(name)?selectedMap[name]=selectedMap[name]&&isItemSelected:selectedMap[name]=isItemSelected}})}),{"name":payload.name,"selected":selectedMap}}var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4);echarts.registerAction("legendToggleSelect","legendselectchanged",zrUtil.curry(legendSelectActionHandler,"toggleSelected")),echarts.registerAction("legendSelect","legendselected",zrUtil.curry(legendSelectActionHandler,"select")),echarts.registerAction("legendUnSelect","legendunselected",zrUtil.curry(legendSelectActionHandler,"unSelect"))},function(module,exports){function _default(ecModel){var legendModels=ecModel.findComponents({"mainType":"legend"});legendModels&&legendModels.length&&ecModel.filterSeries(function(series){for(var i=0;i<legendModels.length;i++)if(!legendModels[i].isSelected(series.name))return!1;return!0})}module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);echarts.registerAction("legendScroll","legendscroll",function(payload,ecModel){var scrollDataIndex=payload.scrollDataIndex;null!=scrollDataIndex&&ecModel.eachComponent({"mainType":"legend","subType":"scroll","query":payload},function(legendModel){legendModel.setScrollDataIndex(scrollDataIndex)})})},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(1501),__webpack_require__(1502),echarts.registerPreprocessor(function(opt){opt.markArea=opt.markArea||{}})},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(1503),__webpack_require__(1504),echarts.registerPreprocessor(function(opt){opt.markLine=opt.markLine||{}})},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(1505),__webpack_require__(1506),echarts.registerPreprocessor(function(opt){opt.markPoint=opt.markPoint||{}})},function(module,exports,__webpack_require__){var MarkerModel=__webpack_require__(384),_default=MarkerModel.extend({"type":"markArea","defaultOption":{"zlevel":0,"z":1,"tooltip":{"trigger":"item"},"animation":!1,"label":{"show":!0,"position":"top"},"itemStyle":{"borderWidth":0},"emphasis":{"label":{"show":!0,"position":"top"}}}});module.exports=_default},function(module,exports,__webpack_require__){function isInifinity(val){return!isNaN(val)&&!isFinite(val)}function ifMarkLineHasOnlyDim(dimIndex,fromCoord,toCoord,coordSys){var otherDimIndex=1-dimIndex;return isInifinity(fromCoord[otherDimIndex])&&isInifinity(toCoord[otherDimIndex])}function markAreaFilter(coordSys,item){var fromCoord=item.coord[0],toCoord=item.coord[1];return!("cartesian2d"!==coordSys.type||!fromCoord||!toCoord||!ifMarkLineHasOnlyDim(1,fromCoord,toCoord,coordSys)&&!ifMarkLineHasOnlyDim(0,fromCoord,toCoord,coordSys))||(markerHelper.dataFilter(coordSys,{"coord":fromCoord,"x":item.x0,"y":item.y0})||markerHelper.dataFilter(coordSys,{"coord":toCoord,"x":item.x1,"y":item.y1}))}function getSingleMarkerEndPoint(data,idx,dims,seriesModel,api){var point,coordSys=seriesModel.coordinateSystem,itemModel=data.getItemModel(idx),xPx=numberUtil.parsePercent(itemModel.get(dims[0]),api.getWidth()),yPx=numberUtil.parsePercent(itemModel.get(dims[1]),api.getHeight());if(isNaN(xPx)||isNaN(yPx)){if(seriesModel.getMarkerPosition)point=seriesModel.getMarkerPosition(data.getValues(dims,idx));else{var x=data.get(dims[0],idx),y=data.get(dims[1],idx),pt=[x,y];coordSys.clampData&&coordSys.clampData(pt,pt),point=coordSys.dataToPoint(pt,!0)}if("cartesian2d"===coordSys.type){var xAxis=coordSys.getAxis("x"),yAxis=coordSys.getAxis("y"),x=data.get(dims[0],idx),y=data.get(dims[1],idx);isInifinity(x)?point[0]=xAxis.toGlobalCoord(xAxis.getExtent()["x0"===dims[0]?0:1]):isInifinity(y)&&(point[1]=yAxis.toGlobalCoord(yAxis.getExtent()["y0"===dims[1]?0:1]))}isNaN(xPx)||(point[0]=xPx),isNaN(yPx)||(point[1]=yPx)}else point=[xPx,yPx];return point}function createList(coordSys,seriesModel,maModel){var coordDimsInfos,areaData,dims=["x0","y0","x1","y1"];coordSys?(coordDimsInfos=zrUtil.map(coordSys&&coordSys.dimensions,function(coordDim){var data=seriesModel.getData(),info=data.getDimensionInfo(data.mapDimension(coordDim))||{};return zrUtil.defaults({"name":coordDim},info)}),areaData=new List(zrUtil.map(dims,function(dim,idx){return{"name":dim,"type":coordDimsInfos[idx%2].type}}),maModel)):(coordDimsInfos=[{"name":"value","type":"float"}],areaData=new List(coordDimsInfos,maModel));var optData=zrUtil.map(maModel.get("data"),zrUtil.curry(markAreaTransform,seriesModel,coordSys,maModel));coordSys&&(optData=zrUtil.filter(optData,zrUtil.curry(markAreaFilter,coordSys)));var dimValueGetter=coordSys?function(item,dimName,dataIndex,dimIndex){return item.coord[Math.floor(dimIndex/2)][dimIndex%2]}:function(item){return item.value};return areaData.initData(optData,null,dimValueGetter),areaData.hasItemOption=!0,areaData}var zrUtil=__webpack_require__(4),colorUtil=__webpack_require__(125),List=__webpack_require__(82),numberUtil=__webpack_require__(20),graphic=__webpack_require__(15),markerHelper=__webpack_require__(386),MarkerView=__webpack_require__(385),markAreaTransform=function(seriesModel,coordSys,maModel,item){var lt=markerHelper.dataTransform(seriesModel,item[0]),rb=markerHelper.dataTransform(seriesModel,item[1]),retrieve=zrUtil.retrieve,ltCoord=lt.coord,rbCoord=rb.coord;ltCoord[0]=retrieve(ltCoord[0],-(1/0)),ltCoord[1]=retrieve(ltCoord[1],-(1/0)),rbCoord[0]=retrieve(rbCoord[0],1/0),rbCoord[1]=retrieve(rbCoord[1],1/0);var result=zrUtil.mergeAll([{},lt,rb]);return result.coord=[lt.coord,rb.coord],result.x0=lt.x,result.y0=lt.y,result.x1=rb.x,result.y1=rb.y,result},dimPermutations=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];MarkerView.extend({"type":"markArea","updateTransform":function(markAreaModel,ecModel,api){ecModel.eachSeries(function(seriesModel){var maModel=seriesModel.markAreaModel;if(maModel){var areaData=maModel.getData();areaData.each(function(idx){var points=zrUtil.map(dimPermutations,function(dim){return getSingleMarkerEndPoint(areaData,idx,dim,seriesModel,api)});areaData.setItemLayout(idx,points);var el=areaData.getItemGraphicEl(idx);el.setShape("points",points)})}},this)},"renderSeries":function(seriesModel,maModel,ecModel,api){var coordSys=seriesModel.coordinateSystem,seriesId=seriesModel.id,seriesData=seriesModel.getData(),areaGroupMap=this.markerGroupMap,polygonGroup=areaGroupMap.get(seriesId)||areaGroupMap.set(seriesId,{"group":new graphic.Group});this.group.add(polygonGroup.group),polygonGroup.__keep=!0;var areaData=createList(coordSys,seriesModel,maModel);maModel.setData(areaData),areaData.each(function(idx){areaData.setItemLayout(idx,zrUtil.map(dimPermutations,function(dim){return getSingleMarkerEndPoint(areaData,idx,dim,seriesModel,api)})),areaData.setItemVisual(idx,{"color":seriesData.getVisual("color")})}),areaData.diff(polygonGroup.__data).add(function(idx){var polygon=new graphic.Polygon({"shape":{"points":areaData.getItemLayout(idx)}});areaData.setItemGraphicEl(idx,polygon),polygonGroup.group.add(polygon)}).update(function(newIdx,oldIdx){var polygon=polygonGroup.__data.getItemGraphicEl(oldIdx);graphic.updateProps(polygon,{"shape":{"points":areaData.getItemLayout(newIdx)}},maModel,newIdx),polygonGroup.group.add(polygon),areaData.setItemGraphicEl(newIdx,polygon)}).remove(function(idx){var polygon=polygonGroup.__data.getItemGraphicEl(idx);polygonGroup.group.remove(polygon)}).execute(),areaData.eachItemGraphicEl(function(polygon,idx){var itemModel=areaData.getItemModel(idx),labelModel=itemModel.getModel("label"),labelHoverModel=itemModel.getModel("emphasis.label"),color=areaData.getItemVisual(idx,"color");polygon.useStyle(zrUtil.defaults(itemModel.getModel("itemStyle").getItemStyle(),{"fill":colorUtil.modifyAlpha(color,.4),"stroke":color})),polygon.hoverStyle=itemModel.getModel("emphasis.itemStyle").getItemStyle(),graphic.setLabelStyle(polygon.style,polygon.hoverStyle,labelModel,labelHoverModel,{"labelFetcher":maModel,"labelDataIndex":idx,"defaultText":areaData.getName(idx)||"","isRectText":!0,"autoColor":color}),graphic.setHoverStyle(polygon,{}),polygon.dataModel=maModel}),polygonGroup.__data=areaData,polygonGroup.group.silent=maModel.get("silent")||seriesModel.get("silent")}})},function(module,exports,__webpack_require__){var MarkerModel=__webpack_require__(384),_default=MarkerModel.extend({"type":"markLine","defaultOption":{"zlevel":0,"z":5,"symbol":["circle","arrow"],"symbolSize":[8,16],"precision":2,"tooltip":{"trigger":"item"},"label":{"show":!0,"position":"end"},"lineStyle":{"type":"dashed"},"emphasis":{"label":{"show":!0},"lineStyle":{"width":3}},"animationEasing":"linear"}});module.exports=_default},function(module,exports,__webpack_require__){function isInifinity(val){return!isNaN(val)&&!isFinite(val)}function ifMarkLineHasOnlyDim(dimIndex,fromCoord,toCoord,coordSys){var otherDimIndex=1-dimIndex,dimName=coordSys.dimensions[dimIndex];return isInifinity(fromCoord[otherDimIndex])&&isInifinity(toCoord[otherDimIndex])&&fromCoord[dimIndex]===toCoord[dimIndex]&&coordSys.getAxis(dimName).containData(fromCoord[dimIndex])}function markLineFilter(coordSys,item){if("cartesian2d"===coordSys.type){var fromCoord=item[0].coord,toCoord=item[1].coord;if(fromCoord&&toCoord&&(ifMarkLineHasOnlyDim(1,fromCoord,toCoord,coordSys)||ifMarkLineHasOnlyDim(0,fromCoord,toCoord,coordSys)))return!0}return markerHelper.dataFilter(coordSys,item[0])&&markerHelper.dataFilter(coordSys,item[1])}function updateSingleMarkerEndLayout(data,idx,isFrom,seriesModel,api){var point,coordSys=seriesModel.coordinateSystem,itemModel=data.getItemModel(idx),xPx=numberUtil.parsePercent(itemModel.get("x"),api.getWidth()),yPx=numberUtil.parsePercent(itemModel.get("y"),api.getHeight());if(isNaN(xPx)||isNaN(yPx)){if(seriesModel.getMarkerPosition)point=seriesModel.getMarkerPosition(data.getValues(data.dimensions,idx));else{var dims=coordSys.dimensions,x=data.get(dims[0],idx),y=data.get(dims[1],idx);point=coordSys.dataToPoint([x,y])}if("cartesian2d"===coordSys.type){var xAxis=coordSys.getAxis("x"),yAxis=coordSys.getAxis("y"),dims=coordSys.dimensions;isInifinity(data.get(dims[0],idx))?point[0]=xAxis.toGlobalCoord(xAxis.getExtent()[isFrom?0:1]):isInifinity(data.get(dims[1],idx))&&(point[1]=yAxis.toGlobalCoord(yAxis.getExtent()[isFrom?0:1]))}isNaN(xPx)||(point[0]=xPx),isNaN(yPx)||(point[1]=yPx)}else point=[xPx,yPx];data.setItemLayout(idx,point)}function createList(coordSys,seriesModel,mlModel){var coordDimsInfos;coordDimsInfos=coordSys?zrUtil.map(coordSys&&coordSys.dimensions,function(coordDim){var info=seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim))||{};return zrUtil.defaults({"name":coordDim},info)}):[{"name":"value","type":"float"}];var fromData=new List(coordDimsInfos,mlModel),toData=new List(coordDimsInfos,mlModel),lineData=new List([],mlModel),optData=zrUtil.map(mlModel.get("data"),zrUtil.curry(markLineTransform,seriesModel,coordSys,mlModel));coordSys&&(optData=zrUtil.filter(optData,zrUtil.curry(markLineFilter,coordSys)));var dimValueGetter=coordSys?markerHelper.dimValueGetter:function(item){return item.value};return fromData.initData(zrUtil.map(optData,function(item){return item[0]}),null,dimValueGetter),toData.initData(zrUtil.map(optData,function(item){return item[1]}),null,dimValueGetter),lineData.initData(zrUtil.map(optData,function(item){return item[2]})),lineData.hasItemOption=!0,{"from":fromData,"to":toData,
"line":lineData}}var zrUtil=__webpack_require__(4),List=__webpack_require__(82),numberUtil=__webpack_require__(20),markerHelper=__webpack_require__(386),LineDraw=__webpack_require__(377),MarkerView=__webpack_require__(385),markLineTransform=function(seriesModel,coordSys,mlModel,item){var data=seriesModel.getData(),mlType=item.type;if(!zrUtil.isArray(item)&&("min"===mlType||"max"===mlType||"average"===mlType||"median"===mlType||null!=item.xAxis||null!=item.yAxis)){var valueAxis,valueDataDim,value;if(null!=item.yAxis||null!=item.xAxis)valueDataDim=null!=item.yAxis?"y":"x",valueAxis=coordSys.getAxis(valueDataDim),value=zrUtil.retrieve(item.yAxis,item.xAxis);else{var axisInfo=markerHelper.getAxisInfo(item,data,coordSys,seriesModel);valueDataDim=axisInfo.valueDataDim,valueAxis=axisInfo.valueAxis,value=markerHelper.numCalculate(data,valueDataDim,mlType)}var valueIndex="x"===valueDataDim?0:1,baseIndex=1-valueIndex,mlFrom=zrUtil.clone(item),mlTo={};mlFrom.type=null,mlFrom.coord=[],mlTo.coord=[],mlFrom.coord[baseIndex]=-(1/0),mlTo.coord[baseIndex]=1/0;var precision=mlModel.get("precision");precision>=0&&"number"==typeof value&&(value=+value.toFixed(Math.min(precision,20))),mlFrom.coord[valueIndex]=mlTo.coord[valueIndex]=value,item=[mlFrom,mlTo,{"type":mlType,"valueIndex":item.valueIndex,"value":value}]}return item=[markerHelper.dataTransform(seriesModel,item[0]),markerHelper.dataTransform(seriesModel,item[1]),zrUtil.extend({},item[2])],item[2].type=item[2].type||"",zrUtil.merge(item[2],item[0]),zrUtil.merge(item[2],item[1]),item},_default=MarkerView.extend({"type":"markLine","updateTransform":function(markLineModel,ecModel,api){ecModel.eachSeries(function(seriesModel){var mlModel=seriesModel.markLineModel;if(mlModel){var mlData=mlModel.getData(),fromData=mlModel.__from,toData=mlModel.__to;fromData.each(function(idx){updateSingleMarkerEndLayout(fromData,idx,!0,seriesModel,api),updateSingleMarkerEndLayout(toData,idx,!1,seriesModel,api)}),mlData.each(function(idx){mlData.setItemLayout(idx,[fromData.getItemLayout(idx),toData.getItemLayout(idx)])}),this.markerGroupMap.get(seriesModel.id).updateLayout()}},this)},"renderSeries":function(seriesModel,mlModel,ecModel,api){function updateDataVisualAndLayout(data,idx,isFrom){var itemModel=data.getItemModel(idx);updateSingleMarkerEndLayout(data,idx,isFrom,seriesModel,api),data.setItemVisual(idx,{"symbolSize":itemModel.get("symbolSize")||symbolSize[isFrom?0:1],"symbol":itemModel.get("symbol",!0)||symbolType[isFrom?0:1],"color":itemModel.get("itemStyle.color")||seriesData.getVisual("color")})}var coordSys=seriesModel.coordinateSystem,seriesId=seriesModel.id,seriesData=seriesModel.getData(),lineDrawMap=this.markerGroupMap,lineDraw=lineDrawMap.get(seriesId)||lineDrawMap.set(seriesId,new LineDraw);this.group.add(lineDraw.group);var mlData=createList(coordSys,seriesModel,mlModel),fromData=mlData.from,toData=mlData.to,lineData=mlData.line;mlModel.__from=fromData,mlModel.__to=toData,mlModel.setData(lineData);var symbolType=mlModel.get("symbol"),symbolSize=mlModel.get("symbolSize");zrUtil.isArray(symbolType)||(symbolType=[symbolType,symbolType]),"number"==typeof symbolSize&&(symbolSize=[symbolSize,symbolSize]),mlData.from.each(function(idx){updateDataVisualAndLayout(fromData,idx,!0),updateDataVisualAndLayout(toData,idx,!1)}),lineData.each(function(idx){var lineColor=lineData.getItemModel(idx).get("lineStyle.color");lineData.setItemVisual(idx,{"color":lineColor||fromData.getItemVisual(idx,"color")}),lineData.setItemLayout(idx,[fromData.getItemLayout(idx),toData.getItemLayout(idx)]),lineData.setItemVisual(idx,{"fromSymbolSize":fromData.getItemVisual(idx,"symbolSize"),"fromSymbol":fromData.getItemVisual(idx,"symbol"),"toSymbolSize":toData.getItemVisual(idx,"symbolSize"),"toSymbol":toData.getItemVisual(idx,"symbol")})}),lineDraw.updateData(lineData),mlData.line.eachItemGraphicEl(function(el,idx){el.traverse(function(child){child.dataModel=mlModel})}),lineDraw.__keep=!0,lineDraw.group.silent=mlModel.get("silent")||seriesModel.get("silent")}});module.exports=_default},function(module,exports,__webpack_require__){var MarkerModel=__webpack_require__(384),_default=MarkerModel.extend({"type":"markPoint","defaultOption":{"zlevel":0,"z":5,"symbol":"pin","symbolSize":50,"tooltip":{"trigger":"item"},"label":{"show":!0,"position":"inside"},"itemStyle":{"borderWidth":2},"emphasis":{"label":{"show":!0}}}});module.exports=_default},function(module,exports,__webpack_require__){function updateMarkerLayout(mpData,seriesModel,api){var coordSys=seriesModel.coordinateSystem;mpData.each(function(idx){var point,itemModel=mpData.getItemModel(idx),xPx=numberUtil.parsePercent(itemModel.get("x"),api.getWidth()),yPx=numberUtil.parsePercent(itemModel.get("y"),api.getHeight());if(isNaN(xPx)||isNaN(yPx)){if(seriesModel.getMarkerPosition)point=seriesModel.getMarkerPosition(mpData.getValues(mpData.dimensions,idx));else if(coordSys){var x=mpData.get(coordSys.dimensions[0],idx),y=mpData.get(coordSys.dimensions[1],idx);point=coordSys.dataToPoint([x,y])}}else point=[xPx,yPx];isNaN(xPx)||(point[0]=xPx),isNaN(yPx)||(point[1]=yPx),mpData.setItemLayout(idx,point)})}function createList(coordSys,seriesModel,mpModel){var coordDimsInfos;coordDimsInfos=coordSys?zrUtil.map(coordSys&&coordSys.dimensions,function(coordDim){var info=seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim))||{};return zrUtil.defaults({"name":coordDim},info)}):[{"name":"value","type":"float"}];var mpData=new List(coordDimsInfos,mpModel),dataOpt=zrUtil.map(mpModel.get("data"),zrUtil.curry(markerHelper.dataTransform,seriesModel));return coordSys&&(dataOpt=zrUtil.filter(dataOpt,zrUtil.curry(markerHelper.dataFilter,coordSys))),mpData.initData(dataOpt,null,coordSys?markerHelper.dimValueGetter:function(item){return item.value}),mpData}var zrUtil=__webpack_require__(4),SymbolDraw=__webpack_require__(214),numberUtil=__webpack_require__(20),List=__webpack_require__(82),markerHelper=__webpack_require__(386),MarkerView=__webpack_require__(385),_default=MarkerView.extend({"type":"markPoint","updateTransform":function(markPointModel,ecModel,api){ecModel.eachSeries(function(seriesModel){var mpModel=seriesModel.markPointModel;mpModel&&(updateMarkerLayout(mpModel.getData(),seriesModel,api),this.markerGroupMap.get(seriesModel.id).updateLayout(mpModel))},this)},"renderSeries":function(seriesModel,mpModel,ecModel,api){var coordSys=seriesModel.coordinateSystem,seriesId=seriesModel.id,seriesData=seriesModel.getData(),symbolDrawMap=this.markerGroupMap,symbolDraw=symbolDrawMap.get(seriesId)||symbolDrawMap.set(seriesId,new SymbolDraw),mpData=createList(coordSys,seriesModel,mpModel);mpModel.setData(mpData),updateMarkerLayout(mpModel.getData(),seriesModel,api),mpData.each(function(idx){var itemModel=mpData.getItemModel(idx),symbolSize=itemModel.getShallow("symbolSize");"function"==typeof symbolSize&&(symbolSize=symbolSize(mpModel.getRawValue(idx),mpModel.getDataParams(idx))),mpData.setItemVisual(idx,{"symbolSize":symbolSize,"color":itemModel.get("itemStyle.color")||seriesData.getVisual("color"),"symbol":itemModel.getShallow("symbol")})}),symbolDraw.updateData(mpData),this.group.add(symbolDraw.group),mpData.eachItemGraphicEl(function(el){el.traverse(function(child){child.dataModel=mpModel})}),symbolDraw.__keep=!0,symbolDraw.group.silent=mpModel.get("silent")||seriesModel.get("silent")}});module.exports=_default},function(module,exports,__webpack_require__){__webpack_require__(653),__webpack_require__(1467),__webpack_require__(1464)},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),barPolar=__webpack_require__(1579);__webpack_require__(388),__webpack_require__(1455),__webpack_require__(1511),__webpack_require__(215),__webpack_require__(1459),echarts.registerLayout(zrUtil.curry(barPolar,"bar")),echarts.extendComponentView({"type":"polar"})},function(module,exports,__webpack_require__){__webpack_require__(1570),__webpack_require__(1571),__webpack_require__(1510)},function(module,exports,__webpack_require__){var _config=__webpack_require__(30),echarts=(_config.__DEV__,__webpack_require__(13)),zrUtil=__webpack_require__(4),AxisBuilder=__webpack_require__(158),graphic=__webpack_require__(15),axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],_default=echarts.extendComponentView({"type":"radar","render":function(radarModel,ecModel,api){var group=this.group;group.removeAll(),this._buildAxes(radarModel),this._buildSplitLineAndArea(radarModel)},"_buildAxes":function(radarModel){var radar=radarModel.coordinateSystem,indicatorAxes=radar.getIndicatorAxes(),axisBuilders=zrUtil.map(indicatorAxes,function(indicatorAxis){var axisBuilder=new AxisBuilder(indicatorAxis.model,{"position":[radar.cx,radar.cy],"rotation":indicatorAxis.angle,"labelDirection":-1,"tickDirection":-1,"nameDirection":1});return axisBuilder});zrUtil.each(axisBuilders,function(axisBuilder){zrUtil.each(axisBuilderAttrs,axisBuilder.add,axisBuilder),this.group.add(axisBuilder.getGroup())},this)},"_buildSplitLineAndArea":function(radarModel){function getColorIndex(areaOrLine,areaOrLineColorList,idx){var colorIndex=idx%areaOrLineColorList.length;return areaOrLine[colorIndex]=areaOrLine[colorIndex]||[],colorIndex}var radar=radarModel.coordinateSystem,indicatorAxes=radar.getIndicatorAxes();if(indicatorAxes.length){var shape=radarModel.get("shape"),splitLineModel=radarModel.getModel("splitLine"),splitAreaModel=radarModel.getModel("splitArea"),lineStyleModel=splitLineModel.getModel("lineStyle"),areaStyleModel=splitAreaModel.getModel("areaStyle"),showSplitLine=splitLineModel.get("show"),showSplitArea=splitAreaModel.get("show"),splitLineColors=lineStyleModel.get("color"),splitAreaColors=areaStyleModel.get("color");splitLineColors=zrUtil.isArray(splitLineColors)?splitLineColors:[splitLineColors],splitAreaColors=zrUtil.isArray(splitAreaColors)?splitAreaColors:[splitAreaColors];var splitLines=[],splitAreas=[];if("circle"===shape)for(var ticksRadius=indicatorAxes[0].getTicksCoords(),cx=radar.cx,cy=radar.cy,i=0;i<ticksRadius.length;i++){if(showSplitLine){var colorIndex=getColorIndex(splitLines,splitLineColors,i);splitLines[colorIndex].push(new graphic.Circle({"shape":{"cx":cx,"cy":cy,"r":ticksRadius[i].coord}}))}if(showSplitArea&&i<ticksRadius.length-1){var colorIndex=getColorIndex(splitAreas,splitAreaColors,i);splitAreas[colorIndex].push(new graphic.Ring({"shape":{"cx":cx,"cy":cy,"r0":ticksRadius[i].coord,"r":ticksRadius[i+1].coord}}))}}else for(var realSplitNumber,axesTicksPoints=zrUtil.map(indicatorAxes,function(indicatorAxis,idx){var ticksCoords=indicatorAxis.getTicksCoords();return realSplitNumber=null==realSplitNumber?ticksCoords.length-1:Math.min(ticksCoords.length-1,realSplitNumber),zrUtil.map(ticksCoords,function(tickCoord){return radar.coordToPoint(tickCoord.coord,idx)})}),prevPoints=[],i=0;i<=realSplitNumber;i++){for(var points=[],j=0;j<indicatorAxes.length;j++)points.push(axesTicksPoints[j][i]);if(points[0]&&points.push(points[0].slice()),showSplitLine){var colorIndex=getColorIndex(splitLines,splitLineColors,i);splitLines[colorIndex].push(new graphic.Polyline({"shape":{"points":points}}))}if(showSplitArea&&prevPoints){var colorIndex=getColorIndex(splitAreas,splitAreaColors,i-1);splitAreas[colorIndex].push(new graphic.Polygon({"shape":{"points":points.concat(prevPoints)}}))}prevPoints=points.slice().reverse()}var lineStyle=lineStyleModel.getLineStyle(),areaStyle=areaStyleModel.getAreaStyle();zrUtil.each(splitAreas,function(splitAreas,idx){this.group.add(graphic.mergePath(splitAreas,{"style":zrUtil.defaults({"stroke":"none","fill":splitAreaColors[idx%splitAreaColors.length]},areaStyle),"silent":!0}))},this),zrUtil.each(splitLines,function(splitLines,idx){this.group.add(graphic.mergePath(splitLines,{"style":zrUtil.defaults({"fill":"none","stroke":splitLineColors[idx%splitLineColors.length]},lineStyle),"silent":!0}))},this)}}});module.exports=_default},function(module,exports,__webpack_require__){__webpack_require__(388),__webpack_require__(1465)},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),preprocessor=__webpack_require__(1518);__webpack_require__(1520),__webpack_require__(1519),__webpack_require__(1513),__webpack_require__(1514),echarts.registerPreprocessor(preprocessor)},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),TimelineModel=__webpack_require__(1516),dataFormatMixin=__webpack_require__(390),SliderTimelineModel=TimelineModel.extend({"type":"timeline.slider","defaultOption":{"backgroundColor":"rgba(0,0,0,0)","borderColor":"#ccc","borderWidth":0,"orient":"horizontal","inverse":!1,"tooltip":{"trigger":"item"},"symbol":"emptyCircle","symbolSize":10,"lineStyle":{"show":!0,"width":2,"color":"#304654"},"label":{"position":"auto","show":!0,"interval":"auto","rotate":0,"color":"#304654"},"itemStyle":{"color":"#304654","borderWidth":1},"checkpointStyle":{"symbol":"circle","symbolSize":13,"color":"#c23531","borderWidth":5,"borderColor":"rgba(194,53,49, 0.5)","animation":!0,"animationDuration":300,"animationEasing":"quinticInOut"},"controlStyle":{"show":!0,"showPlayBtn":!0,"showPrevBtn":!0,"showNextBtn":!0,"itemSize":22,"itemGap":12,"position":"left","playIcon":"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z","stopIcon":"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z","nextIcon":"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z","prevIcon":"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z","color":"#304654","borderColor":"#304654","borderWidth":1},"emphasis":{"label":{"show":!0,"color":"#c23531"},"itemStyle":{"color":"#c23531"},"controlStyle":{"color":"#c23531","borderColor":"#c23531","borderWidth":2}},"data":[]}});zrUtil.mixin(SliderTimelineModel,dataFormatMixin);var _default=SliderTimelineModel;module.exports=_default},function(module,exports,__webpack_require__){function getViewRect(model,api){return layout.getLayoutRect(model.getBoxLayoutParams(),{"width":api.getWidth(),"height":api.getHeight()},model.get("padding"))}function makeIcon(timelineModel,objPath,rect,opts){var icon=graphic.makePath(timelineModel.get(objPath).replace(/^path:\/\//,""),zrUtil.clone(opts||{}),new BoundingRect(rect[0],rect[1],rect[2],rect[3]),"center");return icon}function giveSymbol(hostModel,itemStyleModel,group,opt,symbol,callback){var color=itemStyleModel.get("color");if(symbol)symbol.setColor(color),group.add(symbol),callback&&callback.onUpdate(symbol);else{var symbolType=hostModel.get("symbol");symbol=createSymbol(symbolType,-1,-1,2,2,color),symbol.setStyle("strokeNoScale",!0),group.add(symbol),callback&&callback.onCreate(symbol)}var itemStyle=itemStyleModel.getItemStyle(["color","symbol","symbolSize"]);symbol.setStyle(itemStyle),opt=zrUtil.merge({"rectHover":!0,"z2":100},opt,!0);var symbolSize=hostModel.get("symbolSize");symbolSize=symbolSize instanceof Array?symbolSize.slice():[+symbolSize,+symbolSize],symbolSize[0]/=2,symbolSize[1]/=2,opt.scale=symbolSize;var symbolOffset=hostModel.get("symbolOffset");if(symbolOffset){var pos=opt.position=opt.position||[0,0];pos[0]+=numberUtil.parsePercent(symbolOffset[0],symbolSize[0]),pos[1]+=numberUtil.parsePercent(symbolOffset[1],symbolSize[1])}var symbolRotate=hostModel.get("symbolRotate");return opt.rotation=(symbolRotate||0)*Math.PI/180||0,symbol.attr(opt),symbol.updateTransform(),symbol}function pointerMoveTo(pointer,dataIndex,axis,timelineModel,noAnimation){if(!pointer.dragging){var pointerModel=timelineModel.getModel("checkpointStyle"),toCoord=axis.dataToCoord(timelineModel.getData().get(["value"],dataIndex));noAnimation||!pointerModel.get("animation",!0)?pointer.attr({"position":[toCoord,0]}):(pointer.stopAnimation(!0),pointer.animateTo({"position":[toCoord,0]},pointerModel.get("animationDuration",!0),pointerModel.get("animationEasing",!0)))}}var zrUtil=__webpack_require__(4),BoundingRect=__webpack_require__(43),matrix=__webpack_require__(70),graphic=__webpack_require__(15),layout=__webpack_require__(34),TimelineView=__webpack_require__(1517),TimelineAxis=__webpack_require__(1515),_symbol=__webpack_require__(83),createSymbol=_symbol.createSymbol,axisHelper=__webpack_require__(93),numberUtil=__webpack_require__(20),_format=__webpack_require__(40),encodeHTML=_format.encodeHTML,bind=zrUtil.bind,each=zrUtil.each,PI=Math.PI,_default=TimelineView.extend({"type":"timeline.slider","init":function(ecModel,api){this.api=api,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},"render":function(timelineModel,ecModel,api,payload){if(this.model=timelineModel,this.api=api,this.ecModel=ecModel,this.group.removeAll(),timelineModel.get("show",!0)){var layoutInfo=this._layout(timelineModel,api),mainGroup=this._createGroup("mainGroup"),labelGroup=this._createGroup("labelGroup"),axis=this._axis=this._createAxis(layoutInfo,timelineModel);timelineModel.formatTooltip=function(dataIndex){return encodeHTML(axis.scale.getLabel(dataIndex))},each(["AxisLine","AxisTick","Control","CurrentPointer"],function(name){this["_render"+name](layoutInfo,mainGroup,axis,timelineModel)},this),this._renderAxisLabel(layoutInfo,labelGroup,axis,timelineModel),this._position(layoutInfo,timelineModel)}this._doPlayStop()},"remove":function(){this._clearTimer(),this.group.removeAll()},"dispose":function(){this._clearTimer()},"_layout":function(timelineModel,api){var labelPosOpt=timelineModel.get("label.position"),orient=timelineModel.get("orient"),viewRect=getViewRect(timelineModel,api);null==labelPosOpt||"auto"===labelPosOpt?labelPosOpt="horizontal"===orient?viewRect.y+viewRect.height/2<api.getHeight()/2?"-":"+":viewRect.x+viewRect.width/2<api.getWidth()/2?"+":"-":isNaN(labelPosOpt)&&(labelPosOpt={"horizontal":{"top":"-","bottom":"+"},"vertical":{"left":"-","right":"+"}}[orient][labelPosOpt]);var labelAlignMap={"horizontal":"center","vertical":labelPosOpt>=0||"+"===labelPosOpt?"left":"right"},labelBaselineMap={"horizontal":labelPosOpt>=0||"+"===labelPosOpt?"top":"bottom","vertical":"middle"},rotationMap={"horizontal":0,"vertical":PI/2},mainLength="vertical"===orient?viewRect.height:viewRect.width,controlModel=timelineModel.getModel("controlStyle"),showControl=controlModel.get("show",!0),controlSize=showControl?controlModel.get("itemSize"):0,controlGap=showControl?controlModel.get("itemGap"):0,sizePlusGap=controlSize+controlGap,labelRotation=timelineModel.get("label.rotate")||0;labelRotation=labelRotation*PI/180;var playPosition,prevBtnPosition,nextBtnPosition,axisExtent,controlPosition=controlModel.get("position",!0),showPlayBtn=showControl&&controlModel.get("showPlayBtn",!0),showPrevBtn=showControl&&controlModel.get("showPrevBtn",!0),showNextBtn=showControl&&controlModel.get("showNextBtn",!0),xLeft=0,xRight=mainLength;return"left"===controlPosition||"bottom"===controlPosition?(showPlayBtn&&(playPosition=[0,0],xLeft+=sizePlusGap),showPrevBtn&&(prevBtnPosition=[xLeft,0],xLeft+=sizePlusGap),showNextBtn&&(nextBtnPosition=[xRight-controlSize,0],xRight-=sizePlusGap)):(showPlayBtn&&(playPosition=[xRight-controlSize,0],xRight-=sizePlusGap),showPrevBtn&&(prevBtnPosition=[0,0],xLeft+=sizePlusGap),showNextBtn&&(nextBtnPosition=[xRight-controlSize,0],xRight-=sizePlusGap)),axisExtent=[xLeft,xRight],timelineModel.get("inverse")&&axisExtent.reverse(),{"viewRect":viewRect,"mainLength":mainLength,"orient":orient,"rotation":rotationMap[orient],"labelRotation":labelRotation,"labelPosOpt":labelPosOpt,"labelAlign":timelineModel.get("label.align")||labelAlignMap[orient],"labelBaseline":timelineModel.get("label.verticalAlign")||timelineModel.get("label.baseline")||labelBaselineMap[orient],"playPosition":playPosition,"prevBtnPosition":prevBtnPosition,"nextBtnPosition":nextBtnPosition,"axisExtent":axisExtent,"controlSize":controlSize,"controlGap":controlGap}},"_position":function(layoutInfo,timelineModel){function setOrigin(targetGroup){var pos=targetGroup.position;targetGroup.origin=[viewBound[0][0]-pos[0],viewBound[1][0]-pos[1]]}function getBound(rect){return[[rect.x,rect.x+rect.width],[rect.y,rect.y+rect.height]]}function toBound(fromPos,from,to,dimIdx,boundIdx){fromPos[dimIdx]+=to[dimIdx][boundIdx]-from[dimIdx][boundIdx]}var mainGroup=this._mainGroup,labelGroup=this._labelGroup,viewRect=layoutInfo.viewRect;if("vertical"===layoutInfo.orient){var m=matrix.create(),rotateOriginX=viewRect.x,rotateOriginY=viewRect.y+viewRect.height;matrix.translate(m,m,[-rotateOriginX,-rotateOriginY]),matrix.rotate(m,m,-PI/2),matrix.translate(m,m,[rotateOriginX,rotateOriginY]),viewRect=viewRect.clone(),viewRect.applyTransform(m)}var viewBound=getBound(viewRect),mainBound=getBound(mainGroup.getBoundingRect()),labelBound=getBound(labelGroup.getBoundingRect()),mainPosition=mainGroup.position,labelsPosition=labelGroup.position;labelsPosition[0]=mainPosition[0]=viewBound[0][0];var labelPosOpt=layoutInfo.labelPosOpt;if(isNaN(labelPosOpt)){var mainBoundIdx="+"===labelPosOpt?0:1;toBound(mainPosition,mainBound,viewBound,1,mainBoundIdx),toBound(labelsPosition,labelBound,viewBound,1,1-mainBoundIdx)}else{var mainBoundIdx=labelPosOpt>=0?0:1;toBound(mainPosition,mainBound,viewBound,1,mainBoundIdx),labelsPosition[1]=mainPosition[1]+labelPosOpt}mainGroup.attr("position",mainPosition),labelGroup.attr("position",labelsPosition),mainGroup.rotation=labelGroup.rotation=layoutInfo.rotation,setOrigin(mainGroup),setOrigin(labelGroup)},"_createAxis":function(layoutInfo,timelineModel){var data=timelineModel.getData(),axisType=timelineModel.get("axisType"),scale=axisHelper.createScaleByModel(timelineModel,axisType);scale.getTicks=function(){return data.mapArray(["value"],function(value){return value})};var dataExtent=data.getDataExtent("value");scale.setExtent(dataExtent[0],dataExtent[1]),scale.niceTicks();var axis=new TimelineAxis("value",scale,layoutInfo.axisExtent,axisType);return axis.model=timelineModel,axis},"_createGroup":function(name){var newGroup=this["_"+name]=new graphic.Group;return this.group.add(newGroup),newGroup},"_renderAxisLine":function(layoutInfo,group,axis,timelineModel){var axisExtent=axis.getExtent();timelineModel.get("lineStyle.show")&&group.add(new graphic.Line({"shape":{"x1":axisExtent[0],"y1":0,"x2":axisExtent[1],"y2":0},"style":zrUtil.extend({"lineCap":"round"},timelineModel.getModel("lineStyle").getLineStyle()),"silent":!0,"z2":1}))},"_renderAxisTick":function(layoutInfo,group,axis,timelineModel){var data=timelineModel.getData(),ticks=axis.scale.getTicks();each(ticks,function(value){var tickCoord=axis.dataToCoord(value),itemModel=data.getItemModel(value),itemStyleModel=itemModel.getModel("itemStyle"),hoverStyleModel=itemModel.getModel("emphasis.itemStyle"),symbolOpt={"position":[tickCoord,0],"onclick":bind(this._changeTimeline,this,value)},el=giveSymbol(itemModel,itemStyleModel,group,symbolOpt);graphic.setHoverStyle(el,hoverStyleModel.getItemStyle()),itemModel.get("tooltip")?(el.dataIndex=value,el.dataModel=timelineModel):el.dataIndex=el.dataModel=null},this)},"_renderAxisLabel":function(layoutInfo,group,axis,timelineModel){var labelModel=axis.getLabelModel();if(labelModel.get("show")){var data=timelineModel.getData(),labels=axis.getViewLabels();each(labels,function(labelItem){var dataIndex=labelItem.tickValue,itemModel=data.getItemModel(dataIndex),normalLabelModel=itemModel.getModel("label"),hoverLabelModel=itemModel.getModel("emphasis.label"),tickCoord=axis.dataToCoord(labelItem.tickValue),textEl=new graphic.Text({"position":[tickCoord,0],"rotation":layoutInfo.labelRotation-layoutInfo.rotation,"onclick":bind(this._changeTimeline,this,dataIndex),"silent":!1});graphic.setTextStyle(textEl.style,normalLabelModel,{"text":labelItem.formattedLabel,"textAlign":layoutInfo.labelAlign,"textVerticalAlign":layoutInfo.labelBaseline}),group.add(textEl),graphic.setHoverStyle(textEl,graphic.setTextStyle({},hoverLabelModel))},this)}},"_renderControl":function(layoutInfo,group,axis,timelineModel){function makeBtn(position,iconPath,onclick,willRotate){if(position){var opt={"position":position,"origin":[controlSize/2,0],"rotation":willRotate?-rotation:0,"rectHover":!0,"style":itemStyle,"onclick":onclick},btn=makeIcon(timelineModel,iconPath,rect,opt);group.add(btn),graphic.setHoverStyle(btn,hoverStyle)}}var controlSize=layoutInfo.controlSize,rotation=layoutInfo.rotation,itemStyle=timelineModel.getModel("controlStyle").getItemStyle(),hoverStyle=timelineModel.getModel("emphasis.controlStyle").getItemStyle(),rect=[0,-controlSize/2,controlSize,controlSize],playState=timelineModel.getPlayState(),inverse=timelineModel.get("inverse",!0);makeBtn(layoutInfo.nextBtnPosition,"controlStyle.nextIcon",bind(this._changeTimeline,this,inverse?"-":"+")),makeBtn(layoutInfo.prevBtnPosition,"controlStyle.prevIcon",bind(this._changeTimeline,this,inverse?"+":"-")),makeBtn(layoutInfo.playPosition,"controlStyle."+(playState?"stopIcon":"playIcon"),bind(this._handlePlayClick,this,!playState),!0)},"_renderCurrentPointer":function(layoutInfo,group,axis,timelineModel){var data=timelineModel.getData(),currentIndex=timelineModel.getCurrentIndex(),pointerModel=data.getItemModel(currentIndex).getModel("checkpointStyle"),me=this,callback={"onCreate":function(pointer){pointer.draggable=!0,pointer.drift=bind(me._handlePointerDrag,me),pointer.ondragend=bind(me._handlePointerDragend,me),pointerMoveTo(pointer,currentIndex,axis,timelineModel,!0)},"onUpdate":function(pointer){pointerMoveTo(pointer,currentIndex,axis,timelineModel)}};this._currentPointer=giveSymbol(pointerModel,pointerModel,this._mainGroup,{},this._currentPointer,callback)},"_handlePlayClick":function(nextState){this._clearTimer(),this.api.dispatchAction({"type":"timelinePlayChange","playState":nextState,"from":this.uid})},"_handlePointerDrag":function(dx,dy,e){this._clearTimer(),this._pointerChangeTimeline([e.offsetX,e.offsetY])},"_handlePointerDragend":function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},"_pointerChangeTimeline":function(mousePos,trigger){var toCoord=this._toAxisCoord(mousePos)[0],axis=this._axis,axisExtent=numberUtil.asc(axis.getExtent().slice());toCoord>axisExtent[1]&&(toCoord=axisExtent[1]),toCoord<axisExtent[0]&&(toCoord=axisExtent[0]),this._currentPointer.position[0]=toCoord,this._currentPointer.dirty();var targetDataIndex=this._findNearestTick(toCoord),timelineModel=this.model;(trigger||targetDataIndex!==timelineModel.getCurrentIndex()&&timelineModel.get("realtime"))&&this._changeTimeline(targetDataIndex)},"_doPlayStop":function(){function handleFrame(){var timelineModel=this.model;this._changeTimeline(timelineModel.getCurrentIndex()+(timelineModel.get("rewind",!0)?-1:1))}this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(bind(handleFrame,this),this.model.get("playInterval")))},"_toAxisCoord":function(vertex){var trans=this._mainGroup.getLocalTransform();return graphic.applyTransform(vertex,trans,!0)},"_findNearestTick":function(axisCoord){var targetDataIndex,data=this.model.getData(),dist=1/0,axis=this._axis;return data.each(["value"],function(value,dataIndex){var coord=axis.dataToCoord(value),d=Math.abs(coord-axisCoord);d<dist&&(dist=d,targetDataIndex=dataIndex)}),targetDataIndex},"_clearTimer":function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},"_changeTimeline":function(nextIndex){var currentIndex=this.model.getCurrentIndex();"+"===nextIndex?nextIndex=currentIndex+1:"-"===nextIndex&&(nextIndex=currentIndex-1),this.api.dispatchAction({"type":"timelineChange","currentIndex":nextIndex,"from":this.uid})}});module.exports=_default},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),Axis=__webpack_require__(132),TimelineAxis=function(dim,scale,coordExtent,axisType){Axis.call(this,dim,scale,coordExtent),this.type=axisType||"value",this.model=null};TimelineAxis.prototype={"constructor":TimelineAxis,"getLabelModel":function(){return this.model.getModel("label")},"isHorizontal":function(){return"horizontal"===this.model.get("orient")}},zrUtil.inherits(TimelineAxis,Axis);var _default=TimelineAxis;module.exports=_default},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),ComponentModel=__webpack_require__(51),List=__webpack_require__(82),modelUtil=__webpack_require__(27),TimelineModel=ComponentModel.extend({"type":"timeline","layoutMode":"box","defaultOption":{"zlevel":0,"z":4,"show":!0,"axisType":"time","realtime":!0,"left":"20%","top":null,"right":"20%","bottom":0,"width":null,"height":40,"padding":5,"controlPosition":"left","autoPlay":!1,"rewind":!1,"loop":!0,"playInterval":2e3,"currentIndex":0,"itemStyle":{},"label":{"color":"#000"},"data":[]},"init":function(option,parentModel,ecModel){this._data,this._names,this.mergeDefaultAndTheme(option,ecModel),this._initData()},"mergeOption":function(option){TimelineModel.superApply(this,"mergeOption",arguments),this._initData()},"setCurrentIndex":function(currentIndex){null==currentIndex&&(currentIndex=this.option.currentIndex);var count=this._data.count();this.option.loop?currentIndex=(currentIndex%count+count)%count:(currentIndex>=count&&(currentIndex=count-1),currentIndex<0&&(currentIndex=0)),this.option.currentIndex=currentIndex},"getCurrentIndex":function(){return this.option.currentIndex},"isIndexMax":function(){return this.getCurrentIndex()>=this._data.count()-1},"setPlayState":function(state){this.option.autoPlay=!!state},"getPlayState":function(){return!!this.option.autoPlay},"_initData":function(){var thisOption=this.option,dataArr=thisOption.data||[],axisType=thisOption.axisType,names=this._names=[];if("category"===axisType){var idxArr=[];zrUtil.each(dataArr,function(item,index){var newItem,value=modelUtil.getDataItemValue(item);zrUtil.isObject(item)?(newItem=zrUtil.clone(item),newItem.value=index):newItem=index,idxArr.push(newItem),zrUtil.isString(value)||null!=value&&!isNaN(value)||(value=""),names.push(value+"")}),dataArr=idxArr}var dimType={"category":"ordinal","time":"time"}[axisType]||"number",data=this._data=new List([{"name":"value","type":dimType}],this);data.initData(dataArr,names)},"getData":function(){return this._data},"getCategories":function(){if("category"===this.get("axisType"))return this._names.slice()}}),_default=TimelineModel;module.exports=_default},function(module,exports,__webpack_require__){var ComponentView=__webpack_require__(280),_default=ComponentView.extend({"type":"timeline"});module.exports=_default},function(module,exports,__webpack_require__){function _default(option){var timelineOpt=option&&option.timeline;zrUtil.isArray(timelineOpt)||(timelineOpt=timelineOpt?[timelineOpt]:[]),zrUtil.each(timelineOpt,function(opt){opt&&compatibleEC2(opt)})}function compatibleEC2(opt){var type=opt.type,ec2Types={"number":"value","time":"time"};if(ec2Types[type]&&(opt.axisType=ec2Types[type],delete opt.type),transferItem(opt),has(opt,"controlPosition")){var controlStyle=opt.controlStyle||(opt.controlStyle={});
has(controlStyle,"position")||(controlStyle.position=opt.controlPosition),"none"!==controlStyle.position||has(controlStyle,"show")||(controlStyle.show=!1,delete controlStyle.position),delete opt.controlPosition}zrUtil.each(opt.data||[],function(dataItem){zrUtil.isObject(dataItem)&&!zrUtil.isArray(dataItem)&&(!has(dataItem,"value")&&has(dataItem,"name")&&(dataItem.value=dataItem.name),transferItem(dataItem))})}function transferItem(opt){var itemStyle=opt.itemStyle||(opt.itemStyle={}),itemStyleEmphasis=itemStyle.emphasis||(itemStyle.emphasis={}),label=opt.label||opt.label||{},labelNormal=label.normal||(label.normal={}),excludeLabelAttr={"normal":1,"emphasis":1};zrUtil.each(label,function(value,name){excludeLabelAttr[name]||has(labelNormal,name)||(labelNormal[name]=value)}),itemStyleEmphasis.label&&!has(label,"emphasis")&&(label.emphasis=itemStyleEmphasis.label,delete itemStyleEmphasis.label)}function has(obj,attr){return obj.hasOwnProperty(attr)}var zrUtil=__webpack_require__(4);module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4);echarts.registerAction({"type":"timelineChange","event":"timelineChanged","update":"prepareAndUpdate"},function(payload,ecModel){var timelineModel=ecModel.getComponent("timeline");return timelineModel&&null!=payload.currentIndex&&(timelineModel.setCurrentIndex(payload.currentIndex),!timelineModel.get("loop",!0)&&timelineModel.isIndexMax()&&timelineModel.setPlayState(!1)),ecModel.resetOption("timeline"),zrUtil.defaults({"currentIndex":timelineModel.option.currentIndex},payload)}),echarts.registerAction({"type":"timelinePlayChange","event":"timelinePlayChanged","update":"update"},function(payload,ecModel){var timelineModel=ecModel.getComponent("timeline");timelineModel&&null!=payload.playState&&timelineModel.setPlayState(payload.playState)})},function(module,exports,__webpack_require__){var Component=__webpack_require__(51);Component.registerSubTypeDefaulter("timeline",function(){return"slider"})},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),graphic=__webpack_require__(15),_layout=__webpack_require__(34),getLayoutRect=_layout.getLayoutRect;echarts.extendComponentModel({"type":"title","layoutMode":{"type":"box","ignoreSize":!0},"defaultOption":{"zlevel":0,"z":6,"show":!0,"text":"","target":"blank","subtext":"","subtarget":"blank","left":0,"top":0,"backgroundColor":"rgba(0,0,0,0)","borderColor":"#ccc","borderWidth":0,"padding":5,"itemGap":10,"textStyle":{"fontSize":18,"fontWeight":"bolder","color":"#333"},"subtextStyle":{"color":"#aaa"}}}),echarts.extendComponentView({"type":"title","render":function(titleModel,ecModel,api){if(this.group.removeAll(),titleModel.get("show")){var group=this.group,textStyleModel=titleModel.getModel("textStyle"),subtextStyleModel=titleModel.getModel("subtextStyle"),textAlign=titleModel.get("textAlign"),textBaseline=titleModel.get("textBaseline"),textEl=new graphic.Text({"style":graphic.setTextStyle({},textStyleModel,{"text":titleModel.get("text"),"textFill":textStyleModel.getTextColor()},{"disableBox":!0}),"z2":10}),textRect=textEl.getBoundingRect(),subText=titleModel.get("subtext"),subTextEl=new graphic.Text({"style":graphic.setTextStyle({},subtextStyleModel,{"text":subText,"textFill":subtextStyleModel.getTextColor(),"y":textRect.height+titleModel.get("itemGap"),"textVerticalAlign":"top"},{"disableBox":!0}),"z2":10}),link=titleModel.get("link"),sublink=titleModel.get("sublink");textEl.silent=!link,subTextEl.silent=!sublink,link&&textEl.on("click",function(){window.open(link,"_"+titleModel.get("target"))}),sublink&&subTextEl.on("click",function(){window.open(sublink,"_"+titleModel.get("subtarget"))}),group.add(textEl),subText&&group.add(subTextEl);var groupRect=group.getBoundingRect(),layoutOption=titleModel.getBoxLayoutParams();layoutOption.width=groupRect.width,layoutOption.height=groupRect.height;var layoutRect=getLayoutRect(layoutOption,{"width":api.getWidth(),"height":api.getHeight()},titleModel.get("padding"));textAlign||(textAlign=titleModel.get("left")||titleModel.get("right"),"middle"===textAlign&&(textAlign="center"),"right"===textAlign?layoutRect.x+=layoutRect.width:"center"===textAlign&&(layoutRect.x+=layoutRect.width/2)),textBaseline||(textBaseline=titleModel.get("top")||titleModel.get("bottom"),"center"===textBaseline&&(textBaseline="middle"),"bottom"===textBaseline?layoutRect.y+=layoutRect.height:"middle"===textBaseline&&(layoutRect.y+=layoutRect.height/2),textBaseline=textBaseline||"top"),group.attr("position",[layoutRect.x,layoutRect.y]);var alignStyle={"textAlign":textAlign,"textVerticalAlign":textBaseline};textEl.setStyle(alignStyle),subTextEl.setStyle(alignStyle),groupRect=group.getBoundingRect();var padding=layoutRect.margin,style=titleModel.getItemStyle(["color","opacity"]);style.fill=titleModel.get("backgroundColor");var rect=new graphic.Rect({"shape":{"x":groupRect.x-padding[3],"y":groupRect.y-padding[0],"width":groupRect.width+padding[1]+padding[3],"height":groupRect.height+padding[0]+padding[2],"r":titleModel.get("borderRadius")},"style":style,"silent":!0});graphic.subPixelOptimizeRect(rect),group.add(rect)}}})},function(module,exports,__webpack_require__){__webpack_require__(1523),__webpack_require__(1524),__webpack_require__(1530),__webpack_require__(1528),__webpack_require__(1526),__webpack_require__(1527),__webpack_require__(1529)},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),featureManager=__webpack_require__(131),ToolboxModel=echarts.extendComponentModel({"type":"toolbox","layoutMode":{"type":"box","ignoreSize":!0},"optionUpdated":function(){ToolboxModel.superApply(this,"optionUpdated",arguments),zrUtil.each(this.option.feature,function(featureOpt,featureName){var Feature=featureManager.get(featureName);Feature&&zrUtil.merge(featureOpt,Feature.defaultOption)})},"defaultOption":{"show":!0,"z":6,"zlevel":0,"orient":"horizontal","left":"right","top":"top","backgroundColor":"transparent","borderColor":"#ccc","borderRadius":0,"borderWidth":0,"padding":5,"itemSize":15,"itemGap":8,"showTitle":!0,"iconStyle":{"borderColor":"#666","color":"none"},"emphasis":{"iconStyle":{"borderColor":"#3E98C5"}}}}),_default=ToolboxModel;module.exports=_default},function(module,exports,__webpack_require__){function isUserFeatureName(featureName){return 0===featureName.indexOf("my")}var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),textContain=__webpack_require__(108),featureManager=__webpack_require__(131),graphic=__webpack_require__(15),Model=__webpack_require__(56),DataDiffer=__webpack_require__(160),listComponentHelper=__webpack_require__(634),_default=echarts.extendComponentView({"type":"toolbox","render":function(toolboxModel,ecModel,api,payload){function processFeature(newIndex,oldIndex){var feature,featureName=featureNames[newIndex],oldName=featureNames[oldIndex],featureOpt=featureOpts[featureName],featureModel=new Model(featureOpt,toolboxModel,toolboxModel.ecModel);if(featureName&&!oldName){if(isUserFeatureName(featureName))feature={"model":featureModel,"onclick":featureModel.option.onclick,"featureName":featureName};else{var Feature=featureManager.get(featureName);if(!Feature)return;feature=new Feature(featureModel,ecModel,api)}features[featureName]=feature}else{if(feature=features[oldName],!feature)return;feature.model=featureModel,feature.ecModel=ecModel,feature.api=api}return!featureName&&oldName?void(feature.dispose&&feature.dispose(ecModel,api)):!featureModel.get("show")||feature.unusable?void(feature.remove&&feature.remove(ecModel,api)):(createIconPaths(featureModel,feature,featureName),featureModel.setIconStatus=function(iconName,status){var option=this.option,iconPaths=this.iconPaths;option.iconStatus=option.iconStatus||{},option.iconStatus[iconName]=status,iconPaths[iconName]&&iconPaths[iconName].trigger(status)},void(feature.render&&feature.render(featureModel,ecModel,api,payload)))}function createIconPaths(featureModel,feature,featureName){var iconStyleModel=featureModel.getModel("iconStyle"),iconStyleEmphasisModel=featureModel.getModel("emphasis.iconStyle"),icons=feature.getIcons?feature.getIcons():featureModel.get("icon"),titles=featureModel.get("title")||{};if("string"==typeof icons){var icon=icons,title=titles;icons={},titles={},icons[featureName]=icon,titles[featureName]=title}var iconPaths=featureModel.iconPaths={};zrUtil.each(icons,function(iconStr,iconName){var path=graphic.createIcon(iconStr,{},{"x":-itemSize/2,"y":-itemSize/2,"width":itemSize,"height":itemSize});path.setStyle(iconStyleModel.getItemStyle()),path.hoverStyle=iconStyleEmphasisModel.getItemStyle(),graphic.setHoverStyle(path),toolboxModel.get("showTitle")&&(path.__title=titles[iconName],path.on("mouseover",function(){var hoverStyle=iconStyleEmphasisModel.getItemStyle();path.setStyle({"text":titles[iconName],"textPosition":hoverStyle.textPosition||"bottom","textFill":hoverStyle.fill||hoverStyle.stroke||"#000","textAlign":hoverStyle.textAlign||"center"})}).on("mouseout",function(){path.setStyle({"textFill":null})})),path.trigger(featureModel.get("iconStatus."+iconName)||"normal"),group.add(path),path.on("click",zrUtil.bind(feature.onclick,feature,ecModel,api,iconName)),iconPaths[iconName]=path})}var group=this.group;if(group.removeAll(),toolboxModel.get("show")){var itemSize=+toolboxModel.get("itemSize"),featureOpts=toolboxModel.get("feature")||{},features=this._features||(this._features={}),featureNames=[];zrUtil.each(featureOpts,function(opt,name){featureNames.push(name)}),new DataDiffer(this._featureNames||[],featureNames).add(processFeature).update(processFeature).remove(zrUtil.curry(processFeature,null)).execute(),this._featureNames=featureNames,listComponentHelper.layout(group,toolboxModel,api),group.add(listComponentHelper.makeBackground(group.getBoundingRect(),toolboxModel)),group.eachChild(function(icon){var titleText=icon.__title,hoverStyle=icon.hoverStyle;if(hoverStyle&&titleText){var rect=textContain.getBoundingRect(titleText,textContain.makeFont(hoverStyle)),offsetX=icon.position[0]+group.position[0],offsetY=icon.position[1]+group.position[1]+itemSize,needPutOnTop=!1;offsetY+rect.height>api.getHeight()&&(hoverStyle.textPosition="top",needPutOnTop=!0);var topOffset=needPutOnTop?-5-rect.height:itemSize+8;offsetX+rect.width/2>api.getWidth()?(hoverStyle.textPosition=["100%",topOffset],hoverStyle.textAlign="right"):offsetX-rect.width/2<0&&(hoverStyle.textPosition=[0,topOffset],hoverStyle.textAlign="left")}})}},"updateView":function(toolboxModel,ecModel,api,payload){zrUtil.each(this._features,function(feature){feature.updateView&&feature.updateView(feature.model,ecModel,api,payload)})},"remove":function(ecModel,api){zrUtil.each(this._features,function(feature){feature.remove&&feature.remove(ecModel,api)}),this.group.removeAll()},"dispose":function(ecModel,api){zrUtil.each(this._features,function(feature){feature.dispose&&feature.dispose(ecModel,api)})}});module.exports=_default},function(module,exports,__webpack_require__){function Brush(model,ecModel,api){this.model=model,this.ecModel=ecModel,this.api=api,this._brushType,this._brushMode}var zrUtil=__webpack_require__(4),featureManager=__webpack_require__(131),lang=__webpack_require__(162),brushLang=lang.toolbox.brush;Brush.defaultOption={"show":!0,"type":["rect","polygon","lineX","lineY","keep","clear"],"icon":{"rect":"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13","polygon":"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2","lineX":"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4","lineY":"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4","keep":"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z","clear":"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},"title":zrUtil.clone(brushLang.title)};var proto=Brush.prototype;proto.render=proto.updateView=function(featureModel,ecModel,api){var brushType,brushMode,isBrushed;ecModel.eachComponent({"mainType":"brush"},function(brushModel){brushType=brushModel.brushType,brushMode=brushModel.brushOption.brushMode||"single",isBrushed|=brushModel.areas.length}),this._brushType=brushType,this._brushMode=brushMode,zrUtil.each(featureModel.get("type",!0),function(type){featureModel.setIconStatus(type,("keep"===type?"multiple"===brushMode:"clear"===type?isBrushed:type===brushType)?"emphasis":"normal")})},proto.getIcons=function(){var model=this.model,availableIcons=model.get("icon",!0),icons={};return zrUtil.each(model.get("type",!0),function(type){availableIcons[type]&&(icons[type]=availableIcons[type])}),icons},proto.onclick=function(ecModel,api,type){var brushType=this._brushType,brushMode=this._brushMode;"clear"===type?(api.dispatchAction({"type":"axisAreaSelect","intervals":[]}),api.dispatchAction({"type":"brush","command":"clear","areas":[]})):api.dispatchAction({"type":"takeGlobalCursor","key":"brush","brushOption":{"brushType":"keep"===type?brushType:brushType!==type&&type,"brushMode":"keep"===type?"multiple"===brushMode?"single":"multiple":brushMode}})},featureManager.register("brush",Brush);var _default=Brush;module.exports=_default},function(module,exports,__webpack_require__){function groupSeries(ecModel){var seriesGroupByCategoryAxis={},otherSeries=[],meta=[];return ecModel.eachRawSeries(function(seriesModel){var coordSys=seriesModel.coordinateSystem;if(!coordSys||"cartesian2d"!==coordSys.type&&"polar"!==coordSys.type)otherSeries.push(seriesModel);else{var baseAxis=coordSys.getBaseAxis();if("category"===baseAxis.type){var key=baseAxis.dim+"_"+baseAxis.index;seriesGroupByCategoryAxis[key]||(seriesGroupByCategoryAxis[key]={"categoryAxis":baseAxis,"valueAxis":coordSys.getOtherAxis(baseAxis),"series":[]},meta.push({"axisDim":baseAxis.dim,"axisIndex":baseAxis.index})),seriesGroupByCategoryAxis[key].series.push(seriesModel)}else otherSeries.push(seriesModel)}}),{"seriesGroupByCategoryAxis":seriesGroupByCategoryAxis,"other":otherSeries,"meta":meta}}function assembleSeriesWithCategoryAxis(series){var tables=[];return zrUtil.each(series,function(group,key){var categoryAxis=group.categoryAxis,valueAxis=group.valueAxis,valueAxisDim=valueAxis.dim,headers=[" "].concat(zrUtil.map(group.series,function(series){return series.name})),columns=[categoryAxis.model.getCategories()];zrUtil.each(group.series,function(series){columns.push(series.getRawData().mapArray(valueAxisDim,function(val){return val}))});for(var lines=[headers.join(ITEM_SPLITER)],i=0;i<columns[0].length;i++){for(var items=[],j=0;j<columns.length;j++)items.push(columns[j][i]);lines.push(items.join(ITEM_SPLITER))}tables.push(lines.join("\n"))}),tables.join("\n\n"+BLOCK_SPLITER+"\n\n")}function assembleOtherSeries(series){return zrUtil.map(series,function(series){var data=series.getRawData(),lines=[series.name],vals=[];return data.each(data.dimensions,function(){for(var argLen=arguments.length,dataIndex=arguments[argLen-1],name=data.getName(dataIndex),i=0;i<argLen-1;i++)vals[i]=arguments[i];lines.push((name?name+ITEM_SPLITER:"")+vals.join(ITEM_SPLITER))}),lines.join("\n")}).join("\n\n"+BLOCK_SPLITER+"\n\n")}function getContentFromModel(ecModel){var result=groupSeries(ecModel);return{"value":zrUtil.filter([assembleSeriesWithCategoryAxis(result.seriesGroupByCategoryAxis),assembleOtherSeries(result.other)],function(str){return str.replace(/[\n\t\s]/g,"")}).join("\n\n"+BLOCK_SPLITER+"\n\n"),"meta":result.meta}}function trim(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function isTSVFormat(block){var firstLine=block.slice(0,block.indexOf("\n"));if(firstLine.indexOf(ITEM_SPLITER)>=0)return!0}function parseTSVContents(tsv){for(var tsvLines=tsv.split(/\n+/g),headers=trim(tsvLines.shift()).split(itemSplitRegex),categories=[],series=zrUtil.map(headers,function(header){return{"name":header,"data":[]}}),i=0;i<tsvLines.length;i++){var items=trim(tsvLines[i]).split(itemSplitRegex);categories.push(items.shift());for(var j=0;j<items.length;j++)series[j]&&(series[j].data[i]=items[j])}return{"series":series,"categories":categories}}function parseListContents(str){for(var lines=str.split(/\n+/g),seriesName=trim(lines.shift()),data=[],i=0;i<lines.length;i++){var value,items=trim(lines[i]).split(itemSplitRegex),name="",hasName=!1;isNaN(items[0])?(hasName=!0,name=items[0],items=items.slice(1),data[i]={"name":name,"value":[]},value=data[i].value):value=data[i]=[];for(var j=0;j<items.length;j++)value.push(+items[j]);1===value.length&&(hasName?data[i].value=value[0]:data[i]=value[0])}return{"name":seriesName,"data":data}}function parseContents(str,blockMetaList){var blocks=str.split(new RegExp("\n*"+BLOCK_SPLITER+"\n*","g")),newOption={"series":[]};return zrUtil.each(blocks,function(block,idx){if(isTSVFormat(block)){var result=parseTSVContents(block),blockMeta=blockMetaList[idx],axisKey=blockMeta.axisDim+"Axis";blockMeta&&(newOption[axisKey]=newOption[axisKey]||[],newOption[axisKey][blockMeta.axisIndex]={"data":result.categories},newOption.series=newOption.series.concat(result.series))}else{var result=parseListContents(block);newOption.series.push(result)}}),newOption}function DataView(model){this._dom=null,this.model=model}function tryMergeDataOption(newData,originalData){return zrUtil.map(newData,function(newVal,idx){var original=originalData&&originalData[idx];return zrUtil.isObject(original)&&!zrUtil.isArray(original)?(zrUtil.isObject(newVal)&&!zrUtil.isArray(newVal)&&(newVal=newVal.value),zrUtil.defaults({"value":newVal},original)):newVal})}var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),eventTool=__webpack_require__(124),lang=__webpack_require__(162),featureManager=__webpack_require__(131),dataViewLang=lang.toolbox.dataView,BLOCK_SPLITER=new Array(60).join("-"),ITEM_SPLITER="\t",itemSplitRegex=new RegExp("["+ITEM_SPLITER+"]+","g");DataView.defaultOption={"show":!0,"readOnly":!1,"optionToContent":null,"contentToOption":null,"icon":"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28","title":zrUtil.clone(dataViewLang.title),"lang":zrUtil.clone(dataViewLang.lang),"backgroundColor":"#fff","textColor":"#000","textareaColor":"#fff","textareaBorderColor":"#333","buttonColor":"#c23531","buttonTextColor":"#fff"},DataView.prototype.onclick=function(ecModel,api){function close(){container.removeChild(root),self._dom=null}var container=api.getDom(),model=this.model;this._dom&&container.removeChild(this._dom);var root=document.createElement("div");root.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",root.style.backgroundColor=model.get("backgroundColor")||"#fff";var header=document.createElement("h4"),lang=model.get("lang")||[];header.innerHTML=lang[0]||model.get("title"),header.style.cssText="margin: 10px 20px;",header.style.color=model.get("textColor");var viewMain=document.createElement("div"),textarea=document.createElement("textarea");viewMain.style.cssText="display:block;width:100%;overflow:auto;";var optionToContent=model.get("optionToContent"),contentToOption=model.get("contentToOption"),result=getContentFromModel(ecModel);if("function"==typeof optionToContent){var htmlOrDom=optionToContent(api.getOption());"string"==typeof htmlOrDom?viewMain.innerHTML=htmlOrDom:zrUtil.isDom(htmlOrDom)&&viewMain.appendChild(htmlOrDom)}else viewMain.appendChild(textarea),textarea.readOnly=model.get("readOnly"),textarea.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",textarea.style.color=model.get("textColor"),textarea.style.borderColor=model.get("textareaBorderColor"),textarea.style.backgroundColor=model.get("textareaColor"),textarea.value=result.value;var blockMetaList=result.meta,buttonContainer=document.createElement("div");buttonContainer.style.cssText="position:absolute;bottom:0;left:0;right:0;";var buttonStyle="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",closeButton=document.createElement("div"),refreshButton=document.createElement("div");buttonStyle+=";background-color:"+model.get("buttonColor"),buttonStyle+=";color:"+model.get("buttonTextColor");var self=this;eventTool.addEventListener(closeButton,"click",close),eventTool.addEventListener(refreshButton,"click",function(){var newOption;try{newOption="function"==typeof contentToOption?contentToOption(viewMain,api.getOption()):parseContents(textarea.value,blockMetaList)}catch(e){throw close(),new Error("Data view format error "+e)}newOption&&api.dispatchAction({"type":"changeDataView","newOption":newOption}),close()}),closeButton.innerHTML=lang[1],refreshButton.innerHTML=lang[2],refreshButton.style.cssText=buttonStyle,closeButton.style.cssText=buttonStyle,!model.get("readOnly")&&buttonContainer.appendChild(refreshButton),buttonContainer.appendChild(closeButton),eventTool.addEventListener(textarea,"keydown",function(e){if(9===(e.keyCode||e.which)){var val=this.value,start=this.selectionStart,end=this.selectionEnd;this.value=val.substring(0,start)+ITEM_SPLITER+val.substring(end),this.selectionStart=this.selectionEnd=start+1,eventTool.stop(e)}}),root.appendChild(header),root.appendChild(viewMain),root.appendChild(buttonContainer),viewMain.style.height=container.clientHeight-80+"px",container.appendChild(root),this._dom=root},DataView.prototype.remove=function(ecModel,api){this._dom&&api.getDom().removeChild(this._dom)},DataView.prototype.dispose=function(ecModel,api){this.remove(ecModel,api)},featureManager.register("dataView",DataView),echarts.registerAction({"type":"changeDataView","event":"dataViewChanged","update":"prepareAndUpdate"},function(payload,ecModel){var newSeriesOptList=[];zrUtil.each(payload.newOption.series,function(seriesOpt){var seriesModel=ecModel.getSeriesByName(seriesOpt.name)[0];if(seriesModel){var originalData=seriesModel.get("data");newSeriesOptList.push({"name":seriesOpt.name,"data":tryMergeDataOption(seriesOpt.data,originalData)})}else newSeriesOptList.push(zrUtil.extend({"type":"scatter"},seriesOpt))}),ecModel.mergeOption(zrUtil.defaults({"series":newSeriesOptList},payload.newOption))});var _default=DataView;module.exports=_default},function(module,exports,__webpack_require__){function DataZoom(model,ecModel,api){(this._brushController=new BrushController(api.getZr())).on("brush",zrUtil.bind(this._onBrush,this)).mount(),this._isZoomActive}function retrieveAxisSetting(option){var setting={};return zrUtil.each(["xAxisIndex","yAxisIndex"],function(name){setting[name]=option[name],null==setting[name]&&(setting[name]="all"),(setting[name]===!1||"none"===setting[name])&&(setting[name]=[])}),setting}function updateBackBtnStatus(featureModel,ecModel){featureModel.setIconStatus("back",history.count(ecModel)>1?"emphasis":"normal")}function updateZoomBtnStatus(featureModel,ecModel,view,payload,api){var zoomActive=view._isZoomActive;payload&&"takeGlobalCursor"===payload.type&&(zoomActive="dataZoomSelect"===payload.key&&payload.dataZoomSelectActive),view._isZoomActive=zoomActive,featureModel.setIconStatus("zoom",zoomActive?"emphasis":"normal");var brushTargetManager=new BrushTargetManager(retrieveAxisSetting(featureModel.option),ecModel,{"include":["grid"]});view._brushController.setPanels(brushTargetManager.makePanelOpts(api,function(targetInfo){return targetInfo.xAxisDeclared&&!targetInfo.yAxisDeclared?"lineX":!targetInfo.xAxisDeclared&&targetInfo.yAxisDeclared?"lineY":"rect"})).enableBrush(!!zoomActive&&{"brushType":"auto","brushStyle":{"lineWidth":0,"fill":"rgba(0,0,0,0.2)"}})}var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),BrushController=__webpack_require__(381),BrushTargetManager=__webpack_require__(630),history=__webpack_require__(627),sliderMove=__webpack_require__(219),lang=__webpack_require__(162),featureManager=__webpack_require__(131);__webpack_require__(1478);var dataZoomLang=lang.toolbox.dataZoom,each=zrUtil.each,DATA_ZOOM_ID_BASE="\0_ec_\0toolbox-dataZoom_";DataZoom.defaultOption={"show":!0,"icon":{"zoom":"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1","back":"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},"title":zrUtil.clone(dataZoomLang.title)};var proto=DataZoom.prototype;proto.render=function(featureModel,ecModel,api,payload){this.model=featureModel,this.ecModel=ecModel,this.api=api,updateZoomBtnStatus(featureModel,ecModel,this,payload,api),updateBackBtnStatus(featureModel,ecModel)},proto.onclick=function(ecModel,api,type){handlers[type].call(this)},proto.remove=function(ecModel,api){this._brushController.unmount()},proto.dispose=function(ecModel,api){this._brushController.dispose()};var handlers={"zoom":function(){var nextActive=!this._isZoomActive;this.api.dispatchAction({"type":"takeGlobalCursor","key":"dataZoomSelect","dataZoomSelectActive":nextActive})},"back":function(){this._dispatchZoomAction(history.pop(this.ecModel))}};proto._onBrush=function(areas,opt){function setBatch(dimName,coordSys,minMax){var axis=coordSys.getAxis(dimName),axisModel=axis.model,dataZoomModel=findDataZoom(dimName,axisModel,ecModel),minMaxSpan=dataZoomModel.findRepresentativeAxisProxy(axisModel).getMinMaxSpan();null==minMaxSpan.minValueSpan&&null==minMaxSpan.maxValueSpan||(minMax=sliderMove(0,minMax.slice(),axis.scale.getExtent(),0,minMaxSpan.minValueSpan,minMaxSpan.maxValueSpan)),dataZoomModel&&(snapshot[dataZoomModel.id]={"dataZoomId":dataZoomModel.id,"startValue":minMax[0],"endValue":minMax[1]})}function findDataZoom(dimName,axisModel,ecModel){var found;return ecModel.eachComponent({"mainType":"dataZoom","subType":"select"},function(dzModel){var has=dzModel.getAxisModel(dimName,axisModel.componentIndex);has&&(found=dzModel)}),found}if(opt.isEnd&&areas.length){var snapshot={},ecModel=this.ecModel;this._brushController.updateCovers([]);var brushTargetManager=new BrushTargetManager(retrieveAxisSetting(this.model.option),ecModel,{"include":["grid"]});brushTargetManager.matchOutputRanges(areas,ecModel,function(area,coordRange,coordSys){if("cartesian2d"===coordSys.type){var brushType=area.brushType;"rect"===brushType?(setBatch("x",coordSys,coordRange[0]),setBatch("y",coordSys,coordRange[1])):setBatch({"lineX":"x","lineY":"y"}[brushType],coordSys,coordRange)}}),history.push(ecModel,snapshot),this._dispatchZoomAction(snapshot)}},proto._dispatchZoomAction=function(snapshot){var batch=[];each(snapshot,function(batchItem,dataZoomId){batch.push(zrUtil.clone(batchItem))}),batch.length&&this.api.dispatchAction({"type":"dataZoom","from":this.uid,"batch":batch})},featureManager.register("dataZoom",DataZoom),echarts.registerPreprocessor(function(option){function addForAxis(axisName,dataZoomOpt){if(dataZoomOpt){var axisIndicesName=axisName+"Index",givenAxisIndices=dataZoomOpt[axisIndicesName];null==givenAxisIndices||"all"==givenAxisIndices||zrUtil.isArray(givenAxisIndices)||(givenAxisIndices=givenAxisIndices===!1||"none"===givenAxisIndices?[]:[givenAxisIndices]),forEachComponent(axisName,function(axisOpt,axisIndex){if(null==givenAxisIndices||"all"==givenAxisIndices||zrUtil.indexOf(givenAxisIndices,axisIndex)!==-1){var newOpt={"type":"select","$fromToolbox":!0,"id":DATA_ZOOM_ID_BASE+axisName+axisIndex};newOpt[axisIndicesName]=axisIndex,dataZoomOpts.push(newOpt)}})}}function forEachComponent(mainType,cb){var opts=option[mainType];zrUtil.isArray(opts)||(opts=opts?[opts]:[]),each(opts,cb)}if(option){var dataZoomOpts=option.dataZoom||(option.dataZoom=[]);zrUtil.isArray(dataZoomOpts)||(option.dataZoom=dataZoomOpts=[dataZoomOpts]);var toolboxOpt=option.toolbox;if(toolboxOpt&&(zrUtil.isArray(toolboxOpt)&&(toolboxOpt=toolboxOpt[0]),toolboxOpt&&toolboxOpt.feature)){var dataZoomOpt=toolboxOpt.feature.dataZoom;addForAxis("xAxis",dataZoomOpt),addForAxis("yAxis",dataZoomOpt)}}});var _default=DataZoom;module.exports=_default},function(module,exports,__webpack_require__){function MagicType(model){this.model=model}var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),lang=__webpack_require__(162),featureManager=__webpack_require__(131),magicTypeLang=lang.toolbox.magicType;MagicType.defaultOption={"show":!0,"type":[],"icon":{"line":"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4","bar":"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7","stack":"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z","tiled":"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},"title":zrUtil.clone(magicTypeLang.title),"option":{},"seriesIndex":{}};var proto=MagicType.prototype;proto.getIcons=function(){var model=this.model,availableIcons=model.get("icon"),icons={};return zrUtil.each(model.get("type"),function(type){availableIcons[type]&&(icons[type]=availableIcons[type])}),icons};var seriesOptGenreator={"line":function(seriesType,seriesId,seriesModel,model){if("bar"===seriesType)return zrUtil.merge({"id":seriesId,"type":"line","data":seriesModel.get("data"),"stack":seriesModel.get("stack"),"markPoint":seriesModel.get("markPoint"),"markLine":seriesModel.get("markLine")},model.get("option.line")||{},!0)},"bar":function(seriesType,seriesId,seriesModel,model){if("line"===seriesType)return zrUtil.merge({"id":seriesId,"type":"bar","data":seriesModel.get("data"),"stack":seriesModel.get("stack"),"markPoint":seriesModel.get("markPoint"),"markLine":seriesModel.get("markLine")},model.get("option.bar")||{},!0)},"stack":function(seriesType,seriesId,seriesModel,model){if("line"===seriesType||"bar"===seriesType)return zrUtil.merge({"id":seriesId,"stack":"__ec_magicType_stack__"},model.get("option.stack")||{},!0)},"tiled":function(seriesType,seriesId,seriesModel,model){if("line"===seriesType||"bar"===seriesType)return zrUtil.merge({"id":seriesId,"stack":""},model.get("option.tiled")||{},!0)}},radioTypes=[["line","bar"],["stack","tiled"]];proto.onclick=function(ecModel,api,type){var model=this.model,seriesIndex=model.get("seriesIndex."+type);if(seriesOptGenreator[type]){var newOption={"series":[]},generateNewSeriesTypes=function(seriesModel){var seriesType=seriesModel.subType,seriesId=seriesModel.id,newSeriesOpt=seriesOptGenreator[type](seriesType,seriesId,seriesModel,model);newSeriesOpt&&(zrUtil.defaults(newSeriesOpt,seriesModel.option),newOption.series.push(newSeriesOpt));var coordSys=seriesModel.coordinateSystem;if(coordSys&&"cartesian2d"===coordSys.type&&("line"===type||"bar"===type)){var categoryAxis=coordSys.getAxesByScale("ordinal")[0];if(categoryAxis){var axisDim=categoryAxis.dim,axisType=axisDim+"Axis",axisModel=ecModel.queryComponents({"mainType":axisType,"index":seriesModel.get(name+"Index"),
"id":seriesModel.get(name+"Id")})[0],axisIndex=axisModel.componentIndex;newOption[axisType]=newOption[axisType]||[];for(var i=0;i<=axisIndex;i++)newOption[axisType][axisIndex]=newOption[axisType][axisIndex]||{};newOption[axisType][axisIndex].boundaryGap="bar"===type}}};zrUtil.each(radioTypes,function(radio){zrUtil.indexOf(radio,type)>=0&&zrUtil.each(radio,function(item){model.setIconStatus(item,"normal")})}),model.setIconStatus(type,"emphasis"),ecModel.eachComponent({"mainType":"series","query":null==seriesIndex?null:{"seriesIndex":seriesIndex}},generateNewSeriesTypes),api.dispatchAction({"type":"changeMagicType","currentType":type,"newOption":newOption})}},echarts.registerAction({"type":"changeMagicType","event":"magicTypeChanged","update":"prepareAndUpdate"},function(payload,ecModel){ecModel.mergeOption(payload.newOption)}),featureManager.register("magicType",MagicType);var _default=MagicType;module.exports=_default},function(module,exports,__webpack_require__){function Restore(model){this.model=model}var echarts=__webpack_require__(13),history=__webpack_require__(627),lang=__webpack_require__(162),featureManager=__webpack_require__(131),restoreLang=lang.toolbox.restore;Restore.defaultOption={"show":!0,"icon":"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5","title":restoreLang.title};var proto=Restore.prototype;proto.onclick=function(ecModel,api,type){history.clear(ecModel),api.dispatchAction({"type":"restore","from":this.uid})},featureManager.register("restore",Restore),echarts.registerAction({"type":"restore","event":"restore","update":"prepareAndUpdate"},function(payload,ecModel){ecModel.resetOption("recreate")});var _default=Restore;module.exports=_default},function(module,exports,__webpack_require__){function SaveAsImage(model){this.model=model}var env=__webpack_require__(52),lang=__webpack_require__(162),featureManager=__webpack_require__(131),saveAsImageLang=lang.toolbox.saveAsImage;SaveAsImage.defaultOption={"show":!0,"icon":"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0","title":saveAsImageLang.title,"type":"png","name":"","excludeComponents":["toolbox"],"pixelRatio":1,"lang":saveAsImageLang.lang.slice()},SaveAsImage.prototype.unusable=!env.canvasSupported;var proto=SaveAsImage.prototype;proto.onclick=function(ecModel,api){var model=this.model,title=model.get("name")||ecModel.get("title.0.text")||"echarts",$a=document.createElement("a"),type=model.get("type",!0)||"png";$a.download=title+"."+type,$a.target="_blank";var url=api.getConnectedDataURL({"type":type,"backgroundColor":model.get("backgroundColor",!0)||ecModel.get("backgroundColor")||"#fff","excludeComponents":model.get("excludeComponents"),"pixelRatio":model.get("pixelRatio")});if($a.href=url,"function"!=typeof MouseEvent||env.browser.ie||env.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var bstr=atob(url.split(",")[1]),n=bstr.length,u8arr=new Uint8Array(n);n--;)u8arr[n]=bstr.charCodeAt(n);var blob=new Blob([u8arr]);window.navigator.msSaveOrOpenBlob(blob,title+"."+type)}else{var lang=model.get("lang"),html='<body style="margin:0;"><img src="'+url+'" style="max-width:100%;" title="'+(lang&&lang[0]||"")+'" /></body>',tab=window.open();tab.document.write(html)}else{var evt=new MouseEvent("click",{"view":window,"bubbles":!0,"cancelable":!1});$a.dispatchEvent(evt)}},featureManager.register("saveAsImage",SaveAsImage);var _default=SaveAsImage;module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(215),__webpack_require__(1533),__webpack_require__(1534),echarts.registerAction({"type":"showTip","event":"showTip","update":"tooltip:manuallyShowTip"},function(){}),echarts.registerAction({"type":"hideTip","event":"hideTip","update":"tooltip:manuallyHideTip"},function(){})},function(module,exports,__webpack_require__){function assembleTransition(duration){var transitionCurve="cubic-bezier(0.23, 1, 0.32, 1)",transitionText="left "+duration+"s "+transitionCurve+",top "+duration+"s "+transitionCurve;return zrUtil.map(vendors,function(vendorPrefix){return vendorPrefix+"transition:"+transitionText}).join(";")}function assembleFont(textStyleModel){var cssText=[],fontSize=textStyleModel.get("fontSize"),color=textStyleModel.getTextColor();return color&&cssText.push("color:"+color),cssText.push("font:"+textStyleModel.getFont()),fontSize&&cssText.push("line-height:"+Math.round(3*fontSize/2)+"px"),each(["decoration","align"],function(name){var val=textStyleModel.get(name);val&&cssText.push("text-"+name+":"+val)}),cssText.join(";")}function assembleCssText(tooltipModel){var cssText=[],transitionDuration=tooltipModel.get("transitionDuration"),backgroundColor=tooltipModel.get("backgroundColor"),textStyleModel=tooltipModel.getModel("textStyle"),padding=tooltipModel.get("padding");return transitionDuration&&cssText.push(assembleTransition(transitionDuration)),backgroundColor&&(env.canvasSupported?cssText.push("background-Color:"+backgroundColor):(cssText.push("background-Color:#"+zrColor.toHex(backgroundColor)),cssText.push("filter:alpha(opacity=70)"))),each(["width","color","radius"],function(name){var borderName="border-"+name,camelCase=toCamelCase(borderName),val=tooltipModel.get(camelCase);null!=val&&cssText.push(borderName+":"+val+("color"===name?"":"px"))}),cssText.push(assembleFont(textStyleModel)),null!=padding&&cssText.push("padding:"+formatUtil.normalizeCssArray(padding).join("px ")+"px"),cssText.join(";")+";"}function TooltipContent(container,api){if(env.wxa)return null;var el=document.createElement("div"),zr=this._zr=api.getZr();this.el=el,this._x=api.getWidth()/2,this._y=api.getHeight()/2,container.appendChild(el),this._container=container,this._show=!1,this._hideTimeout;var self=this;el.onmouseenter=function(){self._enterable&&(clearTimeout(self._hideTimeout),self._show=!0),self._inContent=!0},el.onmousemove=function(e){if(e=e||window.event,!self._enterable){var handler=zr.handler;eventUtil.normalizeEvent(container,e,!0),handler.dispatch("mousemove",e)}},el.onmouseleave=function(){self._enterable&&self._show&&self.hideLater(self._hideDelay),self._inContent=!1}}var zrUtil=__webpack_require__(4),zrColor=__webpack_require__(125),eventUtil=__webpack_require__(124),env=__webpack_require__(52),formatUtil=__webpack_require__(40),each=zrUtil.each,toCamelCase=formatUtil.toCamelCase,vendors=["","-webkit-","-moz-","-o-"],gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";TooltipContent.prototype={"constructor":TooltipContent,"_enterable":!0,"update":function(){var container=this._container,stl=container.currentStyle||document.defaultView.getComputedStyle(container),domStyle=container.style;"absolute"!==domStyle.position&&"absolute"!==stl.position&&(domStyle.position="relative")},"show":function(tooltipModel){clearTimeout(this._hideTimeout);var el=this.el;el.style.cssText=gCssText+assembleCssText(tooltipModel)+";left:"+this._x+"px;top:"+this._y+"px;"+(tooltipModel.get("extraCssText")||""),el.style.display=el.innerHTML?"block":"none",this._show=!0},"setContent":function(content){this.el.innerHTML=null==content?"":content},"setEnterable":function(enterable){this._enterable=enterable},"getSize":function(){var el=this.el;return[el.clientWidth,el.clientHeight]},"moveTo":function(x,y){var viewportRootOffset,zr=this._zr;zr&&zr.painter&&(viewportRootOffset=zr.painter.getViewportRootOffset())&&(x+=viewportRootOffset.offsetLeft,y+=viewportRootOffset.offsetTop);var style=this.el.style;style.left=x+"px",style.top=y+"px",this._x=x,this._y=y},"hide":function(){this.el.style.display="none",this._show=!1},"hideLater":function(time){!this._show||this._inContent&&this._enterable||(time?(this._hideDelay=time,this._show=!1,this._hideTimeout=setTimeout(zrUtil.bind(this.hide,this),time)):this.hide())},"isShow":function(){return this._show}};var _default=TooltipContent;module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),_default=echarts.extendComponentModel({"type":"tooltip","dependencies":["axisPointer"],"defaultOption":{"zlevel":0,"z":8,"show":!0,"showContent":!0,"trigger":"item","triggerOn":"mousemove|click","alwaysShowContent":!1,"displayMode":"single","confine":!1,"showDelay":0,"hideDelay":100,"transitionDuration":.4,"enterable":!1,"backgroundColor":"rgba(50,50,50,0.7)","borderColor":"#333","borderRadius":4,"borderWidth":0,"padding":5,"extraCssText":"","axisPointer":{"type":"line","axis":"auto","animation":"auto","animationDurationUpdate":200,"animationEasingUpdate":"exponentialOut","crossStyle":{"color":"#999","width":1,"type":"dashed","textStyle":{}}},"textStyle":{"color":"#fff","fontSize":14}}});module.exports=_default},function(module,exports,__webpack_require__){function buildTooltipModel(modelCascade){for(var resultModel=modelCascade.pop();modelCascade.length;){var tooltipOpt=modelCascade.pop();tooltipOpt&&(Model.isInstance(tooltipOpt)&&(tooltipOpt=tooltipOpt.get("tooltip",!0)),"string"==typeof tooltipOpt&&(tooltipOpt={"formatter":tooltipOpt}),resultModel=new Model(tooltipOpt,resultModel,resultModel.ecModel))}return resultModel}function makeDispatchAction(payload,api){return payload.dispatchAction||zrUtil.bind(api.dispatchAction,api)}function refixTooltipPosition(x,y,el,viewWidth,viewHeight,gapH,gapV){var size=getOuterSize(el),width=size.width,height=size.height;return null!=gapH&&(x+width+gapH>viewWidth?x-=width+gapH:x+=gapH),null!=gapV&&(y+height+gapV>viewHeight?y-=height+gapV:y+=gapV),[x,y]}function confineTooltipPosition(x,y,el,viewWidth,viewHeight){var size=getOuterSize(el),width=size.width,height=size.height;return x=Math.min(x+width,viewWidth)-width,y=Math.min(y+height,viewHeight)-height,x=Math.max(x,0),y=Math.max(y,0),[x,y]}function getOuterSize(el){var width=el.clientWidth,height=el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var stl=document.defaultView.getComputedStyle(el);stl&&(width+=parseInt(stl.paddingLeft,10)+parseInt(stl.paddingRight,10)+parseInt(stl.borderLeftWidth,10)+parseInt(stl.borderRightWidth,10),height+=parseInt(stl.paddingTop,10)+parseInt(stl.paddingBottom,10)+parseInt(stl.borderTopWidth,10)+parseInt(stl.borderBottomWidth,10))}return{"width":width,"height":height}}function calcTooltipPosition(position,rect,contentSize){var domWidth=contentSize[0],domHeight=contentSize[1],gap=5,x=0,y=0,rectWidth=rect.width,rectHeight=rect.height;switch(position){case"inside":x=rect.x+rectWidth/2-domWidth/2,y=rect.y+rectHeight/2-domHeight/2;break;case"top":x=rect.x+rectWidth/2-domWidth/2,y=rect.y-domHeight-gap;break;case"bottom":x=rect.x+rectWidth/2-domWidth/2,y=rect.y+rectHeight+gap;break;case"left":x=rect.x-domWidth-gap,y=rect.y+rectHeight/2-domHeight/2;break;case"right":x=rect.x+rectWidth+gap,y=rect.y+rectHeight/2-domHeight/2}return[x,y]}function isCenterAlign(align){return"center"===align||"middle"===align}var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),env=__webpack_require__(52),TooltipContent=__webpack_require__(1532),formatUtil=__webpack_require__(40),numberUtil=__webpack_require__(20),graphic=__webpack_require__(15),findPointFromSeries=__webpack_require__(623),layoutUtil=__webpack_require__(34),Model=__webpack_require__(56),globalListener=__webpack_require__(624),axisHelper=__webpack_require__(93),axisPointerViewHelper=__webpack_require__(271),bind=zrUtil.bind,each=zrUtil.each,parsePercent=numberUtil.parsePercent,proxyRect=new graphic.Rect({"shape":{"x":-1,"y":-1,"width":2,"height":2}}),_default=echarts.extendComponentView({"type":"tooltip","init":function(ecModel,api){if(!env.node){var tooltipContent=new TooltipContent(api.getDom(),api);this._tooltipContent=tooltipContent}},"render":function(tooltipModel,ecModel,api){if(!env.node&&!env.wxa){this.group.removeAll(),this._tooltipModel=tooltipModel,this._ecModel=ecModel,this._api=api,this._lastDataByCoordSys=null,this._alwaysShowContent=tooltipModel.get("alwaysShowContent");var tooltipContent=this._tooltipContent;tooltipContent.update(),tooltipContent.setEnterable(tooltipModel.get("enterable")),this._initGlobalListener(),this._keepShow()}},"_initGlobalListener":function(){var tooltipModel=this._tooltipModel,triggerOn=tooltipModel.get("triggerOn");globalListener.register("itemTooltip",this._api,bind(function(currTrigger,e,dispatchAction){"none"!==triggerOn&&(triggerOn.indexOf(currTrigger)>=0?this._tryShow(e,dispatchAction):"leave"===currTrigger&&this._hide(dispatchAction))},this))},"_keepShow":function(){var tooltipModel=this._tooltipModel,ecModel=this._ecModel,api=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==tooltipModel.get("triggerOn")){var self=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){self.manuallyShowTip(tooltipModel,ecModel,api,{"x":self._lastX,"y":self._lastY})})}},"manuallyShowTip":function(tooltipModel,ecModel,api,payload){if(payload.from!==this.uid&&!env.node){var dispatchAction=makeDispatchAction(payload,api);this._ticket="";var dataByCoordSys=payload.dataByCoordSys;if(payload.tooltip&&null!=payload.x&&null!=payload.y){var el=proxyRect;el.position=[payload.x,payload.y],el.update(),el.tooltip=payload.tooltip,this._tryShow({"offsetX":payload.x,"offsetY":payload.y,"target":el},dispatchAction)}else if(dataByCoordSys)this._tryShow({"offsetX":payload.x,"offsetY":payload.y,"position":payload.position,"event":{},"dataByCoordSys":payload.dataByCoordSys,"tooltipOption":payload.tooltipOption},dispatchAction);else if(null!=payload.seriesIndex){if(this._manuallyAxisShowTip(tooltipModel,ecModel,api,payload))return;var pointInfo=findPointFromSeries(payload,ecModel),cx=pointInfo.point[0],cy=pointInfo.point[1];null!=cx&&null!=cy&&this._tryShow({"offsetX":cx,"offsetY":cy,"position":payload.position,"target":pointInfo.el,"event":{}},dispatchAction)}else null!=payload.x&&null!=payload.y&&(api.dispatchAction({"type":"updateAxisPointer","x":payload.x,"y":payload.y}),this._tryShow({"offsetX":payload.x,"offsetY":payload.y,"position":payload.position,"target":api.getZr().findHover(payload.x,payload.y).target,"event":{}},dispatchAction))}},"manuallyHideTip":function(tooltipModel,ecModel,api,payload){var tooltipContent=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,payload.from!==this.uid&&this._hide(makeDispatchAction(payload,api))},"_manuallyAxisShowTip":function(tooltipModel,ecModel,api,payload){var seriesIndex=payload.seriesIndex,dataIndex=payload.dataIndex,coordSysAxesInfo=ecModel.getComponent("axisPointer").coordSysAxesInfo;if(null!=seriesIndex&&null!=dataIndex&&null!=coordSysAxesInfo){var seriesModel=ecModel.getSeriesByIndex(seriesIndex);if(seriesModel){var data=seriesModel.getData(),tooltipModel=buildTooltipModel([data.getItemModel(dataIndex),seriesModel,(seriesModel.coordinateSystem||{}).model,tooltipModel]);if("axis"===tooltipModel.get("trigger"))return api.dispatchAction({"type":"updateAxisPointer","seriesIndex":seriesIndex,"dataIndex":dataIndex,"position":payload.position}),!0}}},"_tryShow":function(e,dispatchAction){var el=e.target,tooltipModel=this._tooltipModel;if(tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var dataByCoordSys=e.dataByCoordSys;dataByCoordSys&&dataByCoordSys.length?this._showAxisTooltip(dataByCoordSys,e):el&&null!=el.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(e,el,dispatchAction)):el&&el.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(e,el,dispatchAction)):(this._lastDataByCoordSys=null,this._hide(dispatchAction))}},"_showOrMove":function(tooltipModel,cb){var delay=tooltipModel.get("showDelay");cb=zrUtil.bind(cb,this),clearTimeout(this._showTimout),delay>0?this._showTimout=setTimeout(cb,delay):cb()},"_showAxisTooltip":function(dataByCoordSys,e){var ecModel=this._ecModel,globalTooltipModel=this._tooltipModel,point=[e.offsetX,e.offsetY],singleDefaultHTML=[],singleParamsList=[],singleTooltipModel=buildTooltipModel([e.tooltipOption,globalTooltipModel]);each(dataByCoordSys,function(itemCoordSys){each(itemCoordSys.dataByAxis,function(item){var axisModel=ecModel.getComponent(item.axisDim+"Axis",item.axisIndex),axisValue=item.value,seriesDefaultHTML=[];if(axisModel&&null!=axisValue){var valueLabel=axisPointerViewHelper.getValueLabel(axisValue,axisModel.axis,ecModel,item.seriesDataIndices,item.valueLabelOpt);zrUtil.each(item.seriesDataIndices,function(idxItem){var series=ecModel.getSeriesByIndex(idxItem.seriesIndex),dataIndex=idxItem.dataIndexInside,dataParams=series&&series.getDataParams(dataIndex);dataParams.axisDim=item.axisDim,dataParams.axisIndex=item.axisIndex,dataParams.axisType=item.axisType,dataParams.axisId=item.axisId,dataParams.axisValue=axisHelper.getAxisRawValue(axisModel.axis,axisValue),dataParams.axisValueLabel=valueLabel,dataParams&&(singleParamsList.push(dataParams),seriesDefaultHTML.push(series.formatTooltip(dataIndex,!0)))});var firstLine=valueLabel;singleDefaultHTML.push((firstLine?formatUtil.encodeHTML(firstLine)+"<br />":"")+seriesDefaultHTML.join("<br />"))}})},this),singleDefaultHTML.reverse(),singleDefaultHTML=singleDefaultHTML.join("<br /><br />");var positionExpr=e.position;this._showOrMove(singleTooltipModel,function(){this._updateContentNotChangedOnAxis(dataByCoordSys)?this._updatePosition(singleTooltipModel,positionExpr,point[0],point[1],this._tooltipContent,singleParamsList):this._showTooltipContent(singleTooltipModel,singleDefaultHTML,singleParamsList,Math.random(),point[0],point[1],positionExpr)})},"_showSeriesItemTooltip":function(e,el,dispatchAction){var ecModel=this._ecModel,seriesIndex=el.seriesIndex,seriesModel=ecModel.getSeriesByIndex(seriesIndex),dataModel=el.dataModel||seriesModel,dataIndex=el.dataIndex,dataType=el.dataType,data=dataModel.getData(),tooltipModel=buildTooltipModel([data.getItemModel(dataIndex),dataModel,seriesModel&&(seriesModel.coordinateSystem||{}).model,this._tooltipModel]),tooltipTrigger=tooltipModel.get("trigger");if(null==tooltipTrigger||"item"===tooltipTrigger){var params=dataModel.getDataParams(dataIndex,dataType),defaultHtml=dataModel.formatTooltip(dataIndex,!1,dataType),asyncTicket="item_"+dataModel.name+"_"+dataIndex;this._showOrMove(tooltipModel,function(){this._showTooltipContent(tooltipModel,defaultHtml,params,asyncTicket,e.offsetX,e.offsetY,e.position,e.target)}),dispatchAction({"type":"showTip","dataIndexInside":dataIndex,"dataIndex":data.getRawIndex(dataIndex),"seriesIndex":seriesIndex,"from":this.uid})}},"_showComponentItemTooltip":function(e,el,dispatchAction){var tooltipOpt=el.tooltip;if("string"==typeof tooltipOpt){var content=tooltipOpt;tooltipOpt={"content":content,"formatter":content}}var subTooltipModel=new Model(tooltipOpt,this._tooltipModel,this._ecModel),defaultHtml=subTooltipModel.get("content"),asyncTicket=Math.random();this._showOrMove(subTooltipModel,function(){this._showTooltipContent(subTooltipModel,defaultHtml,subTooltipModel.get("formatterParams")||{},asyncTicket,e.offsetX,e.offsetY,e.position,el)}),dispatchAction({"type":"showTip","from":this.uid})},"_showTooltipContent":function(tooltipModel,defaultHtml,params,asyncTicket,x,y,positionExpr,el){if(this._ticket="",tooltipModel.get("showContent")&&tooltipModel.get("show")){var tooltipContent=this._tooltipContent,formatter=tooltipModel.get("formatter");positionExpr=positionExpr||tooltipModel.get("position");var html=defaultHtml;if(formatter&&"string"==typeof formatter)html=formatUtil.formatTpl(formatter,params,!0);else if("function"==typeof formatter){var callback=bind(function(cbTicket,html){cbTicket===this._ticket&&(tooltipContent.setContent(html),this._updatePosition(tooltipModel,positionExpr,x,y,tooltipContent,params,el))},this);this._ticket=asyncTicket,html=formatter(params,asyncTicket,callback)}tooltipContent.setContent(html),tooltipContent.show(tooltipModel),this._updatePosition(tooltipModel,positionExpr,x,y,tooltipContent,params,el)}},"_updatePosition":function(tooltipModel,positionExpr,x,y,content,params,el){var viewWidth=this._api.getWidth(),viewHeight=this._api.getHeight();positionExpr=positionExpr||tooltipModel.get("position");var contentSize=content.getSize(),align=tooltipModel.get("align"),vAlign=tooltipModel.get("verticalAlign"),rect=el&&el.getBoundingRect().clone();if(el&&rect.applyTransform(el.transform),"function"==typeof positionExpr&&(positionExpr=positionExpr([x,y],params,content.el,rect,{"viewSize":[viewWidth,viewHeight],"contentSize":contentSize.slice()})),zrUtil.isArray(positionExpr))x=parsePercent(positionExpr[0],viewWidth),y=parsePercent(positionExpr[1],viewHeight);else if(zrUtil.isObject(positionExpr)){positionExpr.width=contentSize[0],positionExpr.height=contentSize[1];var layoutRect=layoutUtil.getLayoutRect(positionExpr,{"width":viewWidth,"height":viewHeight});x=layoutRect.x,y=layoutRect.y,align=null,vAlign=null}else if("string"==typeof positionExpr&&el){var pos=calcTooltipPosition(positionExpr,rect,contentSize);x=pos[0],y=pos[1]}else{var pos=refixTooltipPosition(x,y,content.el,viewWidth,viewHeight,align?null:20,vAlign?null:20);x=pos[0],y=pos[1]}if(align&&(x-=isCenterAlign(align)?contentSize[0]/2:"right"===align?contentSize[0]:0),vAlign&&(y-=isCenterAlign(vAlign)?contentSize[1]/2:"bottom"===vAlign?contentSize[1]:0),tooltipModel.get("confine")){var pos=confineTooltipPosition(x,y,content.el,viewWidth,viewHeight);x=pos[0],y=pos[1]}content.moveTo(x,y)},"_updateContentNotChangedOnAxis":function(dataByCoordSys){var lastCoordSys=this._lastDataByCoordSys,contentNotChanged=!!lastCoordSys&&lastCoordSys.length===dataByCoordSys.length;return contentNotChanged&&each(lastCoordSys,function(lastItemCoordSys,indexCoordSys){var lastDataByAxis=lastItemCoordSys.dataByAxis||{},thisItemCoordSys=dataByCoordSys[indexCoordSys]||{},thisDataByAxis=thisItemCoordSys.dataByAxis||[];contentNotChanged&=lastDataByAxis.length===thisDataByAxis.length,contentNotChanged&&each(lastDataByAxis,function(lastItem,indexAxis){var thisItem=thisDataByAxis[indexAxis]||{},lastIndices=lastItem.seriesDataIndices||[],newIndices=thisItem.seriesDataIndices||[];contentNotChanged&=lastItem.value===thisItem.value&&lastItem.axisType===thisItem.axisType&&lastItem.axisId===thisItem.axisId&&lastIndices.length===newIndices.length,contentNotChanged&&each(lastIndices,function(lastIdxItem,j){var newIdxItem=newIndices[j];contentNotChanged&=lastIdxItem.seriesIndex===newIdxItem.seriesIndex&&lastIdxItem.dataIndex===newIdxItem.dataIndex})})}),this._lastDataByCoordSys=dataByCoordSys,!!contentNotChanged},"_hide":function(dispatchAction){this._lastDataByCoordSys=null,dispatchAction({"type":"hideTip","from":this.uid})},"dispose":function(ecModel,api){env.node||env.wxa||(this._tooltipContent.hide(),globalListener.unregister("itemTooltip",api))}});module.exports=_default},function(module,exports,__webpack_require__){__webpack_require__(1536),__webpack_require__(1537)},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),preprocessor=__webpack_require__(643);__webpack_require__(644),__webpack_require__(645),__webpack_require__(1538),__webpack_require__(1539),__webpack_require__(646),echarts.registerPreprocessor(preprocessor)},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13),preprocessor=__webpack_require__(643);__webpack_require__(644),__webpack_require__(645),__webpack_require__(1540),__webpack_require__(1541),__webpack_require__(646),echarts.registerPreprocessor(preprocessor)},function(module,exports,__webpack_require__){function getColorStopValues(visualMapModel,valueState,dataExtent){if(dataExtent[0]===dataExtent[1])return dataExtent.slice();for(var count=200,step=(dataExtent[1]-dataExtent[0])/count,value=dataExtent[0],stopValues=[],i=0;i<=count&&value<dataExtent[1];i++)stopValues.push(value),value+=step;return stopValues.push(dataExtent[1]),stopValues}var zrUtil=__webpack_require__(4),VisualMapModel=__webpack_require__(640),numberUtil=__webpack_require__(20),DEFAULT_BAR_BOUND=[20,140],ContinuousModel=VisualMapModel.extend({"type":"visualMap.continuous","defaultOption":{"align":"auto","calculable":!1,"range":null,"realtime":!0,"itemHeight":null,"itemWidth":null,"hoverLink":!0,"hoverLinkDataSize":null,"hoverLinkOnHandle":null},"optionUpdated":function(newOption,isInit){ContinuousModel.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(mappingOption){mappingOption.mappingMethod="linear",mappingOption.dataExtent=this.getExtent()}),this._resetRange()},"resetItemSize":function(){ContinuousModel.superApply(this,"resetItemSize",arguments);var itemSize=this.itemSize;"horizontal"===this._orient&&itemSize.reverse(),(null==itemSize[0]||isNaN(itemSize[0]))&&(itemSize[0]=DEFAULT_BAR_BOUND[0]),(null==itemSize[1]||isNaN(itemSize[1]))&&(itemSize[1]=DEFAULT_BAR_BOUND[1])},"_resetRange":function(){var dataExtent=this.getExtent(),range=this.option.range;!range||range.auto?(dataExtent.auto=1,this.option.range=dataExtent):zrUtil.isArray(range)&&(range[0]>range[1]&&range.reverse(),range[0]=Math.max(range[0],dataExtent[0]),range[1]=Math.min(range[1],dataExtent[1]))},"completeVisualOption":function(){VisualMapModel.prototype.completeVisualOption.apply(this,arguments),zrUtil.each(this.stateList,function(state){var symbolSize=this.option.controller[state].symbolSize;symbolSize&&symbolSize[0]!==symbolSize[1]&&(symbolSize[0]=0)},this)},"setSelected":function(selected){this.option.range=selected.slice(),this._resetRange()},"getSelected":function(){var dataExtent=this.getExtent(),dataInterval=numberUtil.asc((this.get("range")||[]).slice());return dataInterval[0]>dataExtent[1]&&(dataInterval[0]=dataExtent[1]),dataInterval[1]>dataExtent[1]&&(dataInterval[1]=dataExtent[1]),dataInterval[0]<dataExtent[0]&&(dataInterval[0]=dataExtent[0]),dataInterval[1]<dataExtent[0]&&(dataInterval[1]=dataExtent[0]),dataInterval},"getValueState":function(value){var range=this.option.range,dataExtent=this.getExtent();return(range[0]<=dataExtent[0]||range[0]<=value)&&(range[1]>=dataExtent[1]||value<=range[1])?"inRange":"outOfRange"},"findTargetDataIndices":function(range){var result=[];return this.eachTargetSeries(function(seriesModel){var dataIndices=[],data=seriesModel.getData();data.each(this.getDataDimension(data),function(value,dataIndex){range[0]<=value&&value<=range[1]&&dataIndices.push(dataIndex)},this),result.push({"seriesId":seriesModel.id,"dataIndex":dataIndices})},this),result},"getVisualMeta":function(getColorVisual){function setStop(value,valueState){stops.push({"value":value,"color":getColorVisual(value,valueState)})}for(var oVals=getColorStopValues(this,"outOfRange",this.getExtent()),iVals=getColorStopValues(this,"inRange",this.option.range.slice()),stops=[],iIdx=0,oIdx=0,iLen=iVals.length,oLen=oVals.length;oIdx<oLen&&(!iVals.length||oVals[oIdx]<=iVals[0]);oIdx++)oVals[oIdx]<iVals[iIdx]&&setStop(oVals[oIdx],"outOfRange");for(var first=1;iIdx<iLen;iIdx++,first=0)first&&stops.length&&setStop(iVals[iIdx],"outOfRange"),setStop(iVals[iIdx],"inRange");for(var first=1;oIdx<oLen;oIdx++)(!iVals.length||iVals[iVals.length-1]<oVals[oIdx])&&(first&&(stops.length&&setStop(stops[stops.length-1].value,"outOfRange"),first=0),setStop(oVals[oIdx],"outOfRange"));var stopsLen=stops.length;return{"stops":stops,"outerColors":[stopsLen?stops[0].color:"transparent",stopsLen?stops[stopsLen-1].color:"transparent"]}}}),_default=ContinuousModel;module.exports=_default},function(module,exports,__webpack_require__){function createPolygon(points,cursor,onDrift,onDragEnd){return new graphic.Polygon({"shape":{"points":points},"draggable":!!onDrift,"cursor":cursor,"drift":onDrift,"onmousemove":function(e){eventTool.stop(e.event)},"ondragend":onDragEnd})}function createHandlePoints(handleIndex,textSize){return 0===handleIndex?[[0,0],[textSize,0],[textSize,-textSize]]:[[0,0],[textSize,0],[textSize,textSize]]}function createIndicatorPoints(isRange,halfHoverLinkSize,pos,extentMax){return isRange?[[0,-mathMin(halfHoverLinkSize,mathMax(pos,0))],[HOVER_LINK_OUT,0],[0,mathMin(halfHoverLinkSize,mathMax(extentMax-pos,0))]]:[[0,0],[5,-5],[5,5]]}function getHalfHoverLinkSize(visualMapModel,dataExtent,sizeExtent){var halfHoverLinkSize=HOVER_LINK_SIZE/2,hoverLinkDataSize=visualMapModel.get("hoverLinkDataSize");return hoverLinkDataSize&&(halfHoverLinkSize=linearMap(hoverLinkDataSize,dataExtent,sizeExtent,!0)/2),halfHoverLinkSize}function useHoverLinkOnHandle(visualMapModel){var hoverLinkOnHandle=visualMapModel.get("hoverLinkOnHandle");return!!(null==hoverLinkOnHandle?visualMapModel.get("realtime"):hoverLinkOnHandle)}function getCursor(orient){return"vertical"===orient?"ns-resize":"ew-resize"}var zrUtil=__webpack_require__(4),LinearGradient=__webpack_require__(922),eventTool=__webpack_require__(124),VisualMapView=__webpack_require__(641),graphic=__webpack_require__(15),numberUtil=__webpack_require__(20),sliderMove=__webpack_require__(219),helper=__webpack_require__(642),modelUtil=__webpack_require__(27),linearMap=numberUtil.linearMap,each=zrUtil.each,mathMin=Math.min,mathMax=Math.max,HOVER_LINK_SIZE=12,HOVER_LINK_OUT=6,ContinuousView=VisualMapView.extend({"type":"visualMap.continuous","init":function(){ContinuousView.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},"doRender":function(visualMapModel,ecModel,api,payload){payload&&"selectDataRange"===payload.type&&payload.from===this.uid||this._buildView()},"_buildView":function(){this.group.removeAll();var visualMapModel=this.visualMapModel,thisGroup=this.group;this._orient=visualMapModel.get("orient"),this._useHandle=visualMapModel.get("calculable"),this._resetInterval(),this._renderBar(thisGroup);var dataRangeText=visualMapModel.get("text");this._renderEndsText(thisGroup,dataRangeText,0),this._renderEndsText(thisGroup,dataRangeText,1),this._updateView(!0),this.renderBackground(thisGroup),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(thisGroup)},"_renderEndsText":function(group,dataRangeText,endsIndex){if(dataRangeText){var text=dataRangeText[1-endsIndex];text=null!=text?text+"":"";var visualMapModel=this.visualMapModel,textGap=visualMapModel.get("textGap"),itemSize=visualMapModel.itemSize,barGroup=this._shapes.barGroup,position=this._applyTransform([itemSize[0]/2,0===endsIndex?-textGap:itemSize[1]+textGap],barGroup),align=this._applyTransform(0===endsIndex?"bottom":"top",barGroup),orient=this._orient,textStyleModel=this.visualMapModel.textStyleModel;this.group.add(new graphic.Text({"style":{"x":position[0],"y":position[1],"textVerticalAlign":"horizontal"===orient?"middle":align,"textAlign":"horizontal"===orient?align:"center","text":text,"textFont":textStyleModel.getFont(),"textFill":textStyleModel.getTextColor()}}))}},"_renderBar":function(targetGroup){var visualMapModel=this.visualMapModel,shapes=this._shapes,itemSize=visualMapModel.itemSize,orient=this._orient,useHandle=this._useHandle,itemAlign=helper.getItemAlign(visualMapModel,this.api,itemSize),barGroup=shapes.barGroup=this._createBarGroup(itemAlign);barGroup.add(shapes.outOfRange=createPolygon()),barGroup.add(shapes.inRange=createPolygon(null,useHandle?getCursor(this._orient):null,zrUtil.bind(this._dragHandle,this,"all",!1),zrUtil.bind(this._dragHandle,this,"all",!0)));var textRect=visualMapModel.textStyleModel.getTextRect("\u56fd"),textSize=mathMax(textRect.width,textRect.height);useHandle&&(shapes.handleThumbs=[],shapes.handleLabels=[],shapes.handleLabelPoints=[],this._createHandle(barGroup,0,itemSize,textSize,orient,itemAlign),this._createHandle(barGroup,1,itemSize,textSize,orient,itemAlign)),this._createIndicator(barGroup,itemSize,textSize,orient),targetGroup.add(barGroup)},"_createHandle":function(barGroup,handleIndex,itemSize,textSize,orient){var onDrift=zrUtil.bind(this._dragHandle,this,handleIndex,!1),onDragEnd=zrUtil.bind(this._dragHandle,this,handleIndex,!0),handleThumb=createPolygon(createHandlePoints(handleIndex,textSize),getCursor(this._orient),onDrift,onDragEnd);
handleThumb.position[0]=itemSize[0],barGroup.add(handleThumb);var textStyleModel=this.visualMapModel.textStyleModel,handleLabel=new graphic.Text({"draggable":!0,"drift":onDrift,"onmousemove":function(e){eventTool.stop(e.event)},"ondragend":onDragEnd,"style":{"x":0,"y":0,"text":"","textFont":textStyleModel.getFont(),"textFill":textStyleModel.getTextColor()}});this.group.add(handleLabel);var handleLabelPoint=["horizontal"===orient?textSize/2:1.5*textSize,"horizontal"===orient?0===handleIndex?-(1.5*textSize):1.5*textSize:0===handleIndex?-textSize/2:textSize/2],shapes=this._shapes;shapes.handleThumbs[handleIndex]=handleThumb,shapes.handleLabelPoints[handleIndex]=handleLabelPoint,shapes.handleLabels[handleIndex]=handleLabel},"_createIndicator":function(barGroup,itemSize,textSize,orient){var indicator=createPolygon([[0,0]],"move");indicator.position[0]=itemSize[0],indicator.attr({"invisible":!0,"silent":!0}),barGroup.add(indicator);var textStyleModel=this.visualMapModel.textStyleModel,indicatorLabel=new graphic.Text({"silent":!0,"invisible":!0,"style":{"x":0,"y":0,"text":"","textFont":textStyleModel.getFont(),"textFill":textStyleModel.getTextColor()}});this.group.add(indicatorLabel);var indicatorLabelPoint=["horizontal"===orient?textSize/2:HOVER_LINK_OUT+3,0],shapes=this._shapes;shapes.indicator=indicator,shapes.indicatorLabel=indicatorLabel,shapes.indicatorLabelPoint=indicatorLabelPoint},"_dragHandle":function(handleIndex,isEnd,dx,dy){if(this._useHandle){if(this._dragging=!isEnd,!isEnd){var vertex=this._applyTransform([dx,dy],this._shapes.barGroup,!0);this._updateInterval(handleIndex,vertex[1]),this._updateView()}isEnd===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({"type":"selectDataRange","from":this.uid,"visualMapId":this.visualMapModel.id,"selected":this._dataInterval.slice()}),isEnd?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[handleIndex],!1)}},"_resetInterval":function(){var visualMapModel=this.visualMapModel,dataInterval=this._dataInterval=visualMapModel.getSelected(),dataExtent=visualMapModel.getExtent(),sizeExtent=[0,visualMapModel.itemSize[1]];this._handleEnds=[linearMap(dataInterval[0],dataExtent,sizeExtent,!0),linearMap(dataInterval[1],dataExtent,sizeExtent,!0)]},"_updateInterval":function(handleIndex,delta){delta=delta||0;var visualMapModel=this.visualMapModel,handleEnds=this._handleEnds,sizeExtent=[0,visualMapModel.itemSize[1]];sliderMove(delta,handleEnds,sizeExtent,handleIndex,0);var dataExtent=visualMapModel.getExtent();this._dataInterval=[linearMap(handleEnds[0],sizeExtent,dataExtent,!0),linearMap(handleEnds[1],sizeExtent,dataExtent,!0)]},"_updateView":function(forSketch){var visualMapModel=this.visualMapModel,dataExtent=visualMapModel.getExtent(),shapes=this._shapes,outOfRangeHandleEnds=[0,visualMapModel.itemSize[1]],inRangeHandleEnds=forSketch?outOfRangeHandleEnds:this._handleEnds,visualInRange=this._createBarVisual(this._dataInterval,dataExtent,inRangeHandleEnds,"inRange"),visualOutOfRange=this._createBarVisual(dataExtent,dataExtent,outOfRangeHandleEnds,"outOfRange");shapes.inRange.setStyle({"fill":visualInRange.barColor,"opacity":visualInRange.opacity}).setShape("points",visualInRange.barPoints),shapes.outOfRange.setStyle({"fill":visualOutOfRange.barColor,"opacity":visualOutOfRange.opacity}).setShape("points",visualOutOfRange.barPoints),this._updateHandle(inRangeHandleEnds,visualInRange)},"_createBarVisual":function(dataInterval,dataExtent,handleEnds,forceState){var opts={"forceState":forceState,"convertOpacityToAlpha":!0},colorStops=this._makeColorGradient(dataInterval,opts),symbolSizes=[this.getControllerVisual(dataInterval[0],"symbolSize",opts),this.getControllerVisual(dataInterval[1],"symbolSize",opts)],barPoints=this._createBarPoints(handleEnds,symbolSizes);return{"barColor":new LinearGradient(0,0,0,1,colorStops),"barPoints":barPoints,"handlesColor":[colorStops[0].color,colorStops[colorStops.length-1].color]}},"_makeColorGradient":function(dataInterval,opts){var sampleNumber=100,colorStops=[],step=(dataInterval[1]-dataInterval[0])/sampleNumber;colorStops.push({"color":this.getControllerVisual(dataInterval[0],"color",opts),"offset":0});for(var i=1;i<sampleNumber;i++){var currValue=dataInterval[0]+step*i;if(currValue>dataInterval[1])break;colorStops.push({"color":this.getControllerVisual(currValue,"color",opts),"offset":i/sampleNumber})}return colorStops.push({"color":this.getControllerVisual(dataInterval[1],"color",opts),"offset":1}),colorStops},"_createBarPoints":function(handleEnds,symbolSizes){var itemSize=this.visualMapModel.itemSize;return[[itemSize[0]-symbolSizes[0],handleEnds[0]],[itemSize[0],handleEnds[0]],[itemSize[0],handleEnds[1]],[itemSize[0]-symbolSizes[1],handleEnds[1]]]},"_createBarGroup":function(itemAlign){var orient=this._orient,inverse=this.visualMapModel.get("inverse");return new graphic.Group("horizontal"!==orient||inverse?"horizontal"===orient&&inverse?{"scale":"bottom"===itemAlign?[-1,1]:[1,1],"rotation":-Math.PI/2}:"vertical"!==orient||inverse?{"scale":"left"===itemAlign?[1,1]:[-1,1]}:{"scale":"left"===itemAlign?[1,-1]:[-1,-1]}:{"scale":"bottom"===itemAlign?[1,1]:[-1,1],"rotation":Math.PI/2})},"_updateHandle":function(handleEnds,visualInRange){if(this._useHandle){var shapes=this._shapes,visualMapModel=this.visualMapModel,handleThumbs=shapes.handleThumbs,handleLabels=shapes.handleLabels;each([0,1],function(handleIndex){var handleThumb=handleThumbs[handleIndex];handleThumb.setStyle("fill",visualInRange.handlesColor[handleIndex]),handleThumb.position[1]=handleEnds[handleIndex];var textPoint=graphic.applyTransform(shapes.handleLabelPoints[handleIndex],graphic.getTransform(handleThumb,this.group));handleLabels[handleIndex].setStyle({"x":textPoint[0],"y":textPoint[1],"text":visualMapModel.formatValueText(this._dataInterval[handleIndex]),"textVerticalAlign":"middle","textAlign":this._applyTransform("horizontal"===this._orient?0===handleIndex?"bottom":"top":"left",shapes.barGroup)})},this)}},"_showIndicator":function(cursorValue,textValue,rangeSymbol,halfHoverLinkSize){var visualMapModel=this.visualMapModel,dataExtent=visualMapModel.getExtent(),itemSize=visualMapModel.itemSize,sizeExtent=[0,itemSize[1]],pos=linearMap(cursorValue,dataExtent,sizeExtent,!0),shapes=this._shapes,indicator=shapes.indicator;if(indicator){indicator.position[1]=pos,indicator.attr("invisible",!1),indicator.setShape("points",createIndicatorPoints(!!rangeSymbol,halfHoverLinkSize,pos,itemSize[1]));var opts={"convertOpacityToAlpha":!0},color=this.getControllerVisual(cursorValue,"color",opts);indicator.setStyle("fill",color);var textPoint=graphic.applyTransform(shapes.indicatorLabelPoint,graphic.getTransform(indicator,this.group)),indicatorLabel=shapes.indicatorLabel;indicatorLabel.attr("invisible",!1);var align=this._applyTransform("left",shapes.barGroup),orient=this._orient;indicatorLabel.setStyle({"text":(rangeSymbol?rangeSymbol:"")+visualMapModel.formatValueText(textValue),"textVerticalAlign":"horizontal"===orient?align:"middle","textAlign":"horizontal"===orient?"center":align,"x":textPoint[0],"y":textPoint[1]})}},"_enableHoverLinkToSeries":function(){var self=this;this._shapes.barGroup.on("mousemove",function(e){if(self._hovering=!0,!self._dragging){var itemSize=self.visualMapModel.itemSize,pos=self._applyTransform([e.offsetX,e.offsetY],self._shapes.barGroup,!0,!0);pos[1]=mathMin(mathMax(0,pos[1]),itemSize[1]),self._doHoverLinkToSeries(pos[1],0<=pos[0]&&pos[0]<=itemSize[0])}}).on("mouseout",function(){self._hovering=!1,!self._dragging&&self._clearHoverLinkToSeries()})},"_enableHoverLinkFromSeries":function(){var zr=this.api.getZr();this.visualMapModel.option.hoverLink?(zr.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),zr.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},"_doHoverLinkToSeries":function(cursorPos,hoverOnBar){var visualMapModel=this.visualMapModel,itemSize=visualMapModel.itemSize;if(visualMapModel.option.hoverLink){var sizeExtent=[0,itemSize[1]],dataExtent=visualMapModel.getExtent();cursorPos=mathMin(mathMax(sizeExtent[0],cursorPos),sizeExtent[1]);var halfHoverLinkSize=getHalfHoverLinkSize(visualMapModel,dataExtent,sizeExtent),hoverRange=[cursorPos-halfHoverLinkSize,cursorPos+halfHoverLinkSize],cursorValue=linearMap(cursorPos,sizeExtent,dataExtent,!0),valueRange=[linearMap(hoverRange[0],sizeExtent,dataExtent,!0),linearMap(hoverRange[1],sizeExtent,dataExtent,!0)];hoverRange[0]<sizeExtent[0]&&(valueRange[0]=-(1/0)),hoverRange[1]>sizeExtent[1]&&(valueRange[1]=1/0),hoverOnBar&&(valueRange[0]===-(1/0)?this._showIndicator(cursorValue,valueRange[1],"< ",halfHoverLinkSize):valueRange[1]===1/0?this._showIndicator(cursorValue,valueRange[0],"> ",halfHoverLinkSize):this._showIndicator(cursorValue,cursorValue,"\u2248 ",halfHoverLinkSize));var oldBatch=this._hoverLinkDataIndices,newBatch=[];(hoverOnBar||useHoverLinkOnHandle(visualMapModel))&&(newBatch=this._hoverLinkDataIndices=visualMapModel.findTargetDataIndices(valueRange));var resultBatches=modelUtil.compressBatches(oldBatch,newBatch);this._dispatchHighDown("downplay",helper.convertDataIndex(resultBatches[0])),this._dispatchHighDown("highlight",helper.convertDataIndex(resultBatches[1]))}},"_hoverLinkFromSeriesMouseOver":function(e){var el=e.target,visualMapModel=this.visualMapModel;if(el&&null!=el.dataIndex){var dataModel=this.ecModel.getSeriesByIndex(el.seriesIndex);if(visualMapModel.isTargetSeries(dataModel)){var data=dataModel.getData(el.dataType),value=data.get(visualMapModel.getDataDimension(data),el.dataIndex,!0);isNaN(value)||this._showIndicator(value,value)}}},"_hideIndicator":function(){var shapes=this._shapes;shapes.indicator&&shapes.indicator.attr("invisible",!0),shapes.indicatorLabel&&shapes.indicatorLabel.attr("invisible",!0)},"_clearHoverLinkToSeries":function(){this._hideIndicator();var indices=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",helper.convertDataIndex(indices)),indices.length=0},"_clearHoverLinkFromSeries":function(){this._hideIndicator();var zr=this.api.getZr();zr.off("mouseover",this._hoverLinkFromSeriesMouseOver),zr.off("mouseout",this._hideIndicator)},"_applyTransform":function(vertex,element,inverse,global){var transform=graphic.getTransform(element,global?null:this.group);return graphic[zrUtil.isArray(vertex)?"applyTransform":"transformDirection"](vertex,transform,inverse)},"_dispatchHighDown":function(type,batch){batch&&batch.length&&this.api.dispatchAction({"type":type,"batch":batch})},"dispose":function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},"remove":function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}}),_default=ContinuousView;module.exports=_default},function(module,exports,__webpack_require__){function normalizeReverse(thisOption,pieceList){var inverse=thisOption.inverse;("vertical"===thisOption.orient?!inverse:inverse)&&pieceList.reverse()}var _config=__webpack_require__(30),zrUtil=(_config.__DEV__,__webpack_require__(4)),VisualMapModel=__webpack_require__(640),VisualMapping=__webpack_require__(164),visualDefault=__webpack_require__(664),_number=__webpack_require__(20),reformIntervals=_number.reformIntervals,PiecewiseModel=VisualMapModel.extend({"type":"visualMap.piecewise","defaultOption":{"selected":null,"minOpen":!1,"maxOpen":!1,"align":"auto","itemWidth":20,"itemHeight":14,"itemSymbol":"roundRect","pieceList":null,"categories":null,"splitNumber":5,"selectedMode":"multiple","itemGap":10,"hoverLink":!0,"showLabel":null},"optionUpdated":function(newOption,isInit){PiecewiseModel.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var mode=this._mode=this._determineMode();resetMethods[this._mode].call(this),this._resetSelected(newOption,isInit);var categories=this.option.categories;this.resetVisual(function(mappingOption,state){"categories"===mode?(mappingOption.mappingMethod="category",mappingOption.categories=zrUtil.clone(categories)):(mappingOption.dataExtent=this.getExtent(),mappingOption.mappingMethod="piecewise",mappingOption.pieceList=zrUtil.map(this._pieceList,function(piece){var piece=zrUtil.clone(piece);return"inRange"!==state&&(piece.visual=null),piece}))})},"completeVisualOption":function(){function has(obj,state,visualType){return obj&&obj[state]&&(zrUtil.isObject(obj[state])?obj[state].hasOwnProperty(visualType):obj[state]===visualType)}var option=this.option,visualTypesInPieces={},visualTypes=VisualMapping.listVisualTypes(),isCategory=this.isCategory();zrUtil.each(option.pieces,function(piece){zrUtil.each(visualTypes,function(visualType){piece.hasOwnProperty(visualType)&&(visualTypesInPieces[visualType]=1)})}),zrUtil.each(visualTypesInPieces,function(v,visualType){var exists=0;zrUtil.each(this.stateList,function(state){exists|=has(option,state,visualType)||has(option.target,state,visualType)},this),!exists&&zrUtil.each(this.stateList,function(state){(option[state]||(option[state]={}))[visualType]=visualDefault.get(visualType,"inRange"===state?"active":"inactive",isCategory)})},this),VisualMapModel.prototype.completeVisualOption.apply(this,arguments)},"_resetSelected":function(newOption,isInit){var thisOption=this.option,pieceList=this._pieceList,selected=(isInit?thisOption:newOption).selected||{};if(thisOption.selected=selected,zrUtil.each(pieceList,function(piece,index){var key=this.getSelectedMapKey(piece);selected.hasOwnProperty(key)||(selected[key]=!0)},this),"single"===thisOption.selectedMode){var hasSel=!1;zrUtil.each(pieceList,function(piece,index){var key=this.getSelectedMapKey(piece);selected[key]&&(hasSel?selected[key]=!1:hasSel=!0)},this)}},"getSelectedMapKey":function(piece){return"categories"===this._mode?piece.value+"":piece.index+""},"getPieceList":function(){return this._pieceList},"_determineMode":function(){var option=this.option;return option.pieces&&option.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},"setSelected":function(selected){this.option.selected=zrUtil.clone(selected)},"getValueState":function(value){var index=VisualMapping.findPieceIndex(value,this._pieceList);return null!=index&&this.option.selected[this.getSelectedMapKey(this._pieceList[index])]?"inRange":"outOfRange"},"findTargetDataIndices":function(pieceIndex){var result=[];return this.eachTargetSeries(function(seriesModel){var dataIndices=[],data=seriesModel.getData();data.each(this.getDataDimension(data),function(value,dataIndex){var pIdx=VisualMapping.findPieceIndex(value,this._pieceList);pIdx===pieceIndex&&dataIndices.push(dataIndex)},this),result.push({"seriesId":seriesModel.id,"dataIndex":dataIndices})},this),result},"getRepresentValue":function(piece){var representValue;if(this.isCategory())representValue=piece.value;else if(null!=piece.value)representValue=piece.value;else{var pieceInterval=piece.interval||[];representValue=pieceInterval[0]===-(1/0)&&pieceInterval[1]===1/0?0:(pieceInterval[0]+pieceInterval[1])/2}return representValue},"getVisualMeta":function(getColorVisual){function setStop(interval,valueState){var representValue=visualMapModel.getRepresentValue({"interval":interval});valueState||(valueState=visualMapModel.getValueState(representValue));var color=getColorVisual(representValue,valueState);interval[0]===-(1/0)?outerColors[0]=color:interval[1]===1/0?outerColors[1]=color:stops.push({"value":interval[0],"color":color},{"value":interval[1],"color":color})}if(!this.isCategory()){var stops=[],outerColors=[],visualMapModel=this,pieceList=this._pieceList.slice();if(pieceList.length){var edge=pieceList[0].interval[0];edge!==-(1/0)&&pieceList.unshift({"interval":[-(1/0),edge]}),edge=pieceList[pieceList.length-1].interval[1],edge!==1/0&&pieceList.push({"interval":[edge,1/0]})}else pieceList.push({"interval":[-(1/0),1/0]});var curr=-(1/0);return zrUtil.each(pieceList,function(piece){var interval=piece.interval;interval&&(interval[0]>curr&&setStop([curr,interval[0]],"outOfRange"),setStop(interval.slice()),curr=interval[1])},this),{"stops":stops,"outerColors":outerColors}}}}),resetMethods={"splitNumber":function(){var thisOption=this.option,pieceList=this._pieceList,precision=Math.min(thisOption.precision,20),dataExtent=this.getExtent(),splitNumber=thisOption.splitNumber;splitNumber=Math.max(parseInt(splitNumber,10),1),thisOption.splitNumber=splitNumber;for(var splitStep=(dataExtent[1]-dataExtent[0])/splitNumber;+splitStep.toFixed(precision)!==splitStep&&precision<5;)precision++;thisOption.precision=precision,splitStep=+splitStep.toFixed(precision);var index=0;thisOption.minOpen&&pieceList.push({"index":index++,"interval":[-(1/0),dataExtent[0]],"close":[0,0]});for(var curr=dataExtent[0],len=index+splitNumber;index<len;curr+=splitStep){var max=index===splitNumber-1?dataExtent[1]:curr+splitStep;pieceList.push({"index":index++,"interval":[curr,max],"close":[1,1]})}thisOption.maxOpen&&pieceList.push({"index":index++,"interval":[dataExtent[1],1/0],"close":[0,0]}),reformIntervals(pieceList),zrUtil.each(pieceList,function(piece){piece.text=this.formatValueText(piece.interval)},this)},"categories":function(){var thisOption=this.option;zrUtil.each(thisOption.categories,function(cate){this._pieceList.push({"text":this.formatValueText(cate,!0),"value":cate})},this),normalizeReverse(thisOption,this._pieceList)},"pieces":function(){var thisOption=this.option,pieceList=this._pieceList;zrUtil.each(thisOption.pieces,function(pieceListItem,index){zrUtil.isObject(pieceListItem)||(pieceListItem={"value":pieceListItem});var item={"text":"","index":index};if(null!=pieceListItem.label&&(item.text=pieceListItem.label),pieceListItem.hasOwnProperty("value")){var value=item.value=pieceListItem.value;item.interval=[value,value],item.close=[1,1]}else{for(var interval=item.interval=[],close=item.close=[0,0],closeList=[1,0,1],infinityList=[-(1/0),1/0],useMinMax=[],lg=0;lg<2;lg++){for(var names=[["gte","gt","min"],["lte","lt","max"]][lg],i=0;i<3&&null==interval[lg];i++)interval[lg]=pieceListItem[names[i]],close[lg]=closeList[i],useMinMax[lg]=2===i;null==interval[lg]&&(interval[lg]=infinityList[lg])}useMinMax[0]&&interval[1]===1/0&&(close[0]=0),useMinMax[1]&&interval[0]===-(1/0)&&(close[1]=0),interval[0]===interval[1]&&close[0]&&close[1]&&(item.value=interval[0])}item.visual=VisualMapping.retrieveVisuals(pieceListItem),pieceList.push(item)},this),normalizeReverse(thisOption,pieceList),reformIntervals(pieceList),zrUtil.each(pieceList,function(piece){var close=piece.close,edgeSymbols=[["<","\u2264"][close[1]],[">","\u2265"][close[0]]];piece.text=piece.text||this.formatValueText(null!=piece.value?piece.value:piece.interval,!1,edgeSymbols)},this)}},_default=PiecewiseModel;module.exports=_default},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),VisualMapView=__webpack_require__(641),graphic=__webpack_require__(15),_symbol=__webpack_require__(83),createSymbol=_symbol.createSymbol,layout=__webpack_require__(34),helper=__webpack_require__(642),PiecewiseVisualMapView=VisualMapView.extend({"type":"visualMap.piecewise","doRender":function(){function renderItem(item){var piece=item.piece,itemGroup=new graphic.Group;itemGroup.onclick=zrUtil.bind(this._onItemClick,this,piece),this._enableHoverLink(itemGroup,item.indexInModelPieceList);var representValue=visualMapModel.getRepresentValue(piece);if(this._createItemSymbol(itemGroup,representValue,[0,0,itemSize[0],itemSize[1]]),showLabel){var visualState=this.visualMapModel.getValueState(representValue);itemGroup.add(new graphic.Text({"style":{"x":"right"===itemAlign?-textGap:itemSize[0]+textGap,"y":itemSize[1]/2,"text":piece.text,"textVerticalAlign":"middle","textAlign":itemAlign,"textFont":textFont,"textFill":textFill,"opacity":"outOfRange"===visualState?.5:1}}))}thisGroup.add(itemGroup)}var thisGroup=this.group;thisGroup.removeAll();var visualMapModel=this.visualMapModel,textGap=visualMapModel.get("textGap"),textStyleModel=visualMapModel.textStyleModel,textFont=textStyleModel.getFont(),textFill=textStyleModel.getTextColor(),itemAlign=this._getItemAlign(),itemSize=visualMapModel.itemSize,viewData=this._getViewData(),endsText=viewData.endsText,showLabel=zrUtil.retrieve(visualMapModel.get("showLabel",!0),!endsText);endsText&&this._renderEndsText(thisGroup,endsText[0],itemSize,showLabel,itemAlign),zrUtil.each(viewData.viewPieceList,renderItem,this),endsText&&this._renderEndsText(thisGroup,endsText[1],itemSize,showLabel,itemAlign),layout.box(visualMapModel.get("orient"),thisGroup,visualMapModel.get("itemGap")),this.renderBackground(thisGroup),this.positionGroup(thisGroup)},"_enableHoverLink":function(itemGroup,pieceIndex){function onHoverLink(method){var visualMapModel=this.visualMapModel;visualMapModel.option.hoverLink&&this.api.dispatchAction({"type":method,"batch":helper.convertDataIndex(visualMapModel.findTargetDataIndices(pieceIndex))})}itemGroup.on("mouseover",zrUtil.bind(onHoverLink,this,"highlight")).on("mouseout",zrUtil.bind(onHoverLink,this,"downplay"))},"_getItemAlign":function(){var visualMapModel=this.visualMapModel,modelOption=visualMapModel.option;if("vertical"===modelOption.orient)return helper.getItemAlign(visualMapModel,this.api,visualMapModel.itemSize);var align=modelOption.align;return align&&"auto"!==align||(align="left"),align},"_renderEndsText":function(group,text,itemSize,showLabel,itemAlign){if(text){var itemGroup=new graphic.Group,textStyleModel=this.visualMapModel.textStyleModel;itemGroup.add(new graphic.Text({"style":{"x":showLabel?"right"===itemAlign?itemSize[0]:0:itemSize[0]/2,"y":itemSize[1]/2,"textVerticalAlign":"middle","textAlign":showLabel?itemAlign:"center","text":text,"textFont":textStyleModel.getFont(),"textFill":textStyleModel.getTextColor()}})),group.add(itemGroup)}},"_getViewData":function(){var visualMapModel=this.visualMapModel,viewPieceList=zrUtil.map(visualMapModel.getPieceList(),function(piece,index){return{"piece":piece,"indexInModelPieceList":index}}),endsText=visualMapModel.get("text"),orient=visualMapModel.get("orient"),inverse=visualMapModel.get("inverse");return("horizontal"===orient?inverse:!inverse)?viewPieceList.reverse():endsText&&(endsText=endsText.slice().reverse()),{"viewPieceList":viewPieceList,"endsText":endsText}},"_createItemSymbol":function(group,representValue,shapeParam){group.add(createSymbol(this.getControllerVisual(representValue,"symbol"),shapeParam[0],shapeParam[1],shapeParam[2],shapeParam[3],this.getControllerVisual(representValue,"color")))},"_onItemClick":function(piece){var visualMapModel=this.visualMapModel,option=visualMapModel.option,selected=zrUtil.clone(option.selected),newKey=visualMapModel.getSelectedMapKey(piece);"single"===option.selectedMode?(selected[newKey]=!0,zrUtil.each(selected,function(o,key){selected[key]=key===newKey})):selected[newKey]=!selected[newKey],this.api.dispatchAction({"type":"selectDataRange","from":this.uid,"visualMapId":this.visualMapModel.id,"selected":selected})}}),_default=PiecewiseVisualMapView;module.exports=_default},function(module,exports,__webpack_require__){function createAxisLabels(axis){return"category"===axis.type?makeCategoryLabels(axis):makeRealNumberLabels(axis)}function createAxisTicks(axis,tickModel){return"category"===axis.type?makeCategoryTicks(axis,tickModel):{"ticks":axis.scale.getTicks()}}function makeCategoryLabels(axis){var labelModel=axis.getLabelModel(),result=makeCategoryLabelsActually(axis,labelModel);return!labelModel.get("show")||axis.scale.isBlank()?{"labels":[],"labelCategoryInterval":result.labelCategoryInterval}:result}function makeCategoryLabelsActually(axis,labelModel){var labelsCache=getListCache(axis,"labels"),optionLabelInterval=getOptionCategoryInterval(labelModel),result=listCacheGet(labelsCache,optionLabelInterval);if(result)return result;var labels,numericLabelInterval;return zrUtil.isFunction(optionLabelInterval)?labels=makeLabelsByCustomizedCategoryInterval(axis,optionLabelInterval):(numericLabelInterval="auto"===optionLabelInterval?makeAutoCategoryInterval(axis):optionLabelInterval,labels=makeLabelsByNumericCategoryInterval(axis,numericLabelInterval)),listCacheSet(labelsCache,optionLabelInterval,{"labels":labels,"labelCategoryInterval":numericLabelInterval})}function makeCategoryTicks(axis,tickModel){var ticksCache=getListCache(axis,"ticks"),optionTickInterval=getOptionCategoryInterval(tickModel),result=listCacheGet(ticksCache,optionTickInterval);if(result)return result;var ticks,tickCategoryInterval;if(tickModel.get("show")&&!axis.scale.isBlank()||(ticks=[]),zrUtil.isFunction(optionTickInterval))ticks=makeLabelsByCustomizedCategoryInterval(axis,optionTickInterval,!0);else if("auto"===optionTickInterval){var labelsResult=makeCategoryLabelsActually(axis,axis.getLabelModel());tickCategoryInterval=labelsResult.labelCategoryInterval,ticks=zrUtil.map(labelsResult.labels,function(labelItem){return labelItem.tickValue})}else tickCategoryInterval=optionTickInterval,ticks=makeLabelsByNumericCategoryInterval(axis,tickCategoryInterval,!0);return listCacheSet(ticksCache,optionTickInterval,{"ticks":ticks,"tickCategoryInterval":tickCategoryInterval})}function makeRealNumberLabels(axis){var ticks=axis.scale.getTicks(),labelFormatter=makeLabelFormatter(axis);return{"labels":zrUtil.map(ticks,function(tickValue,idx){return{"formattedLabel":labelFormatter(tickValue,idx),"rawLabel":axis.scale.getLabel(tickValue),"tickValue":tickValue}})}}function getListCache(axis,prop){return inner(axis)[prop]||(inner(axis)[prop]=[])}function listCacheGet(cache,key){for(var i=0;i<cache.length;i++)if(cache[i].key===key)return cache[i].value}function listCacheSet(cache,key,value){return cache.push({"key":key,"value":value}),value}function makeAutoCategoryInterval(axis){var result=inner(axis).autoInterval;return null!=result?result:inner(axis).autoInterval=axis.calculateCategoryInterval()}function calculateCategoryInterval(axis){var params=fetchAutoCategoryIntervalCalculationParams(axis),labelFormatter=makeLabelFormatter(axis),rotation=(params.axisRotate-params.labelRotate)/180*Math.PI,ordinalScale=axis.scale,ordinalExtent=ordinalScale.getExtent(),tickCount=ordinalScale.count();if(ordinalExtent[1]-ordinalExtent[0]<1)return 0;var step=1;tickCount>40&&(step=Math.max(1,Math.floor(tickCount/40)));for(var tickValue=ordinalExtent[0],unitSpan=axis.dataToCoord(tickValue+1)-axis.dataToCoord(tickValue),unitW=Math.abs(unitSpan*Math.cos(rotation)),unitH=Math.abs(unitSpan*Math.sin(rotation)),maxW=0,maxH=0;tickValue<=ordinalExtent[1];tickValue+=step){var width=0,height=0,rect=textContain.getBoundingRect(labelFormatter(tickValue),params.font,"center","top");width=1.3*rect.width,height=1.3*rect.height,maxW=Math.max(maxW,width,7),maxH=Math.max(maxH,height,7)}var dw=maxW/unitW,dh=maxH/unitH;isNaN(dw)&&(dw=1/0),isNaN(dh)&&(dh=1/0);var interval=Math.max(0,Math.floor(Math.min(dw,dh))),cache=inner(axis.model),lastAutoInterval=cache.lastAutoInterval,lastTickCount=cache.lastTickCount;return null!=lastAutoInterval&&null!=lastTickCount&&Math.abs(lastAutoInterval-interval)<=1&&Math.abs(lastTickCount-tickCount)<=1&&lastAutoInterval>interval?interval=lastAutoInterval:(cache.lastTickCount=tickCount,cache.lastAutoInterval=interval),interval}function fetchAutoCategoryIntervalCalculationParams(axis){var labelModel=axis.getLabelModel();return{"axisRotate":axis.getRotate?axis.getRotate():axis.isHorizontal&&!axis.isHorizontal()?90:0,"labelRotate":labelModel.get("rotate")||0,"font":labelModel.getFont()}}function makeLabelsByNumericCategoryInterval(axis,categoryInterval,onlyTick){function addItem(tVal){result.push(onlyTick?tVal:{"formattedLabel":labelFormatter(tVal),"rawLabel":ordinalScale.getLabel(tVal),"tickValue":tVal})}var labelFormatter=makeLabelFormatter(axis),ordinalScale=axis.scale,ordinalExtent=ordinalScale.getExtent(),labelModel=axis.getLabelModel(),result=[],step=Math.max((categoryInterval||0)+1,1),startTick=ordinalExtent[0],tickCount=ordinalScale.count();0!==startTick&&step>1&&tickCount/step>2&&(startTick=Math.round(Math.ceil(startTick/step)*step));var showMinMax={"min":labelModel.get("showMinLabel"),"max":labelModel.get("showMaxLabel")};showMinMax.min&&startTick!==ordinalExtent[0]&&addItem(ordinalExtent[0]);for(var tickValue=startTick;tickValue<=ordinalExtent[1];tickValue+=step)addItem(tickValue);return showMinMax.max&&tickValue!==ordinalExtent[1]&&addItem(ordinalExtent[1]),result}function makeLabelsByCustomizedCategoryInterval(axis,categoryInterval,onlyTick){var ordinalScale=axis.scale,labelFormatter=makeLabelFormatter(axis),result=[];return zrUtil.each(ordinalScale.getTicks(),function(tickValue){var rawLabel=ordinalScale.getLabel(tickValue);categoryInterval(tickValue,rawLabel)&&result.push(onlyTick?tickValue:{"formattedLabel":labelFormatter(tickValue),"rawLabel":rawLabel,"tickValue":tickValue})}),result}function getOptionCategoryInterval(model){var interval=model.get("interval");return null==interval?"auto":interval}var zrUtil=__webpack_require__(4),textContain=__webpack_require__(108),_model=__webpack_require__(27),makeInner=_model.makeInner,_axisHelper=__webpack_require__(93),makeLabelFormatter=_axisHelper.makeLabelFormatter,inner=makeInner();exports.createAxisLabels=createAxisLabels,exports.createAxisTicks=createAxisTicks,exports.calculateCategoryInterval=calculateCategoryInterval},function(module,exports,__webpack_require__){function Calendar(calendarModel,ecModel,api){this._model=calendarModel}function doConvert(methodName,ecModel,finder,value){var calendarModel=finder.calendarModel,seriesModel=finder.seriesModel,coordSys=calendarModel?calendarModel.coordinateSystem:seriesModel?seriesModel.coordinateSystem:null;return coordSys===this?coordSys[methodName](value):null}var zrUtil=__webpack_require__(4),layout=__webpack_require__(34),numberUtil=__webpack_require__(20),CoordinateSystem=__webpack_require__(92),PROXIMATE_ONE_DAY=864e5;Calendar.prototype={"constructor":Calendar,"type":"calendar","dimensions":["time","value"],"getDimensionsInfo":function(){return[{"name":"time","type":"time"},"value"]},"getRangeInfo":function(){return this._rangeInfo},"getModel":function(){return this._model},"getRect":function(){return this._rect},"getCellWidth":function(){return this._sw},"getCellHeight":function(){return this._sh},"getOrient":function(){return this._orient},"getFirstDayOfWeek":function(){return this._firstDayOfWeek},"getDateInfo":function(date){date=numberUtil.parseDate(date);var y=date.getFullYear(),m=date.getMonth()+1;m=m<10?"0"+m:m;var d=date.getDate();d=d<10?"0"+d:d;var day=date.getDay();return day=Math.abs((day+7-this.getFirstDayOfWeek())%7),{"y":y,"m":m,"d":d,"day":day,"time":date.getTime(),"formatedDate":y+"-"+m+"-"+d,"date":date}},"getNextNDay":function(date,n){return n=n||0,0===n?this.getDateInfo(date):(date=new Date(this.getDateInfo(date).time),date.setDate(date.getDate()+n),this.getDateInfo(date))},"update":function(ecModel,api){function cellSizeSpecified(cellSize,idx){return null!=cellSize[idx]&&"auto"!==cellSize[idx]}this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var weeks=this._rangeInfo.weeks||1,whNames=["width","height"],cellSize=this._model.get("cellSize").slice(),layoutParams=this._model.getBoxLayoutParams(),cellNumbers="horizontal"===this._orient?[weeks,7]:[7,weeks];zrUtil.each([0,1],function(idx){cellSizeSpecified(cellSize,idx)&&(layoutParams[whNames[idx]]=cellSize[idx]*cellNumbers[idx])});var whGlobal={"width":api.getWidth(),"height":api.getHeight()},calendarRect=this._rect=layout.getLayoutRect(layoutParams,whGlobal);zrUtil.each([0,1],function(idx){cellSizeSpecified(cellSize,idx)||(cellSize[idx]=calendarRect[whNames[idx]]/cellNumbers[idx])}),this._sw=cellSize[0],this._sh=cellSize[1]},"dataToPoint":function(data,clamp){zrUtil.isArray(data)&&(data=data[0]),null==clamp&&(clamp=!0);var dayInfo=this.getDateInfo(data),range=this._rangeInfo,date=dayInfo.formatedDate;if(clamp&&!(dayInfo.time>=range.start.time&&dayInfo.time<range.end.time+PROXIMATE_ONE_DAY))return[NaN,NaN];
var week=dayInfo.day,nthWeek=this._getRangeInfo([range.start.time,date]).nthWeek;return"vertical"===this._orient?[this._rect.x+week*this._sw+this._sw/2,this._rect.y+nthWeek*this._sh+this._sh/2]:[this._rect.x+nthWeek*this._sw+this._sw/2,this._rect.y+week*this._sh+this._sh/2]},"pointToData":function(point){var date=this.pointToDate(point);return date&&date.time},"dataToRect":function(data,clamp){var point=this.dataToPoint(data,clamp);return{"contentShape":{"x":point[0]-(this._sw-this._lineWidth)/2,"y":point[1]-(this._sh-this._lineWidth)/2,"width":this._sw-this._lineWidth,"height":this._sh-this._lineWidth},"center":point,"tl":[point[0]-this._sw/2,point[1]-this._sh/2],"tr":[point[0]+this._sw/2,point[1]-this._sh/2],"br":[point[0]+this._sw/2,point[1]+this._sh/2],"bl":[point[0]-this._sw/2,point[1]+this._sh/2]}},"pointToDate":function(point){var nthX=Math.floor((point[0]-this._rect.x)/this._sw)+1,nthY=Math.floor((point[1]-this._rect.y)/this._sh)+1,range=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(nthY,nthX-1,range):this._getDateByWeeksAndDay(nthX,nthY-1,range)},"convertToPixel":zrUtil.curry(doConvert,"dataToPoint"),"convertFromPixel":zrUtil.curry(doConvert,"pointToData"),"_initRangeOption":function(){var range=this._model.get("range"),rg=range;if(zrUtil.isArray(rg)&&1===rg.length&&(rg=rg[0]),/^\d{4}$/.test(rg)&&(range=[rg+"-01-01",rg+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(rg)){var start=this.getDateInfo(rg),firstDay=start.date;firstDay.setMonth(firstDay.getMonth()+1);var end=this.getNextNDay(firstDay,-1);range=[start.formatedDate,end.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(rg)&&(range=[rg,rg]);var tmp=this._getRangeInfo(range);return tmp.start.time>tmp.end.time&&range.reverse(),range},"_getRangeInfo":function(range){range=[this.getDateInfo(range[0]),this.getDateInfo(range[1])];var reversed;range[0].time>range[1].time&&(reversed=!0,range.reverse());var allDay=Math.floor(range[1].time/PROXIMATE_ONE_DAY)-Math.floor(range[0].time/PROXIMATE_ONE_DAY)+1,date=new Date(range[0].time),startDateNum=date.getDate(),endDateNum=range[1].date.getDate();if(date.setDate(startDateNum+allDay-1),date.getDate()!==endDateNum)for(var sign=date.getTime()-range[1].time>0?1:-1;date.getDate()!==endDateNum&&(date.getTime()-range[1].time)*sign>0;)allDay-=sign,date.setDate(startDateNum+allDay-1);var weeks=Math.floor((allDay+range[0].day+6)/7),nthWeek=reversed?-weeks+1:weeks-1;return reversed&&range.reverse(),{"range":[range[0].formatedDate,range[1].formatedDate],"start":range[0],"end":range[1],"allDay":allDay,"weeks":weeks,"nthWeek":nthWeek,"fweek":range[0].day,"lweek":range[1].day}},"_getDateByWeeksAndDay":function(nthWeek,day,range){var rangeInfo=this._getRangeInfo(range);if(nthWeek>rangeInfo.weeks||0===nthWeek&&day<rangeInfo.fweek||nthWeek===rangeInfo.weeks&&day>rangeInfo.lweek)return!1;var nthDay=7*(nthWeek-1)-rangeInfo.fweek+day,date=new Date(rangeInfo.start.time);return date.setDate(rangeInfo.start.d+nthDay),this.getDateInfo(date)}},Calendar.dimensions=Calendar.prototype.dimensions,Calendar.getDimensionsInfo=Calendar.prototype.getDimensionsInfo,Calendar.create=function(ecModel,api){var calendarList=[];return ecModel.eachComponent("calendar",function(calendarModel){var calendar=new Calendar(calendarModel,ecModel,api);calendarList.push(calendar),calendarModel.coordinateSystem=calendar}),ecModel.eachSeries(function(calendarSeries){"calendar"===calendarSeries.get("coordinateSystem")&&(calendarSeries.coordinateSystem=calendarList[calendarSeries.get("calendarIndex")||0])}),calendarList},CoordinateSystem.register("calendar",Calendar);var _default=Calendar;module.exports=_default},function(module,exports,__webpack_require__){function mergeAndNormalizeLayoutParams(target,raw){var cellSize=target.cellSize;zrUtil.isArray(cellSize)?1===cellSize.length&&(cellSize[1]=cellSize[0]):cellSize=target.cellSize=[cellSize,cellSize];var ignoreSize=zrUtil.map([0,1],function(hvIdx){return sizeCalculable(raw,hvIdx)&&(cellSize[hvIdx]="auto"),null!=cellSize[hvIdx]&&"auto"!==cellSize[hvIdx]});mergeLayoutParam(target,raw,{"type":"box","ignoreSize":ignoreSize})}var zrUtil=__webpack_require__(4),ComponentModel=__webpack_require__(51),_layout=__webpack_require__(34),getLayoutParams=_layout.getLayoutParams,sizeCalculable=_layout.sizeCalculable,mergeLayoutParam=_layout.mergeLayoutParam,CalendarModel=ComponentModel.extend({"type":"calendar","coordinateSystem":null,"defaultOption":{"zlevel":0,"z":2,"left":80,"top":60,"cellSize":20,"orient":"horizontal","splitLine":{"show":!0,"lineStyle":{"color":"#000","width":1,"type":"solid"}},"itemStyle":{"color":"#fff","borderWidth":1,"borderColor":"#ccc"},"dayLabel":{"show":!0,"firstDay":0,"position":"start","margin":"50%","nameMap":"en","color":"#000"},"monthLabel":{"show":!0,"position":"start","margin":5,"align":"center","nameMap":"en","formatter":null,"color":"#000"},"yearLabel":{"show":!0,"position":null,"margin":30,"formatter":null,"color":"#ccc","fontFamily":"sans-serif","fontWeight":"bolder","fontSize":20}},"init":function(option,parentModel,ecModel,extraOpt){var inputPositionParams=getLayoutParams(option);CalendarModel.superApply(this,"init",arguments),mergeAndNormalizeLayoutParams(option,inputPositionParams)},"mergeOption":function(option,extraOpt){CalendarModel.superApply(this,"mergeOption",arguments),mergeAndNormalizeLayoutParams(this.option,option)}}),_default=CalendarModel;module.exports=_default},function(module,exports){function _default(coordSys){var rect=coordSys.getRect(),rangeInfo=coordSys.getRangeInfo();return{"coordSys":{"type":"calendar","x":rect.x,"y":rect.y,"width":rect.width,"height":rect.height,"cellWidth":coordSys.getCellWidth(),"cellHeight":coordSys.getCellHeight(),"rangeInfo":{"start":rangeInfo.start,"end":rangeInfo.end,"weeks":rangeInfo.weeks,"dayCount":rangeInfo.allDay}},"api":{"coord":function(data,clamp){return coordSys.dataToPoint(data,clamp)}}}}module.exports=_default},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),Axis=__webpack_require__(132),Axis2D=function(dim,scale,coordExtent,axisType,position){Axis.call(this,dim,scale,coordExtent),this.type=axisType||"value",this.position=position||"bottom"};Axis2D.prototype={"constructor":Axis2D,"index":0,"getAxesOnZeroOf":null,"model":null,"isHorizontal":function(){var position=this.position;return"top"===position||"bottom"===position},"getGlobalExtent":function(asc){var ret=this.getExtent();return ret[0]=this.toGlobalCoord(ret[0]),ret[1]=this.toGlobalCoord(ret[1]),asc&&ret[0]>ret[1]&&ret.reverse(),ret},"getOtherAxis":function(){this.grid.getOtherAxis()},"pointToData":function(point,clamp){return this.coordToData(this.toLocalCoord(point["x"===this.dim?0:1]),clamp)},"toLocalCoord":null,"toGlobalCoord":null},zrUtil.inherits(Axis2D,Axis);var _default=Axis2D;module.exports=_default},function(module,exports,__webpack_require__){function dimAxisMapper(dim){return this._axes[dim]}var zrUtil=__webpack_require__(4),Cartesian=function(name){this._axes={},this._dimList=[],this.name=name||""};Cartesian.prototype={"constructor":Cartesian,"type":"cartesian","getAxis":function(dim){return this._axes[dim]},"getAxes":function(){return zrUtil.map(this._dimList,dimAxisMapper,this)},"getAxesByScale":function(scaleType){return scaleType=scaleType.toLowerCase(),zrUtil.filter(this.getAxes(),function(axis){return axis.scale.type===scaleType})},"addAxis":function(axis){var dim=axis.dim;this._axes[dim]=axis,this._dimList.push(dim)},"dataToCoord":function(val){return this._dataCoordConvert(val,"dataToCoord")},"coordToData":function(val){return this._dataCoordConvert(val,"coordToData")},"_dataCoordConvert":function(input,method){for(var dimList=this._dimList,output=input instanceof Array?[]:{},i=0;i<dimList.length;i++){var dim=dimList[i],axis=this._axes[dim];output[dim]=axis[method](input[dim])}return output}};var _default=Cartesian;module.exports=_default},function(module,exports,__webpack_require__){function Cartesian2D(name){Cartesian.call(this,name)}var zrUtil=__webpack_require__(4),Cartesian=__webpack_require__(1547);Cartesian2D.prototype={"constructor":Cartesian2D,"type":"cartesian2d","dimensions":["x","y"],"getBaseAxis":function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},"containPoint":function(point){var axisX=this.getAxis("x"),axisY=this.getAxis("y");return axisX.contain(axisX.toLocalCoord(point[0]))&&axisY.contain(axisY.toLocalCoord(point[1]))},"containData":function(data){return this.getAxis("x").containData(data[0])&&this.getAxis("y").containData(data[1])},"dataToPoint":function(data,reserved,out){var xAxis=this.getAxis("x"),yAxis=this.getAxis("y");return out=out||[],out[0]=xAxis.toGlobalCoord(xAxis.dataToCoord(data[0])),out[1]=yAxis.toGlobalCoord(yAxis.dataToCoord(data[1])),out},"clampData":function(data,out){var xScale=this.getAxis("x").scale,yScale=this.getAxis("y").scale,xAxisExtent=xScale.getExtent(),yAxisExtent=yScale.getExtent(),x=xScale.parse(data[0]),y=yScale.parse(data[1]);return out=out||[],out[0]=Math.min(Math.max(Math.min(xAxisExtent[0],xAxisExtent[1]),x),Math.max(xAxisExtent[0],xAxisExtent[1])),out[1]=Math.min(Math.max(Math.min(yAxisExtent[0],yAxisExtent[1]),y),Math.max(yAxisExtent[0],yAxisExtent[1])),out},"pointToData":function(point,out){var xAxis=this.getAxis("x"),yAxis=this.getAxis("y");return out=out||[],out[0]=xAxis.coordToData(xAxis.toLocalCoord(point[0])),out[1]=yAxis.coordToData(yAxis.toLocalCoord(point[1])),out},"getOtherAxis":function(axis){return this.getAxis("x"===axis.dim?"y":"x")}},zrUtil.inherits(Cartesian2D,Cartesian);var _default=Cartesian2D;module.exports=_default},function(module,exports,__webpack_require__){__webpack_require__(649);var ComponentModel=__webpack_require__(51),_default=ComponentModel.extend({"type":"grid","dependencies":["xAxis","yAxis"],"layoutMode":"box","coordinateSystem":null,"defaultOption":{"show":!1,"zlevel":0,"z":0,"left":"10%","top":60,"right":"10%","bottom":60,"containLabel":!1,"backgroundColor":"rgba(0,0,0,0)","borderWidth":1,"borderColor":"#ccc"}});module.exports=_default},function(module,exports,__webpack_require__){function dataToCoordSize(dataSize,dataItem){return dataItem=dataItem||[0,0],zrUtil.map(["x","y"],function(dim,dimIdx){var axis=this.getAxis(dim),val=dataItem[dimIdx],halfSize=dataSize[dimIdx]/2;return"category"===axis.type?axis.getBandWidth():Math.abs(axis.dataToCoord(val-halfSize)-axis.dataToCoord(val+halfSize))},this)}function _default(coordSys){var rect=coordSys.grid.getRect();return{"coordSys":{"type":"cartesian2d","x":rect.x,"y":rect.y,"width":rect.width,"height":rect.height},"api":{"coord":function(data){return coordSys.dataToPoint(data)},"size":zrUtil.bind(dataToCoordSize,coordSys)}}}var zrUtil=__webpack_require__(4);module.exports=_default},function(module,exports,__webpack_require__){function Geo(name,map,geoJson,specialAreas,nameMap){View.call(this,name),this.map=map,this._nameCoordMap=zrUtil.createHashMap(),this.loadGeoJson(geoJson,specialAreas,nameMap)}function doConvert(methodName,ecModel,finder,value){var geoModel=finder.geoModel,seriesModel=finder.seriesModel,coordSys=geoModel?geoModel.coordinateSystem:seriesModel?seriesModel.coordinateSystem||(seriesModel.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return coordSys===this?coordSys[methodName](value):null}var zrUtil=__webpack_require__(4),BoundingRect=__webpack_require__(43),parseGeoJson=__webpack_require__(652),View=__webpack_require__(647),fixNanhai=__webpack_require__(1555),fixTextCoord=__webpack_require__(1556),fixGeoCoord=__webpack_require__(1554),fixDiaoyuIsland=__webpack_require__(1553),geoFixFuncs=[fixNanhai,fixTextCoord,fixGeoCoord,fixDiaoyuIsland];Geo.prototype={"constructor":Geo,"type":"geo","dimensions":["lng","lat"],"containCoord":function(coord){for(var regions=this.regions,i=0;i<regions.length;i++)if(regions[i].contain(coord))return!0;return!1},"loadGeoJson":function(geoJson,specialAreas,nameMap){try{this.regions=geoJson?parseGeoJson(geoJson):[]}catch(e){throw"Invalid geoJson format\n"+e.message}specialAreas=specialAreas||{},nameMap=nameMap||{};for(var regions=this.regions,regionsMap=zrUtil.createHashMap(),i=0;i<regions.length;i++){var regionName=regions[i].name;regionName=nameMap.hasOwnProperty(regionName)?nameMap[regionName]:regionName,regions[i].name=regionName,regionsMap.set(regionName,regions[i]),this.addGeoCoord(regionName,regions[i].center);var specialArea=specialAreas[regionName];specialArea&&regions[i].transformTo(specialArea.left,specialArea.top,specialArea.width,specialArea.height)}this._regionsMap=regionsMap,this._rect=null,zrUtil.each(geoFixFuncs,function(fixFunc){fixFunc(this)},this)},"transformTo":function(x,y,width,height){var rect=this.getBoundingRect();rect=rect.clone(),rect.y=-rect.y-rect.height;var rawTransformable=this._rawTransformable;rawTransformable.transform=rect.calculateTransform(new BoundingRect(x,y,width,height)),rawTransformable.decomposeTransform();var scale=rawTransformable.scale;scale[1]=-scale[1],rawTransformable.updateTransform(),this._updateTransform()},"getRegion":function(name){return this._regionsMap.get(name)},"getRegionByCoord":function(coord){for(var regions=this.regions,i=0;i<regions.length;i++)if(regions[i].contain(coord))return regions[i]},"addGeoCoord":function(name,geoCoord){this._nameCoordMap.set(name,geoCoord)},"getGeoCoord":function(name){return this._nameCoordMap.get(name)},"getBoundingRect":function(){if(this._rect)return this._rect;for(var rect,regions=this.regions,i=0;i<regions.length;i++){var regionRect=regions[i].getBoundingRect();rect=rect||regionRect.clone(),rect.union(regionRect)}return this._rect=rect||new BoundingRect(0,0,0,0)},"dataToPoint":function(data,noRoam,out){if("string"==typeof data&&(data=this.getGeoCoord(data)),data)return View.prototype.dataToPoint.call(this,data,noRoam,out)},"convertToPixel":zrUtil.curry(doConvert,"dataToPoint"),"convertFromPixel":zrUtil.curry(doConvert,"pointToData")},zrUtil.mixin(Geo,View);var _default=Geo;module.exports=_default},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),modelUtil=__webpack_require__(27),ComponentModel=__webpack_require__(51),Model=__webpack_require__(56),selectableMixin=__webpack_require__(383),geoCreator=__webpack_require__(274),GeoModel=ComponentModel.extend({"type":"geo","coordinateSystem":null,"layoutMode":"box","init":function(option){ComponentModel.prototype.init.apply(this,arguments),modelUtil.defaultEmphasis(option,"label",["show"])},"optionUpdated":function(){var option=this.option,self=this;option.regions=geoCreator.getFilledRegions(option.regions,option.map,option.nameMap),this._optionModelMap=zrUtil.reduce(option.regions||[],function(optionModelMap,regionOpt){return regionOpt.name&&optionModelMap.set(regionOpt.name,new Model(regionOpt,self)),optionModelMap},zrUtil.createHashMap()),this.updateSelectedMap(option.regions)},"defaultOption":{"zlevel":0,"z":0,"show":!0,"left":"center","top":"center","aspectScale":.75,"silent":!1,"map":"","boundingCoords":null,"center":null,"zoom":1,"scaleLimit":null,"label":{"show":!1,"color":"#000"},"itemStyle":{"borderWidth":.5,"borderColor":"#444","color":"#eee"},"emphasis":{"label":{"show":!0,"color":"rgb(100,0,0)"},"itemStyle":{"color":"rgba(255,215,0,0.8)"}},"regions":[]},"getRegionModel":function(name){return this._optionModelMap.get(name)||new Model(null,this,this.ecModel)},"getFormattedLabel":function(name,status){var regionModel=this.getRegionModel(name),formatter=regionModel.get("label."+status+".formatter"),params={"name":name};return"function"==typeof formatter?(params.status=status,formatter(params)):"string"==typeof formatter?formatter.replace("{a}",null!=name?name:""):void 0},"setZoom":function(zoom){this.option.zoom=zoom},"setCenter":function(center){this.option.center=center}});zrUtil.mixin(GeoModel,selectableMixin);var _default=GeoModel;module.exports=_default},function(module,exports){function _default(geo){if("china"===geo.map)for(var i=0,len=geo.regions.length;i<len;++i)"\u53f0\u6e7e"===geo.regions[i].name&&geo.regions[i].geometries.push({"type":"polygon","exterior":points[0]})}var points=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];module.exports=_default},function(module,exports,__webpack_require__){function _default(geo){zrUtil.each(geo.regions,function(region){var geoCoord=geoCoordMap[region.name];if(geoCoord){var cp=region.center;cp[0]=geoCoord[0],cp[1]=geoCoord[1]}})}var zrUtil=__webpack_require__(4),geoCoordMap={"Russia":[100,60],"United States":[-99,38],"United States of America":[-99,38]};module.exports=_default},function(module,exports,__webpack_require__){function _default(geo){"china"===geo.map&&geo.regions.push(new Region("\u5357\u6d77\u8bf8\u5c9b",zrUtil.map(points,function(exterior){return{"type":"polygon","exterior":exterior}}),geoCoord))}for(var zrUtil=__webpack_require__(4),Region=__webpack_require__(651),geoCoord=[126,25],points=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],i=0;i<points.length;i++)for(var k=0;k<points[i].length;k++)points[i][k][0]/=10.5,points[i][k][1]/=-14,points[i][k][0]+=geoCoord[0],points[i][k][1]+=geoCoord[1];module.exports=_default},function(module,exports,__webpack_require__){function _default(geo){zrUtil.each(geo.regions,function(region){var coordFix=coordsOffsetMap[region.name];if(coordFix){var cp=region.center;cp[0]+=coordFix[0]/10.5,cp[1]+=-coordFix[1]/14}})}var zrUtil=__webpack_require__(4),coordsOffsetMap={"\u5357\u6d77\u8bf8\u5c9b":[32,80],"\u5e7f\u4e1c":[0,-10],"\u9999\u6e2f":[10,5],"\u6fb3\u95e8":[-10,10],"\u5929\u6d25":[5,5]};module.exports=_default},function(module,exports,__webpack_require__){function dataToCoordSize(dataSize,dataItem){return dataItem=dataItem||[0,0],zrUtil.map([0,1],function(dimIdx){var val=dataItem[dimIdx],halfSize=dataSize[dimIdx]/2,p1=[],p2=[];return p1[dimIdx]=val-halfSize,p2[dimIdx]=val+halfSize,p1[1-dimIdx]=p2[1-dimIdx]=dataItem[1-dimIdx],Math.abs(this.dataToPoint(p1)[dimIdx]-this.dataToPoint(p2)[dimIdx])},this)}function _default(coordSys){var rect=coordSys.getBoundingRect();return{"coordSys":{"type":"geo","x":rect.x,"y":rect.y,"width":rect.width,"height":rect.height},"api":{"coord":function(data){return coordSys.dataToPoint(data)},"size":zrUtil.bind(dataToCoordSize,coordSys)}}}var zrUtil=__webpack_require__(4);module.exports=_default},function(module,exports,__webpack_require__){function getAxisType(axisName,option){return option.type||(option.data?"category":"value")}var zrUtil=__webpack_require__(4),ComponentModel=__webpack_require__(51),makeStyleMapper=__webpack_require__(194),axisModelCreator=__webpack_require__(273),numberUtil=__webpack_require__(20),axisModelCommonMixin=__webpack_require__(192),AxisModel=ComponentModel.extend({"type":"baseParallelAxis","axis":null,"activeIntervals":[],"getAreaSelectStyle":function(){return makeStyleMapper([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},"setActiveIntervals":function(intervals){var activeIntervals=this.activeIntervals=zrUtil.clone(intervals);if(activeIntervals)for(var i=activeIntervals.length-1;i>=0;i--)numberUtil.asc(activeIntervals[i])},"getActiveState":function(value){var activeIntervals=this.activeIntervals;if(!activeIntervals.length)return"normal";if(null==value||isNaN(value))return"inactive";if(1===activeIntervals.length){var interval=activeIntervals[0];if(interval[0]<=value&&value<=interval[1])return"active"}else for(var i=0,len=activeIntervals.length;i<len;i++)if(activeIntervals[i][0]<=value&&value<=activeIntervals[i][1])return"active";return"inactive"}}),defaultOption={"type":"value","dim":null,"areaSelectStyle":{"width":20,"borderWidth":1,"borderColor":"rgba(160,197,232)","color":"rgba(160,197,232)","opacity":.3},"realtime":!0,"z":10};zrUtil.merge(AxisModel.prototype,axisModelCommonMixin),axisModelCreator("parallel",AxisModel,getAxisType,defaultOption);var _default=AxisModel;module.exports=_default},function(module,exports,__webpack_require__){function Parallel(parallelModel,ecModel,api){this._axesMap=zrUtil.createHashMap(),this._axesLayout={},this.dimensions=parallelModel.dimensions,this._rect,this._model=parallelModel,this._init(parallelModel,ecModel,api)}function restrict(len,extent){return mathMin(mathMax(len,extent[0]),extent[1])}function layoutAxisWithoutExpand(axisIndex,layoutInfo){var step=layoutInfo.layoutLength/(layoutInfo.axisCount-1);return{"position":step*axisIndex,"axisNameAvailableWidth":step,"axisLabelShow":!0}}function layoutAxisWithExpand(axisIndex,layoutInfo){var position,nameTruncateMaxWidth,layoutLength=layoutInfo.layoutLength,axisExpandWidth=layoutInfo.axisExpandWidth,axisCount=layoutInfo.axisCount,axisCollapseWidth=layoutInfo.axisCollapseWidth,winInnerIndices=layoutInfo.winInnerIndices,axisNameAvailableWidth=axisCollapseWidth,axisLabelShow=!1;return axisIndex<winInnerIndices[0]?(position=axisIndex*axisCollapseWidth,nameTruncateMaxWidth=axisCollapseWidth):axisIndex<=winInnerIndices[1]?(position=layoutInfo.axisExpandWindow0Pos+axisIndex*axisExpandWidth-layoutInfo.axisExpandWindow[0],axisNameAvailableWidth=axisExpandWidth,axisLabelShow=!0):(position=layoutLength-(axisCount-1-axisIndex)*axisCollapseWidth,nameTruncateMaxWidth=axisCollapseWidth),{"position":position,"axisNameAvailableWidth":axisNameAvailableWidth,"axisLabelShow":axisLabelShow,"nameTruncateMaxWidth":nameTruncateMaxWidth}}var zrUtil=__webpack_require__(4),matrix=__webpack_require__(70),layoutUtil=__webpack_require__(34),axisHelper=__webpack_require__(93),ParallelAxis=__webpack_require__(1560),graphic=__webpack_require__(15),numberUtil=__webpack_require__(20),sliderMove=__webpack_require__(219),each=zrUtil.each,mathMin=Math.min,mathMax=Math.max,mathFloor=Math.floor,mathCeil=Math.ceil,round=numberUtil.round,PI=Math.PI;Parallel.prototype={"type":"parallel","constructor":Parallel,"_init":function(parallelModel,ecModel,api){var dimensions=parallelModel.dimensions,parallelAxisIndex=parallelModel.parallelAxisIndex;each(dimensions,function(dim,idx){var axisIndex=parallelAxisIndex[idx],axisModel=ecModel.getComponent("parallelAxis",axisIndex),axis=this._axesMap.set(dim,new ParallelAxis(dim,axisHelper.createScaleByModel(axisModel),[0,0],axisModel.get("type"),axisIndex)),isCategory="category"===axis.type;axis.onBand=isCategory&&axisModel.get("boundaryGap"),axis.inverse=axisModel.get("inverse"),axisModel.axis=axis,axis.model=axisModel,axis.coordinateSystem=axisModel.coordinateSystem=this},this)},"update":function(ecModel,api){this._updateAxesFromSeries(this._model,ecModel)},"containPoint":function(point){var layoutInfo=this._makeLayoutInfo(),axisBase=layoutInfo.axisBase,layoutBase=layoutInfo.layoutBase,pixelDimIndex=layoutInfo.pixelDimIndex,pAxis=point[1-pixelDimIndex],pLayout=point[pixelDimIndex];return pAxis>=axisBase&&pAxis<=axisBase+layoutInfo.axisLength&&pLayout>=layoutBase&&pLayout<=layoutBase+layoutInfo.layoutLength},"getModel":function(){return this._model},"_updateAxesFromSeries":function(parallelModel,ecModel){ecModel.eachSeries(function(seriesModel){if(parallelModel.contains(seriesModel,ecModel)){var data=seriesModel.getData();each(this.dimensions,function(dim){var axis=this._axesMap.get(dim);axis.scale.unionExtentFromData(data,data.mapDimension(dim)),axisHelper.niceScaleExtent(axis.scale,axis.model)},this)}},this)},"resize":function(parallelModel,api){this._rect=layoutUtil.getLayoutRect(parallelModel.getBoxLayoutParams(),{"width":api.getWidth(),"height":api.getHeight()}),this._layoutAxes()},"getRect":function(){return this._rect},"_makeLayoutInfo":function(){var winSize,parallelModel=this._model,rect=this._rect,xy=["x","y"],wh=["width","height"],layout=parallelModel.get("layout"),pixelDimIndex="horizontal"===layout?0:1,layoutLength=rect[wh[pixelDimIndex]],layoutExtent=[0,layoutLength],axisCount=this.dimensions.length,axisExpandWidth=restrict(parallelModel.get("axisExpandWidth"),layoutExtent),axisExpandCount=restrict(parallelModel.get("axisExpandCount")||0,[0,axisCount]),axisExpandable=parallelModel.get("axisExpandable")&&axisCount>3&&axisCount>axisExpandCount&&axisExpandCount>1&&axisExpandWidth>0&&layoutLength>0,axisExpandWindow=parallelModel.get("axisExpandWindow");if(axisExpandWindow)winSize=restrict(axisExpandWindow[1]-axisExpandWindow[0],layoutExtent),axisExpandWindow[1]=axisExpandWindow[0]+winSize;else{winSize=restrict(axisExpandWidth*(axisExpandCount-1),layoutExtent);var axisExpandCenter=parallelModel.get("axisExpandCenter")||mathFloor(axisCount/2);axisExpandWindow=[axisExpandWidth*axisExpandCenter-winSize/2],axisExpandWindow[1]=axisExpandWindow[0]+winSize}var axisCollapseWidth=(layoutLength-winSize)/(axisCount-axisExpandCount);axisCollapseWidth<3&&(axisCollapseWidth=0);var winInnerIndices=[mathFloor(round(axisExpandWindow[0]/axisExpandWidth,1))+1,mathCeil(round(axisExpandWindow[1]/axisExpandWidth,1))-1],axisExpandWindow0Pos=axisCollapseWidth/axisExpandWidth*axisExpandWindow[0];return{"layout":layout,"pixelDimIndex":pixelDimIndex,"layoutBase":rect[xy[pixelDimIndex]],"layoutLength":layoutLength,"axisBase":rect[xy[1-pixelDimIndex]],"axisLength":rect[wh[1-pixelDimIndex]],"axisExpandable":axisExpandable,"axisExpandWidth":axisExpandWidth,"axisCollapseWidth":axisCollapseWidth,"axisExpandWindow":axisExpandWindow,"axisCount":axisCount,"winInnerIndices":winInnerIndices,"axisExpandWindow0Pos":axisExpandWindow0Pos}},"_layoutAxes":function(){var rect=this._rect,axes=this._axesMap,dimensions=this.dimensions,layoutInfo=this._makeLayoutInfo(),layout=layoutInfo.layout;axes.each(function(axis){var axisExtent=[0,layoutInfo.axisLength],idx=axis.inverse?1:0;axis.setExtent(axisExtent[idx],axisExtent[1-idx])}),each(dimensions,function(dim,idx){var posInfo=(layoutInfo.axisExpandable?layoutAxisWithExpand:layoutAxisWithoutExpand)(idx,layoutInfo),positionTable={"horizontal":{"x":posInfo.position,"y":layoutInfo.axisLength},"vertical":{"x":0,"y":posInfo.position}},rotationTable={"horizontal":PI/2,"vertical":0},position=[positionTable[layout].x+rect.x,positionTable[layout].y+rect.y],rotation=rotationTable[layout],transform=matrix.create();matrix.rotate(transform,transform,rotation),matrix.translate(transform,transform,position),this._axesLayout[dim]={"position":position,"rotation":rotation,"transform":transform,"axisNameAvailableWidth":posInfo.axisNameAvailableWidth,"axisLabelShow":posInfo.axisLabelShow,"nameTruncateMaxWidth":posInfo.nameTruncateMaxWidth,"tickDirection":1,"labelDirection":1}},this)},"getAxis":function(dim){return this._axesMap.get(dim)},"dataToPoint":function(value,dim){return this.axisCoordToPoint(this._axesMap.get(dim).dataToCoord(value),dim)},"eachActiveState":function(data,callback,start,end){null==start&&(start=0),null==end&&(end=data.count());var axesMap=this._axesMap,dimensions=this.dimensions,dataDimensions=[],axisModels=[];zrUtil.each(dimensions,function(axisDim){dataDimensions.push(data.mapDimension(axisDim)),axisModels.push(axesMap.get(axisDim).model)});for(var hasActiveSet=this.hasAxisBrushed(),dataIndex=start;dataIndex<end;dataIndex++){var activeState;if(hasActiveSet){activeState="active";for(var values=data.getValues(dataDimensions,dataIndex),j=0,lenj=dimensions.length;j<lenj;j++){var state=axisModels[j].getActiveState(values[j]);if("inactive"===state){activeState="inactive";break}}}else activeState="normal";callback(activeState,dataIndex)}},"hasAxisBrushed":function(){for(var dimensions=this.dimensions,axesMap=this._axesMap,hasActiveSet=!1,j=0,lenj=dimensions.length;j<lenj;j++)"normal"!==axesMap.get(dimensions[j]).model.getActiveState()&&(hasActiveSet=!0);return hasActiveSet},"axisCoordToPoint":function(coord,dim){var axisLayout=this._axesLayout[dim];return graphic.applyTransform([coord,0],axisLayout.transform)},"getAxisLayout":function(dim){return zrUtil.clone(this._axesLayout[dim])},"getSlidedAxisExpandWindow":function(point){var layoutInfo=this._makeLayoutInfo(),pixelDimIndex=layoutInfo.pixelDimIndex,axisExpandWindow=layoutInfo.axisExpandWindow.slice(),winSize=axisExpandWindow[1]-axisExpandWindow[0],extent=[0,layoutInfo.axisExpandWidth*(layoutInfo.axisCount-1)];if(!this.containPoint(point))return{"behavior":"none","axisExpandWindow":axisExpandWindow};var delta,pointCoord=point[pixelDimIndex]-layoutInfo.layoutBase-layoutInfo.axisExpandWindow0Pos,behavior="slide",axisCollapseWidth=layoutInfo.axisCollapseWidth,triggerArea=this._model.get("axisExpandSlideTriggerArea"),useJump=null!=triggerArea[0];if(axisCollapseWidth)useJump&&axisCollapseWidth&&pointCoord<winSize*triggerArea[0]?(behavior="jump",delta=pointCoord-winSize*triggerArea[2]):useJump&&axisCollapseWidth&&pointCoord>winSize*(1-triggerArea[0])?(behavior="jump",delta=pointCoord-winSize*(1-triggerArea[2])):(delta=pointCoord-winSize*triggerArea[1])>=0&&(delta=pointCoord-winSize*(1-triggerArea[1]))<=0&&(delta=0),delta*=layoutInfo.axisExpandWidth/axisCollapseWidth,delta?sliderMove(delta,axisExpandWindow,extent,"all"):behavior="none";else{var winSize=axisExpandWindow[1]-axisExpandWindow[0],pos=extent[1]*pointCoord/winSize;axisExpandWindow=[mathMax(0,pos-winSize/2)],axisExpandWindow[1]=mathMin(extent[1],axisExpandWindow[0]+winSize),axisExpandWindow[0]=axisExpandWindow[1]-winSize}return{"axisExpandWindow":axisExpandWindow,"behavior":behavior}}};var _default=Parallel;module.exports=_default},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),Axis=__webpack_require__(132),ParallelAxis=function(dim,scale,coordExtent,axisType,axisIndex){Axis.call(this,dim,scale,coordExtent),this.type=axisType||"value",this.axisIndex=axisIndex};ParallelAxis.prototype={"constructor":ParallelAxis,"model":null,"isHorizontal":function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},zrUtil.inherits(ParallelAxis,Axis);var _default=ParallelAxis;module.exports=_default},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),Component=__webpack_require__(51);__webpack_require__(1558);var _default=Component.extend({"type":"parallel","dependencies":["parallelAxis"],"coordinateSystem":null,"dimensions":null,"parallelAxisIndex":null,"layoutMode":"box","defaultOption":{"zlevel":0,"z":0,"left":80,"top":60,"right":80,"bottom":60,"layout":"horizontal","axisExpandable":!1,"axisExpandCenter":null,"axisExpandCount":0,"axisExpandWidth":50,"axisExpandRate":17,"axisExpandDebounce":50,"axisExpandSlideTriggerArea":[-.15,.05,.4],"axisExpandTriggerOn":"click","parallelAxisDefault":null},"init":function(){Component.prototype.init.apply(this,arguments),this.mergeOption({})},"mergeOption":function(newOption){var thisOption=this.option;newOption&&zrUtil.merge(thisOption,newOption,!0),this._initDimensions()},"contains":function(model,ecModel){var parallelIndex=model.get("parallelIndex");return null!=parallelIndex&&ecModel.getComponent("parallel",parallelIndex)===this},"setAxisExpand":function(opt){zrUtil.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(name){opt.hasOwnProperty(name)&&(this.option[name]=opt[name])},this)},"_initDimensions":function(){var dimensions=this.dimensions=[],parallelAxisIndex=this.parallelAxisIndex=[],axisModels=zrUtil.filter(this.dependentModels.parallelAxis,function(axisModel){return(axisModel.get("parallelIndex")||0)===this.componentIndex;
},this);zrUtil.each(axisModels,function(axisModel){dimensions.push("dim"+axisModel.get("dim")),parallelAxisIndex.push(axisModel.componentIndex)})}});module.exports=_default},function(module,exports,__webpack_require__){function _default(option){createParallelIfNeeded(option),mergeAxisOptionFromParallel(option)}function createParallelIfNeeded(option){if(!option.parallel){var hasParallelSeries=!1;zrUtil.each(option.series,function(seriesOpt){seriesOpt&&"parallel"===seriesOpt.type&&(hasParallelSeries=!0)}),hasParallelSeries&&(option.parallel=[{}])}}function mergeAxisOptionFromParallel(option){var axes=modelUtil.normalizeToArray(option.parallelAxis);zrUtil.each(axes,function(axisOption){if(zrUtil.isObject(axisOption)){var parallelIndex=axisOption.parallelIndex||0,parallelOption=modelUtil.normalizeToArray(option.parallel)[parallelIndex];parallelOption&&parallelOption.parallelAxisDefault&&zrUtil.merge(axisOption,parallelOption.parallelAxisDefault,!1)}})}var zrUtil=__webpack_require__(4),modelUtil=__webpack_require__(27);module.exports=_default},function(module,exports,__webpack_require__){function AngleAxis(scale,angleExtent){angleExtent=angleExtent||[0,360],Axis.call(this,"angle",scale,angleExtent),this.type="category"}var zrUtil=__webpack_require__(4),Axis=__webpack_require__(132);AngleAxis.prototype={"constructor":AngleAxis,"pointToData":function(point,clamp){return this.polar.pointToData(point,clamp)["radius"===this.dim?0:1]},"dataToAngle":Axis.prototype.dataToCoord,"angleToData":Axis.prototype.coordToData},zrUtil.inherits(AngleAxis,Axis);var _default=AngleAxis;module.exports=_default},function(module,exports,__webpack_require__){function getAxisType(axisDim,option){return option.type||(option.data?"category":"value")}var zrUtil=__webpack_require__(4),ComponentModel=__webpack_require__(51),axisModelCreator=__webpack_require__(273),axisModelCommonMixin=__webpack_require__(192),PolarAxisModel=ComponentModel.extend({"type":"polarAxis","axis":null,"getCoordSysModel":function(){return this.ecModel.queryComponents({"mainType":"polar","index":this.option.polarIndex,"id":this.option.polarId})[0]}});zrUtil.merge(PolarAxisModel.prototype,axisModelCommonMixin);var polarAxisDefaultExtendedOption={"angle":{"startAngle":90,"clockwise":!0,"splitNumber":12,"axisLabel":{"rotate":!1}},"radius":{"splitNumber":5}};axisModelCreator("angle",PolarAxisModel,getAxisType,polarAxisDefaultExtendedOption.angle),axisModelCreator("radius",PolarAxisModel,getAxisType,polarAxisDefaultExtendedOption.radius)},function(module,exports,__webpack_require__){var RadiusAxis=__webpack_require__(1567),AngleAxis=__webpack_require__(1563),Polar=function(name){this.name=name||"",this.cx=0,this.cy=0,this._radiusAxis=new RadiusAxis,this._angleAxis=new AngleAxis,this._radiusAxis.polar=this._angleAxis.polar=this};Polar.prototype={"type":"polar","axisPointerEnabled":!0,"constructor":Polar,"dimensions":["radius","angle"],"model":null,"containPoint":function(point){var coord=this.pointToCoord(point);return this._radiusAxis.contain(coord[0])&&this._angleAxis.contain(coord[1])},"containData":function(data){return this._radiusAxis.containData(data[0])&&this._angleAxis.containData(data[1])},"getAxis":function(dim){return this["_"+dim+"Axis"]},"getAxes":function(){return[this._radiusAxis,this._angleAxis]},"getAxesByScale":function(scaleType){var axes=[],angleAxis=this._angleAxis,radiusAxis=this._radiusAxis;return angleAxis.scale.type===scaleType&&axes.push(angleAxis),radiusAxis.scale.type===scaleType&&axes.push(radiusAxis),axes},"getAngleAxis":function(){return this._angleAxis},"getRadiusAxis":function(){return this._radiusAxis},"getOtherAxis":function(axis){var angleAxis=this._angleAxis;return axis===angleAxis?this._radiusAxis:angleAxis},"getBaseAxis":function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},"getTooltipAxes":function(dim){var baseAxis=null!=dim&&"auto"!==dim?this.getAxis(dim):this.getBaseAxis();return{"baseAxes":[baseAxis],"otherAxes":[this.getOtherAxis(baseAxis)]}},"dataToPoint":function(data,clamp){return this.coordToPoint([this._radiusAxis.dataToRadius(data[0],clamp),this._angleAxis.dataToAngle(data[1],clamp)])},"pointToData":function(point,clamp){var coord=this.pointToCoord(point);return[this._radiusAxis.radiusToData(coord[0],clamp),this._angleAxis.angleToData(coord[1],clamp)]},"pointToCoord":function(point){var dx=point[0]-this.cx,dy=point[1]-this.cy,angleAxis=this.getAngleAxis(),extent=angleAxis.getExtent(),minAngle=Math.min(extent[0],extent[1]),maxAngle=Math.max(extent[0],extent[1]);angleAxis.inverse?minAngle=maxAngle-360:maxAngle=minAngle+360;var radius=Math.sqrt(dx*dx+dy*dy);dx/=radius,dy/=radius;for(var radian=Math.atan2(-dy,dx)/Math.PI*180,dir=radian<minAngle?1:-1;radian<minAngle||radian>maxAngle;)radian+=360*dir;return[radius,radian]},"coordToPoint":function(coord){var radius=coord[0],radian=coord[1]/180*Math.PI,x=Math.cos(radian)*radius+this.cx,y=-Math.sin(radian)*radius+this.cy;return[x,y]}};var _default=Polar;module.exports=_default},function(module,exports,__webpack_require__){var echarts=__webpack_require__(13);__webpack_require__(1564);var _default=echarts.extendComponentModel({"type":"polar","dependencies":["polarAxis","angleAxis"],"coordinateSystem":null,"findAxisModel":function(axisType){var foundAxisModel,ecModel=this.ecModel;return ecModel.eachComponent(axisType,function(axisModel){axisModel.getCoordSysModel()===this&&(foundAxisModel=axisModel)},this),foundAxisModel},"defaultOption":{"zlevel":0,"z":0,"center":["50%","50%"],"radius":"80%"}});module.exports=_default},function(module,exports,__webpack_require__){function RadiusAxis(scale,radiusExtent){Axis.call(this,"radius",scale,radiusExtent),this.type="category"}var zrUtil=__webpack_require__(4),Axis=__webpack_require__(132);RadiusAxis.prototype={"constructor":RadiusAxis,"pointToData":function(point,clamp){return this.polar.pointToData(point,clamp)["radius"===this.dim?0:1]},"dataToRadius":Axis.prototype.dataToCoord,"radiusToData":Axis.prototype.coordToData},zrUtil.inherits(RadiusAxis,Axis);var _default=RadiusAxis;module.exports=_default},function(module,exports,__webpack_require__){function dataToCoordSize(dataSize,dataItem){return zrUtil.map(["Radius","Angle"],function(dim,dimIdx){var axis=this["get"+dim+"Axis"](),val=dataItem[dimIdx],halfSize=dataSize[dimIdx]/2,method="dataTo"+dim,result="category"===axis.type?axis.getBandWidth():Math.abs(axis[method](val-halfSize)-axis[method](val+halfSize));return"Angle"===dim&&(result=result*Math.PI/180),result},this)}function _default(coordSys){var radiusAxis=coordSys.getRadiusAxis(),angleAxis=coordSys.getAngleAxis(),radius=radiusAxis.getExtent();return radius[0]>radius[1]&&radius.reverse(),{"coordSys":{"type":"polar","cx":coordSys.cx,"cy":coordSys.cy,"r":radius[1],"r0":radius[0]},"api":{"coord":zrUtil.bind(function(data){var radius=radiusAxis.dataToRadius(data[0]),angle=angleAxis.dataToAngle(data[1]),coord=coordSys.coordToPoint([radius,angle]);return coord.push(radius,angle*Math.PI/180),coord}),"size":zrUtil.bind(dataToCoordSize,coordSys)}}}var zrUtil=__webpack_require__(4);module.exports=_default},function(module,exports,__webpack_require__){function IndicatorAxis(dim,scale,radiusExtent){Axis.call(this,dim,scale,radiusExtent),this.type="value",this.angle=0,this.name="",this.model}var zrUtil=__webpack_require__(4),Axis=__webpack_require__(132);zrUtil.inherits(IndicatorAxis,Axis);var _default=IndicatorAxis;module.exports=_default},function(module,exports,__webpack_require__){function Radar(radarModel,ecModel,api){this._model=radarModel,this.dimensions=[],this._indicatorAxes=zrUtil.map(radarModel.getIndicatorModels(),function(indicatorModel,idx){var dim="indicator_"+idx,indicatorAxis=new IndicatorAxis(dim,new IntervalScale);return indicatorAxis.name=indicatorModel.get("name"),indicatorAxis.model=indicatorModel,indicatorModel.axis=indicatorAxis,this.dimensions.push(dim),indicatorAxis},this),this.resize(radarModel,api),this.cx,this.cy,this.r,this.startAngle}var zrUtil=__webpack_require__(4),IndicatorAxis=__webpack_require__(1569),IntervalScale=__webpack_require__(277),numberUtil=__webpack_require__(20),_axisHelper=__webpack_require__(93),getScaleExtent=_axisHelper.getScaleExtent,niceScaleExtent=_axisHelper.niceScaleExtent,CoordinateSystem=__webpack_require__(92);Radar.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Radar.prototype.dataToPoint=function(value,indicatorIndex){var indicatorAxis=this._indicatorAxes[indicatorIndex];return this.coordToPoint(indicatorAxis.dataToCoord(value),indicatorIndex)},Radar.prototype.coordToPoint=function(coord,indicatorIndex){var indicatorAxis=this._indicatorAxes[indicatorIndex],angle=indicatorAxis.angle,x=this.cx+coord*Math.cos(angle),y=this.cy-coord*Math.sin(angle);return[x,y]},Radar.prototype.pointToData=function(pt){var dx=pt[0]-this.cx,dy=pt[1]-this.cy,radius=Math.sqrt(dx*dx+dy*dy);dx/=radius,dy/=radius;for(var closestAxis,radian=Math.atan2(-dy,dx),minRadianDiff=1/0,closestAxisIdx=-1,i=0;i<this._indicatorAxes.length;i++){var indicatorAxis=this._indicatorAxes[i],diff=Math.abs(radian-indicatorAxis.angle);diff<minRadianDiff&&(closestAxis=indicatorAxis,closestAxisIdx=i,minRadianDiff=diff)}return[closestAxisIdx,+(closestAxis&&closestAxis.coodToData(radius))]},Radar.prototype.resize=function(radarModel,api){var center=radarModel.get("center"),viewWidth=api.getWidth(),viewHeight=api.getHeight(),viewSize=Math.min(viewWidth,viewHeight)/2;this.cx=numberUtil.parsePercent(center[0],viewWidth),this.cy=numberUtil.parsePercent(center[1],viewHeight),this.startAngle=radarModel.get("startAngle")*Math.PI/180,this.r=numberUtil.parsePercent(radarModel.get("radius"),viewSize),zrUtil.each(this._indicatorAxes,function(indicatorAxis,idx){indicatorAxis.setExtent(0,this.r);var angle=this.startAngle+idx*Math.PI*2/this._indicatorAxes.length;angle=Math.atan2(Math.sin(angle),Math.cos(angle)),indicatorAxis.angle=angle},this)},Radar.prototype.update=function(ecModel,api){function increaseInterval(interval){var exp10=Math.pow(10,Math.floor(Math.log(interval)/Math.LN10)),f=interval/exp10;return 2===f?f=5:f*=2,f*exp10}var indicatorAxes=this._indicatorAxes,radarModel=this._model;zrUtil.each(indicatorAxes,function(indicatorAxis){indicatorAxis.scale.setExtent(1/0,-(1/0))}),ecModel.eachSeriesByType("radar",function(radarSeries,idx){if("radar"===radarSeries.get("coordinateSystem")&&ecModel.getComponent("radar",radarSeries.get("radarIndex"))===radarModel){var data=radarSeries.getData();zrUtil.each(indicatorAxes,function(indicatorAxis){indicatorAxis.scale.unionExtentFromData(data,data.mapDimension(indicatorAxis.dim))})}},this);var splitNumber=radarModel.get("splitNumber");zrUtil.each(indicatorAxes,function(indicatorAxis,idx){var rawExtent=getScaleExtent(indicatorAxis.scale,indicatorAxis.model);niceScaleExtent(indicatorAxis.scale,indicatorAxis.model);var axisModel=indicatorAxis.model,scale=indicatorAxis.scale,fixedMin=axisModel.getMin(),fixedMax=axisModel.getMax(),interval=scale.getInterval();if(null!=fixedMin&&null!=fixedMax)scale.setExtent(+fixedMin,+fixedMax),scale.setInterval((fixedMax-fixedMin)/splitNumber);else if(null!=fixedMin){var max;do max=fixedMin+interval*splitNumber,scale.setExtent(+fixedMin,max),scale.setInterval(interval),interval=increaseInterval(interval);while(max<rawExtent[1]&&isFinite(max)&&isFinite(rawExtent[1]))}else if(null!=fixedMax){var min;do min=fixedMax-interval*splitNumber,scale.setExtent(min,+fixedMax),scale.setInterval(interval),interval=increaseInterval(interval);while(min>rawExtent[0]&&isFinite(min)&&isFinite(rawExtent[0]))}else{var nicedSplitNumber=scale.getTicks().length-1;nicedSplitNumber>splitNumber&&(interval=increaseInterval(interval));var center=Math.round((rawExtent[0]+rawExtent[1])/2/interval)*interval,halfSplitNumber=Math.round(splitNumber/2);scale.setExtent(numberUtil.round(center-halfSplitNumber*interval),numberUtil.round(center+(splitNumber-halfSplitNumber)*interval)),scale.setInterval(interval)}})},Radar.dimensions=[],Radar.create=function(ecModel,api){var radarList=[];return ecModel.eachComponent("radar",function(radarModel){var radar=new Radar(radarModel,ecModel,api);radarList.push(radar),radarModel.coordinateSystem=radar}),ecModel.eachSeriesByType("radar",function(radarSeries){"radar"===radarSeries.get("coordinateSystem")&&(radarSeries.coordinateSystem=radarList[radarSeries.get("radarIndex")||0])}),radarList},CoordinateSystem.register("radar",Radar);var _default=Radar;module.exports=_default},function(module,exports,__webpack_require__){function defaultsShow(opt,show){return zrUtil.defaults({"show":show},opt)}var echarts=__webpack_require__(13),zrUtil=__webpack_require__(4),axisDefault=__webpack_require__(648),Model=__webpack_require__(56),axisModelCommonMixin=__webpack_require__(192),valueAxisDefault=axisDefault.valueAxis,RadarModel=echarts.extendComponentModel({"type":"radar","optionUpdated":function(){var boundaryGap=this.get("boundaryGap"),splitNumber=this.get("splitNumber"),scale=this.get("scale"),axisLine=this.get("axisLine"),axisTick=this.get("axisTick"),axisLabel=this.get("axisLabel"),nameTextStyle=this.get("name"),showName=this.get("name.show"),nameFormatter=this.get("name.formatter"),nameGap=this.get("nameGap"),triggerEvent=this.get("triggerEvent"),indicatorModels=zrUtil.map(this.get("indicator")||[],function(indicatorOpt){null!=indicatorOpt.max&&indicatorOpt.max>0&&!indicatorOpt.min?indicatorOpt.min=0:null!=indicatorOpt.min&&indicatorOpt.min<0&&!indicatorOpt.max&&(indicatorOpt.max=0);var iNameTextStyle=nameTextStyle;if(null!=indicatorOpt.color&&(iNameTextStyle=zrUtil.defaults({"color":indicatorOpt.color},nameTextStyle)),indicatorOpt=zrUtil.merge(zrUtil.clone(indicatorOpt),{"boundaryGap":boundaryGap,"splitNumber":splitNumber,"scale":scale,"axisLine":axisLine,"axisTick":axisTick,"axisLabel":axisLabel,"name":indicatorOpt.text,"nameLocation":"end","nameGap":nameGap,"nameTextStyle":iNameTextStyle,"triggerEvent":triggerEvent},!1),showName||(indicatorOpt.name=""),"string"==typeof nameFormatter){var indName=indicatorOpt.name;indicatorOpt.name=nameFormatter.replace("{value}",null!=indName?indName:"")}else"function"==typeof nameFormatter&&(indicatorOpt.name=nameFormatter(indicatorOpt.name,indicatorOpt));var model=zrUtil.extend(new Model(indicatorOpt,null,this.ecModel),axisModelCommonMixin);return model.mainType="radar",model.componentIndex=this.componentIndex,model},this);this.getIndicatorModels=function(){return indicatorModels}},"defaultOption":{"zlevel":0,"z":0,"center":["50%","50%"],"radius":"75%","startAngle":90,"name":{"show":!0},"boundaryGap":[0,0],"splitNumber":5,"nameGap":15,"scale":!1,"shape":"polygon","axisLine":zrUtil.merge({"lineStyle":{"color":"#bbb"}},valueAxisDefault.axisLine),"axisLabel":defaultsShow(valueAxisDefault.axisLabel,!1),"axisTick":defaultsShow(valueAxisDefault.axisTick,!1),"splitLine":defaultsShow(valueAxisDefault.splitLine,!0),"splitArea":defaultsShow(valueAxisDefault.splitArea,!0),"indicator":[]}}),_default=RadarModel;module.exports=_default},function(module,exports,__webpack_require__){function getAxisType(axisName,option){return option.type||(option.data?"category":"value")}var zrUtil=__webpack_require__(4),ComponentModel=__webpack_require__(51),axisModelCreator=__webpack_require__(273),axisModelCommonMixin=__webpack_require__(192),AxisModel=ComponentModel.extend({"type":"singleAxis","layoutMode":"box","axis":null,"coordinateSystem":null,"getCoordSysModel":function(){return this}}),defaultOption={"left":"5%","top":"5%","right":"5%","bottom":"5%","type":"value","position":"bottom","orient":"horizontal","axisLine":{"show":!0,"lineStyle":{"width":2,"type":"solid"}},"tooltip":{"show":!0},"axisTick":{"show":!0,"length":6,"lineStyle":{"width":2}},"axisLabel":{"show":!0,"interval":"auto"},"splitLine":{"show":!0,"lineStyle":{"type":"dashed","opacity":.2}}};zrUtil.merge(AxisModel.prototype,axisModelCommonMixin),axisModelCreator("single",AxisModel,getAxisType,defaultOption);var _default=AxisModel;module.exports=_default},function(module,exports,__webpack_require__){function Single(axisModel,ecModel,api){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(axisModel,ecModel,api),this.model=axisModel}var SingleAxis=__webpack_require__(1574),axisHelper=__webpack_require__(93),_layout=__webpack_require__(34),getLayoutRect=_layout.getLayoutRect,_util=__webpack_require__(4),each=_util.each;Single.prototype={"type":"singleAxis","axisPointerEnabled":!0,"constructor":Single,"_init":function(axisModel,ecModel,api){var dim=this.dimension,axis=new SingleAxis(dim,axisHelper.createScaleByModel(axisModel),[0,0],axisModel.get("type"),axisModel.get("position")),isCategory="category"===axis.type;axis.onBand=isCategory&&axisModel.get("boundaryGap"),axis.inverse=axisModel.get("inverse"),axis.orient=axisModel.get("orient"),axisModel.axis=axis,axis.model=axisModel,axis.coordinateSystem=this,this._axis=axis},"update":function(ecModel,api){ecModel.eachSeries(function(seriesModel){if(seriesModel.coordinateSystem===this){var data=seriesModel.getData();each(data.mapDimension(this.dimension,!0),function(dim){this._axis.scale.unionExtentFromData(data,dim)},this),axisHelper.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},"resize":function(axisModel,api){this._rect=getLayoutRect({"left":axisModel.get("left"),"top":axisModel.get("top"),"right":axisModel.get("right"),"bottom":axisModel.get("bottom"),"width":axisModel.get("width"),"height":axisModel.get("height")},{"width":api.getWidth(),"height":api.getHeight()}),this._adjustAxis()},"getRect":function(){return this._rect},"_adjustAxis":function(){var rect=this._rect,axis=this._axis,isHorizontal=axis.isHorizontal(),extent=isHorizontal?[0,rect.width]:[0,rect.height],idx=axis.reverse?1:0;axis.setExtent(extent[idx],extent[1-idx]),this._updateAxisTransform(axis,isHorizontal?rect.x:rect.y)},"_updateAxisTransform":function(axis,coordBase){var axisExtent=axis.getExtent(),extentSum=axisExtent[0]+axisExtent[1],isHorizontal=axis.isHorizontal();axis.toGlobalCoord=isHorizontal?function(coord){return coord+coordBase}:function(coord){return extentSum-coord+coordBase},axis.toLocalCoord=isHorizontal?function(coord){return coord-coordBase}:function(coord){return extentSum-coord+coordBase}},"getAxis":function(){return this._axis},"getBaseAxis":function(){return this._axis},"getAxes":function(){return[this._axis]},"getTooltipAxes":function(){return{"baseAxes":[this.getAxis()]}},"containPoint":function(point){var rect=this.getRect(),axis=this.getAxis(),orient=axis.orient;return"horizontal"===orient?axis.contain(axis.toLocalCoord(point[0]))&&point[1]>=rect.y&&point[1]<=rect.y+rect.height:axis.contain(axis.toLocalCoord(point[1]))&&point[0]>=rect.y&&point[0]<=rect.y+rect.height},"pointToData":function(point){var axis=this.getAxis();return[axis.coordToData(axis.toLocalCoord(point["horizontal"===axis.orient?0:1]))]},"dataToPoint":function(val){var axis=this.getAxis(),rect=this.getRect(),pt=[],idx="horizontal"===axis.orient?0:1;return val instanceof Array&&(val=val[0]),pt[idx]=axis.toGlobalCoord(axis.dataToCoord(+val)),pt[1-idx]=0===idx?rect.y+rect.height/2:rect.x+rect.width/2,pt}};var _default=Single;module.exports=_default},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),Axis=__webpack_require__(132),SingleAxis=function(dim,scale,coordExtent,axisType,position){Axis.call(this,dim,scale,coordExtent),this.type=axisType||"value",this.position=position||"bottom",this.orient=null};SingleAxis.prototype={"constructor":SingleAxis,"model":null,"isHorizontal":function(){var position=this.position;return"top"===position||"bottom"===position},"pointToData":function(point,clamp){return this.coordinateSystem.pointToData(point,clamp)[0]},"toGlobalCoord":null,"toLocalCoord":null},zrUtil.inherits(SingleAxis,Axis);var _default=SingleAxis;module.exports=_default},function(module,exports,__webpack_require__){function dataToCoordSize(dataSize,dataItem){var axis=this.getAxis(),val=dataItem instanceof Array?dataItem[0]:dataItem,halfSize=(dataSize instanceof Array?dataSize[0]:dataSize)/2;return"category"===axis.type?axis.getBandWidth():Math.abs(axis.dataToCoord(val-halfSize)-axis.dataToCoord(val+halfSize))}function _default(coordSys){var rect=coordSys.getRect();return{"coordSys":{"type":"singleAxis","x":rect.x,"y":rect.y,"width":rect.width,"height":rect.height},"api":{"coord":function(val){return coordSys.dataToPoint(val)},"size":zrUtil.bind(dataToCoordSize,coordSys)}}}var zrUtil=__webpack_require__(4);module.exports=_default},function(module,exports,__webpack_require__){function create(ecModel,api){var singles=[];return ecModel.eachComponent("singleAxis",function(axisModel,idx){var single=new Single(axisModel,ecModel,api);single.name="single_"+idx,single.resize(axisModel,api),axisModel.coordinateSystem=single,singles.push(single)}),ecModel.eachSeries(function(seriesModel){if("singleAxis"===seriesModel.get("coordinateSystem")){var singleAxisModel=ecModel.queryComponents({"mainType":"singleAxis","index":seriesModel.get("singleAxisIndex"),"id":seriesModel.get("singleAxisId")})[0];seriesModel.coordinateSystem=singleAxisModel&&singleAxisModel.coordinateSystem}}),singles}var Single=__webpack_require__(1573),CoordinateSystem=__webpack_require__(92);CoordinateSystem.register("single",{"create":create,"dimensions":Single.prototype.dimensions})},function(module,exports,__webpack_require__){function generateNodeKey(id){return"_EC_"+id}function Node(id,dataIndex){this.id=null==id?"":id,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==dataIndex?-1:dataIndex}function Edge(n1,n2,dataIndex){this.node1=n1,this.node2=n2,this.dataIndex=null==dataIndex?-1:dataIndex}var _config=__webpack_require__(30),zrUtil=(_config.__DEV__,__webpack_require__(4)),_clazz=__webpack_require__(116),enableClassCheck=_clazz.enableClassCheck,Graph=function(directed){this._directed=directed||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},graphProto=Graph.prototype;graphProto.type="graph",graphProto.isDirected=function(){return this._directed},graphProto.addNode=function(id,dataIndex){id=id||""+dataIndex;var nodesMap=this._nodesMap;if(!nodesMap[generateNodeKey(id)]){var node=new Node(id,dataIndex);return node.hostGraph=this,this.nodes.push(node),nodesMap[generateNodeKey(id)]=node,node}},graphProto.getNodeByIndex=function(dataIndex){var rawIdx=this.data.getRawIndex(dataIndex);return this.nodes[rawIdx]},graphProto.getNodeById=function(id){return this._nodesMap[generateNodeKey(id)]},graphProto.addEdge=function(n1,n2,dataIndex){var nodesMap=this._nodesMap,edgesMap=this._edgesMap;if("number"==typeof n1&&(n1=this.nodes[n1]),"number"==typeof n2&&(n2=this.nodes[n2]),Node.isInstance(n1)||(n1=nodesMap[generateNodeKey(n1)]),Node.isInstance(n2)||(n2=nodesMap[generateNodeKey(n2)]),n1&&n2){var key=n1.id+"-"+n2.id;if(!edgesMap[key]){var edge=new Edge(n1,n2,dataIndex);return edge.hostGraph=this,this._directed&&(n1.outEdges.push(edge),n2.inEdges.push(edge)),n1.edges.push(edge),n1!==n2&&n2.edges.push(edge),this.edges.push(edge),edgesMap[key]=edge,edge}}},graphProto.getEdgeByIndex=function(dataIndex){var rawIdx=this.edgeData.getRawIndex(dataIndex);return this.edges[rawIdx]},graphProto.getEdge=function(n1,n2){Node.isInstance(n1)&&(n1=n1.id),Node.isInstance(n2)&&(n2=n2.id);var edgesMap=this._edgesMap;return this._directed?edgesMap[n1+"-"+n2]:edgesMap[n1+"-"+n2]||edgesMap[n2+"-"+n1]},graphProto.eachNode=function(cb,context){for(var nodes=this.nodes,len=nodes.length,i=0;i<len;i++)nodes[i].dataIndex>=0&&cb.call(context,nodes[i],i)},graphProto.eachEdge=function(cb,context){for(var edges=this.edges,len=edges.length,i=0;i<len;i++)edges[i].dataIndex>=0&&edges[i].node1.dataIndex>=0&&edges[i].node2.dataIndex>=0&&cb.call(context,edges[i],i)},graphProto.breadthFirstTraverse=function(cb,startNode,direction,context){if(Node.isInstance(startNode)||(startNode=this._nodesMap[generateNodeKey(startNode)]),startNode){for(var edgeType="out"===direction?"outEdges":"in"===direction?"inEdges":"edges",i=0;i<this.nodes.length;i++)this.nodes[i].__visited=!1;if(!cb.call(context,startNode,null))for(var queue=[startNode];queue.length;)for(var currentNode=queue.shift(),edges=currentNode[edgeType],i=0;i<edges.length;i++){var e=edges[i],otherNode=e.node1===currentNode?e.node2:e.node1;if(!otherNode.__visited){if(cb.call(context,otherNode,currentNode))return;queue.push(otherNode),otherNode.__visited=!0}}}},graphProto.update=function(){for(var data=this.data,edgeData=this.edgeData,nodes=this.nodes,edges=this.edges,i=0,len=nodes.length;i<len;i++)nodes[i].dataIndex=-1;for(var i=0,len=data.count();i<len;i++)nodes[data.getRawIndex(i)].dataIndex=i;edgeData.filterSelf(function(idx){var edge=edges[edgeData.getRawIndex(idx)];return edge.node1.dataIndex>=0&&edge.node2.dataIndex>=0});for(var i=0,len=edges.length;i<len;i++)edges[i].dataIndex=-1;for(var i=0,len=edgeData.count();i<len;i++)edges[edgeData.getRawIndex(i)].dataIndex=i},graphProto.clone=function(){for(var graph=new Graph(this._directed),nodes=this.nodes,edges=this.edges,i=0;i<nodes.length;i++)graph.addNode(nodes[i].id,nodes[i].dataIndex);for(var i=0;i<edges.length;i++){var e=edges[i];graph.addEdge(e.node1.id,e.node2.id,e.dataIndex)}return graph},Node.prototype={"constructor":Node,"degree":function(){return this.edges.length},"inDegree":function(){return this.inEdges.length},"outDegree":function(){return this.outEdges.length},"getModel":function(path){if(!(this.dataIndex<0)){var graph=this.hostGraph,itemModel=graph.data.getItemModel(this.dataIndex);return itemModel.getModel(path)}}},Edge.prototype.getModel=function(path){if(!(this.dataIndex<0)){var graph=this.hostGraph,itemModel=graph.edgeData.getItemModel(this.dataIndex);return itemModel.getModel(path)}};var createGraphDataProxyMixin=function(hostName,dataName){return{"getValue":function(dimension){var data=this[hostName][dataName];return data.get(data.getDimension(dimension||"value"),this.dataIndex)},"setVisual":function(key,value){this.dataIndex>=0&&this[hostName][dataName].setItemVisual(this.dataIndex,key,value)},"getVisual":function(key,ignoreParent){return this[hostName][dataName].getItemVisual(this.dataIndex,key,ignoreParent)},"setLayout":function(layout,merge){this.dataIndex>=0&&this[hostName][dataName].setItemLayout(this.dataIndex,layout,merge)},"getLayout":function(){return this[hostName][dataName].getItemLayout(this.dataIndex)},"getGraphicEl":function(){return this[hostName][dataName].getItemGraphicEl(this.dataIndex)},"getRawIndex":function(){return this[hostName][dataName].getRawIndex(this.dataIndex)}}};zrUtil.mixin(Node,createGraphDataProxyMixin("hostGraph","data")),zrUtil.mixin(Edge,createGraphDataProxyMixin("hostGraph","edgeData")),Graph.Node=Node,Graph.Edge=Edge,enableClassCheck(Node),enableClassCheck(Edge);var _default=Graph;module.exports=_default},function(module,exports,__webpack_require__){function createList(seriesModel){return createListFromArray(seriesModel.getSource(),seriesModel)}function createScale(dataExtent,option){var axisModel=option;Model.isInstance(option)||(axisModel=new Model(option),zrUtil.mixin(axisModel,axisModelCommonMixin));var scale=axisHelper.createScaleByModel(axisModel);return scale.setExtent(dataExtent[0],dataExtent[1]),axisHelper.niceScaleExtent(scale,axisModel),scale}function mixinAxisModelCommonMethods(Model){zrUtil.mixin(Model,axisModelCommonMixin)}var zrUtil=__webpack_require__(4),createListFromArray=__webpack_require__(114),axisHelper=__webpack_require__(93),axisModelCommonMixin=__webpack_require__(192),Model=__webpack_require__(56),_layout=__webpack_require__(34);_layout.getLayoutRect;exports.getLayoutRect=_layout.getLayoutRect;var _dataStackHelper=__webpack_require__(115),enableDataStack=_dataStackHelper.enableDataStack,isDimensionStacked=_dataStackHelper.isDimensionStacked,getStackedDimension=_dataStackHelper.getStackedDimension,_completeDimensions=__webpack_require__(656);exports.completeDimensions=_completeDimensions;var _createDimensions=__webpack_require__(193);exports.createDimensions=_createDimensions;var _symbol=__webpack_require__(83);exports.createSymbol=_symbol.createSymbol;var dataStack={"isDimensionStacked":isDimensionStacked,"enableDataStack":enableDataStack,"getStackedDimension":getStackedDimension};exports.createList=createList,exports.dataStack=dataStack,exports.createScale=createScale,exports.mixinAxisModelCommonMethods=mixinAxisModelCommonMethods},function(module,exports,__webpack_require__){function getSeriesStackId(seriesModel){return seriesModel.get("stack")||"__ec_stack_"+seriesModel.seriesIndex}function getAxisKey(axis){return axis.dim}function barLayoutPolar(seriesType,ecModel,api){var width=api.getWidth(),height=api.getHeight(),lastStackCoords={},barWidthAndOffset=calRadialBar(zrUtil.filter(ecModel.getSeriesByType(seriesType),function(seriesModel){return!ecModel.isSeriesFiltered(seriesModel)&&seriesModel.coordinateSystem&&"polar"===seriesModel.coordinateSystem.type}));ecModel.eachSeriesByType(seriesType,function(seriesModel){if("polar"===seriesModel.coordinateSystem.type){var data=seriesModel.getData(),polar=seriesModel.coordinateSystem,baseAxis=polar.getBaseAxis(),stackId=getSeriesStackId(seriesModel),columnLayoutInfo=barWidthAndOffset[getAxisKey(baseAxis)][stackId],columnOffset=columnLayoutInfo.offset,columnWidth=columnLayoutInfo.width,valueAxis=polar.getOtherAxis(baseAxis),center=seriesModel.get("center")||["50%","50%"],cx=parsePercent(center[0],width),cy=parsePercent(center[1],height),barMinHeight=seriesModel.get("barMinHeight")||0,barMinAngle=seriesModel.get("barMinAngle")||0;lastStackCoords[stackId]=lastStackCoords[stackId]||[];for(var valueDim=data.mapDimension(valueAxis.dim),baseDim=data.mapDimension(baseAxis.dim),stacked=isDimensionStacked(data,valueDim),valueAxisStart=valueAxis.getExtent()[0],idx=0,len=data.count();idx<len;idx++){var value=data.get(valueDim,idx),baseValue=data.get(baseDim,idx);if(!isNaN(value)){var sign=value>=0?"p":"n",baseCoord=valueAxisStart;stacked&&(lastStackCoords[stackId][baseValue]||(lastStackCoords[stackId][baseValue]={"p":valueAxisStart,"n":valueAxisStart}),baseCoord=lastStackCoords[stackId][baseValue][sign]);var r0,r,startAngle,endAngle;if("radius"===valueAxis.dim){var radiusSpan=valueAxis.dataToRadius(value)-valueAxisStart,angle=baseAxis.dataToAngle(baseValue);Math.abs(radiusSpan)<barMinHeight&&(radiusSpan=(radiusSpan<0?-1:1)*barMinHeight),r0=baseCoord,r=baseCoord+radiusSpan,startAngle=angle-columnOffset,endAngle=startAngle-columnWidth,stacked&&(lastStackCoords[stackId][baseValue][sign]=r)}else{var angleSpan=valueAxis.dataToAngle(value,!0)-valueAxisStart,radius=baseAxis.dataToRadius(baseValue);Math.abs(angleSpan)<barMinAngle&&(angleSpan=(angleSpan<0?-1:1)*barMinAngle),r0=radius+columnOffset,r=r0+columnWidth,startAngle=baseCoord,endAngle=baseCoord+angleSpan,stacked&&(lastStackCoords[stackId][baseValue][sign]=endAngle)}data.setItemLayout(idx,{"cx":cx,"cy":cy,"r0":r0,"r":r,"startAngle":-startAngle*Math.PI/180,"endAngle":-endAngle*Math.PI/180})}}}},this)}function calRadialBar(barSeries,api){var columnsMap={};zrUtil.each(barSeries,function(seriesModel,idx){var data=seriesModel.getData(),polar=seriesModel.coordinateSystem,baseAxis=polar.getBaseAxis(),axisExtent=baseAxis.getExtent(),bandWidth="category"===baseAxis.type?baseAxis.getBandWidth():Math.abs(axisExtent[1]-axisExtent[0])/data.count(),columnsOnAxis=columnsMap[getAxisKey(baseAxis)]||{"bandWidth":bandWidth,"remainedWidth":bandWidth,"autoWidthCount":0,"categoryGap":"20%","gap":"30%","stacks":{}},stacks=columnsOnAxis.stacks;columnsMap[getAxisKey(baseAxis)]=columnsOnAxis;var stackId=getSeriesStackId(seriesModel);stacks[stackId]||columnsOnAxis.autoWidthCount++,stacks[stackId]=stacks[stackId]||{"width":0,"maxWidth":0};var barWidth=parsePercent(seriesModel.get("barWidth"),bandWidth),barMaxWidth=parsePercent(seriesModel.get("barMaxWidth"),bandWidth),barGap=seriesModel.get("barGap"),barCategoryGap=seriesModel.get("barCategoryGap");
barWidth&&!stacks[stackId].width&&(barWidth=Math.min(columnsOnAxis.remainedWidth,barWidth),stacks[stackId].width=barWidth,columnsOnAxis.remainedWidth-=barWidth),barMaxWidth&&(stacks[stackId].maxWidth=barMaxWidth),null!=barGap&&(columnsOnAxis.gap=barGap),null!=barCategoryGap&&(columnsOnAxis.categoryGap=barCategoryGap)});var result={};return zrUtil.each(columnsMap,function(columnsOnAxis,coordSysName){result[coordSysName]={};var stacks=columnsOnAxis.stacks,bandWidth=columnsOnAxis.bandWidth,categoryGap=parsePercent(columnsOnAxis.categoryGap,bandWidth),barGapPercent=parsePercent(columnsOnAxis.gap,1),remainedWidth=columnsOnAxis.remainedWidth,autoWidthCount=columnsOnAxis.autoWidthCount,autoWidth=(remainedWidth-categoryGap)/(autoWidthCount+(autoWidthCount-1)*barGapPercent);autoWidth=Math.max(autoWidth,0),zrUtil.each(stacks,function(column,stack){var maxWidth=column.maxWidth;maxWidth&&maxWidth<autoWidth&&(maxWidth=Math.min(maxWidth,remainedWidth),column.width&&(maxWidth=Math.min(maxWidth,column.width)),remainedWidth-=maxWidth,column.width=maxWidth,autoWidthCount--)}),autoWidth=(remainedWidth-categoryGap)/(autoWidthCount+(autoWidthCount-1)*barGapPercent),autoWidth=Math.max(autoWidth,0);var lastColumn,widthSum=0;zrUtil.each(stacks,function(column,idx){column.width||(column.width=autoWidth),lastColumn=column,widthSum+=column.width*(1+barGapPercent)}),lastColumn&&(widthSum-=lastColumn.width*barGapPercent);var offset=-widthSum/2;zrUtil.each(stacks,function(column,stackId){result[coordSysName][stackId]=result[coordSysName][stackId]||{"offset":offset,"width":column.width},offset+=column.width*(1+barGapPercent)})}),result}var zrUtil=__webpack_require__(4),_number=__webpack_require__(20),parsePercent=_number.parsePercent,_dataStackHelper=__webpack_require__(115),isDimensionStacked=_dataStackHelper.isDimensionStacked,_default=barLayoutPolar;module.exports=_default},function(module,exports,__webpack_require__){function _default(api,opts){opts=opts||{},zrUtil.defaults(opts,{"text":"loading","color":"#c23531","textColor":"#000","maskColor":"rgba(255, 255, 255, 0.8)","zlevel":0});var mask=new graphic.Rect({"style":{"fill":opts.maskColor},"zlevel":opts.zlevel,"z":1e4}),arc=new graphic.Arc({"shape":{"startAngle":-PI/2,"endAngle":-PI/2+.1,"r":10},"style":{"stroke":opts.color,"lineCap":"round","lineWidth":5},"zlevel":opts.zlevel,"z":10001}),labelRect=new graphic.Rect({"style":{"fill":"none","text":opts.text,"textPosition":"right","textDistance":10,"textFill":opts.textColor},"zlevel":opts.zlevel,"z":10001});arc.animateShape(!0).when(1e3,{"endAngle":3*PI/2}).start("circularInOut"),arc.animateShape(!0).when(1e3,{"startAngle":3*PI/2}).delay(300).start("circularInOut");var group=new graphic.Group;return group.add(arc),group.add(labelRect),group.add(mask),group.resize=function(){var cx=api.getWidth()/2,cy=api.getHeight()/2;arc.setShape({"cx":cx,"cy":cy});var r=arc.shape.r;labelRect.setShape({"x":cx-r,"y":cy-r,"width":2*r,"height":2*r}),mask.setShape({"x":0,"y":0,"width":api.getWidth(),"height":api.getHeight()})},group.resize(),group}var zrUtil=__webpack_require__(4),graphic=__webpack_require__(15),PI=Math.PI;module.exports=_default},function(module,exports,__webpack_require__){function OptionManager(api){this._api=api,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function parseRawOption(rawOption,optionPreprocessorFuncs,isNew){var mediaDefault,baseOption,timelineOptions=[],mediaList=[],timelineOpt=rawOption.timeline;if(rawOption.baseOption&&(baseOption=rawOption.baseOption),(timelineOpt||rawOption.options)&&(baseOption=baseOption||{},timelineOptions=(rawOption.options||[]).slice()),rawOption.media){baseOption=baseOption||{};var media=rawOption.media;each(media,function(singleMedia){singleMedia&&singleMedia.option&&(singleMedia.query?mediaList.push(singleMedia):mediaDefault||(mediaDefault=singleMedia))})}return baseOption||(baseOption=rawOption),baseOption.timeline||(baseOption.timeline=timelineOpt),each([baseOption].concat(timelineOptions).concat(zrUtil.map(mediaList,function(media){return media.option})),function(option){each(optionPreprocessorFuncs,function(preProcess){preProcess(option,isNew)})}),{"baseOption":baseOption,"timelineOptions":timelineOptions,"mediaDefault":mediaDefault,"mediaList":mediaList}}function applyMediaQuery(query,ecWidth,ecHeight){var realMap={"width":ecWidth,"height":ecHeight,"aspectratio":ecWidth/ecHeight},applicatable=!0;return zrUtil.each(query,function(value,attr){var matched=attr.match(QUERY_REG);if(matched&&matched[1]&&matched[2]){var operator=matched[1],realAttr=matched[2].toLowerCase();compare(realMap[realAttr],value,operator)||(applicatable=!1)}}),applicatable}function compare(real,expect,operator){return"min"===operator?real>=expect:"max"===operator?real<=expect:real===expect}function indicesEquals(indices1,indices2){return indices1.join(",")===indices2.join(",")}function mergeOption(oldOption,newOption){newOption=newOption||{},each(newOption,function(newCptOpt,mainType){if(null!=newCptOpt){var oldCptOpt=oldOption[mainType];if(ComponentModel.hasClass(mainType)){newCptOpt=modelUtil.normalizeToArray(newCptOpt),oldCptOpt=modelUtil.normalizeToArray(oldCptOpt);var mapResult=modelUtil.mappingToExists(oldCptOpt,newCptOpt);oldOption[mainType]=map(mapResult,function(item){return item.option&&item.exist?merge(item.exist,item.option,!0):item.exist||item.option})}else oldOption[mainType]=merge(oldCptOpt,newCptOpt,!0)}})}var zrUtil=__webpack_require__(4),modelUtil=__webpack_require__(27),ComponentModel=__webpack_require__(51),each=zrUtil.each,clone=zrUtil.clone,map=zrUtil.map,merge=zrUtil.merge,QUERY_REG=/^(min|max)?(.+)$/;OptionManager.prototype={"constructor":OptionManager,"setOption":function(rawOption,optionPreprocessorFuncs){rawOption&&zrUtil.each(modelUtil.normalizeToArray(rawOption.series),function(series){series&&series.data&&zrUtil.isTypedArray(series.data)&&zrUtil.setAsPrimitive(series.data)}),rawOption=clone(rawOption,!0);var oldOptionBackup=this._optionBackup,newParsedOption=parseRawOption.call(this,rawOption,optionPreprocessorFuncs,!oldOptionBackup);this._newBaseOption=newParsedOption.baseOption,oldOptionBackup?(mergeOption(oldOptionBackup.baseOption,newParsedOption.baseOption),newParsedOption.timelineOptions.length&&(oldOptionBackup.timelineOptions=newParsedOption.timelineOptions),newParsedOption.mediaList.length&&(oldOptionBackup.mediaList=newParsedOption.mediaList),newParsedOption.mediaDefault&&(oldOptionBackup.mediaDefault=newParsedOption.mediaDefault)):this._optionBackup=newParsedOption},"mountOption":function(isRecreate){var optionBackup=this._optionBackup;return this._timelineOptions=map(optionBackup.timelineOptions,clone),this._mediaList=map(optionBackup.mediaList,clone),this._mediaDefault=clone(optionBackup.mediaDefault),this._currentMediaIndices=[],clone(isRecreate?optionBackup.baseOption:this._newBaseOption)},"getTimelineOption":function(ecModel){var option,timelineOptions=this._timelineOptions;if(timelineOptions.length){var timelineModel=ecModel.getComponent("timeline");timelineModel&&(option=clone(timelineOptions[timelineModel.getCurrentIndex()],!0))}return option},"getMediaOption":function(ecModel){var ecWidth=this._api.getWidth(),ecHeight=this._api.getHeight(),mediaList=this._mediaList,mediaDefault=this._mediaDefault,indices=[],result=[];if(!mediaList.length&&!mediaDefault)return result;for(var i=0,len=mediaList.length;i<len;i++)applyMediaQuery(mediaList[i].query,ecWidth,ecHeight)&&indices.push(i);return!indices.length&&mediaDefault&&(indices=[-1]),indices.length&&!indicesEquals(indices,this._currentMediaIndices)&&(result=map(indices,function(index){return clone(index===-1?mediaDefault.option:mediaList[index].option)})),this._currentMediaIndices=indices,result}};var _default=OptionManager;module.exports=_default},function(module,exports){var platform="";"undefined"!=typeof navigator&&(platform=navigator.platform||"");var _default={"color":["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],"gradientColor":["#f6efa6","#d88273","#bf444c"],"textStyle":{"fontFamily":platform.match(/^Win/)?"Microsoft YaHei":"sans-serif","fontSize":12,"fontStyle":"normal","fontWeight":"normal"},"blendMode":null,"animation":"auto","animationDuration":1e3,"animationDurationUpdate":300,"animationEasing":"exponentialOut","animationEasingUpdate":"cubicOut","animationThreshold":2e3,"progressiveThreshold":3e3,"progressive":400,"hoverLayerThreshold":3e3,"useUTC":!1};module.exports=_default},function(module,exports,__webpack_require__){var makeStyleMapper=__webpack_require__(194),getAreaStyle=makeStyleMapper([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),_default={"getAreaStyle":function(excludes,includes){return getAreaStyle(this,excludes,includes)}};module.exports=_default},function(module,exports){var _default={"getBoxLayoutParams":function(){return{"left":this.get("left"),"top":this.get("top"),"right":this.get("right"),"bottom":this.get("bottom"),"width":this.get("width"),"height":this.get("height")}}};module.exports=_default},function(module,exports,__webpack_require__){var makeStyleMapper=__webpack_require__(194),getItemStyle=makeStyleMapper([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),_default={"getItemStyle":function(excludes,includes){var style=getItemStyle(this,excludes,includes),lineDash=this.getBorderLineDash();return lineDash&&(style.lineDash=lineDash),style},"getBorderLineDash":function(){var lineType=this.get("borderType");return"solid"===lineType||null==lineType?null:"dashed"===lineType?[5,5]:[1,1]}};module.exports=_default},function(module,exports,__webpack_require__){var makeStyleMapper=__webpack_require__(194),getLineStyle=makeStyleMapper([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),_default={"getLineStyle":function(excludes){var style=getLineStyle(this,excludes),lineDash=this.getLineDash(style.lineWidth);return lineDash&&(style.lineDash=lineDash),style},"getLineDash":function(lineWidth){null==lineWidth&&(lineWidth=1);var lineType=this.get("type"),dotSize=Math.max(lineWidth,2),dashSize=4*lineWidth;return"solid"===lineType||null==lineType?null:"dashed"===lineType?[dashSize,dashSize]:[dotSize,dotSize]}};module.exports=_default},function(module,exports,__webpack_require__){var textContain=__webpack_require__(108),graphicUtil=__webpack_require__(15),PATH_COLOR=["textStyle","color"],_default={"getTextColor":function(isEmphasis){var ecModel=this.ecModel;return this.getShallow("color")||(!isEmphasis&&ecModel?ecModel.get(PATH_COLOR):null)},"getFont":function(){return graphicUtil.getFont({"fontStyle":this.getShallow("fontStyle"),"fontWeight":this.getShallow("fontWeight"),"fontSize":this.getShallow("fontSize"),"fontFamily":this.getShallow("fontFamily")},this.ecModel)},"getTextRect":function(text){return textContain.getBoundingRect(text,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}};module.exports=_default},function(module,exports,__webpack_require__){function get(opt,path){path=path.split(",");for(var obj=opt,i=0;i<path.length&&(obj=obj&&obj[path[i]],null!=obj);i++);return obj}function set(opt,path,val,overwrite){path=path.split(",");for(var key,obj=opt,i=0;i<path.length-1;i++)key=path[i],null==obj[key]&&(obj[key]={}),obj=obj[key];(overwrite||null==obj[path[i]])&&(obj[path[i]]=val)}function compatLayoutProperties(option){each(LAYOUT_PROPERTIES,function(prop){prop[0]in option&&!(prop[1]in option)&&(option[prop[1]]=option[prop[0]])})}function _default(option,isTheme){compatStyle(option,isTheme),option.series=normalizeToArray(option.series),each(option.series,function(seriesOpt){if(isObject(seriesOpt)){var seriesType=seriesOpt.type;if("pie"!==seriesType&&"gauge"!==seriesType||null!=seriesOpt.clockWise&&(seriesOpt.clockwise=seriesOpt.clockWise),"gauge"===seriesType){var pointerColor=get(seriesOpt,"pointer.color");null!=pointerColor&&set(seriesOpt,"itemStyle.normal.color",pointerColor)}compatLayoutProperties(seriesOpt)}}),option.dataRange&&(option.visualMap=option.dataRange),each(COMPATITABLE_COMPONENTS,function(componentName){var options=option[componentName];options&&(isArray(options)||(options=[options]),each(options,function(option){compatLayoutProperties(option)}))})}var _util=__webpack_require__(4),each=_util.each,isArray=_util.isArray,isObject=_util.isObject,compatStyle=__webpack_require__(1589),_model=__webpack_require__(27),normalizeToArray=_model.normalizeToArray,LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];module.exports=_default},function(module,exports,__webpack_require__){function compatEC2ItemStyle(opt){var itemStyleOpt=opt&&opt.itemStyle;if(itemStyleOpt)for(var i=0,len=POSSIBLE_STYLES.length;i<len;i++){var styleName=POSSIBLE_STYLES[i],normalItemStyleOpt=itemStyleOpt.normal,emphasisItemStyleOpt=itemStyleOpt.emphasis;normalItemStyleOpt&&normalItemStyleOpt[styleName]&&(opt[styleName]=opt[styleName]||{},opt[styleName].normal?zrUtil.merge(opt[styleName].normal,normalItemStyleOpt[styleName]):opt[styleName].normal=normalItemStyleOpt[styleName],normalItemStyleOpt[styleName]=null),emphasisItemStyleOpt&&emphasisItemStyleOpt[styleName]&&(opt[styleName]=opt[styleName]||{},opt[styleName].emphasis?zrUtil.merge(opt[styleName].emphasis,emphasisItemStyleOpt[styleName]):opt[styleName].emphasis=emphasisItemStyleOpt[styleName],emphasisItemStyleOpt[styleName]=null)}}function convertNormalEmphasis(opt,optType,useExtend){if(opt&&opt[optType]&&(opt[optType].normal||opt[optType].emphasis)){var normalOpt=opt[optType].normal,emphasisOpt=opt[optType].emphasis;normalOpt&&(useExtend?(opt[optType].normal=opt[optType].emphasis=null,zrUtil.defaults(opt[optType],normalOpt)):opt[optType]=normalOpt),emphasisOpt&&(opt.emphasis=opt.emphasis||{},opt.emphasis[optType]=emphasisOpt)}}function removeEC3NormalStatus(opt){convertNormalEmphasis(opt,"itemStyle"),convertNormalEmphasis(opt,"lineStyle"),convertNormalEmphasis(opt,"areaStyle"),convertNormalEmphasis(opt,"label"),convertNormalEmphasis(opt,"labelLine"),convertNormalEmphasis(opt,"upperLabel"),convertNormalEmphasis(opt,"edgeLabel")}function compatTextStyle(opt,propName){var labelOptSingle=isObject(opt)&&opt[propName],textStyle=isObject(labelOptSingle)&&labelOptSingle.textStyle;if(textStyle)for(var i=0,len=modelUtil.TEXT_STYLE_OPTIONS.length;i<len;i++){var propName=modelUtil.TEXT_STYLE_OPTIONS[i];textStyle.hasOwnProperty(propName)&&(labelOptSingle[propName]=textStyle[propName])}}function compatEC3CommonStyles(opt){opt&&(removeEC3NormalStatus(opt),compatTextStyle(opt,"label"),opt.emphasis&&compatTextStyle(opt.emphasis,"label"))}function processSeries(seriesOpt){if(isObject(seriesOpt)){compatEC2ItemStyle(seriesOpt),removeEC3NormalStatus(seriesOpt),compatTextStyle(seriesOpt,"label"),compatTextStyle(seriesOpt,"upperLabel"),compatTextStyle(seriesOpt,"edgeLabel"),seriesOpt.emphasis&&(compatTextStyle(seriesOpt.emphasis,"label"),compatTextStyle(seriesOpt.emphasis,"upperLabel"),compatTextStyle(seriesOpt.emphasis,"edgeLabel"));var markPoint=seriesOpt.markPoint;markPoint&&(compatEC2ItemStyle(markPoint),compatEC3CommonStyles(markPoint));var markLine=seriesOpt.markLine;markLine&&(compatEC2ItemStyle(markLine),compatEC3CommonStyles(markLine));var markArea=seriesOpt.markArea;markArea&&compatEC3CommonStyles(markArea);var data=seriesOpt.data;if("graph"===seriesOpt.type){data=data||seriesOpt.nodes;var edgeData=seriesOpt.links||seriesOpt.edges;if(edgeData&&!zrUtil.isTypedArray(edgeData))for(var i=0;i<edgeData.length;i++)compatEC3CommonStyles(edgeData[i]);zrUtil.each(seriesOpt.categories,function(opt){removeEC3NormalStatus(opt)})}if(data&&!zrUtil.isTypedArray(data))for(var i=0;i<data.length;i++)compatEC3CommonStyles(data[i]);var markPoint=seriesOpt.markPoint;if(markPoint&&markPoint.data)for(var mpData=markPoint.data,i=0;i<mpData.length;i++)compatEC3CommonStyles(mpData[i]);var markLine=seriesOpt.markLine;if(markLine&&markLine.data)for(var mlData=markLine.data,i=0;i<mlData.length;i++)zrUtil.isArray(mlData[i])?(compatEC3CommonStyles(mlData[i][0]),compatEC3CommonStyles(mlData[i][1])):compatEC3CommonStyles(mlData[i]);"gauge"===seriesOpt.type?(compatTextStyle(seriesOpt,"axisLabel"),compatTextStyle(seriesOpt,"title"),compatTextStyle(seriesOpt,"detail")):"treemap"===seriesOpt.type?(convertNormalEmphasis(seriesOpt.breadcrumb,"itemStyle"),zrUtil.each(seriesOpt.levels,function(opt){removeEC3NormalStatus(opt)})):"tree"===seriesOpt.type&&removeEC3NormalStatus(seriesOpt.leaves)}}function toArr(o){return zrUtil.isArray(o)?o:o?[o]:[]}function toObj(o){return(zrUtil.isArray(o)?o[0]:o)||{}}function _default(option,isTheme){each(toArr(option.series),function(seriesOpt){isObject(seriesOpt)&&processSeries(seriesOpt)});var axes=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];isTheme&&axes.push("valueAxis","categoryAxis","logAxis","timeAxis"),each(axes,function(axisName){each(toArr(option[axisName]),function(axisOpt){axisOpt&&(compatTextStyle(axisOpt,"axisLabel"),compatTextStyle(axisOpt.axisPointer,"label"))})}),each(toArr(option.parallel),function(parallelOpt){var parallelAxisDefault=parallelOpt&&parallelOpt.parallelAxisDefault;compatTextStyle(parallelAxisDefault,"axisLabel"),compatTextStyle(parallelAxisDefault&&parallelAxisDefault.axisPointer,"label")}),each(toArr(option.calendar),function(calendarOpt){convertNormalEmphasis(calendarOpt,"itemStyle"),compatTextStyle(calendarOpt,"dayLabel"),compatTextStyle(calendarOpt,"monthLabel"),compatTextStyle(calendarOpt,"yearLabel")}),each(toArr(option.radar),function(radarOpt){compatTextStyle(radarOpt,"name")}),each(toArr(option.geo),function(geoOpt){isObject(geoOpt)&&(compatEC3CommonStyles(geoOpt),each(toArr(geoOpt.regions),function(regionObj){compatEC3CommonStyles(regionObj)}))}),each(toArr(option.timeline),function(timelineOpt){compatEC3CommonStyles(timelineOpt),convertNormalEmphasis(timelineOpt,"label"),convertNormalEmphasis(timelineOpt,"itemStyle"),convertNormalEmphasis(timelineOpt,"controlStyle",!0);var data=timelineOpt.data;zrUtil.isArray(data)&&zrUtil.each(data,function(item){zrUtil.isObject(item)&&(convertNormalEmphasis(item,"label"),convertNormalEmphasis(item,"itemStyle"))})}),each(toArr(option.toolbox),function(toolboxOpt){convertNormalEmphasis(toolboxOpt,"iconStyle"),each(toolboxOpt.feature,function(featureOpt){convertNormalEmphasis(featureOpt,"iconStyle")})}),compatTextStyle(toObj(option.axisPointer),"label"),compatTextStyle(toObj(option.tooltip).axisPointer,"label")}var zrUtil=__webpack_require__(4),modelUtil=__webpack_require__(27),each=zrUtil.each,isObject=zrUtil.isObject,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];module.exports=_default},function(module,exports){function _default(seriesType){return{"seriesType":seriesType,"modifyOutputEnd":!0,"reset":function(seriesModel,ecModel,api){var data=seriesModel.getData(),sampling=seriesModel.get("sampling"),coordSys=seriesModel.coordinateSystem;if("cartesian2d"===coordSys.type&&sampling){var baseAxis=coordSys.getBaseAxis(),valueAxis=coordSys.getOtherAxis(baseAxis),extent=baseAxis.getExtent(),size=extent[1]-extent[0],rate=Math.round(data.count()/size);if(rate>1){var sampler;"string"==typeof sampling?sampler=samplers[sampling]:"function"==typeof sampling&&(sampler=sampling),sampler&&seriesModel.setData(data.downSample(data.mapDimension(valueAxis.dim),1/rate,sampler,indexSampler))}}}}}var samplers={"average":function(frame){for(var sum=0,count=0,i=0;i<frame.length;i++)isNaN(frame[i])||(sum+=frame[i],count++);return 0===count?NaN:sum/count},"sum":function(frame){for(var sum=0,i=0;i<frame.length;i++)sum+=frame[i]||0;return sum},"max":function(frame){for(var max=-(1/0),i=0;i<frame.length;i++)frame[i]>max&&(max=frame[i]);return isFinite(max)?max:NaN},"min":function(frame){for(var min=1/0,i=0;i<frame.length;i++)frame[i]<min&&(min=frame[i]);return isFinite(min)?min:NaN},"nearest":function(frame){return frame[0]}},indexSampler=function(frame,value){return Math.round(frame.length/2)};module.exports=_default},function(module,exports,__webpack_require__){function _default(ecModel){var stackInfoMap=createHashMap();ecModel.eachSeries(function(seriesModel){var stack=seriesModel.get("stack");if(stack){var stackInfoList=stackInfoMap.get(stack)||stackInfoMap.set(stack,[]),data=seriesModel.getData(),stackInfo={"stackResultDimension":data.getCalculationInfo("stackResultDimension"),"stackedOverDimension":data.getCalculationInfo("stackedOverDimension"),"stackedDimension":data.getCalculationInfo("stackedDimension"),"stackedByDimension":data.getCalculationInfo("stackedByDimension"),"isStackedByIndex":data.getCalculationInfo("isStackedByIndex"),"data":data,"seriesModel":seriesModel};if(!stackInfo.stackedDimension||!stackInfo.isStackedByIndex&&!stackInfo.stackedByDimension)return;stackInfoList.length&&data.setCalculationInfo("stackedOnSeries",stackInfoList[stackInfoList.length-1].seriesModel),stackInfoList.push(stackInfo)}}),stackInfoMap.each(calculateStack)}function calculateStack(stackInfoList){each(stackInfoList,function(targetStackInfo,idxInStack){var resultVal=[],resultNaN=[NaN,NaN],dims=[targetStackInfo.stackResultDimension,targetStackInfo.stackedOverDimension],targetData=targetStackInfo.data,isStackedByIndex=targetStackInfo.isStackedByIndex,newData=targetData.map(dims,function(v0,v1,dataIndex){var sum=targetData.get(targetStackInfo.stackedDimension,dataIndex);if(isNaN(sum))return resultNaN;var byValue,stackedDataRawIndex;isStackedByIndex?stackedDataRawIndex=targetData.getRawIndex(dataIndex):byValue=targetData.get(targetStackInfo.stackedByDimension,dataIndex);for(var stackedOver=NaN,j=idxInStack-1;j>=0;j--){var stackInfo=stackInfoList[j];if(isStackedByIndex||(stackedDataRawIndex=stackInfo.data.rawIndexOf(stackInfo.stackedByDimension,byValue)),stackedDataRawIndex>=0){var val=stackInfo.data.getByRawIndex(stackInfo.stackResultDimension,stackedDataRawIndex);if(sum>=0&&val>0||sum<=0&&val<0){sum+=val,stackedOver=val;break}}}return resultVal[0]=sum,resultVal[1]=stackedOver,resultVal});targetData.hostModel.setData(newData),targetStackInfo.data=newData})}var _util=__webpack_require__(4),createHashMap=_util.createHashMap,each=_util.each;module.exports=_default},function(module,exports,__webpack_require__){function fixRoundingError(val,originalVal){return roundingErrorFix(val,getPrecisionSafe(originalVal))}var zrUtil=__webpack_require__(4),Scale=__webpack_require__(278),numberUtil=__webpack_require__(20),IntervalScale=__webpack_require__(277),scaleProto=Scale.prototype,intervalScaleProto=IntervalScale.prototype,getPrecisionSafe=numberUtil.getPrecisionSafe,roundingErrorFix=numberUtil.round,mathFloor=Math.floor,mathCeil=Math.ceil,mathPow=Math.pow,mathLog=Math.log,LogScale=Scale.extend({"type":"log","base":10,"$constructor":function(){Scale.apply(this,arguments),this._originalScale=new IntervalScale},"getTicks":function(){var originalScale=this._originalScale,extent=this._extent,originalExtent=originalScale.getExtent();return zrUtil.map(intervalScaleProto.getTicks.call(this),function(val){var powVal=numberUtil.round(mathPow(this.base,val));return powVal=val===extent[0]&&originalScale.__fixMin?fixRoundingError(powVal,originalExtent[0]):powVal,powVal=val===extent[1]&&originalScale.__fixMax?fixRoundingError(powVal,originalExtent[1]):powVal},this)},"getLabel":intervalScaleProto.getLabel,"scale":function(val){return val=scaleProto.scale.call(this,val),mathPow(this.base,val)},"setExtent":function(start,end){var base=this.base;start=mathLog(start)/mathLog(base),end=mathLog(end)/mathLog(base),intervalScaleProto.setExtent.call(this,start,end)},"getExtent":function(){var base=this.base,extent=scaleProto.getExtent.call(this);extent[0]=mathPow(base,extent[0]),extent[1]=mathPow(base,extent[1]);var originalScale=this._originalScale,originalExtent=originalScale.getExtent();return originalScale.__fixMin&&(extent[0]=fixRoundingError(extent[0],originalExtent[0])),originalScale.__fixMax&&(extent[1]=fixRoundingError(extent[1],originalExtent[1])),extent},"unionExtent":function(extent){this._originalScale.unionExtent(extent);var base=this.base;extent[0]=mathLog(extent[0])/mathLog(base),extent[1]=mathLog(extent[1])/mathLog(base),scaleProto.unionExtent.call(this,extent)},"unionExtentFromData":function(data,dim){this.unionExtent(data.getApproximateExtent(dim))},"niceTicks":function(approxTickNum){approxTickNum=approxTickNum||10;var extent=this._extent,span=extent[1]-extent[0];if(!(span===1/0||span<=0)){var interval=numberUtil.quantity(span),err=approxTickNum/span*interval;for(err<=.5&&(interval*=10);!isNaN(interval)&&Math.abs(interval)<1&&Math.abs(interval)>0;)interval*=10;var niceExtent=[numberUtil.round(mathCeil(extent[0]/interval)*interval),numberUtil.round(mathFloor(extent[1]/interval)*interval)];this._interval=interval,this._niceExtent=niceExtent}},"niceExtent":function(opt){intervalScaleProto.niceExtent.call(this,opt);var originalScale=this._originalScale;originalScale.__fixMin=opt.fixMin,originalScale.__fixMax=opt.fixMax}});zrUtil.each(["contain","normalize"],function(methodName){LogScale.prototype[methodName]=function(val){return val=mathLog(val)/mathLog(this.base),scaleProto[methodName].call(this,val)}}),LogScale.create=function(){return new LogScale};var _default=LogScale;module.exports=_default},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),Scale=__webpack_require__(278),OrdinalMeta=__webpack_require__(655),scaleProto=Scale.prototype,OrdinalScale=Scale.extend({"type":"ordinal","init":function(ordinalMeta,extent){ordinalMeta&&!zrUtil.isArray(ordinalMeta)||(ordinalMeta=new OrdinalMeta({"categories":ordinalMeta})),this._ordinalMeta=ordinalMeta,this._extent=extent||[0,ordinalMeta.categories.length-1]},"parse":function(val){return"string"==typeof val?this._ordinalMeta.getOrdinal(val):Math.round(val)},"contain":function(rank){return rank=this.parse(rank),scaleProto.contain.call(this,rank)&&null!=this._ordinalMeta.categories[rank]},"normalize":function(val){return scaleProto.normalize.call(this,this.parse(val))},"scale":function(val){return Math.round(scaleProto.scale.call(this,val))},"getTicks":function(){for(var ticks=[],extent=this._extent,rank=extent[0];rank<=extent[1];)ticks.push(rank),rank++;return ticks},"getLabel":function(n){if(!this.isBlank())return this._ordinalMeta.categories[n]},"count":function(){return this._extent[1]-this._extent[0]+1},"unionExtentFromData":function(data,dim){this.unionExtent(data.getApproximateExtent(dim))},"getOrdinalMeta":function(){return this._ordinalMeta},"niceTicks":zrUtil.noop,"niceExtent":zrUtil.noop});OrdinalScale.create=function(){return new OrdinalScale};var _default=OrdinalScale;module.exports=_default},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),numberUtil=__webpack_require__(20),formatUtil=__webpack_require__(40),scaleHelper=__webpack_require__(662),IntervalScale=__webpack_require__(277),intervalScaleProto=IntervalScale.prototype,mathCeil=Math.ceil,mathFloor=Math.floor,ONE_SECOND=1e3,ONE_MINUTE=60*ONE_SECOND,ONE_HOUR=60*ONE_MINUTE,ONE_DAY=24*ONE_HOUR,bisect=function(a,x,lo,hi){for(;lo<hi;){var mid=lo+hi>>>1;a[mid][1]<x?lo=mid+1:hi=mid}return lo},TimeScale=IntervalScale.extend({"type":"time","getLabel":function(val){var stepLvl=this._stepLvl,date=new Date(val);return formatUtil.formatTime(stepLvl[0],date,this.getSetting("useUTC"))},"niceExtent":function(opt){var extent=this._extent;if(extent[0]===extent[1]&&(extent[0]-=ONE_DAY,extent[1]+=ONE_DAY),extent[1]===-(1/0)&&extent[0]===1/0){var d=new Date;extent[1]=+new Date(d.getFullYear(),d.getMonth(),d.getDate()),extent[0]=extent[1]-ONE_DAY}this.niceTicks(opt.splitNumber,opt.minInterval,opt.maxInterval);var interval=this._interval;opt.fixMin||(extent[0]=numberUtil.round(mathFloor(extent[0]/interval)*interval)),opt.fixMax||(extent[1]=numberUtil.round(mathCeil(extent[1]/interval)*interval))},"niceTicks":function(approxTickNum,minInterval,maxInterval){approxTickNum=approxTickNum||10;var extent=this._extent,span=extent[1]-extent[0],approxInterval=span/approxTickNum;null!=minInterval&&approxInterval<minInterval&&(approxInterval=minInterval),null!=maxInterval&&approxInterval>maxInterval&&(approxInterval=maxInterval);var scaleLevelsLen=scaleLevels.length,idx=bisect(scaleLevels,approxInterval,0,scaleLevelsLen),level=scaleLevels[Math.min(idx,scaleLevelsLen-1)],interval=level[1];if("year"===level[0]){var yearSpan=span/interval,yearStep=numberUtil.nice(yearSpan/approxTickNum,!0);interval*=yearStep}var timezoneOffset=this.getSetting("useUTC")?0:60*new Date(+extent[0]||+extent[1]).getTimezoneOffset()*1e3,niceExtent=[Math.round(mathCeil((extent[0]-timezoneOffset)/interval)*interval+timezoneOffset),Math.round(mathFloor((extent[1]-timezoneOffset)/interval)*interval+timezoneOffset)];scaleHelper.fixExtent(niceExtent,extent),this._stepLvl=level,this._interval=interval,this._niceExtent=niceExtent},"parse":function(val){return+numberUtil.parseDate(val)}});zrUtil.each(["contain","normalize"],function(methodName){TimeScale.prototype[methodName]=function(val){return intervalScaleProto[methodName].call(this,this.parse(val))}});var scaleLevels=[["hh:mm:ss",ONE_SECOND],["hh:mm:ss",5*ONE_SECOND],["hh:mm:ss",10*ONE_SECOND],["hh:mm:ss",15*ONE_SECOND],["hh:mm:ss",30*ONE_SECOND],["hh:mm\nMM-dd",ONE_MINUTE],["hh:mm\nMM-dd",5*ONE_MINUTE],["hh:mm\nMM-dd",10*ONE_MINUTE],["hh:mm\nMM-dd",15*ONE_MINUTE],["hh:mm\nMM-dd",30*ONE_MINUTE],["hh:mm\nMM-dd",ONE_HOUR],["hh:mm\nMM-dd",2*ONE_HOUR],["hh:mm\nMM-dd",6*ONE_HOUR],["hh:mm\nMM-dd",12*ONE_HOUR],["MM-dd\nyyyy",ONE_DAY],["MM-dd\nyyyy",2*ONE_DAY],["MM-dd\nyyyy",3*ONE_DAY],["MM-dd\nyyyy",4*ONE_DAY],["MM-dd\nyyyy",5*ONE_DAY],["MM-dd\nyyyy",6*ONE_DAY],["week",7*ONE_DAY],["MM-dd\nyyyy",10*ONE_DAY],["week",14*ONE_DAY],["week",21*ONE_DAY],["month",31*ONE_DAY],["week",42*ONE_DAY],["month",62*ONE_DAY],["week",42*ONE_DAY],["quarter",380*ONE_DAY/4],["month",31*ONE_DAY*4],["month",31*ONE_DAY*5],["half-year",380*ONE_DAY/2],["month",31*ONE_DAY*8],["month",31*ONE_DAY*10],["year",380*ONE_DAY]];TimeScale.create=function(model){return new TimeScale({"useUTC":model.ecModel.get("useUTC")})};var _default=TimeScale;module.exports=_default},function(module,exports,__webpack_require__){function Scheduler(ecInstance,api,dataProcessorHandlers,visualHandlers){this.ecInstance=ecInstance,this.api=api,this.unfinished;var dataProcessorHandlers=this._dataProcessorHandlers=dataProcessorHandlers.slice(),visualHandlers=this._visualHandlers=visualHandlers.slice();this._allHandlers=dataProcessorHandlers.concat(visualHandlers),this._stageTaskMap=createHashMap()}function performStageTasks(scheduler,stageHandlers,ecModel,payload,opt){function needSetDirty(opt,task){return opt.setDirty&&(!opt.dirtyMap||opt.dirtyMap.get(task.__pipeline.id))}opt=opt||{};var unfinished;each(stageHandlers,function(stageHandler,idx){if(!opt.visualType||opt.visualType===stageHandler.visualType){var stageHandlerRecord=scheduler._stageTaskMap.get(stageHandler.uid),seriesTaskMap=stageHandlerRecord.seriesTaskMap,overallTask=stageHandlerRecord.overallTask;if(overallTask){var overallNeedDirty,agentStubMap=overallTask.agentStubMap;agentStubMap.each(function(stub){needSetDirty(opt,stub)&&(stub.dirty(),overallNeedDirty=!0)}),overallNeedDirty&&overallTask.dirty(),updatePayload(overallTask,payload);var performArgs=scheduler.getPerformArgs(overallTask,opt.block);agentStubMap.each(function(stub){stub.perform(performArgs)}),unfinished|=overallTask.perform(performArgs)}else seriesTaskMap&&seriesTaskMap.each(function(task,pipelineId){
needSetDirty(opt,task)&&task.dirty();var performArgs=scheduler.getPerformArgs(task,opt.block);performArgs.skip=!stageHandler.performRawSeries&&ecModel.isSeriesFiltered(task.context.model),updatePayload(task,payload),unfinished|=task.perform(performArgs)})}}),scheduler.unfinished|=unfinished}function createSeriesStageTask(scheduler,stageHandler,stageHandlerRecord,ecModel,api){function create(seriesModel){var pipelineId=seriesModel.uid,task=seriesTaskMap.get(pipelineId)||seriesTaskMap.set(pipelineId,createTask({"plan":seriesTaskPlan,"reset":seriesTaskReset,"count":seriesTaskCount}));task.context={"model":seriesModel,"ecModel":ecModel,"api":api,"useClearVisual":stageHandler.isVisual&&!stageHandler.isLayout,"plan":stageHandler.plan,"reset":stageHandler.reset,"scheduler":scheduler},pipe(scheduler,seriesModel,task)}var seriesTaskMap=stageHandlerRecord.seriesTaskMap||(stageHandlerRecord.seriesTaskMap=createHashMap()),seriesType=stageHandler.seriesType,getTargetSeries=stageHandler.getTargetSeries;stageHandler.createOnAllSeries?ecModel.eachRawSeries(create):seriesType?ecModel.eachRawSeriesByType(seriesType,create):getTargetSeries&&getTargetSeries(ecModel,api).each(create);var pipelineMap=scheduler._pipelineMap;seriesTaskMap.each(function(task,pipelineId){pipelineMap.get(pipelineId)||(task.dispose(),seriesTaskMap.removeKey(pipelineId))})}function createOverallStageTask(scheduler,stageHandler,stageHandlerRecord,ecModel,api){function createStub(seriesModel){var pipelineId=seriesModel.uid,stub=agentStubMap.get(pipelineId);stub||(stub=agentStubMap.set(pipelineId,createTask({"reset":stubReset,"onDirty":stubOnDirty})),overallTask.dirty()),stub.context={"model":seriesModel,"overallProgress":overallProgress,"modifyOutputEnd":modifyOutputEnd},stub.agent=overallTask,stub.__block=overallProgress,pipe(scheduler,seriesModel,stub)}var overallTask=stageHandlerRecord.overallTask=stageHandlerRecord.overallTask||createTask({"reset":overallTaskReset});overallTask.context={"ecModel":ecModel,"api":api,"overallReset":stageHandler.overallReset,"scheduler":scheduler};var agentStubMap=overallTask.agentStubMap=overallTask.agentStubMap||createHashMap(),seriesType=stageHandler.seriesType,getTargetSeries=stageHandler.getTargetSeries,overallProgress=!0,modifyOutputEnd=stageHandler.modifyOutputEnd;seriesType?ecModel.eachRawSeriesByType(seriesType,createStub):getTargetSeries?getTargetSeries(ecModel,api).each(createStub):(overallProgress=!1,each(ecModel.getSeries(),createStub));var pipelineMap=scheduler._pipelineMap;agentStubMap.each(function(stub,pipelineId){pipelineMap.get(pipelineId)||(stub.dispose(),overallTask.dirty(),agentStubMap.removeKey(pipelineId))})}function overallTaskReset(context){context.overallReset(context.ecModel,context.api,context.payload)}function stubReset(context,upstreamContext){return context.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(context){return context.plan&&context.plan(context.model,context.ecModel,context.api,context.payload)}function seriesTaskReset(context){context.useClearVisual&&context.data.clearAllVisual();var resetDefines=context.resetDefines=normalizeToArray(context.reset(context.model,context.ecModel,context.api,context.payload));return resetDefines.length>1?map(resetDefines,function(v,idx){return makeSeriesTaskProgress(idx)}):singleSeriesTaskProgress}function makeSeriesTaskProgress(resetDefineIdx){return function(params,context){var data=context.data,resetDefine=context.resetDefines[resetDefineIdx];if(resetDefine&&resetDefine.dataEach)for(var i=params.start;i<params.end;i++)resetDefine.dataEach(data,i);else resetDefine&&resetDefine.progress&&resetDefine.progress(params,data)}}function seriesTaskCount(context){return context.data.count()}function pipe(scheduler,seriesModel,task){var pipelineId=seriesModel.uid,pipeline=scheduler._pipelineMap.get(pipelineId);!pipeline.head&&(pipeline.head=task),pipeline.tail&&pipeline.tail.pipe(task),pipeline.tail=task,task.__idxInPipeline=pipeline.count++,task.__pipeline=pipeline}function detectSeriseType(legacyFunc){seriesType=null;try{legacyFunc(ecModelMock,apiMock)}catch(e){}return seriesType}function mockMethods(target,Clz){for(var name in Clz.prototype)target[name]=noop}var _util=__webpack_require__(4),each=_util.each,map=_util.map,isFunction=(_util.isArray,_util.isFunction),createHashMap=_util.createHashMap,noop=_util.noop,_task=__webpack_require__(391),createTask=_task.createTask,_component=__webpack_require__(279),getUID=_component.getUID,GlobalModel=__webpack_require__(659),ExtensionAPI=__webpack_require__(606),_model=__webpack_require__(27),normalizeToArray=_model.normalizeToArray,proto=Scheduler.prototype;proto.restoreData=function(ecModel,payload){ecModel.restoreData(payload),this._stageTaskMap.each(function(taskRecord){var overallTask=taskRecord.overallTask;overallTask&&overallTask.dirty()})},proto.getPerformArgs=function(task,isBlock){if(task.__pipeline){var pipeline=this._pipelineMap.get(task.__pipeline.id),pCtx=pipeline.context,incremental=!isBlock&&pipeline.progressiveEnabled&&(!pCtx||pCtx.progressiveRender)&&task.__idxInPipeline>pipeline.blockIndex,step=incremental?pipeline.step:null,modDataCount=pCtx&&pCtx.modDataCount,modBy=null!=modDataCount?Math.ceil(modDataCount/step):null;return{"step":step,"modBy":modBy,"modDataCount":modDataCount}}},proto.getPipeline=function(pipelineId){return this._pipelineMap.get(pipelineId)},proto.updateStreamModes=function(seriesModel,view){var pipeline=this._pipelineMap.get(seriesModel.uid),data=seriesModel.getData(),dataLen=data.count(),progressiveRender=pipeline.progressiveEnabled&&view.incrementalPrepareRender&&dataLen>=pipeline.threshold,large=seriesModel.get("large")&&dataLen>=seriesModel.get("largeThreshold"),modDataCount="mod"===seriesModel.get("progressiveChunkMode")?dataLen:null;seriesModel.pipelineContext=pipeline.context={"progressiveRender":progressiveRender,"modDataCount":modDataCount,"large":large}},proto.restorePipelines=function(ecModel){var scheduler=this,pipelineMap=scheduler._pipelineMap=createHashMap();ecModel.eachSeries(function(seriesModel){var progressive=seriesModel.getProgressive(),pipelineId=seriesModel.uid;pipelineMap.set(pipelineId,{"id":pipelineId,"head":null,"tail":null,"threshold":seriesModel.getProgressiveThreshold(),"progressiveEnabled":progressive&&!(seriesModel.preventIncremental&&seriesModel.preventIncremental()),"blockIndex":-1,"step":Math.round(progressive||700),"count":0}),pipe(scheduler,seriesModel,seriesModel.dataTask)})},proto.prepareStageTasks=function(){var stageTaskMap=this._stageTaskMap,ecModel=this.ecInstance.getModel(),api=this.api;each(this._allHandlers,function(handler){var record=stageTaskMap.get(handler.uid)||stageTaskMap.set(handler.uid,[]);handler.reset&&createSeriesStageTask(this,handler,record,ecModel,api),handler.overallReset&&createOverallStageTask(this,handler,record,ecModel,api)},this)},proto.prepareView=function(view,model,ecModel,api){var renderTask=view.renderTask,context=renderTask.context;context.model=model,context.ecModel=ecModel,context.api=api,renderTask.__block=!view.incrementalPrepareRender,pipe(this,model,renderTask)},proto.performDataProcessorTasks=function(ecModel,payload){performStageTasks(this,this._dataProcessorHandlers,ecModel,payload,{"block":!0})},proto.performVisualTasks=function(ecModel,payload,opt){performStageTasks(this,this._visualHandlers,ecModel,payload,opt)},proto.performSeriesTasks=function(ecModel){var unfinished;ecModel.eachSeries(function(seriesModel){unfinished|=seriesModel.dataTask.perform()}),this.unfinished|=unfinished},proto.plan=function(){this._pipelineMap.each(function(pipeline){var task=pipeline.tail;do{if(task.__block){pipeline.blockIndex=task.__idxInPipeline;break}task=task.getUpstream()}while(task)})};var updatePayload=proto.updatePayload=function(task,payload){"remain"!==payload&&(task.context.payload=payload)},singleSeriesTaskProgress=makeSeriesTaskProgress(0);Scheduler.wrapStageHandler=function(stageHandler,visualType){return isFunction(stageHandler)&&(stageHandler={"overallReset":stageHandler,"seriesType":detectSeriseType(stageHandler)}),stageHandler.uid=getUID("stageHandler"),visualType&&(stageHandler.visualType=visualType),stageHandler};var seriesType,ecModelMock={},apiMock={};mockMethods(ecModelMock,GlobalModel),mockMethods(apiMock,ExtensionAPI),ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(type){seriesType=type},ecModelMock.eachComponent=function(cond){"series"===cond.mainType&&cond.subType&&(seriesType=cond.subType)};var _default=Scheduler;module.exports=_default},function(module,exports){var contrastColor="#eee",axisCommon=function(){return{"axisLine":{"lineStyle":{"color":contrastColor}},"axisTick":{"lineStyle":{"color":contrastColor}},"axisLabel":{"textStyle":{"color":contrastColor}},"splitLine":{"lineStyle":{"type":"dashed","color":"#aaa"}},"splitArea":{"areaStyle":{"color":contrastColor}}}},colorPalette=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],theme={"color":colorPalette,"backgroundColor":"#333","tooltip":{"axisPointer":{"lineStyle":{"color":contrastColor},"crossStyle":{"color":contrastColor}}},"legend":{"textStyle":{"color":contrastColor}},"textStyle":{"color":contrastColor},"title":{"textStyle":{"color":contrastColor}},"toolbox":{"iconStyle":{"normal":{"borderColor":contrastColor}}},"dataZoom":{"textStyle":{"color":contrastColor}},"visualMap":{"textStyle":{"color":contrastColor}},"timeline":{"lineStyle":{"color":contrastColor},"itemStyle":{"normal":{"color":colorPalette[1]}},"label":{"normal":{"textStyle":{"color":contrastColor}}},"controlStyle":{"normal":{"color":contrastColor,"borderColor":contrastColor}}},"timeAxis":axisCommon(),"logAxis":axisCommon(),"valueAxis":axisCommon(),"categoryAxis":axisCommon(),"line":{"symbol":"circle"},"graph":{"color":colorPalette},"gauge":{"title":{"textStyle":{"color":contrastColor}}},"candlestick":{"itemStyle":{"normal":{"color":"#FD1050","color0":"#0CF49B","borderColor":"#FD1050","borderColor0":"#0CF49B"}}}};theme.categoryAxis.splitLine.show=!1;var _default=theme;module.exports=_default},function(module,exports){var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],_default={"color":colorAll,"colorLayer":[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};module.exports=_default},function(module,exports,__webpack_require__){function createWrap(){var doneCallback,storage=[],elExistsMap={};return{"add":function(el,target,time,delay,easing){return zrUtil.isString(delay)&&(easing=delay,delay=0),!elExistsMap[el.id]&&(elExistsMap[el.id]=1,storage.push({"el":el,"target":target,"time":time,"delay":delay,"easing":easing}),!0)},"done":function(callback){return doneCallback=callback,this},"start":function(){function done(){count--,count||(storage.length=0,elExistsMap={},doneCallback&&doneCallback())}for(var count=storage.length,i=0,len=storage.length;i<len;i++){var item=storage[i];item.el.animateTo(item.target,item.time,item.delay,item.easing,done)}return this}}}var zrUtil=__webpack_require__(4);exports.createWrap=createWrap},function(module,exports,__webpack_require__){function _default(dom,ecModel){function replace(str,keyValues){if("string"!=typeof str)return str;var result=str;return zrUtil.each(keyValues,function(value,key){result=result.replace(new RegExp("\\{\\s*"+key+"\\s*\\}","g"),value)}),result}function getConfig(path){var userConfig=ariaModel.get(path);if(null==userConfig){for(var pathArr=path.split("."),result=lang.aria,i=0;i<pathArr.length;++i)result=result[pathArr[i]];return result}return userConfig}function getTitle(){var title=ecModel.getModel("title").option;return title&&title.length&&(title=title[0]),title&&title.text}function getSeriesTypeName(type){return lang.series.typeNames[type]||"\u81ea\u5b9a\u4e49\u56fe"}var ariaModel=ecModel.getModel("aria");if(ariaModel.get("show")){if(ariaModel.get("description"))return void dom.setAttribute("aria-label",ariaModel.get("description"));var seriesCnt=0;ecModel.eachSeries(function(seriesModel,idx){++seriesCnt},this);var ariaLabel,maxDataCnt=ariaModel.get("data.maxCount")||10,maxSeriesCnt=ariaModel.get("series.maxCount")||10,displaySeriesCnt=Math.min(seriesCnt,maxSeriesCnt);if(!(seriesCnt<1)){var title=getTitle();ariaLabel=title?replace(getConfig("general.withTitle"),{"title":title}):getConfig("general.withoutTitle");var seriesLabels=[],prefix=seriesCnt>1?"series.multiple.prefix":"series.single.prefix";ariaLabel+=replace(getConfig(prefix),{"seriesCount":seriesCnt}),ecModel.eachSeries(function(seriesModel,idx){if(idx<displaySeriesCnt){var seriesLabel,seriesName=seriesModel.get("name"),seriesTpl="series."+(seriesCnt>1?"multiple":"single")+".";seriesLabel=getConfig(seriesName?seriesTpl+"withName":seriesTpl+"withoutName"),seriesLabel=replace(seriesLabel,{"seriesId":seriesModel.seriesIndex,"seriesName":seriesModel.get("name"),"seriesType":getSeriesTypeName(seriesModel.subType)});var data=seriesModel.getData();window.data=data,seriesLabel+=data.count()>maxDataCnt?replace(getConfig("data.partialData"),{"displayCnt":maxDataCnt}):getConfig("data.allData");for(var dataLabels=[],i=0;i<data.count();i++)if(i<maxDataCnt){var name=data.getName(i),value=retrieveRawValue(data,i);dataLabels.push(replace(getConfig(name?"data.withName":"data.withoutName"),{"name":name,"value":value}))}seriesLabel+=dataLabels.join(getConfig("data.separator.middle"))+getConfig("data.separator.end"),seriesLabels.push(seriesLabel)}}),ariaLabel+=seriesLabels.join(getConfig("series.multiple.separator.middle"))+getConfig("series.multiple.separator.end"),dom.setAttribute("aria-label",ariaLabel)}}}var zrUtil=__webpack_require__(4),lang=__webpack_require__(162),_dataProvider=__webpack_require__(161),retrieveRawValue=_dataProvider.retrieveRawValue;module.exports=_default},function(module,exports,__webpack_require__){var Gradient=__webpack_require__(317),_default={"createOnAllSeries":!0,"performRawSeries":!0,"reset":function(seriesModel,ecModel){var data=seriesModel.getData(),colorAccessPath=(seriesModel.visualColorAccessPath||"itemStyle.color").split("."),color=seriesModel.get(colorAccessPath)||seriesModel.getColorFromPalette(seriesModel.name,null,ecModel.getSeriesCount());if(data.setVisual("color",color),!ecModel.isSeriesFiltered(seriesModel)){"function"!=typeof color||color instanceof Gradient||data.each(function(idx){data.setItemVisual(idx,"color",color(seriesModel.getDataParams(idx)))});var dataEach=function(data,idx){var itemModel=data.getItemModel(idx),color=itemModel.get(colorAccessPath,!0);null!=color&&data.setItemVisual(idx,"color",color)};return{"dataEach":data.hasItemOption?dataEach:null}}}};module.exports=_default},function(module,exports){function resizeListener(e){var win=e.target||e.srcElement;win.__resizeRAF__&&cancelFrame(win.__resizeRAF__),win.__resizeRAF__=requestFrame(function(){var trigger=win.__resizeTrigger__;trigger.__resizeListeners__.forEach(function(fn){fn.call(trigger,e)})})}var requestFrame=function(){var window=this,raf=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function fallbackRAF(func){return window.setTimeout(func,20)};return function requestFrameFunction(func){return raf(func)}}(),cancelFrame=function(){var window=this,cancel=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function cancelFrameFunction(id){return cancel(id)}}(),exports=function exports(element,fn){function objectLoad(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",resizeListener)}var isIE,window=this,document=window.document,attachEvent=document.attachEvent;if("undefined"!=typeof navigator&&(isIE=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/)),!element.__resizeListeners__)if(element.__resizeListeners__=[],attachEvent)element.__resizeTrigger__=element,element.attachEvent("onresize",resizeListener);else{"static"===getComputedStyle(element).position&&(element.style.position="relative");var obj=element.__resizeTrigger__=document.createElement("object");obj.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1; opacity: 0;"),obj.setAttribute("class","resize-sensor"),obj.__resizeElement__=element,obj.onload=objectLoad,obj.type="text/html",isIE&&element.appendChild(obj),obj.data="about:blank",isIE||element.appendChild(obj)}element.__resizeListeners__.push(fn)};module.exports="undefined"==typeof window?exports:exports.bind(window),module.exports.unbind=function(element,fn){var attachEvent=document.attachEvent;fn?element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn),1):element.__resizeListeners__=[],element.__resizeListeners__.length||(attachEvent?element.detachEvent("onresize",resizeListener):(element.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",resizeListener),delete element.__resizeTrigger__.contentDocument.defaultView.__resizeTrigger__,element.__resizeTrigger__=!element.removeChild(element.__resizeTrigger__)),delete element.__resizeListeners__)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){function makeEventPacket(eveType,targetInfo,event){return{"type":eveType,"event":event,"target":targetInfo.target,"topTarget":targetInfo.topTarget,"cancelBubble":!1,"offsetX":event.zrX,"offsetY":event.zrY,"gestureEvent":event.gestureEvent,"pinchX":event.pinchX,"pinchY":event.pinchY,"pinchScale":event.pinchScale,"wheelDelta":event.zrDelta,"zrByTouch":event.zrByTouch,"which":event.which}}function EmptyProxy(){}function isHover(displayable,x,y){if(displayable[displayable.rectHover?"rectContain":"contain"](x,y)){for(var isSilent,el=displayable;el;){if(el.clipPath&&!el.clipPath.contain(x,y))return!1;el.silent&&(isSilent=!0),el=el.parent}return!isSilent||SILENT}return!1}var util=__webpack_require__(4),vec2=__webpack_require__(38),Draggable=__webpack_require__(2344),Eventful=__webpack_require__(176),SILENT="silent";EmptyProxy.prototype.dispose=function(){};var handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Handler=function(storage,painter,proxy,painterRoot){Eventful.call(this),this.storage=storage,this.painter=painter,this.painterRoot=painterRoot,proxy=proxy||new EmptyProxy,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,Draggable.call(this),this.setHandlerProxy(proxy)};Handler.prototype={"constructor":Handler,"setHandlerProxy":function(proxy){this.proxy&&this.proxy.dispose(),proxy&&(util.each(handlerNames,function(name){proxy.on&&proxy.on(name,this[name],this)},this),proxy.handler=this),this.proxy=proxy},"mousemove":function(event){var x=event.zrX,y=event.zrY,lastHovered=this._hovered,lastHoveredTarget=lastHovered.target;lastHoveredTarget&&!lastHoveredTarget.__zr&&(lastHovered=this.findHover(lastHovered.x,lastHovered.y),lastHoveredTarget=lastHovered.target);var hovered=this._hovered=this.findHover(x,y),hoveredTarget=hovered.target,proxy=this.proxy;proxy.setCursor&&proxy.setCursor(hoveredTarget?hoveredTarget.cursor:"default"),lastHoveredTarget&&hoveredTarget!==lastHoveredTarget&&this.dispatchToElement(lastHovered,"mouseout",event),this.dispatchToElement(hovered,"mousemove",event),hoveredTarget&&hoveredTarget!==lastHoveredTarget&&this.dispatchToElement(hovered,"mouseover",event)},"mouseout":function(event){this.dispatchToElement(this._hovered,"mouseout",event);var innerDom,element=event.toElement||event.relatedTarget;do element=element&&element.parentNode;while(element&&9!=element.nodeType&&!(innerDom=element===this.painterRoot));!innerDom&&this.trigger("globalout",{"event":event})},"resize":function(event){this._hovered={}},"dispatch":function(eventName,eventArgs){var handler=this[eventName];handler&&handler.call(this,eventArgs)},"dispose":function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},"setCursorStyle":function(cursorStyle){var proxy=this.proxy;proxy.setCursor&&proxy.setCursor(cursorStyle)},"dispatchToElement":function(targetInfo,eventName,event){targetInfo=targetInfo||{};var el=targetInfo.target;if(!el||!el.silent){for(var eventHandler="on"+eventName,eventPacket=makeEventPacket(eventName,targetInfo,event);el&&(el[eventHandler]&&(eventPacket.cancelBubble=el[eventHandler].call(el,eventPacket)),el.trigger(eventName,eventPacket),el=el.parent,!eventPacket.cancelBubble););eventPacket.cancelBubble||(this.trigger(eventName,eventPacket),this.painter&&this.painter.eachOtherLayer(function(layer){"function"==typeof layer[eventHandler]&&layer[eventHandler].call(layer,eventPacket),layer.trigger&&layer.trigger(eventName,eventPacket)}))}},"findHover":function(x,y,exclude){for(var list=this.storage.getDisplayList(),out={"x":x,"y":y},i=list.length-1;i>=0;i--){var hoverCheckResult;if(list[i]!==exclude&&!list[i].ignore&&(hoverCheckResult=isHover(list[i],x,y))&&(!out.topTarget&&(out.topTarget=list[i]),hoverCheckResult!==SILENT)){out.target=list[i];break}}return out}},util.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(name){Handler.prototype[name]=function(event){var hovered=this.findHover(event.zrX,event.zrY),hoveredTarget=hovered.target;if("mousedown"===name)this._downEl=hoveredTarget,this._downPoint=[event.zrX,event.zrY],this._upEl=hoveredTarget;else if("mouseup"===name)this._upEl=hoveredTarget;else if("click"===name){if(this._downEl!==this._upEl||!this._downPoint||vec2.dist(this._downPoint,[event.zrX,event.zrY])>4)return;this._downPoint=null}this.dispatchToElement(hovered,name,event)}}),util.mixin(Handler,Eventful),util.mixin(Handler,Draggable);var _default=Handler;module.exports=_default},function(module,exports,__webpack_require__){function returnFalse(){return!1}function createDom(id,painter,dpr){var newDom=util.createCanvas(),width=painter.getWidth(),height=painter.getHeight(),newDomStyle=newDom.style;return newDomStyle&&(newDomStyle.position="absolute",newDomStyle.left=0,newDomStyle.top=0,newDomStyle.width=width+"px",newDomStyle.height=height+"px",newDom.setAttribute("data-zr-dom-id",id)),newDom.width=width*dpr,newDom.height=height*dpr,newDom}var util=__webpack_require__(4),_config=__webpack_require__(315),devicePixelRatio=_config.devicePixelRatio,Style=__webpack_require__(924),Pattern=__webpack_require__(923),Layer=function(id,painter,dpr){var dom;dpr=dpr||devicePixelRatio,"string"==typeof id?dom=createDom(id,painter,dpr):util.isObject(id)&&(dom=id,id=dom.id),this.id=id,this.dom=dom;var domStyle=dom.style;domStyle&&(dom.onselectstart=returnFalse,domStyle["-webkit-user-select"]="none",domStyle["user-select"]="none",domStyle["-webkit-touch-callout"]="none",domStyle["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",domStyle["padding"]=0,domStyle["margin"]=0,domStyle["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=painter,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=dpr};Layer.prototype={"constructor":Layer,"__dirty":!0,"__used":!1,"__drawIndex":0,"__startIndex":0,"__endIndex":0,"incremental":!1,"getElementCount":function(){return this.__endIndex-this.__startIndex},"initContext":function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},"createBackBuffer":function(){var dpr=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,dpr),this.ctxBack=this.domBack.getContext("2d"),1!=dpr&&this.ctxBack.scale(dpr,dpr)},"resize":function(width,height){var dpr=this.dpr,dom=this.dom,domStyle=dom.style,domBack=this.domBack;domStyle&&(domStyle.width=width+"px",domStyle.height=height+"px"),dom.width=width*dpr,dom.height=height*dpr,domBack&&(domBack.width=width*dpr,domBack.height=height*dpr,1!=dpr&&this.ctxBack.scale(dpr,dpr))},"clear":function(clearAll,clearColor){var dom=this.dom,ctx=this.ctx,width=dom.width,height=dom.height,clearColor=clearColor||this.clearColor,haveMotionBLur=this.motionBlur&&!clearAll,lastFrameAlpha=this.lastFrameAlpha,dpr=this.dpr;if(haveMotionBLur&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(dom,0,0,width/dpr,height/dpr)),ctx.clearRect(0,0,width,height),clearColor&&"transparent"!==clearColor){var clearColorGradientOrPattern;clearColor.colorStops?(clearColorGradientOrPattern=clearColor.__canvasGradient||Style.getGradient(ctx,clearColor,{"x":0,"y":0,"width":width,"height":height}),clearColor.__canvasGradient=clearColorGradientOrPattern):clearColor.image&&(clearColorGradientOrPattern=Pattern.prototype.getCanvasPattern.call(clearColor,ctx)),ctx.save(),ctx.fillStyle=clearColorGradientOrPattern||clearColor,ctx.fillRect(0,0,width,height),ctx.restore()}if(haveMotionBLur){var domBack=this.domBack;ctx.save(),ctx.globalAlpha=lastFrameAlpha,ctx.drawImage(domBack,0,0,width,height),ctx.restore()}}};var _default=Layer;module.exports=_default},function(module,exports,__webpack_require__){function parseInt10(val){return parseInt(val,10)}function isLayerValid(layer){return!!layer&&(!!layer.__builtin__||"function"==typeof layer.resize&&"function"==typeof layer.refresh)}function isDisplayableCulled(el,width,height){return tmpRect.copy(el.getBoundingRect()),el.transform&&tmpRect.applyTransform(el.transform),viewRect.width=width,viewRect.height=height,!tmpRect.intersect(viewRect)}function isClipPathChanged(clipPaths,prevClipPaths){if(clipPaths==prevClipPaths)return!1;if(!clipPaths||!prevClipPaths||clipPaths.length!==prevClipPaths.length)return!0;for(var i=0;i<clipPaths.length;i++)if(clipPaths[i]!==prevClipPaths[i])return!0}function doClip(clipPaths,ctx){for(var i=0;i<clipPaths.length;i++){var clipPath=clipPaths[i];clipPath.setTransform(ctx),ctx.beginPath(),clipPath.buildPath(ctx,clipPath.shape),ctx.clip(),clipPath.restoreTransform(ctx)}}function createRoot(width,height){var domRoot=document.createElement("div");return domRoot.style.cssText=["position:relative","overflow:hidden","width:"+width+"px","height:"+height+"px","padding:0","margin:0","border-width:0"].join(";")+";",domRoot}var _config=__webpack_require__(315),devicePixelRatio=_config.devicePixelRatio,util=__webpack_require__(4),log=__webpack_require__(242),BoundingRect=__webpack_require__(43),timsort=__webpack_require__(509),Layer=__webpack_require__(2318),requestAnimationFrame=__webpack_require__(914),Image=__webpack_require__(244),env=__webpack_require__(52),HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001,tmpRect=new BoundingRect(0,0,0,0),viewRect=new BoundingRect(0,0,0,0),Painter=function(root,storage,opts){this.type="canvas";var singleCanvas=!root.nodeName||"CANVAS"===root.nodeName.toUpperCase();this._opts=opts=util.extend({},opts||{}),this.dpr=opts.devicePixelRatio||devicePixelRatio,this._singleCanvas=singleCanvas,this.root=root;var rootStyle=root.style;rootStyle&&(rootStyle["-webkit-tap-highlight-color"]="transparent",rootStyle["-webkit-user-select"]=rootStyle["user-select"]=rootStyle["-webkit-touch-callout"]="none",root.innerHTML=""),this.storage=storage;var zlevelList=this._zlevelList=[],layers=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,singleCanvas){var width=root.width,height=root.height;null!=opts.width&&(width=opts.width),null!=opts.height&&(height=opts.height),this.dpr=opts.devicePixelRatio||1,root.width=width*this.dpr,root.height=height*this.dpr,this._width=width,this._height=height;var mainLayer=new Layer(root,this,this.dpr);mainLayer.__builtin__=!0,mainLayer.initContext(),layers[CANVAS_ZLEVEL]=mainLayer,mainLayer.zlevel=CANVAS_ZLEVEL,zlevelList.push(CANVAS_ZLEVEL),this._domRoot=root}else{this._width=this._getSize(0),this._height=this._getSize(1);var domRoot=this._domRoot=createRoot(this._width,this._height);root.appendChild(domRoot)}this._hoverlayer=null,this._hoverElements=[]};Painter.prototype={"constructor":Painter,"getType":function(){return"canvas"},"isSingleCanvas":function(){return this._singleCanvas},"getViewportRoot":function(){return this._domRoot},"getViewportRootOffset":function(){var viewportRoot=this.getViewportRoot();if(viewportRoot)return{"offsetLeft":viewportRoot.offsetLeft||0,"offsetTop":viewportRoot.offsetTop||0}},"refresh":function(paintAll){var list=this.storage.getDisplayList(!0),zlevelList=this._zlevelList;this._redrawId=Math.random(),this._paintList(list,paintAll,this._redrawId);for(var i=0;i<zlevelList.length;i++){var z=zlevelList[i],layer=this._layers[z];if(!layer.__builtin__&&layer.refresh){var clearColor=0===i?this._backgroundColor:null;layer.refresh(clearColor)}}return this.refreshHover(),this},"addHover":function(el,hoverStyle){if(!el.__hoverMir){var elMirror=new el.constructor({"style":el.style,"shape":el.shape});elMirror.__from=el,el.__hoverMir=elMirror,elMirror.setStyle(hoverStyle),this._hoverElements.push(elMirror)}},"removeHover":function(el){var elMirror=el.__hoverMir,hoverElements=this._hoverElements,idx=util.indexOf(hoverElements,elMirror);idx>=0&&hoverElements.splice(idx,1),el.__hoverMir=null},"clearHover":function(el){for(var hoverElements=this._hoverElements,i=0;i<hoverElements.length;i++){var from=hoverElements[i].__from;from&&(from.__hoverMir=null)}hoverElements.length=0},"refreshHover":function(){var hoverElements=this._hoverElements,len=hoverElements.length,hoverLayer=this._hoverlayer;if(hoverLayer&&hoverLayer.clear(),len){timsort(hoverElements,this.storage.displayableSortFunc),hoverLayer||(hoverLayer=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL));var scope={};hoverLayer.ctx.save();for(var i=0;i<len;){var el=hoverElements[i],originalEl=el.__from;originalEl&&originalEl.__zr?(i++,originalEl.invisible||(el.transform=originalEl.transform,el.invTransform=originalEl.invTransform,el.__clipPaths=originalEl.__clipPaths,this._doPaintEl(el,hoverLayer,!0,scope))):(hoverElements.splice(i,1),originalEl.__hoverMir=null,len--)}hoverLayer.ctx.restore()}},"getHoverLayer":function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},"_paintList":function(list,paintAll,redrawId){if(this._redrawId===redrawId){paintAll=paintAll||!1,this._updateLayerStatus(list);var finished=this._doPaintList(list,paintAll);if(this._needsManuallyCompositing&&this._compositeManually(),!finished){var self=this;requestAnimationFrame(function(){self._paintList(list,paintAll,redrawId)})}}},"_compositeManually":function(){var ctx=this.getLayer(CANVAS_ZLEVEL).ctx,width=this._domRoot.width,height=this._domRoot.height;ctx.clearRect(0,0,width,height),this.eachBuiltinLayer(function(layer){layer.virtual&&ctx.drawImage(layer.dom,0,0,width,height)})},"_doPaintList":function(list,paintAll){for(var layerList=[],zi=0;zi<this._zlevelList.length;zi++){var zlevel=this._zlevelList[zi],layer=this._layers[zlevel];layer.__builtin__&&layer!==this._hoverlayer&&(layer.__dirty||paintAll)&&layerList.push(layer)}for(var finished=!0,k=0;k<layerList.length;k++){var layer=layerList[k],ctx=layer.ctx,scope={};ctx.save();var start=paintAll?layer.__startIndex:layer.__drawIndex,useTimer=!paintAll&&layer.incremental&&Date.now,startTime=useTimer&&Date.now(),clearColor=layer.zlevel===this._zlevelList[0]?this._backgroundColor:null;
if(layer.__startIndex===layer.__endIndex)layer.clear(!1,clearColor);else if(start===layer.__startIndex){var firstEl=list[start];firstEl.incremental&&firstEl.notClear&&!paintAll||layer.clear(!1,clearColor)}start===-1&&(console.error("For some unknown reason. drawIndex is -1"),start=layer.__startIndex);for(var i=start;i<layer.__endIndex;i++){var el=list[i];if(this._doPaintEl(el,layer,paintAll,scope),el.__dirty=!1,useTimer){var dTime=Date.now()-startTime;if(dTime>15)break}}layer.__drawIndex=i,layer.__drawIndex<layer.__endIndex&&(finished=!1),scope.prevElClipPaths&&ctx.restore(),ctx.restore()}return env.wxa&&util.each(this._layers,function(layer){layer&&layer.ctx&&layer.ctx.draw&&layer.ctx.draw()}),finished},"_doPaintEl":function(el,currentLayer,forcePaint,scope){var ctx=currentLayer.ctx,m=el.transform;if((currentLayer.__dirty||forcePaint)&&!el.invisible&&0!==el.style.opacity&&(!m||m[0]||m[3])&&(!el.culling||!isDisplayableCulled(el,this._width,this._height))){var clipPaths=el.__clipPaths;scope.prevElClipPaths&&!isClipPathChanged(clipPaths,scope.prevElClipPaths)||(scope.prevElClipPaths&&(currentLayer.ctx.restore(),scope.prevElClipPaths=null,scope.prevEl=null),clipPaths&&(ctx.save(),doClip(clipPaths,ctx),scope.prevElClipPaths=clipPaths)),el.beforeBrush&&el.beforeBrush(ctx),el.brush(ctx,scope.prevEl||null),scope.prevEl=el,el.afterBrush&&el.afterBrush(ctx)}},"getLayer":function(zlevel,virtual){this._singleCanvas&&!this._needsManuallyCompositing&&(zlevel=CANVAS_ZLEVEL);var layer=this._layers[zlevel];return layer||(layer=new Layer("zr_"+zlevel,this,this.dpr),layer.zlevel=zlevel,layer.__builtin__=!0,this._layerConfig[zlevel]&&util.merge(layer,this._layerConfig[zlevel],!0),virtual&&(layer.virtual=virtual),this.insertLayer(zlevel,layer),layer.initContext()),layer},"insertLayer":function(zlevel,layer){var layersMap=this._layers,zlevelList=this._zlevelList,len=zlevelList.length,prevLayer=null,i=-1,domRoot=this._domRoot;if(layersMap[zlevel])return void log("ZLevel "+zlevel+" has been used already");if(!isLayerValid(layer))return void log("Layer of zlevel "+zlevel+" is not valid");if(len>0&&zlevel>zlevelList[0]){for(i=0;i<len-1&&!(zlevelList[i]<zlevel&&zlevelList[i+1]>zlevel);i++);prevLayer=layersMap[zlevelList[i]]}if(zlevelList.splice(i+1,0,zlevel),layersMap[zlevel]=layer,!layer.virtual)if(prevLayer){var prevDom=prevLayer.dom;prevDom.nextSibling?domRoot.insertBefore(layer.dom,prevDom.nextSibling):domRoot.appendChild(layer.dom)}else domRoot.firstChild?domRoot.insertBefore(layer.dom,domRoot.firstChild):domRoot.appendChild(layer.dom)},"eachLayer":function(cb,context){var z,i,zlevelList=this._zlevelList;for(i=0;i<zlevelList.length;i++)z=zlevelList[i],cb.call(context,this._layers[z],z)},"eachBuiltinLayer":function(cb,context){var layer,z,i,zlevelList=this._zlevelList;for(i=0;i<zlevelList.length;i++)z=zlevelList[i],layer=this._layers[z],layer.__builtin__&&cb.call(context,layer,z)},"eachOtherLayer":function(cb,context){var layer,z,i,zlevelList=this._zlevelList;for(i=0;i<zlevelList.length;i++)z=zlevelList[i],layer=this._layers[z],layer.__builtin__||cb.call(context,layer,z)},"getLayers":function(){return this._layers},"_updateLayerStatus":function(list){function updatePrevLayer(idx){prevLayer&&(prevLayer.__endIndex!==idx&&(prevLayer.__dirty=!0),prevLayer.__endIndex=idx)}if(this.eachBuiltinLayer(function(layer,z){layer.__dirty=layer.__used=!1}),this._singleCanvas)for(var i=1;i<list.length;i++){var el=list[i];if(el.zlevel!==list[i-1].zlevel||el.incremental){this._needsManuallyCompositing=!0;break}}for(var prevLayer=null,incrementalLayerCount=0,i=0;i<list.length;i++){var layer,el=list[i],zlevel=el.zlevel;el.incremental?(layer=this.getLayer(zlevel+INCREMENTAL_INC,this._needsManuallyCompositing),layer.incremental=!0,incrementalLayerCount=1):layer=this.getLayer(zlevel+(incrementalLayerCount>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),layer.__builtin__||log("ZLevel "+zlevel+" has been used by unkown layer "+layer.id),layer!==prevLayer&&(layer.__used=!0,layer.__startIndex!==i&&(layer.__dirty=!0),layer.__startIndex=i,layer.incremental?layer.__drawIndex=-1:layer.__drawIndex=i,updatePrevLayer(i),prevLayer=layer),el.__dirty&&(layer.__dirty=!0,layer.incremental&&layer.__drawIndex<0&&(layer.__drawIndex=i))}updatePrevLayer(i),this.eachBuiltinLayer(function(layer,z){!layer.__used&&layer.getElementCount()>0&&(layer.__dirty=!0,layer.__startIndex=layer.__endIndex=layer.__drawIndex=0),layer.__dirty&&layer.__drawIndex<0&&(layer.__drawIndex=layer.__startIndex)})},"clear":function(){return this.eachBuiltinLayer(this._clearLayer),this},"_clearLayer":function(layer){layer.clear()},"setBackgroundColor":function(backgroundColor){this._backgroundColor=backgroundColor},"configLayer":function(zlevel,config){if(config){var layerConfig=this._layerConfig;layerConfig[zlevel]?util.merge(layerConfig[zlevel],config,!0):layerConfig[zlevel]=config;for(var i=0;i<this._zlevelList.length;i++){var _zlevel=this._zlevelList[i];if(_zlevel===zlevel||_zlevel===zlevel+EL_AFTER_INCREMENTAL_INC){var layer=this._layers[_zlevel];util.merge(layer,layerConfig[zlevel],!0)}}}},"delLayer":function(zlevel){var layers=this._layers,zlevelList=this._zlevelList,layer=layers[zlevel];layer&&(layer.dom.parentNode.removeChild(layer.dom),delete layers[zlevel],zlevelList.splice(util.indexOf(zlevelList,zlevel),1))},"resize":function(width,height){if(this._domRoot.style){var domRoot=this._domRoot;domRoot.style.display="none";var opts=this._opts;if(null!=width&&(opts.width=width),null!=height&&(opts.height=height),width=this._getSize(0),height=this._getSize(1),domRoot.style.display="",this._width!=width||height!=this._height){domRoot.style.width=width+"px",domRoot.style.height=height+"px";for(var id in this._layers)this._layers.hasOwnProperty(id)&&this._layers[id].resize(width,height);util.each(this._progressiveLayers,function(layer){layer.resize(width,height)}),this.refresh(!0)}this._width=width,this._height=height}else{if(null==width||null==height)return;this._width=width,this._height=height,this.getLayer(CANVAS_ZLEVEL).resize(width,height)}return this},"clearLayer":function(zlevel){var layer=this._layers[zlevel];layer&&layer.clear()},"dispose":function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},"getRenderedCanvas":function(opts){if(opts=opts||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var imageLayer=new Layer("image",this,opts.pixelRatio||this.dpr);if(imageLayer.initContext(),imageLayer.clear(!1,opts.backgroundColor||this._backgroundColor),opts.pixelRatio<=this.dpr){this.refresh();var width=imageLayer.dom.width,height=imageLayer.dom.height,ctx=imageLayer.ctx;this.eachLayer(function(layer){layer.__builtin__?ctx.drawImage(layer.dom,0,0,width,height):layer.renderToCanvas&&(imageLayer.ctx.save(),layer.renderToCanvas(imageLayer.ctx),imageLayer.ctx.restore())})}else for(var scope={},displayList=this.storage.getDisplayList(!0),i=0;i<displayList.length;i++){var el=displayList[i];this._doPaintEl(el,imageLayer,!0,scope)}return imageLayer.dom},"getWidth":function(){return this._width},"getHeight":function(){return this._height},"_getSize":function(whIdx){var opts=this._opts,wh=["width","height"][whIdx],cwh=["clientWidth","clientHeight"][whIdx],plt=["paddingLeft","paddingTop"][whIdx],prb=["paddingRight","paddingBottom"][whIdx];if(null!=opts[wh]&&"auto"!==opts[wh])return parseFloat(opts[wh]);var root=this.root,stl=document.defaultView.getComputedStyle(root);return(root[cwh]||parseInt10(stl[wh])||parseInt10(root.style[wh]))-(parseInt10(stl[plt])||0)-(parseInt10(stl[prb])||0)|0},"pathToImage":function(path,dpr){dpr=dpr||this.dpr;var canvas=document.createElement("canvas"),ctx=canvas.getContext("2d"),rect=path.getBoundingRect(),style=path.style,shadowBlurSize=style.shadowBlur*dpr,shadowOffsetX=style.shadowOffsetX*dpr,shadowOffsetY=style.shadowOffsetY*dpr,lineWidth=style.hasStroke()?style.lineWidth:0,leftMargin=Math.max(lineWidth/2,-shadowOffsetX+shadowBlurSize),rightMargin=Math.max(lineWidth/2,shadowOffsetX+shadowBlurSize),topMargin=Math.max(lineWidth/2,-shadowOffsetY+shadowBlurSize),bottomMargin=Math.max(lineWidth/2,shadowOffsetY+shadowBlurSize),width=rect.width+leftMargin+rightMargin,height=rect.height+topMargin+bottomMargin;canvas.width=width*dpr,canvas.height=height*dpr,ctx.scale(dpr,dpr),ctx.clearRect(0,0,width,height),ctx.dpr=dpr;var pathTransform={"position":path.position,"rotation":path.rotation,"scale":path.scale};path.position=[leftMargin-rect.x,topMargin-rect.y],path.rotation=0,path.scale=[1,1],path.updateTransform(),path&&path.brush(ctx);var ImageShape=Image,imgShape=new ImageShape({"style":{"x":0,"y":0,"image":canvas}});return null!=pathTransform.position&&(imgShape.position=path.position=pathTransform.position),null!=pathTransform.rotation&&(imgShape.rotation=path.rotation=pathTransform.rotation),null!=pathTransform.scale&&(imgShape.scale=path.scale=pathTransform.scale),imgShape}};var _default=Painter;module.exports=_default},function(module,exports,__webpack_require__){function shapeCompareFunc(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}var util=__webpack_require__(4),env=__webpack_require__(52),Group=__webpack_require__(316),timsort=__webpack_require__(509),Storage=function(){this._roots=[],this._displayList=[],this._displayListLen=0};Storage.prototype={"constructor":Storage,"traverse":function(cb,context){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(cb,context)},"getDisplayList":function(update,includeIgnore){return includeIgnore=includeIgnore||!1,update&&this.updateDisplayList(includeIgnore),this._displayList},"updateDisplayList":function(includeIgnore){this._displayListLen=0;for(var roots=this._roots,displayList=this._displayList,i=0,len=roots.length;i<len;i++)this._updateAndAddDisplayable(roots[i],null,includeIgnore);displayList.length=this._displayListLen,env.canvasSupported&&timsort(displayList,shapeCompareFunc)},"_updateAndAddDisplayable":function(el,clipPaths,includeIgnore){if(!el.ignore||includeIgnore){el.beforeUpdate(),el.__dirty&&el.update(),el.afterUpdate();var userSetClipPath=el.clipPath;if(userSetClipPath){clipPaths=clipPaths?clipPaths.slice():[];for(var currentClipPath=userSetClipPath,parentClipPath=el;currentClipPath;)currentClipPath.parent=parentClipPath,currentClipPath.updateTransform(),clipPaths.push(currentClipPath),parentClipPath=currentClipPath,currentClipPath=currentClipPath.clipPath}if(el.isGroup){for(var children=el._children,i=0;i<children.length;i++){var child=children[i];el.__dirty&&(child.__dirty=!0),this._updateAndAddDisplayable(child,clipPaths,includeIgnore)}el.__dirty=!1}else el.__clipPaths=clipPaths,this._displayList[this._displayListLen++]=el}},"addRoot":function(el){el.__storage!==this&&(el instanceof Group&&el.addChildrenToStorage(this),this.addToStorage(el),this._roots.push(el))},"delRoot":function(el){if(null==el){for(var i=0;i<this._roots.length;i++){var root=this._roots[i];root instanceof Group&&root.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(el instanceof Array)for(var i=0,l=el.length;i<l;i++)this.delRoot(el[i]);else{var idx=util.indexOf(this._roots,el);idx>=0&&(this.delFromStorage(el),this._roots.splice(idx,1),el instanceof Group&&el.delChildrenFromStorage(this))}},"addToStorage":function(el){return el&&(el.__storage=this,el.dirty(!1)),this},"delFromStorage":function(el){return el&&(el.__storage=null),this},"dispose":function(){this._renderList=this._roots=null},"displayableSortFunc":shapeCompareFunc};var _default=Storage;module.exports=_default},function(module,exports,__webpack_require__){var util=__webpack_require__(4),_event=__webpack_require__(124),Dispatcher=_event.Dispatcher,requestAnimationFrame=__webpack_require__(914),Animator=__webpack_require__(913),Animation=function(options){options=options||{},this.stage=options.stage||{},this.onframe=options.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,Dispatcher.call(this)};Animation.prototype={"constructor":Animation,"addClip":function(clip){this._clips.push(clip)},"addAnimator":function(animator){animator.animation=this;for(var clips=animator.getClips(),i=0;i<clips.length;i++)this.addClip(clips[i])},"removeClip":function(clip){var idx=util.indexOf(this._clips,clip);idx>=0&&this._clips.splice(idx,1)},"removeAnimator":function(animator){for(var clips=animator.getClips(),i=0;i<clips.length;i++)this.removeClip(clips[i]);animator.animation=null},"_update":function(){for(var time=(new Date).getTime()-this._pausedTime,delta=time-this._time,clips=this._clips,len=clips.length,deferredEvents=[],deferredClips=[],i=0;i<len;i++){var clip=clips[i],e=clip.step(time,delta);e&&(deferredEvents.push(e),deferredClips.push(clip))}for(var i=0;i<len;)clips[i]._needsRemove?(clips[i]=clips[len-1],clips.pop(),len--):i++;len=deferredEvents.length;for(var i=0;i<len;i++)deferredClips[i].fire(deferredEvents[i]);this._time=time,this.onframe(delta),this.trigger("frame",delta),this.stage.update&&this.stage.update()},"_startLoop":function(){function step(){self._running&&(requestAnimationFrame(step),!self._paused&&self._update())}var self=this;this._running=!0,requestAnimationFrame(step)},"start":function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},"stop":function(){this._running=!1},"pause":function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},"resume":function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},"clear":function(){this._clips=[]},"isFinished":function(){return!this._clips.length},"animate":function(target,options){options=options||{};var animator=new Animator(target,options.loop,options.getter,options.setter);return this.addAnimator(animator),animator}},util.mixin(Animation,Dispatcher);var _default=Animation;module.exports=_default},function(module,exports,__webpack_require__){function Clip(options){this._target=options.target,this._life=options.life||1e3,this._delay=options.delay||0,this._initialized=!1,this.loop=null!=options.loop&&options.loop,this.gap=options.gap||0,this.easing=options.easing||"Linear",this.onframe=options.onframe,this.ondestroy=options.ondestroy,this.onrestart=options.onrestart,this._pausedTime=0,this._paused=!1}var easingFuncs=__webpack_require__(2323);Clip.prototype={"constructor":Clip,"step":function(globalTime,deltaTime){if(this._initialized||(this._startTime=globalTime+this._delay,this._initialized=!0),this._paused)return void(this._pausedTime+=deltaTime);var percent=(globalTime-this._startTime-this._pausedTime)/this._life;if(!(percent<0)){percent=Math.min(percent,1);var easing=this.easing,easingFunc="string"==typeof easing?easingFuncs[easing]:easing,schedule="function"==typeof easingFunc?easingFunc(percent):percent;return this.fire("frame",schedule),1==percent?this.loop?(this.restart(globalTime),"restart"):(this._needsRemove=!0,"destroy"):null}},"restart":function(globalTime){var remainder=(globalTime-this._startTime-this._pausedTime)%this._life;this._startTime=globalTime-remainder+this.gap,this._pausedTime=0,this._needsRemove=!1},"fire":function(eventType,arg){eventType="on"+eventType,this[eventType]&&this[eventType](this._target,arg)},"pause":function(){this._paused=!0},"resume":function(){this._paused=!1}};var _default=Clip;module.exports=_default},function(module,exports){var easing={"linear":function(k){return k},"quadraticIn":function(k){return k*k},"quadraticOut":function(k){return k*(2-k)},"quadraticInOut":function(k){return(k*=2)<1?.5*k*k:-.5*(--k*(k-2)-1)},"cubicIn":function(k){return k*k*k},"cubicOut":function(k){return--k*k*k+1},"cubicInOut":function(k){return(k*=2)<1?.5*k*k*k:.5*((k-=2)*k*k+2)},"quarticIn":function(k){return k*k*k*k},"quarticOut":function(k){return 1- --k*k*k*k},"quarticInOut":function(k){return(k*=2)<1?.5*k*k*k*k:-.5*((k-=2)*k*k*k-2)},"quinticIn":function(k){return k*k*k*k*k},"quinticOut":function(k){return--k*k*k*k*k+1},"quinticInOut":function(k){return(k*=2)<1?.5*k*k*k*k*k:.5*((k-=2)*k*k*k*k+2)},"sinusoidalIn":function(k){return 1-Math.cos(k*Math.PI/2)},"sinusoidalOut":function(k){return Math.sin(k*Math.PI/2)},"sinusoidalInOut":function(k){return.5*(1-Math.cos(Math.PI*k))},"exponentialIn":function(k){return 0===k?0:Math.pow(1024,k-1)},"exponentialOut":function(k){return 1===k?1:1-Math.pow(2,-10*k)},"exponentialInOut":function(k){return 0===k?0:1===k?1:(k*=2)<1?.5*Math.pow(1024,k-1):.5*(-Math.pow(2,-10*(k-1))+2)},"circularIn":function(k){return 1-Math.sqrt(1-k*k)},"circularOut":function(k){return Math.sqrt(1- --k*k)},"circularInOut":function(k){return(k*=2)<1?-.5*(Math.sqrt(1-k*k)-1):.5*(Math.sqrt(1-(k-=2)*k)+1)},"elasticIn":function(k){var s,a=.1,p=.4;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=p/4):s=p*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/p)))},"elasticOut":function(k){var s,a=.1,p=.4;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=p/4):s=p*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*k)*Math.sin((k-s)*(2*Math.PI)/p)+1)},"elasticInOut":function(k){var s,a=.1,p=.4;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=p/4):s=p*Math.asin(1/a)/(2*Math.PI),(k*=2)<1?-.5*(a*Math.pow(2,10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/p)):a*Math.pow(2,-10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/p)*.5+1)},"backIn":function(k){var s=1.70158;return k*k*((s+1)*k-s)},"backOut":function(k){var s=1.70158;return--k*k*((s+1)*k+s)+1},"backInOut":function(k){var s=2.5949095;return(k*=2)<1?.5*(k*k*((s+1)*k-s)):.5*((k-=2)*k*((s+1)*k+s)+2)},"bounceIn":function(k){return 1-easing.bounceOut(1-k)},"bounceOut":function(k){return k<1/2.75?7.5625*k*k:k<2/2.75?7.5625*(k-=1.5/2.75)*k+.75:k<2.5/2.75?7.5625*(k-=2.25/2.75)*k+.9375:7.5625*(k-=2.625/2.75)*k+.984375},"bounceInOut":function(k){return k<.5?.5*easing.bounceIn(2*k):.5*easing.bounceOut(2*k-1)+.5}},_default=easing;module.exports=_default},function(module,exports,__webpack_require__){function containStroke(cx,cy,r,startAngle,endAngle,anticlockwise,lineWidth,x,y){if(0===lineWidth)return!1;var _l=lineWidth;x-=cx,y-=cy;var d=Math.sqrt(x*x+y*y);if(d-_l>r||d+_l<r)return!1;if(Math.abs(startAngle-endAngle)%PI2<1e-4)return!0;if(anticlockwise){var tmp=startAngle;startAngle=normalizeRadian(endAngle),endAngle=normalizeRadian(tmp)}else startAngle=normalizeRadian(startAngle),endAngle=normalizeRadian(endAngle);startAngle>endAngle&&(endAngle+=PI2);var angle=Math.atan2(y,x);return angle<0&&(angle+=PI2),angle>=startAngle&&angle<=endAngle||angle+PI2>=startAngle&&angle+PI2<=endAngle}var _util=__webpack_require__(918),normalizeRadian=_util.normalizeRadian,PI2=2*Math.PI;exports.containStroke=containStroke},function(module,exports,__webpack_require__){function containStroke(x0,y0,x1,y1,x2,y2,x3,y3,lineWidth,x,y){if(0===lineWidth)return!1;var _l=lineWidth;if(y>y0+_l&&y>y1+_l&&y>y2+_l&&y>y3+_l||y<y0-_l&&y<y1-_l&&y<y2-_l&&y<y3-_l||x>x0+_l&&x>x1+_l&&x>x2+_l&&x>x3+_l||x<x0-_l&&x<x1-_l&&x<x2-_l&&x<x3-_l)return!1;var d=curve.cubicProjectPoint(x0,y0,x1,y1,x2,y2,x3,y3,x,y,null);return d<=_l/2}var curve=__webpack_require__(140);exports.containStroke=containStroke},function(module,exports,__webpack_require__){function isAroundEqual(a,b){return Math.abs(a-b)<EPSILON}function swapExtrema(){var tmp=extrema[0];extrema[0]=extrema[1],extrema[1]=tmp}function windingCubic(x0,y0,x1,y1,x2,y2,x3,y3,x,y){if(y>y0&&y>y1&&y>y2&&y>y3||y<y0&&y<y1&&y<y2&&y<y3)return 0;var nRoots=curve.cubicRootAt(y0,y1,y2,y3,y,roots);if(0===nRoots)return 0;for(var y0_,y1_,w=0,nExtrema=-1,i=0;i<nRoots;i++){var t=roots[i],unit=0===t||1===t?.5:1,x_=curve.cubicAt(x0,x1,x2,x3,t);x_<x||(nExtrema<0&&(nExtrema=curve.cubicExtrema(y0,y1,y2,y3,extrema),extrema[1]<extrema[0]&&nExtrema>1&&swapExtrema(),y0_=curve.cubicAt(y0,y1,y2,y3,extrema[0]),nExtrema>1&&(y1_=curve.cubicAt(y0,y1,y2,y3,extrema[1]))),w+=2==nExtrema?t<extrema[0]?y0_<y0?unit:-unit:t<extrema[1]?y1_<y0_?unit:-unit:y3<y1_?unit:-unit:t<extrema[0]?y0_<y0?unit:-unit:y3<y0_?unit:-unit)}return w}function windingQuadratic(x0,y0,x1,y1,x2,y2,x,y){if(y>y0&&y>y1&&y>y2||y<y0&&y<y1&&y<y2)return 0;var nRoots=curve.quadraticRootAt(y0,y1,y2,y,roots);if(0===nRoots)return 0;var t=curve.quadraticExtremum(y0,y1,y2);if(t>=0&&t<=1){for(var w=0,y_=curve.quadraticAt(y0,y1,y2,t),i=0;i<nRoots;i++){var unit=0===roots[i]||1===roots[i]?.5:1,x_=curve.quadraticAt(x0,x1,x2,roots[i]);x_<x||(w+=roots[i]<t?y_<y0?unit:-unit:y2<y_?unit:-unit)}return w}var unit=0===roots[0]||1===roots[0]?.5:1,x_=curve.quadraticAt(x0,x1,x2,roots[0]);return x_<x?0:y2<y0?unit:-unit}function windingArc(cx,cy,r,startAngle,endAngle,anticlockwise,x,y){if(y-=cy,y>r||y<-r)return 0;var tmp=Math.sqrt(r*r-y*y);roots[0]=-tmp,roots[1]=tmp;var diff=Math.abs(startAngle-endAngle);if(diff<1e-4)return 0;if(diff%PI2<1e-4){startAngle=0,endAngle=PI2;var dir=anticlockwise?1:-1;return x>=roots[0]+cx&&x<=roots[1]+cx?dir:0}if(anticlockwise){var tmp=startAngle;startAngle=normalizeRadian(endAngle),endAngle=normalizeRadian(tmp)}else startAngle=normalizeRadian(startAngle),endAngle=normalizeRadian(endAngle);startAngle>endAngle&&(endAngle+=PI2);for(var w=0,i=0;i<2;i++){var x_=roots[i];if(x_+cx>x){var angle=Math.atan2(y,x_),dir=anticlockwise?1:-1;angle<0&&(angle=PI2+angle),(angle>=startAngle&&angle<=endAngle||angle+PI2>=startAngle&&angle+PI2<=endAngle)&&(angle>Math.PI/2&&angle<1.5*Math.PI&&(dir=-dir),w+=dir)}}return w}function containPath(data,lineWidth,isStroke,x,y){for(var w=0,xi=0,yi=0,x0=0,y0=0,i=0;i<data.length;){var cmd=data[i++];switch(cmd===CMD.M&&i>1&&(isStroke||(w+=windingLine(xi,yi,x0,y0,x,y))),1==i&&(xi=data[i],yi=data[i+1],x0=xi,y0=yi),cmd){case CMD.M:x0=data[i++],y0=data[i++],xi=x0,yi=y0;break;case CMD.L:if(isStroke){if(line.containStroke(xi,yi,data[i],data[i+1],lineWidth,x,y))return!0}else w+=windingLine(xi,yi,data[i],data[i+1],x,y)||0;xi=data[i++],yi=data[i++];break;case CMD.C:if(isStroke){if(cubic.containStroke(xi,yi,data[i++],data[i++],data[i++],data[i++],data[i],data[i+1],lineWidth,x,y))return!0}else w+=windingCubic(xi,yi,data[i++],data[i++],data[i++],data[i++],data[i],data[i+1],x,y)||0;xi=data[i++],yi=data[i++];break;case CMD.Q:if(isStroke){if(quadratic.containStroke(xi,yi,data[i++],data[i++],data[i],data[i+1],lineWidth,x,y))return!0}else w+=windingQuadratic(xi,yi,data[i++],data[i++],data[i],data[i+1],x,y)||0;xi=data[i++],yi=data[i++];break;case CMD.A:var cx=data[i++],cy=data[i++],rx=data[i++],ry=data[i++],theta=data[i++],dTheta=data[i++],anticlockwise=(data[i++],1-data[i++]),x1=Math.cos(theta)*rx+cx,y1=Math.sin(theta)*ry+cy;i>1?w+=windingLine(xi,yi,x1,y1,x,y):(x0=x1,y0=y1);var _x=(x-cx)*ry/rx+cx;if(isStroke){if(arc.containStroke(cx,cy,ry,theta,theta+dTheta,anticlockwise,lineWidth,_x,y))return!0}else w+=windingArc(cx,cy,ry,theta,theta+dTheta,anticlockwise,_x,y);xi=Math.cos(theta+dTheta)*rx+cx,yi=Math.sin(theta+dTheta)*ry+cy;break;case CMD.R:x0=xi=data[i++],y0=yi=data[i++];var width=data[i++],height=data[i++],x1=x0+width,y1=y0+height;if(isStroke){if(line.containStroke(x0,y0,x1,y0,lineWidth,x,y)||line.containStroke(x1,y0,x1,y1,lineWidth,x,y)||line.containStroke(x1,y1,x0,y1,lineWidth,x,y)||line.containStroke(x0,y1,x0,y0,lineWidth,x,y))return!0}else w+=windingLine(x1,y0,x1,y1,x,y),w+=windingLine(x0,y1,x0,y0,x,y);break;case CMD.Z:if(isStroke){if(line.containStroke(xi,yi,x0,y0,lineWidth,x,y))return!0}else w+=windingLine(xi,yi,x0,y0,x,y);xi=x0,yi=y0}}return isStroke||isAroundEqual(yi,y0)||(w+=windingLine(xi,yi,x0,y0,x,y)||0),0!==w}function contain(pathData,x,y){return containPath(pathData,0,!1,x,y)}function containStroke(pathData,lineWidth,x,y){return containPath(pathData,lineWidth,!0,x,y)}var PathProxy=__webpack_require__(200),line=__webpack_require__(915),cubic=__webpack_require__(2325),quadratic=__webpack_require__(917),arc=__webpack_require__(2324),_util=__webpack_require__(918),normalizeRadian=_util.normalizeRadian,curve=__webpack_require__(140),windingLine=__webpack_require__(919),CMD=PathProxy.CMD,PI2=2*Math.PI,EPSILON=1e-4,roots=[-1,-1,-1],extrema=[-1,-1];exports.contain=contain,exports.containStroke=containStroke},function(module,exports,__webpack_require__){function dist(pointPair){var dx=pointPair[1][0]-pointPair[0][0],dy=pointPair[1][1]-pointPair[0][1];return Math.sqrt(dx*dx+dy*dy)}function center(pointPair){return[(pointPair[0][0]+pointPair[1][0])/2,(pointPair[0][1]+pointPair[1][1])/2]}var eventUtil=__webpack_require__(124),GestureMgr=function(){this._track=[]};GestureMgr.prototype={"constructor":GestureMgr,"recognize":function(event,target,root){return this._doTrack(event,target,root),this._recognize(event)},"clear":function(){return this._track.length=0,this},"_doTrack":function(event,target,root){var touches=event.touches;if(touches){for(var trackItem={"points":[],"touches":[],"target":target,"event":event},i=0,len=touches.length;i<len;i++){var touch=touches[i],pos=eventUtil.clientToLocal(root,touch,{});trackItem.points.push([pos.zrX,pos.zrY]),trackItem.touches.push(touch)}this._track.push(trackItem)}},"_recognize":function(event){for(var eventName in recognizers)if(recognizers.hasOwnProperty(eventName)){var gestureInfo=recognizers[eventName](this._track,event);if(gestureInfo)return gestureInfo}}};var recognizers={"pinch":function(track,event){var trackLen=track.length;if(trackLen){var pinchEnd=(track[trackLen-1]||{}).points,pinchPre=(track[trackLen-2]||{}).points||pinchEnd;if(pinchPre&&pinchPre.length>1&&pinchEnd&&pinchEnd.length>1){var pinchScale=dist(pinchEnd)/dist(pinchPre);!isFinite(pinchScale)&&(pinchScale=1),event.pinchScale=pinchScale;var pinchCenter=center(pinchEnd);return event.pinchX=pinchCenter[0],event.pinchY=pinchCenter[1],{"type":"pinch","target":track[0].target,"event":event}}}}},_default=GestureMgr;module.exports=_default},function(module,exports){function Diff(){}function buildValues(diff,components,newArr,oldArr){for(var componentPos=0,componentLen=components.length,newPos=0,oldPos=0;componentPos<componentLen;componentPos++){var component=components[componentPos];if(component.removed){for(var indices=[],i=oldPos;i<oldPos+component.count;i++)indices.push(i);component.indices=indices,oldPos+=component.count}else{for(var indices=[],i=newPos;i<newPos+component.count;i++)indices.push(i);component.indices=indices,newPos+=component.count,component.added||(oldPos+=component.count)}}return components}function clonePath(path){return{"newPos":path.newPos,"components":path.components.slice(0)}}function _default(oldArr,newArr,callback){return arrayDiff.diff(oldArr,newArr,callback)}Diff.prototype={"diff":function(oldArr,newArr,equals){function execEditLength(){for(var diagonalPath=-1*editLength;diagonalPath<=editLength;diagonalPath+=2){var basePath,addPath=bestPath[diagonalPath-1],removePath=bestPath[diagonalPath+1],oldPos=(removePath?removePath.newPos:0)-diagonalPath;addPath&&(bestPath[diagonalPath-1]=void 0);var canAdd=addPath&&addPath.newPos+1<newLen,canRemove=removePath&&0<=oldPos&&oldPos<oldLen;if(canAdd||canRemove){if(!canAdd||canRemove&&addPath.newPos<removePath.newPos?(basePath=clonePath(removePath),self.pushComponent(basePath.components,void 0,!0)):(basePath=addPath,basePath.newPos++,self.pushComponent(basePath.components,!0,void 0)),oldPos=self.extractCommon(basePath,newArr,oldArr,diagonalPath),basePath.newPos+1>=newLen&&oldPos+1>=oldLen)return buildValues(self,basePath.components,newArr,oldArr);bestPath[diagonalPath]=basePath}else bestPath[diagonalPath]=void 0}editLength++}equals||(equals=function(a,b){return a===b}),this.equals=equals;var self=this;oldArr=oldArr.slice(),newArr=newArr.slice();var newLen=newArr.length,oldLen=oldArr.length,editLength=1,maxEditLength=newLen+oldLen,bestPath=[{"newPos":-1,"components":[]}],oldPos=this.extractCommon(bestPath[0],newArr,oldArr,0);if(bestPath[0].newPos+1>=newLen&&oldPos+1>=oldLen){for(var indices=[],i=0;i<newArr.length;i++)indices.push(i);return[{"indices":indices,"count":newArr.length}]}for(;editLength<=maxEditLength;){var ret=execEditLength();if(ret)return ret}},"pushComponent":function(components,added,removed){var last=components[components.length-1];last&&last.added===added&&last.removed===removed?components[components.length-1]={"count":last.count+1,"added":added,"removed":removed}:components.push({"count":1,"added":added,"removed":removed})},"extractCommon":function(basePath,newArr,oldArr,diagonalPath){for(var newLen=newArr.length,oldLen=oldArr.length,newPos=basePath.newPos,oldPos=newPos-diagonalPath,commonCount=0;newPos+1<newLen&&oldPos+1<oldLen&&this.equals(newArr[newPos+1],oldArr[oldPos+1]);)newPos++,oldPos++,commonCount++;return commonCount&&basePath.components.push({"count":commonCount}),basePath.newPos=newPos,oldPos},"tokenize":function(value){return value.slice()},"join":function(value){return value.slice()}};var arrayDiff=new Diff;module.exports=_default},function(module,exports,__webpack_require__){function eventNameFix(name){return"mousewheel"===name&&env.browser.firefox?"DOMMouseScroll":name}function processGesture(proxy,event,stage){var gestureMgr=proxy._gestureMgr;"start"===stage&&gestureMgr.clear();var gestureInfo=gestureMgr.recognize(event,proxy.handler.findHover(event.zrX,event.zrY,null).target,proxy.dom);if("end"===stage&&gestureMgr.clear(),gestureInfo){var type=gestureInfo.type;event.gestureEvent=type,proxy.handler.dispatchToElement({"target":gestureInfo.target},type,gestureInfo.event)}}function setTouchTimer(instance){instance._touching=!0,clearTimeout(instance._touchTimer),instance._touchTimer=setTimeout(function(){instance._touching=!1},700)}function isPointerFromTouch(event){var pointerType=event.pointerType;return"pen"===pointerType||"touch"===pointerType}function initDomHandler(instance){function makeMouseHandler(fn,instance){return function(){if(!instance._touching)return fn.apply(instance,arguments)}}zrUtil.each(touchHandlerNames,function(name){instance._handlers[name]=zrUtil.bind(domHandlers[name],instance)}),zrUtil.each(pointerHandlerNames,function(name){instance._handlers[name]=zrUtil.bind(domHandlers[name],instance)}),zrUtil.each(mouseHandlerNames,function(name){instance._handlers[name]=makeMouseHandler(domHandlers[name],instance)})}function HandlerDomProxy(dom){function mountHandlers(handlerNames,instance){zrUtil.each(handlerNames,function(name){addEventListener(dom,eventNameFix(name),instance._handlers[name])},instance)}Eventful.call(this),this.dom=dom,this._touching=!1,this._touchTimer,this._gestureMgr=new GestureMgr,this._handlers={},initDomHandler(this),env.pointerEventsSupported?mountHandlers(pointerHandlerNames,this):(env.touchEventsSupported&&mountHandlers(touchHandlerNames,this),mountHandlers(mouseHandlerNames,this))}var _event=__webpack_require__(124),addEventListener=_event.addEventListener,removeEventListener=_event.removeEventListener,normalizeEvent=_event.normalizeEvent,zrUtil=__webpack_require__(4),Eventful=__webpack_require__(176),env=__webpack_require__(52),GestureMgr=__webpack_require__(2327),TOUCH_CLICK_DELAY=300,mouseHandlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touchHandlerNames=["touchstart","touchend","touchmove"],pointerEventNames={"pointerdown":1,"pointerup":1,"pointermove":1,"pointerout":1},pointerHandlerNames=zrUtil.map(mouseHandlerNames,function(name){var nm=name.replace("mouse","pointer");return pointerEventNames[nm]?nm:name}),domHandlers={"mousemove":function(event){event=normalizeEvent(this.dom,event),this.trigger("mousemove",event)},"mouseout":function(event){event=normalizeEvent(this.dom,event);var element=event.toElement||event.relatedTarget;if(element!=this.dom)for(;element&&9!=element.nodeType;){if(element===this.dom)return;element=element.parentNode}this.trigger("mouseout",event)},"touchstart":function(event){event=normalizeEvent(this.dom,event),event.zrByTouch=!0,this._lastTouchMoment=new Date,processGesture(this,event,"start"),domHandlers.mousemove.call(this,event),domHandlers.mousedown.call(this,event),setTouchTimer(this)},"touchmove":function(event){event=normalizeEvent(this.dom,event),event.zrByTouch=!0,processGesture(this,event,"change"),
domHandlers.mousemove.call(this,event),setTouchTimer(this)},"touchend":function(event){event=normalizeEvent(this.dom,event),event.zrByTouch=!0,processGesture(this,event,"end"),domHandlers.mouseup.call(this,event),+new Date-this._lastTouchMoment<TOUCH_CLICK_DELAY&&domHandlers.click.call(this,event),setTouchTimer(this)},"pointerdown":function(event){domHandlers.mousedown.call(this,event)},"pointermove":function(event){isPointerFromTouch(event)||domHandlers.mousemove.call(this,event)},"pointerup":function(event){domHandlers.mouseup.call(this,event)},"pointerout":function(event){isPointerFromTouch(event)||domHandlers.mouseout.call(this,event)}};zrUtil.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(name){domHandlers[name]=function(event){event=normalizeEvent(this.dom,event),this.trigger(name,event)}});var handlerDomProxyProto=HandlerDomProxy.prototype;handlerDomProxyProto.dispose=function(){for(var handlerNames=mouseHandlerNames.concat(touchHandlerNames),i=0;i<handlerNames.length;i++){var name=handlerNames[i];removeEventListener(this.dom,eventNameFix(name),this._handlers[name])}},handlerDomProxyProto.setCursor=function(cursorStyle){this.dom.style&&(this.dom.style.cursor=cursorStyle||"default")},zrUtil.mixin(HandlerDomProxy,Eventful);var _default=HandlerDomProxy;module.exports=_default},function(module,exports,__webpack_require__){var Path=__webpack_require__(50),_default=Path.extend({"type":"compound","shape":{"paths":null},"_updatePathDirty":function(){for(var dirtyPath=this.__dirtyPath,paths=this.shape.paths,i=0;i<paths.length;i++)dirtyPath=dirtyPath||paths[i].__dirtyPath;this.__dirtyPath=dirtyPath,this.__dirty=this.__dirty||dirtyPath},"beforeBrush":function(){this._updatePathDirty();for(var paths=this.shape.paths||[],scale=this.getGlobalScale(),i=0;i<paths.length;i++)paths[i].path||paths[i].createPathProxy(),paths[i].path.setScale(scale[0],scale[1])},"buildPath":function(ctx,shape){for(var paths=shape.paths||[],i=0;i<paths.length;i++)paths[i].buildPath(ctx,paths[i].shape,!0)},"afterBrush":function(){for(var paths=this.shape.paths||[],i=0;i<paths.length;i++)paths[i].__dirtyPath=!1},"getBoundingRect":function(){return this._updatePathDirty(),Path.prototype.getBoundingRect.call(this)}});module.exports=_default},function(module,exports,__webpack_require__){var zrUtil=__webpack_require__(4),Gradient=__webpack_require__(317),RadialGradient=function(x,y,r,colorStops,globalCoord){this.x=null==x?.5:x,this.y=null==y?.5:y,this.r=null==r?.5:r,this.type="radial",this.global=globalCoord||!1,Gradient.call(this,colorStops)};RadialGradient.prototype={"constructor":RadialGradient},zrUtil.inherits(RadialGradient,Gradient);var _default=RadialGradient;module.exports=_default},function(module,exports,__webpack_require__){function _default(points,smooth,isLoop,constraint){var prevPoint,nextPoint,min,max,cps=[],v=[],v1=[],v2=[];if(constraint){min=[1/0,1/0],max=[-(1/0),-(1/0)];for(var i=0,len=points.length;i<len;i++)v2Min(min,min,points[i]),v2Max(max,max,points[i]);v2Min(min,min,constraint[0]),v2Max(max,max,constraint[1])}for(var i=0,len=points.length;i<len;i++){var point=points[i];if(isLoop)prevPoint=points[i?i-1:len-1],nextPoint=points[(i+1)%len];else{if(0===i||i===len-1){cps.push(v2Clone(points[i]));continue}prevPoint=points[i-1],nextPoint=points[i+1]}v2Sub(v,nextPoint,prevPoint),v2Scale(v,v,smooth);var d0=v2Distance(point,prevPoint),d1=v2Distance(point,nextPoint),sum=d0+d1;0!==sum&&(d0/=sum,d1/=sum),v2Scale(v1,v,-d0),v2Scale(v2,v,d1);var cp0=v2Add([],point,v1),cp1=v2Add([],point,v2);constraint&&(v2Max(cp0,cp0,min),v2Min(cp0,cp0,max),v2Max(cp1,cp1,min),v2Min(cp1,cp1,max)),cps.push(cp0),cps.push(cp1)}return isLoop&&cps.push(cps.shift()),cps}var _vector=__webpack_require__(38),v2Min=_vector.min,v2Max=_vector.max,v2Scale=_vector.scale,v2Distance=_vector.distance,v2Add=_vector.add,v2Clone=_vector.clone,v2Sub=_vector.sub;module.exports=_default},function(module,exports,__webpack_require__){function interpolate(p0,p1,p2,p3,t,t2,t3){var v0=.5*(p2-p0),v1=.5*(p3-p1);return(2*(p1-p2)+v0+v1)*t3+(-3*(p1-p2)-2*v0-v1)*t2+v0*t+p1}function _default(points,isLoop){for(var len=points.length,ret=[],distance=0,i=1;i<len;i++)distance+=v2Distance(points[i-1],points[i]);var segs=distance/2;segs=segs<len?len:segs;for(var i=0;i<segs;i++){var p0,p2,p3,pos=i/(segs-1)*(isLoop?len:len-1),idx=Math.floor(pos),w=pos-idx,p1=points[idx%len];isLoop?(p0=points[(idx-1+len)%len],p2=points[(idx+1)%len],p3=points[(idx+2)%len]):(p0=points[0===idx?idx:idx-1],p2=points[idx>len-2?len-1:idx+1],p3=points[idx>len-3?len-1:idx+2]);var w2=w*w,w3=w*w2;ret.push([interpolate(p0[0],p1[0],p2[0],p3[0],w,w2,w3),interpolate(p0[1],p1[1],p2[1],p3[1],w,w2,w3)])}return ret}var _vector=__webpack_require__(38),v2Distance=_vector.distance;module.exports=_default},function(module,exports,__webpack_require__){var Path=__webpack_require__(50),_default=Path.extend({"type":"arc","shape":{"cx":0,"cy":0,"r":0,"startAngle":0,"endAngle":2*Math.PI,"clockwise":!0},"style":{"stroke":"#000","fill":null},"buildPath":function(ctx,shape){var x=shape.cx,y=shape.cy,r=Math.max(shape.r,0),startAngle=shape.startAngle,endAngle=shape.endAngle,clockwise=shape.clockwise,unitX=Math.cos(startAngle),unitY=Math.sin(startAngle);ctx.moveTo(unitX*r+x,unitY*r+y),ctx.arc(x,y,r,startAngle,endAngle,!clockwise)}});module.exports=_default},function(module,exports,__webpack_require__){function someVectorAt(shape,t,isTangent){var cpx2=shape.cpx2,cpy2=shape.cpy2;return null===cpx2||null===cpy2?[(isTangent?cubicDerivativeAt:cubicAt)(shape.x1,shape.cpx1,shape.cpx2,shape.x2,t),(isTangent?cubicDerivativeAt:cubicAt)(shape.y1,shape.cpy1,shape.cpy2,shape.y2,t)]:[(isTangent?quadraticDerivativeAt:quadraticAt)(shape.x1,shape.cpx1,shape.x2,t),(isTangent?quadraticDerivativeAt:quadraticAt)(shape.y1,shape.cpy1,shape.y2,t)]}var Path=__webpack_require__(50),vec2=__webpack_require__(38),_curve=__webpack_require__(140),quadraticSubdivide=_curve.quadraticSubdivide,cubicSubdivide=_curve.cubicSubdivide,quadraticAt=_curve.quadraticAt,cubicAt=_curve.cubicAt,quadraticDerivativeAt=_curve.quadraticDerivativeAt,cubicDerivativeAt=_curve.cubicDerivativeAt,out=[],_default=Path.extend({"type":"bezier-curve","shape":{"x1":0,"y1":0,"x2":0,"y2":0,"cpx1":0,"cpy1":0,"percent":1},"style":{"stroke":"#000","fill":null},"buildPath":function(ctx,shape){var x1=shape.x1,y1=shape.y1,x2=shape.x2,y2=shape.y2,cpx1=shape.cpx1,cpy1=shape.cpy1,cpx2=shape.cpx2,cpy2=shape.cpy2,percent=shape.percent;0!==percent&&(ctx.moveTo(x1,y1),null==cpx2||null==cpy2?(percent<1&&(quadraticSubdivide(x1,cpx1,x2,percent,out),cpx1=out[1],x2=out[2],quadraticSubdivide(y1,cpy1,y2,percent,out),cpy1=out[1],y2=out[2]),ctx.quadraticCurveTo(cpx1,cpy1,x2,y2)):(percent<1&&(cubicSubdivide(x1,cpx1,cpx2,x2,percent,out),cpx1=out[1],cpx2=out[2],x2=out[3],cubicSubdivide(y1,cpy1,cpy2,y2,percent,out),cpy1=out[1],cpy2=out[2],y2=out[3]),ctx.bezierCurveTo(cpx1,cpy1,cpx2,cpy2,x2,y2)))},"pointAt":function(t){return someVectorAt(this.shape,t,!1)},"tangentAt":function(t){var p=someVectorAt(this.shape,t,!0);return vec2.normalize(p,p)}});module.exports=_default},function(module,exports,__webpack_require__){var Path=__webpack_require__(50),_default=Path.extend({"type":"circle","shape":{"cx":0,"cy":0,"r":0},"buildPath":function(ctx,shape,inBundle){inBundle&&ctx.moveTo(shape.cx+shape.r,shape.cy),ctx.arc(shape.cx,shape.cy,shape.r,0,2*Math.PI,!0)}});module.exports=_default},function(module,exports,__webpack_require__){var Path=__webpack_require__(50),_default=Path.extend({"type":"line","shape":{"x1":0,"y1":0,"x2":0,"y2":0,"percent":1},"style":{"stroke":"#000","fill":null},"buildPath":function(ctx,shape){var x1=shape.x1,y1=shape.y1,x2=shape.x2,y2=shape.y2,percent=shape.percent;0!==percent&&(ctx.moveTo(x1,y1),percent<1&&(x2=x1*(1-percent)+x2*percent,y2=y1*(1-percent)+y2*percent),ctx.lineTo(x2,y2))},"pointAt":function(p){var shape=this.shape;return[shape.x1*(1-p)+shape.x2*p,shape.y1*(1-p)+shape.y2*p]}});module.exports=_default},function(module,exports,__webpack_require__){var Path=__webpack_require__(50),polyHelper=__webpack_require__(927),_default=Path.extend({"type":"polygon","shape":{"points":null,"smooth":!1,"smoothConstraint":null},"buildPath":function(ctx,shape){polyHelper.buildPath(ctx,shape,!0)}});module.exports=_default},function(module,exports,__webpack_require__){var Path=__webpack_require__(50),polyHelper=__webpack_require__(927),_default=Path.extend({"type":"polyline","shape":{"points":null,"smooth":!1,"smoothConstraint":null},"style":{"stroke":"#000","fill":null},"buildPath":function(ctx,shape){polyHelper.buildPath(ctx,shape,!1)}});module.exports=_default},function(module,exports,__webpack_require__){var Path=__webpack_require__(50),roundRectHelper=__webpack_require__(928),_default=Path.extend({"type":"rect","shape":{"r":0,"x":0,"y":0,"width":0,"height":0},"buildPath":function(ctx,shape){var x=shape.x,y=shape.y,width=shape.width,height=shape.height;shape.r?roundRectHelper.buildPath(ctx,shape):ctx.rect(x,y,width,height),ctx.closePath()}});module.exports=_default},function(module,exports,__webpack_require__){var Path=__webpack_require__(50),_default=Path.extend({"type":"ring","shape":{"cx":0,"cy":0,"r":0,"r0":0},"buildPath":function(ctx,shape){var x=shape.cx,y=shape.cy,PI2=2*Math.PI;ctx.moveTo(x+shape.r,y),ctx.arc(x,y,shape.r,0,PI2,!1),ctx.moveTo(x+shape.r0,y),ctx.arc(x,y,shape.r0,0,PI2,!0)}});module.exports=_default},function(module,exports,__webpack_require__){var Path=__webpack_require__(50),fixClipWithShadow=__webpack_require__(925),_default=Path.extend({"type":"sector","shape":{"cx":0,"cy":0,"r0":0,"r":0,"startAngle":0,"endAngle":2*Math.PI,"clockwise":!0},"brush":fixClipWithShadow(Path.prototype.brush),"buildPath":function(ctx,shape){var x=shape.cx,y=shape.cy,r0=Math.max(shape.r0||0,0),r=Math.max(shape.r,0),startAngle=shape.startAngle,endAngle=shape.endAngle,clockwise=shape.clockwise,unitX=Math.cos(startAngle),unitY=Math.sin(startAngle);ctx.moveTo(unitX*r0+x,unitY*r0+y),ctx.lineTo(unitX*r+x,unitY*r+y),ctx.arc(x,y,r,startAngle,endAngle,!clockwise),ctx.lineTo(Math.cos(endAngle)*r0+x,Math.sin(endAngle)*r0+y),0!==r0&&ctx.arc(x,y,r0,endAngle,startAngle,clockwise),ctx.closePath()}});module.exports=_default},function(module,exports,__webpack_require__){var Animator=__webpack_require__(913),log=__webpack_require__(242),_util=__webpack_require__(4),isString=_util.isString,isFunction=_util.isFunction,isObject=_util.isObject,isArrayLike=_util.isArrayLike,indexOf=_util.indexOf,Animatable=function(){this.animators=[]};Animatable.prototype={"constructor":Animatable,"animate":function(path,loop){var target,animatingShape=!1,el=this,zr=this.__zr;if(path){var pathSplitted=path.split("."),prop=el;animatingShape="shape"===pathSplitted[0];for(var i=0,l=pathSplitted.length;i<l;i++)prop&&(prop=prop[pathSplitted[i]]);prop&&(target=prop)}else target=el;if(!target)return void log('Property "'+path+'" is not existed in element '+el.id);var animators=el.animators,animator=new Animator(target,loop);return animator.during(function(target){el.dirty(animatingShape)}).done(function(){animators.splice(indexOf(animators,animator),1)}),animators.push(animator),zr&&zr.animation.addAnimator(animator),animator},"stopAnimation":function(forwardToLast){for(var animators=this.animators,len=animators.length,i=0;i<len;i++)animators[i].stop(forwardToLast);return animators.length=0,this},"animateTo":function(target,time,delay,easing,callback,forceAnimate){function done(){count--,count||callback&&callback()}isString(delay)?(callback=easing,easing=delay,delay=0):isFunction(easing)?(callback=easing,easing="linear",delay=0):isFunction(delay)?(callback=delay,delay=0):isFunction(time)?(callback=time,time=500):time||(time=500),this.stopAnimation(),this._animateToShallow("",this,target,time,delay);var animators=this.animators.slice(),count=animators.length;count||callback&&callback();for(var i=0;i<animators.length;i++)animators[i].done(done).start(easing,forceAnimate)},"_animateToShallow":function(path,source,target,time,delay){var objShallow={},propertyCount=0;for(var name in target)if(target.hasOwnProperty(name))if(null!=source[name])isObject(target[name])&&!isArrayLike(target[name])?this._animateToShallow(path?path+"."+name:name,source[name],target[name],time,delay):(objShallow[name]=target[name],propertyCount++);else if(null!=target[name])if(path){var props={};props[path]={},props[path][name]=target[name],this.attr(props)}else this.attr(name,target[name]);return propertyCount>0&&this.animate(path,!1).when(null==time?500:time,objShallow).delay(delay||0),this}};var _default=Animatable;module.exports=_default},function(module,exports){function Draggable(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function param(target,e){return{"target":target,"topTarget":e&&e.topTarget}}Draggable.prototype={"constructor":Draggable,"_dragStart":function(e){var draggingTarget=e.target;draggingTarget&&draggingTarget.draggable&&(this._draggingTarget=draggingTarget,draggingTarget.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(param(draggingTarget,e),"dragstart",e.event))},"_drag":function(e){var draggingTarget=this._draggingTarget;if(draggingTarget){var x=e.offsetX,y=e.offsetY,dx=x-this._x,dy=y-this._y;this._x=x,this._y=y,draggingTarget.drift(dx,dy,e),this.dispatchToElement(param(draggingTarget,e),"drag",e.event);var dropTarget=this.findHover(x,y,draggingTarget).target,lastDropTarget=this._dropTarget;this._dropTarget=dropTarget,draggingTarget!==dropTarget&&(lastDropTarget&&dropTarget!==lastDropTarget&&this.dispatchToElement(param(lastDropTarget,e),"dragleave",e.event),dropTarget&&dropTarget!==lastDropTarget&&this.dispatchToElement(param(dropTarget,e),"dragenter",e.event))}},"_dragEnd":function(e){var draggingTarget=this._draggingTarget;draggingTarget&&(draggingTarget.dragging=!1),this.dispatchToElement(param(draggingTarget,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(param(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}};var _default=Draggable;module.exports=_default},function(module,exports,__webpack_require__){function parseInt10(val){return parseInt(val,10)}function getSvgProxy(el){return el instanceof Path?svgPath:el instanceof ZImage?svgImage:el instanceof ZText?svgText:svgPath}function checkParentAvailable(parent,child){return child&&parent&&child.parentNode!==parent}function insertAfter(parent,child,prevSibling){if(checkParentAvailable(parent,child)&&prevSibling){var nextSibling=prevSibling.nextSibling;nextSibling?parent.insertBefore(child,nextSibling):parent.appendChild(child)}}function prepend(parent,child){if(checkParentAvailable(parent,child)){var firstChild=parent.firstChild;firstChild?parent.insertBefore(child,firstChild):parent.appendChild(child)}}function remove(parent,child){child&&parent&&child.parentNode===parent&&parent.removeChild(child)}function getTextSvgElement(displayable){return displayable.__textSvgEl}function getSvgElement(displayable){return displayable.__svgEl}function createMethodNotSupport(method){return function(){zrLog('In SVG mode painter not support method "'+method+'"')}}var _core=__webpack_require__(513),createElement=_core.createElement,util=__webpack_require__(4),each=util.each,zrLog=__webpack_require__(242),Path=__webpack_require__(50),ZImage=__webpack_require__(244),ZText=__webpack_require__(245),arrayDiff=__webpack_require__(2328),GradientManager=__webpack_require__(2347),ClippathManager=__webpack_require__(2346),ShadowManager=__webpack_require__(2348),_graphic=__webpack_require__(514),svgPath=_graphic.path,svgImage=_graphic.image,svgText=_graphic.text,SVGPainter=function(root,storage,opts,zrId){this.root=root,this.storage=storage,this._opts=opts=util.extend({},opts||{});var svgRoot=createElement("svg");svgRoot.setAttribute("xmlns","http://www.w3.org/2000/svg"),svgRoot.setAttribute("version","1.1"),svgRoot.setAttribute("baseProfile","full"),svgRoot.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new GradientManager(zrId,svgRoot),this.clipPathManager=new ClippathManager(zrId,svgRoot),this.shadowManager=new ShadowManager(zrId,svgRoot);var viewport=document.createElement("div");viewport.style.cssText="overflow:hidden;position:relative",this._svgRoot=svgRoot,this._viewport=viewport,root.appendChild(viewport),viewport.appendChild(svgRoot),this.resize(opts.width,opts.height),this._visibleList=[]};SVGPainter.prototype={"constructor":SVGPainter,"getType":function(){return"svg"},"getViewportRoot":function(){return this._viewport},"getViewportRootOffset":function(){var viewportRoot=this.getViewportRoot();if(viewportRoot)return{"offsetLeft":viewportRoot.offsetLeft||0,"offsetTop":viewportRoot.offsetTop||0}},"refresh":function(){var list=this.storage.getDisplayList(!0);this._paintList(list)},"setBackgroundColor":function(backgroundColor){this._viewport.style.background=backgroundColor},"_paintList":function(list){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var i,svgRoot=this._svgRoot,visibleList=this._visibleList,listLen=list.length,newVisibleList=[];for(i=0;i<listLen;i++){var displayable=list[i],svgProxy=getSvgProxy(displayable),svgElement=getSvgElement(displayable)||getTextSvgElement(displayable);displayable.invisible||(displayable.__dirty&&(svgProxy&&svgProxy.brush(displayable),this.clipPathManager.update(displayable),displayable.style&&(this.gradientManager.update(displayable.style.fill),this.gradientManager.update(displayable.style.stroke),this.shadowManager.update(svgElement,displayable)),displayable.__dirty=!1),newVisibleList.push(displayable))}var prevSvgElement,diff=arrayDiff(visibleList,newVisibleList);for(i=0;i<diff.length;i++){var item=diff[i];if(item.removed)for(var k=0;k<item.count;k++){var displayable=visibleList[item.indices[k]],svgElement=getSvgElement(displayable),textSvgElement=getTextSvgElement(displayable);remove(svgRoot,svgElement),remove(svgRoot,textSvgElement)}}for(i=0;i<diff.length;i++){var item=diff[i];if(item.added)for(var k=0;k<item.count;k++){var displayable=newVisibleList[item.indices[k]],svgElement=getSvgElement(displayable),textSvgElement=getTextSvgElement(displayable);prevSvgElement?insertAfter(svgRoot,svgElement,prevSvgElement):prepend(svgRoot,svgElement),svgElement?insertAfter(svgRoot,textSvgElement,svgElement):prevSvgElement?insertAfter(svgRoot,textSvgElement,prevSvgElement):prepend(svgRoot,textSvgElement),insertAfter(svgRoot,textSvgElement,svgElement),prevSvgElement=textSvgElement||svgElement||prevSvgElement,this.gradientManager.addWithoutUpdate(svgElement,displayable),this.shadowManager.addWithoutUpdate(prevSvgElement,displayable),this.clipPathManager.markUsed(displayable)}else if(!item.removed)for(var k=0;k<item.count;k++){var displayable=newVisibleList[item.indices[k]];prevSvgElement=svgElement=getTextSvgElement(displayable)||getSvgElement(displayable)||prevSvgElement,this.gradientManager.markUsed(displayable),this.gradientManager.addWithoutUpdate(svgElement,displayable),this.shadowManager.markUsed(displayable),this.shadowManager.addWithoutUpdate(svgElement,displayable),this.clipPathManager.markUsed(displayable)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=newVisibleList},"_getDefs":function(isForceCreating){var svgRoot=this._svgRoot,defs=this._svgRoot.getElementsByTagName("defs");if(0===defs.length){if(isForceCreating){var defs=svgRoot.insertBefore(createElement("defs"),svgRoot.firstChild);return defs.contains||(defs.contains=function(el){var children=defs.children;if(!children)return!1;for(var i=children.length-1;i>=0;--i)if(children[i]===el)return!0;return!1}),defs}return null}return defs[0]},"resize":function(width,height){var viewport=this._viewport;viewport.style.display="none";var opts=this._opts;if(null!=width&&(opts.width=width),null!=height&&(opts.height=height),width=this._getSize(0),height=this._getSize(1),viewport.style.display="",this._width!==width||this._height!==height){this._width=width,this._height=height;var viewportStyle=viewport.style;viewportStyle.width=width+"px",viewportStyle.height=height+"px";var svgRoot=this._svgRoot;svgRoot.setAttribute("width",width),svgRoot.setAttribute("height",height)}},"getWidth":function(){return this._width},"getHeight":function(){return this._height},"_getSize":function(whIdx){var opts=this._opts,wh=["width","height"][whIdx],cwh=["clientWidth","clientHeight"][whIdx],plt=["paddingLeft","paddingTop"][whIdx],prb=["paddingRight","paddingBottom"][whIdx];if(null!=opts[wh]&&"auto"!==opts[wh])return parseFloat(opts[wh]);var root=this.root,stl=document.defaultView.getComputedStyle(root);return(root[cwh]||parseInt10(stl[wh])||parseInt10(root.style[wh]))-(parseInt10(stl[plt])||0)-(parseInt10(stl[prb])||0)|0},"dispose":function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},"clear":function(){this._viewport&&this.root.removeChild(this._viewport)},"pathToDataUrl":function(){this.refresh();var html=this._svgRoot.outerHTML;return"data:image/svg+xml;charset=UTF-8,"+html}},each(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(name){SVGPainter.prototype[name]=createMethodNotSupport(name)});var _default=SVGPainter;module.exports=_default},function(module,exports,__webpack_require__){function ClippathManager(zrId,svgRoot){Definable.call(this,zrId,svgRoot,"clipPath","__clippath_in_use__")}var Definable=__webpack_require__(515),zrUtil=__webpack_require__(4),matrix=__webpack_require__(70);zrUtil.inherits(ClippathManager,Definable),ClippathManager.prototype.update=function(displayable){var svgEl=this.getSvgElement(displayable);svgEl&&this.updateDom(svgEl,displayable.__clipPaths,!1);var textEl=this.getTextSvgElement(displayable);textEl&&this.updateDom(textEl,displayable.__clipPaths,!0),this.markUsed(displayable)},ClippathManager.prototype.updateDom=function(parentEl,clipPaths,isText){if(clipPaths&&clipPaths.length>0){var clipPathEl,id,defs=this.getDefs(!0),clipPath=clipPaths[0],dom=isText?"_textDom":"_dom";clipPath[dom]?(id=clipPath[dom].getAttribute("id"),clipPathEl=clipPath[dom],defs.contains(clipPathEl)||defs.appendChild(clipPathEl)):(id="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,clipPathEl=this.createElement("clipPath"),clipPathEl.setAttribute("id",id),defs.appendChild(clipPathEl),clipPath[dom]=clipPathEl);var svgProxy=this.getSvgProxy(clipPath);if(clipPath.transform&&clipPath.parent.invTransform&&!isText){var transform=Array.prototype.slice.call(clipPath.transform);matrix.mul(clipPath.transform,clipPath.parent.invTransform,clipPath.transform),svgProxy.brush(clipPath),clipPath.transform=transform}else svgProxy.brush(clipPath);var pathEl=this.getSvgElement(clipPath);clipPathEl.innerHTML="",clipPathEl.appendChild(pathEl.cloneNode()),parentEl.setAttribute("clip-path","url(#"+id+")"),clipPaths.length>1&&this.updateDom(clipPathEl,clipPaths.slice(1),isText)}else parentEl&&parentEl.setAttribute("clip-path","none")},ClippathManager.prototype.markUsed=function(displayable){var that=this;displayable.__clipPaths&&displayable.__clipPaths.length>0&&zrUtil.each(displayable.__clipPaths,function(clipPath){clipPath._dom&&Definable.prototype.markUsed.call(that,clipPath._dom),clipPath._textDom&&Definable.prototype.markUsed.call(that,clipPath._textDom)})};var _default=ClippathManager;module.exports=_default},function(module,exports,__webpack_require__){function GradientManager(zrId,svgRoot){Definable.call(this,zrId,svgRoot,["linearGradient","radialGradient"],"__gradient_in_use__")}var Definable=__webpack_require__(515),zrUtil=__webpack_require__(4),zrLog=__webpack_require__(242);zrUtil.inherits(GradientManager,Definable),GradientManager.prototype.addWithoutUpdate=function(svgElement,displayable){if(displayable&&displayable.style){var that=this;zrUtil.each(["fill","stroke"],function(fillOrStroke){if(displayable.style[fillOrStroke]&&("linear"===displayable.style[fillOrStroke].type||"radial"===displayable.style[fillOrStroke].type)){var dom,gradient=displayable.style[fillOrStroke],defs=that.getDefs(!0);gradient._dom?(dom=gradient._dom,defs.contains(gradient._dom)||that.addDom(dom)):dom=that.add(gradient),that.markUsed(displayable);var id=dom.getAttribute("id");svgElement.setAttribute(fillOrStroke,"url(#"+id+")")}})}},GradientManager.prototype.add=function(gradient){var dom;if("linear"===gradient.type)dom=this.createElement("linearGradient");else{if("radial"!==gradient.type)return zrLog("Illegal gradient type."),null;dom=this.createElement("radialGradient")}return gradient.id=gradient.id||this.nextId++,dom.setAttribute("id","zr"+this._zrId+"-gradient-"+gradient.id),this.updateDom(gradient,dom),this.addDom(dom),dom},GradientManager.prototype.update=function(gradient){var that=this;Definable.prototype.update.call(this,gradient,function(){var type=gradient.type,tagName=gradient._dom.tagName;"linear"===type&&"linearGradient"===tagName||"radial"===type&&"radialGradient"===tagName?that.updateDom(gradient,gradient._dom):(that.removeDom(gradient),that.add(gradient))})},GradientManager.prototype.updateDom=function(gradient,dom){if("linear"===gradient.type)dom.setAttribute("x1",gradient.x),dom.setAttribute("y1",gradient.y),dom.setAttribute("x2",gradient.x2),dom.setAttribute("y2",gradient.y2);else{if("radial"!==gradient.type)return void zrLog("Illegal gradient type.");dom.setAttribute("cx",gradient.x),dom.setAttribute("cy",gradient.y),dom.setAttribute("r",gradient.r)}gradient.global?dom.setAttribute("gradientUnits","userSpaceOnUse"):dom.setAttribute("gradientUnits","objectBoundingBox"),dom.innerHTML="";for(var colors=gradient.colorStops,i=0,len=colors.length;i<len;++i){var stop=this.createElement("stop");stop.setAttribute("offset",100*colors[i].offset+"%"),stop.setAttribute("stop-color",colors[i].color),dom.appendChild(stop)}gradient._dom=dom},GradientManager.prototype.markUsed=function(displayable){if(displayable.style){var gradient=displayable.style.fill;gradient&&gradient._dom&&Definable.prototype.markUsed.call(this,gradient._dom),gradient=displayable.style.stroke,gradient&&gradient._dom&&Definable.prototype.markUsed.call(this,gradient._dom)}};var _default=GradientManager;module.exports=_default},function(module,exports,__webpack_require__){function ShadowManager(zrId,svgRoot){Definable.call(this,zrId,svgRoot,["filter"],"__filter_in_use__","_shadowDom")}function hasShadow(style){return style&&(style.shadowBlur||style.shadowOffsetX||style.shadowOffsetY||style.textShadowBlur||style.textShadowOffsetX||style.textShadowOffsetY)}var Definable=__webpack_require__(515),zrUtil=__webpack_require__(4);zrUtil.inherits(ShadowManager,Definable),ShadowManager.prototype.addWithoutUpdate=function(svgElement,displayable){if(displayable&&hasShadow(displayable.style)){var dom,style=displayable.style;if(style._shadowDom){dom=style._shadowDom;var defs=this.getDefs(!0);defs.contains(style._shadowDom)||this.addDom(dom)}else dom=this.add(displayable);this.markUsed(displayable);var id=dom.getAttribute("id");svgElement.style.filter="url(#"+id+")"}},ShadowManager.prototype.add=function(displayable){var dom=this.createElement("filter"),style=displayable.style;return style._shadowDomId=style._shadowDomId||this.nextId++,dom.setAttribute("id","zr"+this._zrId+"-shadow-"+style._shadowDomId),this.updateDom(displayable,dom),this.addDom(dom),dom},ShadowManager.prototype.update=function(svgElement,displayable){var style=displayable.style;if(hasShadow(style)){var that=this;Definable.prototype.update.call(this,displayable,function(style){that.updateDom(displayable,style._shadowDom)})}else this.remove(svgElement,style)},ShadowManager.prototype.remove=function(svgElement,style){null!=style._shadowDomId&&(this.removeDom(style),svgElement.style.filter="")},ShadowManager.prototype.updateDom=function(displayable,dom){var domChild=dom.getElementsByTagName("feDropShadow");domChild=0===domChild.length?this.createElement("feDropShadow"):domChild[0];var offsetX,offsetY,blur,color,style=displayable.style,scaleX=displayable.scale?displayable.scale[0]||1:1,scaleY=displayable.scale?displayable.scale[1]||1:1;if(style.shadowBlur||style.shadowOffsetX||style.shadowOffsetY)offsetX=style.shadowOffsetX||0,offsetY=style.shadowOffsetY||0,blur=style.shadowBlur,color=style.shadowColor;else{if(!style.textShadowBlur)return void this.removeDom(dom,style);offsetX=style.textShadowOffsetX||0,offsetY=style.textShadowOffsetY||0,blur=style.textShadowBlur,color=style.textShadowColor}domChild.setAttribute("dx",offsetX/scaleX),domChild.setAttribute("dy",offsetY/scaleY),domChild.setAttribute("flood-color",color);var stdDx=blur/2/scaleX,stdDy=blur/2/scaleY,stdDeviation=stdDx+" "+stdDy;domChild.setAttribute("stdDeviation",stdDeviation),dom.setAttribute("x","-100%"),dom.setAttribute("y","-100%"),dom.setAttribute("width",Math.ceil(blur/2*200)+"%"),dom.setAttribute("height",Math.ceil(blur/2*200)+"%"),dom.appendChild(domChild),style._shadowDom=dom},ShadowManager.prototype.markUsed=function(displayable){var style=displayable.style;style&&style._shadowDom&&Definable.prototype.markUsed.call(this,style._shadowDom)};var _default=ShadowManager;module.exports=_default},function(module,exports,__webpack_require__){__webpack_require__(514);var _zrender=__webpack_require__(319),registerPainter=_zrender.registerPainter,Painter=__webpack_require__(2345);registerPainter("svg",Painter)},function(module,exports,__webpack_require__){function processArc(x1,y1,x2,y2,fa,fs,rx,ry,psiDeg,cmd,path){var psi=psiDeg*(PI/180),xp=mathCos(psi)*(x1-x2)/2+mathSin(psi)*(y1-y2)/2,yp=-1*mathSin(psi)*(x1-x2)/2+mathCos(psi)*(y1-y2)/2,lambda=xp*xp/(rx*rx)+yp*yp/(ry*ry);lambda>1&&(rx*=mathSqrt(lambda),ry*=mathSqrt(lambda));var f=(fa===fs?-1:1)*mathSqrt((rx*rx*(ry*ry)-rx*rx*(yp*yp)-ry*ry*(xp*xp))/(rx*rx*(yp*yp)+ry*ry*(xp*xp)))||0,cxp=f*rx*yp/ry,cyp=f*-ry*xp/rx,cx=(x1+x2)/2+mathCos(psi)*cxp-mathSin(psi)*cyp,cy=(y1+y2)/2+mathSin(psi)*cxp+mathCos(psi)*cyp,theta=vAngle([1,0],[(xp-cxp)/rx,(yp-cyp)/ry]),u=[(xp-cxp)/rx,(yp-cyp)/ry],v=[(-1*xp-cxp)/rx,(-1*yp-cyp)/ry],dTheta=vAngle(u,v);vRatio(u,v)<=-1&&(dTheta=PI),vRatio(u,v)>=1&&(dTheta=0),0===fs&&dTheta>0&&(dTheta-=2*PI),1===fs&&dTheta<0&&(dTheta+=2*PI),path.addData(cmd,cx,cy,rx,ry,theta,dTheta,psi,fs)}function createPathProxyFromString(data){if(!data)return[];var n,cs=data.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(n=0;n<cc.length;n++)cs=cs.replace(new RegExp(cc[n],"g"),"|"+cc[n]);var prevCmd,arr=cs.split("|"),cpx=0,cpy=0,path=new PathProxy,CMD=PathProxy.CMD;for(n=1;n<arr.length;n++){var cmd,str=arr[n],c=str.charAt(0),off=0,p=str.slice(1).replace(/e,-/g,"e-").split(",");p.length>0&&""===p[0]&&p.shift();for(var i=0;i<p.length;i++)p[i]=parseFloat(p[i]);for(;off<p.length&&!isNaN(p[off])&&!isNaN(p[0]);){var ctlPtx,ctlPty,rx,ry,psi,fa,fs,x1=cpx,y1=cpy;switch(c){case"l":cpx+=p[off++],cpy+=p[off++],cmd=CMD.L,path.addData(cmd,cpx,cpy);break;case"L":cpx=p[off++],cpy=p[off++],cmd=CMD.L,path.addData(cmd,cpx,cpy);break;case"m":cpx+=p[off++],cpy+=p[off++],cmd=CMD.M,path.addData(cmd,cpx,cpy),c="l";break;case"M":cpx=p[off++],cpy=p[off++],cmd=CMD.M,path.addData(cmd,cpx,cpy),c="L";break;case"h":cpx+=p[off++],cmd=CMD.L,path.addData(cmd,cpx,cpy);break;case"H":cpx=p[off++],cmd=CMD.L,path.addData(cmd,cpx,cpy);break;case"v":cpy+=p[off++],cmd=CMD.L,path.addData(cmd,cpx,cpy);break;case"V":cpy=p[off++],cmd=CMD.L,path.addData(cmd,cpx,cpy);break;case"C":cmd=CMD.C,path.addData(cmd,p[off++],p[off++],p[off++],p[off++],p[off++],p[off++]),cpx=p[off-2],cpy=p[off-1];break;case"c":cmd=CMD.C,path.addData(cmd,p[off++]+cpx,p[off++]+cpy,p[off++]+cpx,p[off++]+cpy,p[off++]+cpx,p[off++]+cpy),cpx+=p[off-2],cpy+=p[off-1];break;case"S":ctlPtx=cpx,ctlPty=cpy;var len=path.len(),pathData=path.data;prevCmd===CMD.C&&(ctlPtx+=cpx-pathData[len-4],
ctlPty+=cpy-pathData[len-3]),cmd=CMD.C,x1=p[off++],y1=p[off++],cpx=p[off++],cpy=p[off++],path.addData(cmd,ctlPtx,ctlPty,x1,y1,cpx,cpy);break;case"s":ctlPtx=cpx,ctlPty=cpy;var len=path.len(),pathData=path.data;prevCmd===CMD.C&&(ctlPtx+=cpx-pathData[len-4],ctlPty+=cpy-pathData[len-3]),cmd=CMD.C,x1=cpx+p[off++],y1=cpy+p[off++],cpx+=p[off++],cpy+=p[off++],path.addData(cmd,ctlPtx,ctlPty,x1,y1,cpx,cpy);break;case"Q":x1=p[off++],y1=p[off++],cpx=p[off++],cpy=p[off++],cmd=CMD.Q,path.addData(cmd,x1,y1,cpx,cpy);break;case"q":x1=p[off++]+cpx,y1=p[off++]+cpy,cpx+=p[off++],cpy+=p[off++],cmd=CMD.Q,path.addData(cmd,x1,y1,cpx,cpy);break;case"T":ctlPtx=cpx,ctlPty=cpy;var len=path.len(),pathData=path.data;prevCmd===CMD.Q&&(ctlPtx+=cpx-pathData[len-4],ctlPty+=cpy-pathData[len-3]),cpx=p[off++],cpy=p[off++],cmd=CMD.Q,path.addData(cmd,ctlPtx,ctlPty,cpx,cpy);break;case"t":ctlPtx=cpx,ctlPty=cpy;var len=path.len(),pathData=path.data;prevCmd===CMD.Q&&(ctlPtx+=cpx-pathData[len-4],ctlPty+=cpy-pathData[len-3]),cpx+=p[off++],cpy+=p[off++],cmd=CMD.Q,path.addData(cmd,ctlPtx,ctlPty,cpx,cpy);break;case"A":rx=p[off++],ry=p[off++],psi=p[off++],fa=p[off++],fs=p[off++],x1=cpx,y1=cpy,cpx=p[off++],cpy=p[off++],cmd=CMD.A,processArc(x1,y1,cpx,cpy,fa,fs,rx,ry,psi,cmd,path);break;case"a":rx=p[off++],ry=p[off++],psi=p[off++],fa=p[off++],fs=p[off++],x1=cpx,y1=cpy,cpx+=p[off++],cpy+=p[off++],cmd=CMD.A,processArc(x1,y1,cpx,cpy,fa,fs,rx,ry,psi,cmd,path)}}"z"!==c&&"Z"!==c||(cmd=CMD.Z,path.addData(cmd)),prevCmd=cmd}return path.toStatic(),path}function createPathOptions(str,opts){var pathProxy=createPathProxyFromString(str);return opts=opts||{},opts.buildPath=function(path){if(path.setData){path.setData(pathProxy.data);var ctx=path.getContext();ctx&&path.rebuildPath(ctx)}else{var ctx=path;pathProxy.rebuildPath(ctx)}},opts.applyTransform=function(m){transformPath(pathProxy,m),this.dirty(!0)},opts}function createFromString(str,opts){return new Path(createPathOptions(str,opts))}function extendFromString(str,opts){return Path.extend(createPathOptions(str,opts))}function mergePath(pathEls,opts){for(var pathList=[],len=pathEls.length,i=0;i<len;i++){var pathEl=pathEls[i];pathEl.path||pathEl.createPathProxy(),pathEl.__dirtyPath&&pathEl.buildPath(pathEl.path,pathEl.shape,!0),pathList.push(pathEl.path)}var pathBundle=new Path(opts);return pathBundle.createPathProxy(),pathBundle.buildPath=function(path){path.appendPath(pathList);var ctx=path.getContext();ctx&&path.rebuildPath(ctx)},pathBundle}var Path=__webpack_require__(50),PathProxy=__webpack_require__(200),transformPath=__webpack_require__(2351),cc=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],mathSqrt=Math.sqrt,mathSin=Math.sin,mathCos=Math.cos,PI=Math.PI,vMag=function(v){return Math.sqrt(v[0]*v[0]+v[1]*v[1])},vRatio=function(u,v){return(u[0]*v[0]+u[1]*v[1])/(vMag(u)*vMag(v))},vAngle=function(u,v){return(u[0]*v[1]<u[1]*v[0]?-1:1)*Math.acos(vRatio(u,v))};exports.createFromString=createFromString,exports.extendFromString=extendFromString,exports.mergePath=mergePath},function(module,exports,__webpack_require__){function _default(path,m){var cmd,nPoint,i,j,k,p,data=path.data,M=CMD.M,C=CMD.C,L=CMD.L,R=CMD.R,A=CMD.A,Q=CMD.Q;for(i=0,j=0;i<data.length;){switch(cmd=data[i++],j=i,nPoint=0,cmd){case M:nPoint=1;break;case L:nPoint=1;break;case C:nPoint=3;break;case Q:nPoint=2;break;case A:var x=m[4],y=m[5],sx=mathSqrt(m[0]*m[0]+m[1]*m[1]),sy=mathSqrt(m[2]*m[2]+m[3]*m[3]),angle=mathAtan2(-m[1]/sy,m[0]/sx);data[i]*=sx,data[i++]+=x,data[i]*=sy,data[i++]+=y,data[i++]*=sx,data[i++]*=sy,data[i++]+=angle,data[i++]+=angle,i+=2,j=i;break;case R:p[0]=data[i++],p[1]=data[i++],v2ApplyTransform(p,p,m),data[j++]=p[0],data[j++]=p[1],p[0]+=data[i++],p[1]+=data[i++],v2ApplyTransform(p,p,m),data[j++]=p[0],data[j++]=p[1]}for(k=0;k<nPoint;k++){var p=points[k];p[0]=data[i++],p[1]=data[i++],v2ApplyTransform(p,p,m),data[j++]=p[0],data[j++]=p[1]}}}var PathProxy=__webpack_require__(200),_vector=__webpack_require__(38),v2ApplyTransform=_vector.applyTransform,CMD=PathProxy.CMD,points=[[],[],[]],mathSqrt=Math.sqrt,mathAtan2=Math.atan2;module.exports=_default},function(module,exports,__webpack_require__){function parseInt10(val){return parseInt(val,10)}function VMLPainter(root,storage){vmlCore.initVML(),this.root=root,this.storage=storage;var vmlViewport=document.createElement("div"),vmlRoot=document.createElement("div");vmlViewport.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",vmlRoot.style.cssText="position:absolute;left:0;top:0;",root.appendChild(vmlViewport),this._vmlRoot=vmlRoot,this._vmlViewport=vmlViewport,this.resize();var oldDelFromStorage=storage.delFromStorage,oldAddToStorage=storage.addToStorage;storage.delFromStorage=function(el){oldDelFromStorage.call(storage,el),el&&el.onRemove&&el.onRemove(vmlRoot)},storage.addToStorage=function(el){el.onAdd&&el.onAdd(vmlRoot),oldAddToStorage.call(storage,el)},this._firstPaint=!0}function createMethodNotSupport(method){return function(){zrLog('In IE8.0 VML mode painter not support method "'+method+'"')}}var zrLog=__webpack_require__(242),vmlCore=__webpack_require__(930),_util=__webpack_require__(4),each=_util.each;VMLPainter.prototype={"constructor":VMLPainter,"getType":function(){return"vml"},"getViewportRoot":function(){return this._vmlViewport},"getViewportRootOffset":function(){var viewportRoot=this.getViewportRoot();if(viewportRoot)return{"offsetLeft":viewportRoot.offsetLeft||0,"offsetTop":viewportRoot.offsetTop||0}},"refresh":function(){var list=this.storage.getDisplayList(!0,!0);this._paintList(list)},"_paintList":function(list){for(var vmlRoot=this._vmlRoot,i=0;i<list.length;i++){var el=list[i];el.invisible||el.ignore?(el.__alreadyNotVisible||el.onRemove(vmlRoot),el.__alreadyNotVisible=!0):(el.__alreadyNotVisible&&el.onAdd(vmlRoot),el.__alreadyNotVisible=!1,el.__dirty&&(el.beforeBrush&&el.beforeBrush(),(el.brushVML||el.brush).call(el,vmlRoot),el.afterBrush&&el.afterBrush())),el.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(vmlRoot),this._firstPaint=!1)},"resize":function(width,height){var width=null==width?this._getWidth():width,height=null==height?this._getHeight():height;if(this._width!=width||this._height!=height){this._width=width,this._height=height;var vmlViewportStyle=this._vmlViewport.style;vmlViewportStyle.width=width+"px",vmlViewportStyle.height=height+"px"}},"dispose":function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},"getWidth":function(){return this._width},"getHeight":function(){return this._height},"clear":function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},"_getWidth":function(){var root=this.root,stl=root.currentStyle;return(root.clientWidth||parseInt10(stl.width))-parseInt10(stl.paddingLeft)-parseInt10(stl.paddingRight)|0},"_getHeight":function(){var root=this.root,stl=root.currentStyle;return(root.clientHeight||parseInt10(stl.height))-parseInt10(stl.paddingTop)-parseInt10(stl.paddingBottom)|0}},each(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(name){VMLPainter.prototype[name]=createMethodNotSupport(name)});var _default=VMLPainter;module.exports=_default},function(module,exports,__webpack_require__){var env=__webpack_require__(52),_vector=__webpack_require__(38),applyTransform=_vector.applyTransform,BoundingRect=__webpack_require__(43),colorTool=__webpack_require__(125),textContain=__webpack_require__(108),textHelper=__webpack_require__(318),RectText=__webpack_require__(929),Displayable=__webpack_require__(243),ZImage=__webpack_require__(244),Text=__webpack_require__(245),Path=__webpack_require__(50),PathProxy=__webpack_require__(200),Gradient=__webpack_require__(317),vmlCore=__webpack_require__(930),CMD=PathProxy.CMD,round=Math.round,sqrt=Math.sqrt,abs=Math.abs,cos=Math.cos,sin=Math.sin,mathMax=Math.max;if(!env.canvasSupported){var comma=",",imageTransformPrefix="progid:DXImageTransform.Microsoft",Z=21600,Z2=Z/2,ZLEVEL_BASE=1e5,Z_BASE=1e3,initRootElStyle=function(el){el.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",el.coordsize=Z+","+Z,el.coordorigin="0,0"},encodeHtmlAttribute=function(s){return String(s).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},rgb2Str=function(r,g,b){return"rgb("+[r,g,b].join(",")+")"},append=function(parent,child){child&&parent&&child.parentNode!==parent&&parent.appendChild(child)},remove=function(parent,child){child&&parent&&child.parentNode===parent&&parent.removeChild(child)},getZIndex=function(zlevel,z,z2){return(parseFloat(zlevel)||0)*ZLEVEL_BASE+(parseFloat(z)||0)*Z_BASE+z2},parsePercent=function(value,maxValue){return"string"==typeof value?value.lastIndexOf("%")>=0?parseFloat(value)/100*maxValue:parseFloat(value):value},setColorAndOpacity=function(el,color,opacity){var colorArr=colorTool.parse(color);opacity=+opacity,isNaN(opacity)&&(opacity=1),colorArr&&(el.color=rgb2Str(colorArr[0],colorArr[1],colorArr[2]),el.opacity=opacity*colorArr[3])},getColorAndAlpha=function(color){var colorArr=colorTool.parse(color);return[rgb2Str(colorArr[0],colorArr[1],colorArr[2]),colorArr[3]]},updateFillNode=function(el,style,zrEl){var fill=style.fill;if(null!=fill)if(fill instanceof Gradient){var gradientType,angle=0,focus=[0,0],shift=0,expansion=1,rect=zrEl.getBoundingRect(),rectWidth=rect.width,rectHeight=rect.height;if("linear"===fill.type){gradientType="gradient";var transform=zrEl.transform,p0=[fill.x*rectWidth,fill.y*rectHeight],p1=[fill.x2*rectWidth,fill.y2*rectHeight];transform&&(applyTransform(p0,p0,transform),applyTransform(p1,p1,transform));var dx=p1[0]-p0[0],dy=p1[1]-p0[1];angle=180*Math.atan2(dx,dy)/Math.PI,angle<0&&(angle+=360),angle<1e-6&&(angle=0)}else{gradientType="gradientradial";var p0=[fill.x*rectWidth,fill.y*rectHeight],transform=zrEl.transform,scale=zrEl.scale,width=rectWidth,height=rectHeight;focus=[(p0[0]-rect.x)/width,(p0[1]-rect.y)/height],transform&&applyTransform(p0,p0,transform),width/=scale[0]*Z,height/=scale[1]*Z;var dimension=mathMax(width,height);shift=0/dimension,expansion=2*fill.r/dimension-shift}var stops=fill.colorStops.slice();stops.sort(function(cs1,cs2){return cs1.offset-cs2.offset});for(var length=stops.length,colorAndAlphaList=[],colors=[],i=0;i<length;i++){var stop=stops[i],colorAndAlpha=getColorAndAlpha(stop.color);colors.push(stop.offset*expansion+shift+" "+colorAndAlpha[0]),0!==i&&i!==length-1||colorAndAlphaList.push(colorAndAlpha)}if(length>=2){var color1=colorAndAlphaList[0][0],color2=colorAndAlphaList[1][0],opacity1=colorAndAlphaList[0][1]*style.opacity,opacity2=colorAndAlphaList[1][1]*style.opacity;el.type=gradientType,el.method="none",el.focus="100%",el.angle=angle,el.color=color1,el.color2=color2,el.colors=colors.join(","),el.opacity=opacity2,el.opacity2=opacity1}"radial"===gradientType&&(el.focusposition=focus.join(","))}else setColorAndOpacity(el,fill,style.opacity)},updateStrokeNode=function(el,style){null!=style.lineDash&&(el.dashstyle=style.lineDash.join(" ")),null==style.stroke||style.stroke instanceof Gradient||setColorAndOpacity(el,style.stroke,style.opacity)},updateFillAndStroke=function(vmlEl,type,style,zrEl){var isFill="fill"==type,el=vmlEl.getElementsByTagName(type)[0];null!=style[type]&&"none"!==style[type]&&(isFill||!isFill&&style.lineWidth)?(vmlEl[isFill?"filled":"stroked"]="true",style[type]instanceof Gradient&&remove(vmlEl,el),el||(el=vmlCore.createNode(type)),isFill?updateFillNode(el,style,zrEl):updateStrokeNode(el,style),append(vmlEl,el)):(vmlEl[isFill?"filled":"stroked"]="false",remove(vmlEl,el))},points=[[],[],[]],pathDataToString=function(path,m){var nPoint,cmdStr,cmd,i,xi,yi,M=CMD.M,C=CMD.C,L=CMD.L,A=CMD.A,Q=CMD.Q,str=[],data=path.data,dataLength=path.len();for(i=0;i<dataLength;){switch(cmd=data[i++],cmdStr="",nPoint=0,cmd){case M:cmdStr=" m ",nPoint=1,xi=data[i++],yi=data[i++],points[0][0]=xi,points[0][1]=yi;break;case L:cmdStr=" l ",nPoint=1,xi=data[i++],yi=data[i++],points[0][0]=xi,points[0][1]=yi;break;case Q:case C:cmdStr=" c ",nPoint=3;var x3,y3,x1=data[i++],y1=data[i++],x2=data[i++],y2=data[i++];cmd===Q?(x3=x2,y3=y2,x2=(x2+2*x1)/3,y2=(y2+2*y1)/3,x1=(xi+2*x1)/3,y1=(yi+2*y1)/3):(x3=data[i++],y3=data[i++]),points[0][0]=x1,points[0][1]=y1,points[1][0]=x2,points[1][1]=y2,points[2][0]=x3,points[2][1]=y3,xi=x3,yi=y3;break;case A:var x=0,y=0,sx=1,sy=1,angle=0;m&&(x=m[4],y=m[5],sx=sqrt(m[0]*m[0]+m[1]*m[1]),sy=sqrt(m[2]*m[2]+m[3]*m[3]),angle=Math.atan2(-m[1]/sy,m[0]/sx));var cx=data[i++],cy=data[i++],rx=data[i++],ry=data[i++],startAngle=data[i++]+angle,endAngle=data[i++]+startAngle+angle;i++;var clockwise=data[i++],x0=cx+cos(startAngle)*rx,y0=cy+sin(startAngle)*ry,x1=cx+cos(endAngle)*rx,y1=cy+sin(endAngle)*ry,type=clockwise?" wa ":" at ";Math.abs(x0-x1)<1e-4&&(Math.abs(endAngle-startAngle)>.01?clockwise&&(x0+=270/Z):Math.abs(y0-cy)<1e-4?clockwise&&x0<cx||!clockwise&&x0>cx?y1-=270/Z:y1+=270/Z:clockwise&&y0<cy||!clockwise&&y0>cy?x1+=270/Z:x1-=270/Z),str.push(type,round(((cx-rx)*sx+x)*Z-Z2),comma,round(((cy-ry)*sy+y)*Z-Z2),comma,round(((cx+rx)*sx+x)*Z-Z2),comma,round(((cy+ry)*sy+y)*Z-Z2),comma,round((x0*sx+x)*Z-Z2),comma,round((y0*sy+y)*Z-Z2),comma,round((x1*sx+x)*Z-Z2),comma,round((y1*sy+y)*Z-Z2)),xi=x1,yi=y1;break;case CMD.R:var p0=points[0],p1=points[1];p0[0]=data[i++],p0[1]=data[i++],p1[0]=p0[0]+data[i++],p1[1]=p0[1]+data[i++],m&&(applyTransform(p0,p0,m),applyTransform(p1,p1,m)),p0[0]=round(p0[0]*Z-Z2),p1[0]=round(p1[0]*Z-Z2),p0[1]=round(p0[1]*Z-Z2),p1[1]=round(p1[1]*Z-Z2),str.push(" m ",p0[0],comma,p0[1]," l ",p1[0],comma,p0[1]," l ",p1[0],comma,p1[1]," l ",p0[0],comma,p1[1]);break;case CMD.Z:str.push(" x ")}if(nPoint>0){str.push(cmdStr);for(var k=0;k<nPoint;k++){var p=points[k];m&&applyTransform(p,p,m),str.push(round(p[0]*Z-Z2),comma,round(p[1]*Z-Z2),k<nPoint-1?comma:"")}}}return str.join("")};Path.prototype.brushVML=function(vmlRoot){var style=this.style,vmlEl=this._vmlEl;vmlEl||(vmlEl=vmlCore.createNode("shape"),initRootElStyle(vmlEl),this._vmlEl=vmlEl),updateFillAndStroke(vmlEl,"fill",style,this),updateFillAndStroke(vmlEl,"stroke",style,this);var m=this.transform,needTransform=null!=m,strokeEl=vmlEl.getElementsByTagName("stroke")[0];if(strokeEl){var lineWidth=style.lineWidth;if(needTransform&&!style.strokeNoScale){var det=m[0]*m[3]-m[1]*m[2];lineWidth*=sqrt(abs(det))}strokeEl.weight=lineWidth+"px"}var path=this.path||(this.path=new PathProxy);this.__dirtyPath&&(path.beginPath(),this.buildPath(path,this.shape),path.toStatic(),this.__dirtyPath=!1),vmlEl.path=pathDataToString(path,this.transform),vmlEl.style.zIndex=getZIndex(this.zlevel,this.z,this.z2),append(vmlRoot,vmlEl),null!=style.text?this.drawRectText(vmlRoot,this.getBoundingRect()):this.removeRectText(vmlRoot)},Path.prototype.onRemove=function(vmlRoot){remove(vmlRoot,this._vmlEl),this.removeRectText(vmlRoot)},Path.prototype.onAdd=function(vmlRoot){append(vmlRoot,this._vmlEl),this.appendRectText(vmlRoot)};var isImage=function(img){return"object"==typeof img&&img.tagName&&"IMG"===img.tagName.toUpperCase()};ZImage.prototype.brushVML=function(vmlRoot){var ow,oh,style=this.style,image=style.image;if(isImage(image)){var src=image.src;if(src===this._imageSrc)ow=this._imageWidth,oh=this._imageHeight;else{var imageRuntimeStyle=image.runtimeStyle,oldRuntimeWidth=imageRuntimeStyle.width,oldRuntimeHeight=imageRuntimeStyle.height;imageRuntimeStyle.width="auto",imageRuntimeStyle.height="auto",ow=image.width,oh=image.height,imageRuntimeStyle.width=oldRuntimeWidth,imageRuntimeStyle.height=oldRuntimeHeight,this._imageSrc=src,this._imageWidth=ow,this._imageHeight=oh}image=src}else image===this._imageSrc&&(ow=this._imageWidth,oh=this._imageHeight);if(image){var x=style.x||0,y=style.y||0,dw=style.width,dh=style.height,sw=style.sWidth,sh=style.sHeight,sx=style.sx||0,sy=style.sy||0,hasCrop=sw&&sh,vmlEl=this._vmlEl;vmlEl||(vmlEl=vmlCore.doc.createElement("div"),initRootElStyle(vmlEl),this._vmlEl=vmlEl);var m,vmlElStyle=vmlEl.style,hasRotation=!1,scaleX=1,scaleY=1;if(this.transform&&(m=this.transform,scaleX=sqrt(m[0]*m[0]+m[1]*m[1]),scaleY=sqrt(m[2]*m[2]+m[3]*m[3]),hasRotation=m[1]||m[2]),hasRotation){var p0=[x,y],p1=[x+dw,y],p2=[x,y+dh],p3=[x+dw,y+dh];applyTransform(p0,p0,m),applyTransform(p1,p1,m),applyTransform(p2,p2,m),applyTransform(p3,p3,m);var maxX=mathMax(p0[0],p1[0],p2[0],p3[0]),maxY=mathMax(p0[1],p1[1],p2[1],p3[1]),transformFilter=[];transformFilter.push("M11=",m[0]/scaleX,comma,"M12=",m[2]/scaleY,comma,"M21=",m[1]/scaleX,comma,"M22=",m[3]/scaleY,comma,"Dx=",round(x*scaleX+m[4]),comma,"Dy=",round(y*scaleY+m[5])),vmlElStyle.padding="0 "+round(maxX)+"px "+round(maxY)+"px 0",vmlElStyle.filter=imageTransformPrefix+".Matrix("+transformFilter.join("")+", SizingMethod=clip)"}else m&&(x=x*scaleX+m[4],y=y*scaleY+m[5]),vmlElStyle.filter="",vmlElStyle.left=round(x)+"px",vmlElStyle.top=round(y)+"px";var imageEl=this._imageEl,cropEl=this._cropEl;imageEl||(imageEl=vmlCore.doc.createElement("div"),this._imageEl=imageEl);var imageELStyle=imageEl.style;if(hasCrop){if(ow&&oh)imageELStyle.width=round(scaleX*ow*dw/sw)+"px",imageELStyle.height=round(scaleY*oh*dh/sh)+"px";else{var tmpImage=new Image,self=this;tmpImage.onload=function(){tmpImage.onload=null,ow=tmpImage.width,oh=tmpImage.height,imageELStyle.width=round(scaleX*ow*dw/sw)+"px",imageELStyle.height=round(scaleY*oh*dh/sh)+"px",self._imageWidth=ow,self._imageHeight=oh,self._imageSrc=image},tmpImage.src=image}cropEl||(cropEl=vmlCore.doc.createElement("div"),cropEl.style.overflow="hidden",this._cropEl=cropEl);var cropElStyle=cropEl.style;cropElStyle.width=round((dw+sx*dw/sw)*scaleX),cropElStyle.height=round((dh+sy*dh/sh)*scaleY),cropElStyle.filter=imageTransformPrefix+".Matrix(Dx="+-sx*dw/sw*scaleX+",Dy="+-sy*dh/sh*scaleY+")",cropEl.parentNode||vmlEl.appendChild(cropEl),imageEl.parentNode!=cropEl&&cropEl.appendChild(imageEl)}else imageELStyle.width=round(scaleX*dw)+"px",imageELStyle.height=round(scaleY*dh)+"px",vmlEl.appendChild(imageEl),cropEl&&cropEl.parentNode&&(vmlEl.removeChild(cropEl),this._cropEl=null);var filterStr="",alpha=style.opacity;alpha<1&&(filterStr+=".Alpha(opacity="+round(100*alpha)+") "),filterStr+=imageTransformPrefix+".AlphaImageLoader(src="+image+", SizingMethod=scale)",imageELStyle.filter=filterStr,vmlEl.style.zIndex=getZIndex(this.zlevel,this.z,this.z2),append(vmlRoot,vmlEl),null!=style.text&&this.drawRectText(vmlRoot,this.getBoundingRect())}},ZImage.prototype.onRemove=function(vmlRoot){remove(vmlRoot,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(vmlRoot)},ZImage.prototype.onAdd=function(vmlRoot){append(vmlRoot,this._vmlEl),this.appendRectText(vmlRoot)};var textMeasureEl,DEFAULT_STYLE_NORMAL="normal",fontStyleCache={},fontStyleCacheCount=0,MAX_FONT_CACHE_SIZE=100,fontEl=document.createElement("div"),getFontStyle=function(fontString){var fontStyle=fontStyleCache[fontString];if(!fontStyle){fontStyleCacheCount>MAX_FONT_CACHE_SIZE&&(fontStyleCacheCount=0,fontStyleCache={});var fontFamily,style=fontEl.style;try{style.font=fontString,fontFamily=style.fontFamily.split(",")[0]}catch(e){}fontStyle={"style":style.fontStyle||DEFAULT_STYLE_NORMAL,"variant":style.fontVariant||DEFAULT_STYLE_NORMAL,"weight":style.fontWeight||DEFAULT_STYLE_NORMAL,"size":0|parseFloat(style.fontSize||12),"family":fontFamily||"Microsoft YaHei"},fontStyleCache[fontString]=fontStyle,fontStyleCacheCount++}return fontStyle};textContain.$override("measureText",function(text,textFont){var doc=vmlCore.doc;textMeasureEl||(textMeasureEl=doc.createElement("div"),textMeasureEl.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",vmlCore.doc.body.appendChild(textMeasureEl));try{textMeasureEl.style.font=textFont}catch(ex){}return textMeasureEl.innerHTML="",textMeasureEl.appendChild(doc.createTextNode(text)),{"width":textMeasureEl.offsetWidth}});for(var tmpRect=new BoundingRect,drawRectText=function(vmlRoot,rect,textRect,fromTextEl){var style=this.style;this.__dirty&&textHelper.normalizeTextStyle(style,!0);var text=style.text;if(null!=text&&(text+=""),text){if(style.rich){var contentBlock=textContain.parseRichText(text,style);text=[];for(var i=0;i<contentBlock.lines.length;i++){for(var tokens=contentBlock.lines[i].tokens,textLine=[],j=0;j<tokens.length;j++)textLine.push(tokens[j].text);text.push(textLine.join(""))}text=text.join("\n")}var x,y,align=style.textAlign,verticalAlign=style.textVerticalAlign,fontStyle=getFontStyle(style.font),font=fontStyle.style+" "+fontStyle.variant+" "+fontStyle.weight+" "+fontStyle.size+'px "'+fontStyle.family+'"';textRect=textRect||textContain.getBoundingRect(text,font,align,verticalAlign);var m=this.transform;if(m&&!fromTextEl&&(tmpRect.copy(rect),tmpRect.applyTransform(m),rect=tmpRect),fromTextEl)x=rect.x,y=rect.y;else{var textPosition=style.textPosition,distance=style.textDistance;if(textPosition instanceof Array)x=rect.x+parsePercent(textPosition[0],rect.width),y=rect.y+parsePercent(textPosition[1],rect.height),align=align||"left";else{var res=textContain.adjustTextPositionOnRect(textPosition,rect,distance);x=res.x,y=res.y,align=align||res.textAlign,verticalAlign=verticalAlign||res.textVerticalAlign}}x=textContain.adjustTextX(x,textRect.width,align),y=textContain.adjustTextY(y,textRect.height,verticalAlign),y+=textRect.height/2;var pathEl,textPathEl,skewEl,createNode=vmlCore.createNode,textVmlEl=this._textVmlEl;textVmlEl?(skewEl=textVmlEl.firstChild,pathEl=skewEl.nextSibling,textPathEl=pathEl.nextSibling):(textVmlEl=createNode("line"),pathEl=createNode("path"),textPathEl=createNode("textpath"),skewEl=createNode("skew"),textPathEl.style["v-text-align"]="left",initRootElStyle(textVmlEl),pathEl.textpathok=!0,textPathEl.on=!0,textVmlEl.from="0 0",textVmlEl.to="1000 0.05",append(textVmlEl,skewEl),append(textVmlEl,pathEl),append(textVmlEl,textPathEl),this._textVmlEl=textVmlEl);var coords=[x,y],textVmlElStyle=textVmlEl.style;m&&fromTextEl?(applyTransform(coords,coords,m),skewEl.on=!0,skewEl.matrix=m[0].toFixed(3)+comma+m[2].toFixed(3)+comma+m[1].toFixed(3)+comma+m[3].toFixed(3)+",0,0",skewEl.offset=(round(coords[0])||0)+","+(round(coords[1])||0),skewEl.origin="0 0",textVmlElStyle.left="0px",textVmlElStyle.top="0px"):(skewEl.on=!1,textVmlElStyle.left=round(x)+"px",textVmlElStyle.top=round(y)+"px"),textPathEl.string=encodeHtmlAttribute(text);try{textPathEl.style.font=font}catch(e){}updateFillAndStroke(textVmlEl,"fill",{"fill":style.textFill,"opacity":style.opacity},this),updateFillAndStroke(textVmlEl,"stroke",{"stroke":style.textStroke,"opacity":style.opacity,"lineDash":style.lineDash},this),textVmlEl.style.zIndex=getZIndex(this.zlevel,this.z,this.z2),append(vmlRoot,textVmlEl)}},removeRectText=function(vmlRoot){remove(vmlRoot,this._textVmlEl),this._textVmlEl=null},appendRectText=function(vmlRoot){append(vmlRoot,this._textVmlEl)},list=[RectText,Displayable,ZImage,Path,Text],i=0;i<list.length;i++){var proto=list[i].prototype;proto.drawRectText=drawRectText,proto.removeRectText=removeRectText,proto.appendRectText=appendRectText}Text.prototype.brushVML=function(vmlRoot){var style=this.style;null!=style.text?this.drawRectText(vmlRoot,{"x":style.x||0,"y":style.y||0,"width":0,"height":0},this.getBoundingRect(),!0):this.removeRectText(vmlRoot)},Text.prototype.onRemove=function(vmlRoot){this.removeRectText(vmlRoot)},Text.prototype.onAdd=function(vmlRoot){this.appendRectText(vmlRoot)}}},function(module,exports,__webpack_require__){__webpack_require__(2353);var _zrender=__webpack_require__(319),registerPainter=_zrender.registerPainter,Painter=__webpack_require__(2352);registerPainter("vml",Painter)}]);